(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.JSPluginV3 = factory());
})(this, (function () { 'use strict';

	var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

	function getDefaultExportFromCjs (x) {
		return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
	}

	var streamClient1_2_0_min = {exports: {}};

	(function (module, exports) {
	  (function webpackUniversalModuleDefinition(root, factory) {
	    module.exports = factory();
	  })(window, function () {
	    return (/******/function (modules) {
	        // webpackBootstrap
	        /******/ // The module cache
	        /******/
	        var installedModules = {};
	        /******/
	        /******/ // The require function
	        /******/
	        function __webpack_require__(moduleId) {
	          /******/
	          /******/ // Check if module is in cache
	          /******/if (installedModules[moduleId]) {
	            /******/return installedModules[moduleId].exports;
	            /******/
	          }
	          /******/ // Create a new module (and put it into the cache)
	          /******/
	          var module = installedModules[moduleId] = {
	            /******/i: moduleId,
	            /******/l: false,
	            /******/exports: {}
	            /******/
	          };
	          /******/
	          /******/ // Execute the module function
	          /******/
	          modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
	          /******/
	          /******/ // Flag the module as loaded
	          /******/
	          module.l = true;
	          /******/
	          /******/ // Return the exports of the module
	          /******/
	          return module.exports;
	          /******/
	        }
	        /******/
	        /******/
	        /******/ // expose the modules object (__webpack_modules__)
	        /******/
	        __webpack_require__.m = modules;
	        /******/
	        /******/ // expose the module cache
	        /******/
	        __webpack_require__.c = installedModules;
	        /******/
	        /******/ // define getter function for harmony exports
	        /******/
	        __webpack_require__.d = function (exports, name, getter) {
	          /******/if (!__webpack_require__.o(exports, name)) {
	            /******/Object.defineProperty(exports, name, {
	              enumerable: true,
	              get: getter
	            });
	            /******/
	          }
	          /******/
	        };
	        /******/
	        /******/ // define __esModule on exports
	        /******/
	        __webpack_require__.r = function (exports) {
	          /******/if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {
	            /******/Object.defineProperty(exports, Symbol.toStringTag, {
	              value: 'Module'
	            });
	            /******/
	          }
	          /******/
	          Object.defineProperty(exports, '__esModule', {
	            value: true
	          });
	          /******/
	        };
	        /******/
	        /******/ // create a fake namespace object
	        /******/ // mode & 1: value is a module id, require it
	        /******/ // mode & 2: merge all properties of value into the ns
	        /******/ // mode & 4: return value when already ns object
	        /******/ // mode & 8|1: behave like require
	        /******/
	        __webpack_require__.t = function (value, mode) {
	          /******/if (mode & 1) value = __webpack_require__(value);
	          /******/
	          if (mode & 8) return value;
	          /******/
	          if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;
	          /******/
	          var ns = Object.create(null);
	          /******/
	          __webpack_require__.r(ns);
	          /******/
	          Object.defineProperty(ns, 'default', {
	            enumerable: true,
	            value: value
	          });
	          /******/
	          if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {
	            return value[key];
	          }.bind(null, key));
	          /******/
	          return ns;
	          /******/
	        };
	        /******/
	        /******/ // getDefaultExport function for compatibility with non-harmony modules
	        /******/
	        __webpack_require__.n = function (module) {
	          /******/var getter = module && module.__esModule ? /******/function getDefault() {
	            return module['default'];
	          } : /******/function getModuleExports() {
	            return module;
	          };
	          /******/
	          __webpack_require__.d(getter, 'a', getter);
	          /******/
	          return getter;
	          /******/
	        };
	        /******/
	        /******/ // Object.prototype.hasOwnProperty.call
	        /******/
	        __webpack_require__.o = function (object, property) {
	          return Object.prototype.hasOwnProperty.call(object, property);
	        };
	        /******/
	        /******/ // __webpack_public_path__
	        /******/
	        __webpack_require__.p = "";
	        /******/
	        /******/
	        /******/ // Load entry module and return exports
	        /******/
	        return __webpack_require__(__webpack_require__.s = 1);
	        /******/
	      }
	      /************************************************************************/
	      /******/([/* 0 */
	      /***/function (module, exports) {
	        var dbits;
	        function BigInteger(a, b, c) {
	          a != null && ("number" == typeof a ? this.fromNumber(a, b, c) : b == null && "string" != typeof a ? this.fromString(a, 256) : this.fromString(a, b));
	        }
	        function nbi() {
	          return new BigInteger(null);
	        }
	        function am3(a, b, c, d, e, g) {
	          var h = b & 16383;
	          for (b >>= 14; --g >= 0;) {
	            var f = this[a] & 16383,
	              o = this[a++] >> 14,
	              p = b * f + o * h,
	              f = h * f + ((p & 16383) << 14) + c[d] + e,
	              e = (f >> 28) + (p >> 14) + b * o;
	            c[d++] = f & 268435455;
	          }
	          return e;
	        }
	        (BigInteger.prototype.am = am3, dbits = 28);
	        BigInteger.prototype.DB = dbits;
	        BigInteger.prototype.DM = (1 << dbits) - 1;
	        BigInteger.prototype.DV = 1 << dbits;
	        var BI_FP = 52;
	        BigInteger.prototype.FV = Math.pow(2, BI_FP);
	        BigInteger.prototype.F1 = BI_FP - dbits;
	        BigInteger.prototype.F2 = 2 * dbits - BI_FP;
	        var BI_RM = "0123456789abcdefghijklmnopqrstuvwxyz",
	          BI_RC = [],
	          rr,
	          vv;
	        rr = "0".charCodeAt(0);
	        for (vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;
	        rr = "a".charCodeAt(0);
	        for (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;
	        rr = "A".charCodeAt(0);
	        for (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;
	        function int2char(a) {
	          return BI_RM.charAt(a);
	        }
	        function intAt(a, b) {
	          var c = BI_RC[a.charCodeAt(b)];
	          return c == null ? -1 : c;
	        }
	        function bnpCopyTo(a) {
	          for (var b = this.t - 1; b >= 0; --b) a[b] = this[b];
	          a.t = this.t;
	          a.s = this.s;
	        }
	        function bnpFromInt(a) {
	          this.t = 1;
	          this.s = a < 0 ? -1 : 0;
	          a > 0 ? this[0] = a : a < -1 ? this[0] = a + DV : this.t = 0;
	        }
	        function nbv(a) {
	          var b = nbi();
	          b.fromInt(a);
	          return b;
	        }
	        function bnpFromString(a, b) {
	          var c;
	          if (b == 16) c = 4;else if (b == 8) c = 3;else if (b == 256) c = 8;else if (b == 2) c = 1;else if (b == 32) c = 5;else if (b == 4) c = 2;else {
	            this.fromRadix(a, b);
	            return;
	          }
	          this.s = this.t = 0;
	          for (var d = a.length, e = !1, g = 0; --d >= 0;) {
	            var h = c == 8 ? a[d] & 255 : intAt(a, d);
	            h < 0 ? a.charAt(d) == "-" && (e = !0) : (e = !1, g == 0 ? this[this.t++] = h : g + c > this.DB ? (this[this.t - 1] |= (h & (1 << this.DB - g) - 1) << g, this[this.t++] = h >> this.DB - g) : this[this.t - 1] |= h << g, g += c, g >= this.DB && (g -= this.DB));
	          }
	          if (c == 8 && (a[0] & 128) != 0) this.s = -1, g > 0 && (this[this.t - 1] |= (1 << this.DB - g) - 1 << g);
	          this.clamp();
	          e && BigInteger.ZERO.subTo(this, this);
	        }
	        function bnpClamp() {
	          for (var a = this.s & this.DM; this.t > 0 && this[this.t - 1] == a;) --this.t;
	        }
	        function bnToString(a) {
	          if (this.s < 0) return "-" + this.negate().toString(a);
	          if (a == 16) a = 4;else if (a == 8) a = 3;else if (a == 2) a = 1;else if (a == 32) a = 5;else if (a == 64) a = 6;else if (a == 4) a = 2;else return this.toRadix(a);
	          var b = (1 << a) - 1,
	            c,
	            d = !1,
	            e = "",
	            g = this.t,
	            h = this.DB - g * this.DB % a;
	          if (g-- > 0) {
	            if (h < this.DB && (c = this[g] >> h) > 0) d = !0, e = int2char(c);
	            for (; g >= 0;) h < a ? (c = (this[g] & (1 << h) - 1) << a - h, c |= this[--g] >> (h += this.DB - a)) : (c = this[g] >> (h -= a) & b, h <= 0 && (h += this.DB, --g)), c > 0 && (d = !0), d && (e += int2char(c));
	          }
	          return d ? e : "0";
	        }
	        function bnNegate() {
	          var a = nbi();
	          BigInteger.ZERO.subTo(this, a);
	          return a;
	        }
	        function bnAbs() {
	          return this.s < 0 ? this.negate() : this;
	        }
	        function bnCompareTo(a) {
	          var b = this.s - a.s;
	          if (b != 0) return b;
	          var c = this.t,
	            b = c - a.t;
	          if (b != 0) return b;
	          for (; --c >= 0;) if ((b = this[c] - a[c]) != 0) return b;
	          return 0;
	        }
	        function nbits(a) {
	          var b = 1,
	            c;
	          if ((c = a >>> 16) != 0) a = c, b += 16;
	          if ((c = a >> 8) != 0) a = c, b += 8;
	          if ((c = a >> 4) != 0) a = c, b += 4;
	          if ((c = a >> 2) != 0) a = c, b += 2;
	          a >> 1 != 0 && (b += 1);
	          return b;
	        }
	        function bnBitLength() {
	          return this.t <= 0 ? 0 : this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);
	        }
	        function bnpDLShiftTo(a, b) {
	          var c;
	          for (c = this.t - 1; c >= 0; --c) b[c + a] = this[c];
	          for (c = a - 1; c >= 0; --c) b[c] = 0;
	          b.t = this.t + a;
	          b.s = this.s;
	        }
	        function bnpDRShiftTo(a, b) {
	          for (var c = a; c < this.t; ++c) b[c - a] = this[c];
	          b.t = Math.max(this.t - a, 0);
	          b.s = this.s;
	        }
	        function bnpLShiftTo(a, b) {
	          var c = a % this.DB,
	            d = this.DB - c,
	            e = (1 << d) - 1,
	            g = Math.floor(a / this.DB),
	            h = this.s << c & this.DM,
	            f;
	          for (f = this.t - 1; f >= 0; --f) b[f + g + 1] = this[f] >> d | h, h = (this[f] & e) << c;
	          for (f = g - 1; f >= 0; --f) b[f] = 0;
	          b[g] = h;
	          b.t = this.t + g + 1;
	          b.s = this.s;
	          b.clamp();
	        }
	        function bnpRShiftTo(a, b) {
	          b.s = this.s;
	          var c = Math.floor(a / this.DB);
	          if (c >= this.t) b.t = 0;else {
	            var d = a % this.DB,
	              e = this.DB - d,
	              g = (1 << d) - 1;
	            b[0] = this[c] >> d;
	            for (var h = c + 1; h < this.t; ++h) b[h - c - 1] |= (this[h] & g) << e, b[h - c] = this[h] >> d;
	            d > 0 && (b[this.t - c - 1] |= (this.s & g) << e);
	            b.t = this.t - c;
	            b.clamp();
	          }
	        }
	        function bnpSubTo(a, b) {
	          for (var c = 0, d = 0, e = Math.min(a.t, this.t); c < e;) d += this[c] - a[c], b[c++] = d & this.DM, d >>= this.DB;
	          if (a.t < this.t) {
	            for (d -= a.s; c < this.t;) d += this[c], b[c++] = d & this.DM, d >>= this.DB;
	            d += this.s;
	          } else {
	            for (d += this.s; c < a.t;) d -= a[c], b[c++] = d & this.DM, d >>= this.DB;
	            d -= a.s;
	          }
	          b.s = d < 0 ? -1 : 0;
	          d < -1 ? b[c++] = this.DV + d : d > 0 && (b[c++] = d);
	          b.t = c;
	          b.clamp();
	        }
	        function bnpMultiplyTo(a, b) {
	          var c = this.abs(),
	            d = a.abs(),
	            e = c.t;
	          for (b.t = e + d.t; --e >= 0;) b[e] = 0;
	          for (e = 0; e < d.t; ++e) b[e + c.t] = c.am(0, d[e], b, e, 0, c.t);
	          b.s = 0;
	          b.clamp();
	          this.s != a.s && BigInteger.ZERO.subTo(b, b);
	        }
	        function bnpSquareTo(a) {
	          for (var b = this.abs(), c = a.t = 2 * b.t; --c >= 0;) a[c] = 0;
	          for (c = 0; c < b.t - 1; ++c) {
	            var d = b.am(c, b[c], a, 2 * c, 0, 1);
	            if ((a[c + b.t] += b.am(c + 1, 2 * b[c], a, 2 * c + 1, d, b.t - c - 1)) >= b.DV) a[c + b.t] -= b.DV, a[c + b.t + 1] = 1;
	          }
	          a.t > 0 && (a[a.t - 1] += b.am(c, b[c], a, 2 * c, 0, 1));
	          a.s = 0;
	          a.clamp();
	        }
	        function bnpDivRemTo(a, b, c) {
	          var d = a.abs();
	          if (!(d.t <= 0)) {
	            var e = this.abs();
	            if (e.t < d.t) b != null && b.fromInt(0), c != null && this.copyTo(c);else {
	              c == null && (c = nbi());
	              var g = nbi(),
	                h = this.s,
	                a = a.s,
	                f = this.DB - nbits(d[d.t - 1]);
	              f > 0 ? (d.lShiftTo(f, g), e.lShiftTo(f, c)) : (d.copyTo(g), e.copyTo(c));
	              d = g.t;
	              e = g[d - 1];
	              if (e != 0) {
	                var o = e * (1 << this.F1) + (d > 1 ? g[d - 2] >> this.F2 : 0),
	                  p = this.FV / o,
	                  o = (1 << this.F1) / o,
	                  q = 1 << this.F2,
	                  n = c.t,
	                  k = n - d,
	                  j = b == null ? nbi() : b;
	                g.dlShiftTo(k, j);
	                c.compareTo(j) >= 0 && (c[c.t++] = 1, c.subTo(j, c));
	                BigInteger.ONE.dlShiftTo(d, j);
	                for (j.subTo(g, g); g.t < d;) g[g.t++] = 0;
	                for (; --k >= 0;) {
	                  var l = c[--n] == e ? this.DM : Math.floor(c[n] * p + (c[n - 1] + q) * o);
	                  if ((c[n] += g.am(0, l, c, k, 0, d)) < l) {
	                    g.dlShiftTo(k, j);
	                    for (c.subTo(j, c); c[n] < --l;) c.subTo(j, c);
	                  }
	                }
	                b != null && (c.drShiftTo(d, b), h != a && BigInteger.ZERO.subTo(b, b));
	                c.t = d;
	                c.clamp();
	                f > 0 && c.rShiftTo(f, c);
	                h < 0 && BigInteger.ZERO.subTo(c, c);
	              }
	            }
	          }
	        }
	        function bnMod(a) {
	          var b = nbi();
	          this.abs().divRemTo(a, null, b);
	          this.s < 0 && b.compareTo(BigInteger.ZERO) > 0 && a.subTo(b, b);
	          return b;
	        }
	        function Classic(a) {
	          this.m = a;
	        }
	        function cConvert(a) {
	          return a.s < 0 || a.compareTo(this.m) >= 0 ? a.mod(this.m) : a;
	        }
	        function cRevert(a) {
	          return a;
	        }
	        function cReduce(a) {
	          a.divRemTo(this.m, null, a);
	        }
	        function cMulTo(a, b, c) {
	          a.multiplyTo(b, c);
	          this.reduce(c);
	        }
	        function cSqrTo(a, b) {
	          a.squareTo(b);
	          this.reduce(b);
	        }
	        Classic.prototype.convert = cConvert;
	        Classic.prototype.revert = cRevert;
	        Classic.prototype.reduce = cReduce;
	        Classic.prototype.mulTo = cMulTo;
	        Classic.prototype.sqrTo = cSqrTo;
	        function bnpInvDigit() {
	          if (this.t < 1) return 0;
	          var a = this[0];
	          if ((a & 1) == 0) return 0;
	          var b = a & 3,
	            b = b * (2 - (a & 15) * b) & 15,
	            b = b * (2 - (a & 255) * b) & 255,
	            b = b * (2 - ((a & 65535) * b & 65535)) & 65535,
	            b = b * (2 - a * b % this.DV) % this.DV;
	          return b > 0 ? this.DV - b : -b;
	        }
	        function Montgomery(a) {
	          this.m = a;
	          this.mp = a.invDigit();
	          this.mpl = this.mp & 32767;
	          this.mph = this.mp >> 15;
	          this.um = (1 << a.DB - 15) - 1;
	          this.mt2 = 2 * a.t;
	        }
	        function montConvert(a) {
	          var b = nbi();
	          a.abs().dlShiftTo(this.m.t, b);
	          b.divRemTo(this.m, null, b);
	          a.s < 0 && b.compareTo(BigInteger.ZERO) > 0 && this.m.subTo(b, b);
	          return b;
	        }
	        function montRevert(a) {
	          var b = nbi();
	          a.copyTo(b);
	          this.reduce(b);
	          return b;
	        }
	        function montReduce(a) {
	          for (; a.t <= this.mt2;) a[a.t++] = 0;
	          for (var b = 0; b < this.m.t; ++b) {
	            var c = a[b] & 32767,
	              d = c * this.mpl + ((c * this.mph + (a[b] >> 15) * this.mpl & this.um) << 15) & a.DM,
	              c = b + this.m.t;
	            for (a[c] += this.m.am(0, d, a, b, 0, this.m.t); a[c] >= a.DV;) a[c] -= a.DV, a[++c]++;
	          }
	          a.clamp();
	          a.drShiftTo(this.m.t, a);
	          a.compareTo(this.m) >= 0 && a.subTo(this.m, a);
	        }
	        function montSqrTo(a, b) {
	          a.squareTo(b);
	          this.reduce(b);
	        }
	        function montMulTo(a, b, c) {
	          a.multiplyTo(b, c);
	          this.reduce(c);
	        }
	        Montgomery.prototype.convert = montConvert;
	        Montgomery.prototype.revert = montRevert;
	        Montgomery.prototype.reduce = montReduce;
	        Montgomery.prototype.mulTo = montMulTo;
	        Montgomery.prototype.sqrTo = montSqrTo;
	        function bnpIsEven() {
	          return (this.t > 0 ? this[0] & 1 : this.s) == 0;
	        }
	        function bnpExp(a, b) {
	          if (a > 4294967295 || a < 1) return BigInteger.ONE;
	          var c = nbi(),
	            d = nbi(),
	            e = b.convert(this),
	            g = nbits(a) - 1;
	          for (e.copyTo(c); --g >= 0;) if (b.sqrTo(c, d), (a & 1 << g) > 0) b.mulTo(d, e, c);else var h = c,
	            c = d,
	            d = h;
	          return b.revert(c);
	        }
	        function bnModPowInt(a, b) {
	          var c;
	          c = a < 256 || b.isEven() ? new Classic(b) : new Montgomery(b);
	          return this.exp(a, c);
	        }
	        BigInteger.prototype.copyTo = bnpCopyTo;
	        BigInteger.prototype.fromInt = bnpFromInt;
	        BigInteger.prototype.fromString = bnpFromString;
	        BigInteger.prototype.clamp = bnpClamp;
	        BigInteger.prototype.dlShiftTo = bnpDLShiftTo;
	        BigInteger.prototype.drShiftTo = bnpDRShiftTo;
	        BigInteger.prototype.lShiftTo = bnpLShiftTo;
	        BigInteger.prototype.rShiftTo = bnpRShiftTo;
	        BigInteger.prototype.subTo = bnpSubTo;
	        BigInteger.prototype.multiplyTo = bnpMultiplyTo;
	        BigInteger.prototype.squareTo = bnpSquareTo;
	        BigInteger.prototype.divRemTo = bnpDivRemTo;
	        BigInteger.prototype.invDigit = bnpInvDigit;
	        BigInteger.prototype.isEven = bnpIsEven;
	        BigInteger.prototype.exp = bnpExp;
	        BigInteger.prototype.toString = bnToString;
	        BigInteger.prototype.negate = bnNegate;
	        BigInteger.prototype.abs = bnAbs;
	        BigInteger.prototype.compareTo = bnCompareTo;
	        BigInteger.prototype.bitLength = bnBitLength;
	        BigInteger.prototype.mod = bnMod;
	        BigInteger.prototype.modPowInt = bnModPowInt;
	        BigInteger.ZERO = nbv(0);
	        BigInteger.ONE = nbv(1);
	        function bnClone() {
	          var a = nbi();
	          this.copyTo(a);
	          return a;
	        }
	        function bnIntValue() {
	          if (this.s < 0) {
	            if (this.t == 1) return this[0] - this.DV;else {
	              if (this.t == 0) return -1;
	            }
	          } else if (this.t == 1) return this[0];else if (this.t == 0) return 0;
	          return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0];
	        }
	        function bnByteValue() {
	          return this.t == 0 ? this.s : this[0] << 24 >> 24;
	        }
	        function bnShortValue() {
	          return this.t == 0 ? this.s : this[0] << 16 >> 16;
	        }
	        function bnpChunkSize(a) {
	          return Math.floor(Math.LN2 * this.DB / Math.log(a));
	        }
	        function bnSigNum() {
	          return this.s < 0 ? -1 : this.t <= 0 || this.t == 1 && this[0] <= 0 ? 0 : 1;
	        }
	        function bnpToRadix(a) {
	          a == null && (a = 10);
	          if (this.signum() == 0 || a < 2 || a > 36) return "0";
	          var b = this.chunkSize(a),
	            b = Math.pow(a, b),
	            c = nbv(b),
	            d = nbi(),
	            e = nbi(),
	            g = "";
	          for (this.divRemTo(c, d, e); d.signum() > 0;) g = (b + e.intValue()).toString(a).substr(1) + g, d.divRemTo(c, d, e);
	          return e.intValue().toString(a) + g;
	        }
	        function bnpFromRadix(a, b) {
	          this.fromInt(0);
	          b == null && (b = 10);
	          for (var c = this.chunkSize(b), d = Math.pow(b, c), e = !1, g = 0, h = 0, f = 0; f < a.length; ++f) {
	            var o = intAt(a, f);
	            o < 0 ? a.charAt(f) == "-" && this.signum() == 0 && (e = !0) : (h = b * h + o, ++g >= c && (this.dMultiply(d), this.dAddOffset(h, 0), h = g = 0));
	          }
	          g > 0 && (this.dMultiply(Math.pow(b, g)), this.dAddOffset(h, 0));
	          e && BigInteger.ZERO.subTo(this, this);
	        }
	        function bnpFromNumber(a, b, c) {
	          if ("number" == typeof b) {
	            if (a < 2) this.fromInt(1);else {
	              this.fromNumber(a, c);
	              this.testBit(a - 1) || this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), op_or, this);
	              for (this.isEven() && this.dAddOffset(1, 0); !this.isProbablePrime(b);) this.dAddOffset(2, 0), this.bitLength() > a && this.subTo(BigInteger.ONE.shiftLeft(a - 1), this);
	            }
	          } else {
	            var c = [],
	              d = a & 7;
	            c.length = (a >> 3) + 1;
	            b.nextBytes(c);
	            d > 0 ? c[0] &= (1 << d) - 1 : c[0] = 0;
	            this.fromString(c, 256);
	          }
	        }
	        function bnToByteArray() {
	          var a = this.t,
	            b = [];
	          b[0] = this.s;
	          var c = this.DB - a * this.DB % 8,
	            d,
	            e = 0;
	          if (a-- > 0) {
	            if (c < this.DB && (d = this[a] >> c) != (this.s & this.DM) >> c) b[e++] = d | this.s << this.DB - c;
	            for (; a >= 0;) if (c < 8 ? (d = (this[a] & (1 << c) - 1) << 8 - c, d |= this[--a] >> (c += this.DB - 8)) : (d = this[a] >> (c -= 8) & 255, c <= 0 && (c += this.DB, --a)), (d & 128) != 0 && (d |= -256), e == 0 && (this.s & 128) != (d & 128) && ++e, e > 0 || d != this.s) b[e++] = d;
	          }
	          return b;
	        }
	        function bnEquals(a) {
	          return this.compareTo(a) == 0;
	        }
	        function bnMin(a) {
	          return this.compareTo(a) < 0 ? this : a;
	        }
	        function bnMax(a) {
	          return this.compareTo(a) > 0 ? this : a;
	        }
	        function bnpBitwiseTo(a, b, c) {
	          var d,
	            e,
	            g = Math.min(a.t, this.t);
	          for (d = 0; d < g; ++d) c[d] = b(this[d], a[d]);
	          if (a.t < this.t) {
	            e = a.s & this.DM;
	            for (d = g; d < this.t; ++d) c[d] = b(this[d], e);
	            c.t = this.t;
	          } else {
	            e = this.s & this.DM;
	            for (d = g; d < a.t; ++d) c[d] = b(e, a[d]);
	            c.t = a.t;
	          }
	          c.s = b(this.s, a.s);
	          c.clamp();
	        }
	        function op_and(a, b) {
	          return a & b;
	        }
	        function bnAnd(a) {
	          var b = nbi();
	          this.bitwiseTo(a, op_and, b);
	          return b;
	        }
	        function op_or(a, b) {
	          return a | b;
	        }
	        function bnOr(a) {
	          var b = nbi();
	          this.bitwiseTo(a, op_or, b);
	          return b;
	        }
	        function op_xor(a, b) {
	          return a ^ b;
	        }
	        function bnXor(a) {
	          var b = nbi();
	          this.bitwiseTo(a, op_xor, b);
	          return b;
	        }
	        function op_andnot(a, b) {
	          return a & ~b;
	        }
	        function bnAndNot(a) {
	          var b = nbi();
	          this.bitwiseTo(a, op_andnot, b);
	          return b;
	        }
	        function bnNot() {
	          for (var a = nbi(), b = 0; b < this.t; ++b) a[b] = this.DM & ~this[b];
	          a.t = this.t;
	          a.s = ~this.s;
	          return a;
	        }
	        function bnShiftLeft(a) {
	          var b = nbi();
	          a < 0 ? this.rShiftTo(-a, b) : this.lShiftTo(a, b);
	          return b;
	        }
	        function bnShiftRight(a) {
	          var b = nbi();
	          a < 0 ? this.lShiftTo(-a, b) : this.rShiftTo(a, b);
	          return b;
	        }
	        function lbit(a) {
	          if (a == 0) return -1;
	          var b = 0;
	          (a & 65535) == 0 && (a >>= 16, b += 16);
	          (a & 255) == 0 && (a >>= 8, b += 8);
	          (a & 15) == 0 && (a >>= 4, b += 4);
	          (a & 3) == 0 && (a >>= 2, b += 2);
	          (a & 1) == 0 && ++b;
	          return b;
	        }
	        function bnGetLowestSetBit() {
	          for (var a = 0; a < this.t; ++a) if (this[a] != 0) return a * this.DB + lbit(this[a]);
	          return this.s < 0 ? this.t * this.DB : -1;
	        }
	        function cbit(a) {
	          for (var b = 0; a != 0;) a &= a - 1, ++b;
	          return b;
	        }
	        function bnBitCount() {
	          for (var a = 0, b = this.s & this.DM, c = 0; c < this.t; ++c) a += cbit(this[c] ^ b);
	          return a;
	        }
	        function bnTestBit(a) {
	          var b = Math.floor(a / this.DB);
	          return b >= this.t ? this.s != 0 : (this[b] & 1 << a % this.DB) != 0;
	        }
	        function bnpChangeBit(a, b) {
	          var c = BigInteger.ONE.shiftLeft(a);
	          this.bitwiseTo(c, b, c);
	          return c;
	        }
	        function bnSetBit(a) {
	          return this.changeBit(a, op_or);
	        }
	        function bnClearBit(a) {
	          return this.changeBit(a, op_andnot);
	        }
	        function bnFlipBit(a) {
	          return this.changeBit(a, op_xor);
	        }
	        function bnpAddTo(a, b) {
	          for (var c = 0, d = 0, e = Math.min(a.t, this.t); c < e;) d += this[c] + a[c], b[c++] = d & this.DM, d >>= this.DB;
	          if (a.t < this.t) {
	            for (d += a.s; c < this.t;) d += this[c], b[c++] = d & this.DM, d >>= this.DB;
	            d += this.s;
	          } else {
	            for (d += this.s; c < a.t;) d += a[c], b[c++] = d & this.DM, d >>= this.DB;
	            d += a.s;
	          }
	          b.s = d < 0 ? -1 : 0;
	          d > 0 ? b[c++] = d : d < -1 && (b[c++] = this.DV + d);
	          b.t = c;
	          b.clamp();
	        }
	        function bnAdd(a) {
	          var b = nbi();
	          this.addTo(a, b);
	          return b;
	        }
	        function bnSubtract(a) {
	          var b = nbi();
	          this.subTo(a, b);
	          return b;
	        }
	        function bnMultiply(a) {
	          var b = nbi();
	          this.multiplyTo(a, b);
	          return b;
	        }
	        function bnSquare() {
	          var a = nbi();
	          this.squareTo(a);
	          return a;
	        }
	        function bnDivide(a) {
	          var b = nbi();
	          this.divRemTo(a, b, null);
	          return b;
	        }
	        function bnRemainder(a) {
	          var b = nbi();
	          this.divRemTo(a, null, b);
	          return b;
	        }
	        function bnDivideAndRemainder(a) {
	          var b = nbi(),
	            c = nbi();
	          this.divRemTo(a, b, c);
	          return [b, c];
	        }
	        function bnpDMultiply(a) {
	          this[this.t] = this.am(0, a - 1, this, 0, 0, this.t);
	          ++this.t;
	          this.clamp();
	        }
	        function bnpDAddOffset(a, b) {
	          if (a != 0) {
	            for (; this.t <= b;) this[this.t++] = 0;
	            for (this[b] += a; this[b] >= this.DV;) this[b] -= this.DV, ++b >= this.t && (this[this.t++] = 0), ++this[b];
	          }
	        }
	        function NullExp() {}
	        function nNop(a) {
	          return a;
	        }
	        function nMulTo(a, b, c) {
	          a.multiplyTo(b, c);
	        }
	        function nSqrTo(a, b) {
	          a.squareTo(b);
	        }
	        NullExp.prototype.convert = nNop;
	        NullExp.prototype.revert = nNop;
	        NullExp.prototype.mulTo = nMulTo;
	        NullExp.prototype.sqrTo = nSqrTo;
	        function bnPow(a) {
	          return this.exp(a, new NullExp());
	        }
	        function bnpMultiplyLowerTo(a, b, c) {
	          var d = Math.min(this.t + a.t, b);
	          c.s = 0;
	          for (c.t = d; d > 0;) c[--d] = 0;
	          var e;
	          for (e = c.t - this.t; d < e; ++d) c[d + this.t] = this.am(0, a[d], c, d, 0, this.t);
	          for (e = Math.min(a.t, b); d < e; ++d) this.am(0, a[d], c, d, 0, b - d);
	          c.clamp();
	        }
	        function bnpMultiplyUpperTo(a, b, c) {
	          --b;
	          var d = c.t = this.t + a.t - b;
	          for (c.s = 0; --d >= 0;) c[d] = 0;
	          for (d = Math.max(b - this.t, 0); d < a.t; ++d) c[this.t + d - b] = this.am(b - d, a[d], c, 0, 0, this.t + d - b);
	          c.clamp();
	          c.drShiftTo(1, c);
	        }
	        function Barrett(a) {
	          this.r2 = nbi();
	          this.q3 = nbi();
	          BigInteger.ONE.dlShiftTo(2 * a.t, this.r2);
	          this.mu = this.r2.divide(a);
	          this.m = a;
	        }
	        function barrettConvert(a) {
	          if (a.s < 0 || a.t > 2 * this.m.t) return a.mod(this.m);else if (a.compareTo(this.m) < 0) return a;else {
	            var b = nbi();
	            a.copyTo(b);
	            this.reduce(b);
	            return b;
	          }
	        }
	        function barrettRevert(a) {
	          return a;
	        }
	        function barrettReduce(a) {
	          a.drShiftTo(this.m.t - 1, this.r2);
	          if (a.t > this.m.t + 1) a.t = this.m.t + 1, a.clamp();
	          this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3);
	          for (this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2); a.compareTo(this.r2) < 0;) a.dAddOffset(1, this.m.t + 1);
	          for (a.subTo(this.r2, a); a.compareTo(this.m) >= 0;) a.subTo(this.m, a);
	        }
	        function barrettSqrTo(a, b) {
	          a.squareTo(b);
	          this.reduce(b);
	        }
	        function barrettMulTo(a, b, c) {
	          a.multiplyTo(b, c);
	          this.reduce(c);
	        }
	        Barrett.prototype.convert = barrettConvert;
	        Barrett.prototype.revert = barrettRevert;
	        Barrett.prototype.reduce = barrettReduce;
	        Barrett.prototype.mulTo = barrettMulTo;
	        Barrett.prototype.sqrTo = barrettSqrTo;
	        function bnModPow(a, b) {
	          var c = a.bitLength(),
	            d,
	            e = nbv(1),
	            g;
	          if (c <= 0) return e;else d = c < 18 ? 1 : c < 48 ? 3 : c < 144 ? 4 : c < 768 ? 5 : 6;
	          g = c < 8 ? new Classic(b) : b.isEven() ? new Barrett(b) : new Montgomery(b);
	          var h = [],
	            f = 3,
	            o = d - 1,
	            p = (1 << d) - 1;
	          h[1] = g.convert(this);
	          if (d > 1) {
	            c = nbi();
	            for (g.sqrTo(h[1], c); f <= p;) h[f] = nbi(), g.mulTo(c, h[f - 2], h[f]), f += 2;
	          }
	          for (var q = a.t - 1, n, k = !0, j = nbi(), c = nbits(a[q]) - 1; q >= 0;) {
	            c >= o ? n = a[q] >> c - o & p : (n = (a[q] & (1 << c + 1) - 1) << o - c, q > 0 && (n |= a[q - 1] >> this.DB + c - o));
	            for (f = d; (n & 1) == 0;) n >>= 1, --f;
	            if ((c -= f) < 0) c += this.DB, --q;
	            if (k) h[n].copyTo(e), k = !1;else {
	              for (; f > 1;) g.sqrTo(e, j), g.sqrTo(j, e), f -= 2;
	              f > 0 ? g.sqrTo(e, j) : (f = e, e = j, j = f);
	              g.mulTo(j, h[n], e);
	            }
	            for (; q >= 0 && (a[q] & 1 << c) == 0;) g.sqrTo(e, j), f = e, e = j, j = f, --c < 0 && (c = this.DB - 1, --q);
	          }
	          return g.revert(e);
	        }
	        function bnGCD(a) {
	          var b = this.s < 0 ? this.negate() : this.clone(),
	            a = a.s < 0 ? a.negate() : a.clone();
	          if (b.compareTo(a) < 0) var c = b,
	            b = a,
	            a = c;
	          var c = b.getLowestSetBit(),
	            d = a.getLowestSetBit();
	          if (d < 0) return b;
	          c < d && (d = c);
	          d > 0 && (b.rShiftTo(d, b), a.rShiftTo(d, a));
	          for (; b.signum() > 0;) (c = b.getLowestSetBit()) > 0 && b.rShiftTo(c, b), (c = a.getLowestSetBit()) > 0 && a.rShiftTo(c, a), b.compareTo(a) >= 0 ? (b.subTo(a, b), b.rShiftTo(1, b)) : (a.subTo(b, a), a.rShiftTo(1, a));
	          d > 0 && a.lShiftTo(d, a);
	          return a;
	        }
	        function bnpModInt(a) {
	          if (a <= 0) return 0;
	          var b = this.DV % a,
	            c = this.s < 0 ? a - 1 : 0;
	          if (this.t > 0) if (b == 0) c = this[0] % a;else for (var d = this.t - 1; d >= 0; --d) c = (b * c + this[d]) % a;
	          return c;
	        }
	        function bnModInverse(a) {
	          var b = a.isEven();
	          if (this.isEven() && b || a.signum() == 0) return BigInteger.ZERO;
	          for (var c = a.clone(), d = this.clone(), e = nbv(1), g = nbv(0), h = nbv(0), f = nbv(1); c.signum() != 0;) {
	            for (; c.isEven();) {
	              c.rShiftTo(1, c);
	              if (b) {
	                if (!e.isEven() || !g.isEven()) e.addTo(this, e), g.subTo(a, g);
	                e.rShiftTo(1, e);
	              } else g.isEven() || g.subTo(a, g);
	              g.rShiftTo(1, g);
	            }
	            for (; d.isEven();) {
	              d.rShiftTo(1, d);
	              if (b) {
	                if (!h.isEven() || !f.isEven()) h.addTo(this, h), f.subTo(a, f);
	                h.rShiftTo(1, h);
	              } else f.isEven() || f.subTo(a, f);
	              f.rShiftTo(1, f);
	            }
	            c.compareTo(d) >= 0 ? (c.subTo(d, c), b && e.subTo(h, e), g.subTo(f, g)) : (d.subTo(c, d), b && h.subTo(e, h), f.subTo(g, f));
	          }
	          if (d.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO;
	          if (f.compareTo(a) >= 0) return f.subtract(a);
	          if (f.signum() < 0) f.addTo(a, f);else return f;
	          return f.signum() < 0 ? f.add(a) : f;
	        }
	        var lowprimes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997],
	          lplim = 67108864 / lowprimes[lowprimes.length - 1];
	        function bnIsProbablePrime(a) {
	          var b,
	            c = this.abs();
	          if (c.t == 1 && c[0] <= lowprimes[lowprimes.length - 1]) {
	            for (b = 0; b < lowprimes.length; ++b) if (c[0] == lowprimes[b]) return !0;
	            return !1;
	          }
	          if (c.isEven()) return !1;
	          for (b = 1; b < lowprimes.length;) {
	            for (var d = lowprimes[b], e = b + 1; e < lowprimes.length && d < lplim;) d *= lowprimes[e++];
	            for (d = c.modInt(d); b < e;) if (d % lowprimes[b++] == 0) return !1;
	          }
	          return c.millerRabin(a);
	        }
	        function bnpMillerRabin(a) {
	          var b = this.subtract(BigInteger.ONE),
	            c = b.getLowestSetBit();
	          if (c <= 0) return !1;
	          var d = b.shiftRight(c),
	            a = a + 1 >> 1;
	          if (a > lowprimes.length) a = lowprimes.length;
	          for (var e = nbi(), g = 0; g < a; ++g) {
	            e.fromInt(lowprimes[Math.floor(Math.random() * lowprimes.length)]);
	            var h = e.modPow(d, this);
	            if (h.compareTo(BigInteger.ONE) != 0 && h.compareTo(b) != 0) {
	              for (var f = 1; f++ < c && h.compareTo(b) != 0;) if (h = h.modPowInt(2, this), h.compareTo(BigInteger.ONE) == 0) return !1;
	              if (h.compareTo(b) != 0) return !1;
	            }
	          }
	          return !0;
	        }
	        BigInteger.prototype.chunkSize = bnpChunkSize;
	        BigInteger.prototype.toRadix = bnpToRadix;
	        BigInteger.prototype.fromRadix = bnpFromRadix;
	        BigInteger.prototype.fromNumber = bnpFromNumber;
	        BigInteger.prototype.bitwiseTo = bnpBitwiseTo;
	        BigInteger.prototype.changeBit = bnpChangeBit;
	        BigInteger.prototype.addTo = bnpAddTo;
	        BigInteger.prototype.dMultiply = bnpDMultiply;
	        BigInteger.prototype.dAddOffset = bnpDAddOffset;
	        BigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;
	        BigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;
	        BigInteger.prototype.modInt = bnpModInt;
	        BigInteger.prototype.millerRabin = bnpMillerRabin;
	        BigInteger.prototype.clone = bnClone;
	        BigInteger.prototype.intValue = bnIntValue;
	        BigInteger.prototype.byteValue = bnByteValue;
	        BigInteger.prototype.shortValue = bnShortValue;
	        BigInteger.prototype.signum = bnSigNum;
	        BigInteger.prototype.toByteArray = bnToByteArray;
	        BigInteger.prototype.equals = bnEquals;
	        BigInteger.prototype.min = bnMin;
	        BigInteger.prototype.max = bnMax;
	        BigInteger.prototype.and = bnAnd;
	        BigInteger.prototype.or = bnOr;
	        BigInteger.prototype.xor = bnXor;
	        BigInteger.prototype.andNot = bnAndNot;
	        BigInteger.prototype.not = bnNot;
	        BigInteger.prototype.shiftLeft = bnShiftLeft;
	        BigInteger.prototype.shiftRight = bnShiftRight;
	        BigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;
	        BigInteger.prototype.bitCount = bnBitCount;
	        BigInteger.prototype.testBit = bnTestBit;
	        BigInteger.prototype.setBit = bnSetBit;
	        BigInteger.prototype.clearBit = bnClearBit;
	        BigInteger.prototype.flipBit = bnFlipBit;
	        BigInteger.prototype.add = bnAdd;
	        BigInteger.prototype.subtract = bnSubtract;
	        BigInteger.prototype.multiply = bnMultiply;
	        BigInteger.prototype.divide = bnDivide;
	        BigInteger.prototype.remainder = bnRemainder;
	        BigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;
	        BigInteger.prototype.modPow = bnModPow;
	        BigInteger.prototype.modInverse = bnModInverse;
	        BigInteger.prototype.pow = bnPow;
	        BigInteger.prototype.gcd = bnGCD;
	        BigInteger.prototype.isProbablePrime = bnIsProbablePrime;
	        BigInteger.prototype.square = bnSquare;
	        (function (a, b, c, d, e, g, h) {
	          function f(a) {
	            var b,
	              d,
	              e = this,
	              g = a.length,
	              f = 0,
	              h = e.i = e.j = e.m = 0;
	            e.S = [];
	            e.c = [];
	            for (g || (a = [g++]); f < c;) e.S[f] = f++;
	            for (f = 0; f < c; f++) b = e.S[f], h = h + b + a[f % g] & c - 1, d = e.S[h], e.S[f] = d, e.S[h] = b;
	            e.g = function (a) {
	              var b = e.S,
	                d = e.i + 1 & c - 1,
	                g = b[d],
	                f = e.j + g & c - 1,
	                h = b[f];
	              b[d] = h;
	              b[f] = g;
	              for (var k = b[g + h & c - 1]; --a;) d = d + 1 & c - 1, g = b[d], f = f + g & c - 1, h = b[f], b[d] = h, b[f] = g, k = k * c + b[g + h & c - 1];
	              e.i = d;
	              e.j = f;
	              return k;
	            };
	            e.g(c);
	          }
	          function o(a, b, c, d, e) {
	            c = [];
	            e = typeof a;
	            if (b && e == "object") for (d in a) if (d.indexOf("S") < 5) try {
	              c.push(o(a[d], b - 1));
	            } catch (g) {}
	            return c.length ? c : a + (e != "string" ? "\x00" : "");
	          }
	          function p(a, b, d, e) {
	            a += "";
	            for (e = d = 0; e < a.length; e++) {
	              var g = b,
	                f = e & c - 1,
	                h = (d ^= b[e & c - 1] * 19) + a.charCodeAt(e);
	              g[f] = h & c - 1;
	            }
	            a = "";
	            for (e in b) a += String.fromCharCode(b[e]);
	            return a;
	          }
	          b.seedrandom = function (q, n) {
	            var k = [],
	              j,
	              q = p(o(n ? [q, a] : arguments.length ? q : [new Date().getTime(), a, window], 3), k);
	            j = new f(k);
	            p(j.S, a);
	            b.random = function () {
	              for (var a = j.g(d), b = h, f = 0; a < e;) a = (a + f) * c, b *= c, f = j.g(1);
	              for (; a >= g;) a /= 2, b /= 2, f >>>= 1;
	              return (a + f) / b;
	            };
	            return q;
	          };
	          h = b.pow(c, d);
	          e = b.pow(2, e);
	          g = e * 2;
	          p(b.random(), a);
	        })([], Math, 256, 6, 52);
	        function SeededRandom() {}
	        function SRnextBytes(a) {
	          var b;
	          for (b = 0; b < a.length; b++) a[b] = Math.floor(Math.random() * 256);
	        }
	        SeededRandom.prototype.nextBytes = SRnextBytes;
	        function Arcfour() {
	          this.j = this.i = 0;
	          this.S = [];
	        }
	        function ARC4init(a) {
	          var b, c, d;
	          for (b = 0; b < 256; ++b) this.S[b] = b;
	          for (b = c = 0; b < 256; ++b) c = c + this.S[b] + a[b % a.length] & 255, d = this.S[b], this.S[b] = this.S[c], this.S[c] = d;
	          this.j = this.i = 0;
	        }
	        function ARC4next() {
	          var a;
	          this.i = this.i + 1 & 255;
	          this.j = this.j + this.S[this.i] & 255;
	          a = this.S[this.i];
	          this.S[this.i] = this.S[this.j];
	          this.S[this.j] = a;
	          return this.S[a + this.S[this.i] & 255];
	        }
	        Arcfour.prototype.init = ARC4init;
	        Arcfour.prototype.next = ARC4next;
	        function prng_newstate() {
	          return new Arcfour();
	        }
	        var rng_psize = 256,
	          rng_state,
	          rng_pool,
	          rng_pptr;
	        function rng_seed_int(a) {
	          rng_pool[rng_pptr++] ^= a & 255;
	          rng_pool[rng_pptr++] ^= a >> 8 & 255;
	          rng_pool[rng_pptr++] ^= a >> 16 & 255;
	          rng_pool[rng_pptr++] ^= a >> 24 & 255;
	          rng_pptr >= rng_psize && (rng_pptr -= rng_psize);
	        }
	        function rng_seed_time() {
	          rng_seed_int(new Date().getTime());
	        }
	        if (rng_pool == null) {
	          rng_pool = [];
	          rng_pptr = 0;
	          var t;
	          for (; rng_pptr < rng_psize;) t = Math.floor(65536 * Math.random()), rng_pool[rng_pptr++] = t >>> 8, rng_pool[rng_pptr++] = t & 255;
	          rng_pptr = 0;
	          rng_seed_time();
	        }
	        function rng_get_byte() {
	          if (rng_state == null) {
	            rng_seed_time();
	            rng_state = prng_newstate();
	            rng_state.init(rng_pool);
	            for (rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr) rng_pool[rng_pptr] = 0;
	            rng_pptr = 0;
	          }
	          return rng_state.next();
	        }
	        function rng_get_bytes(a) {
	          var b;
	          for (b = 0; b < a.length; ++b) a[b] = rng_get_byte();
	        }
	        function SecureRandom() {}
	        SecureRandom.prototype.nextBytes = rng_get_bytes;
	        function SHA256(a) {
	          function b(a, b) {
	            var c = (a & 65535) + (b & 65535);
	            return (a >> 16) + (b >> 16) + (c >> 16) << 16 | c & 65535;
	          }
	          function c(a, b) {
	            return a >>> b | a << 32 - b;
	          }
	          a = function (a) {
	            for (var a = a.replace(/\r\n/g, "\n"), b = "", c = 0; c < a.length; c++) {
	              var h = a.charCodeAt(c);
	              h < 128 ? b += String.fromCharCode(h) : (h > 127 && h < 2048 ? b += String.fromCharCode(h >> 6 | 192) : (b += String.fromCharCode(h >> 12 | 224), b += String.fromCharCode(h >> 6 & 63 | 128)), b += String.fromCharCode(h & 63 | 128));
	            }
	            return b;
	          }(a);
	          return function (a) {
	            for (var b = "", c = 0; c < a.length * 4; c++) b += "0123456789abcdef".charAt(a[c >> 2] >> (3 - c % 4) * 8 + 4 & 15) + "0123456789abcdef".charAt(a[c >> 2] >> (3 - c % 4) * 8 & 15);
	            return b;
	          }(function (a, e) {
	            var g = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298],
	              h = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225],
	              f = Array(64),
	              o,
	              p,
	              q,
	              n,
	              k,
	              j,
	              l,
	              m,
	              s,
	              r,
	              u,
	              w;
	            a[e >> 5] |= 128 << 24 - e % 32;
	            a[(e + 64 >> 9 << 4) + 15] = e;
	            for (s = 0; s < a.length; s += 16) {
	              o = h[0];
	              p = h[1];
	              q = h[2];
	              n = h[3];
	              k = h[4];
	              j = h[5];
	              l = h[6];
	              m = h[7];
	              for (r = 0; r < 64; r++) f[r] = r < 16 ? a[r + s] : b(b(b(c(f[r - 2], 17) ^ c(f[r - 2], 19) ^ f[r - 2] >>> 10, f[r - 7]), c(f[r - 15], 7) ^ c(f[r - 15], 18) ^ f[r - 15] >>> 3), f[r - 16]), u = b(b(b(b(m, c(k, 6) ^ c(k, 11) ^ c(k, 25)), k & j ^ ~k & l), g[r]), f[r]), w = b(c(o, 2) ^ c(o, 13) ^ c(o, 22), o & p ^ o & q ^ p & q), m = l, l = j, j = k, k = b(n, u), n = q, q = p, p = o, o = b(u, w);
	              h[0] = b(o, h[0]);
	              h[1] = b(p, h[1]);
	              h[2] = b(q, h[2]);
	              h[3] = b(n, h[3]);
	              h[4] = b(k, h[4]);
	              h[5] = b(j, h[5]);
	              h[6] = b(l, h[6]);
	              h[7] = b(m, h[7]);
	            }
	            return h;
	          }(function (a) {
	            for (var b = [], c = 0; c < a.length * 8; c += 8) b[c >> 5] |= (a.charCodeAt(c / 8) & 255) << 24 - c % 32;
	            return b;
	          }(a), a.length * 8));
	        }
	        var sha256 = {
	          hex: function (a) {
	            return SHA256(a);
	          }
	        };
	        function SHA1(a) {
	          function b(a, b) {
	            return a << b | a >>> 32 - b;
	          }
	          function c(a) {
	            var b = "",
	              c,
	              d;
	            for (c = 7; c >= 0; c--) d = a >>> c * 4 & 15, b += d.toString(16);
	            return b;
	          }
	          var d,
	            e,
	            g = Array(80),
	            h = 1732584193,
	            f = 4023233417,
	            o = 2562383102,
	            p = 271733878,
	            q = 3285377520,
	            n,
	            k,
	            j,
	            l,
	            m,
	            a = function (a) {
	              for (var a = a.replace(/\r\n/g, "\n"), b = "", c = 0; c < a.length; c++) {
	                var d = a.charCodeAt(c);
	                d < 128 ? b += String.fromCharCode(d) : (d > 127 && d < 2048 ? b += String.fromCharCode(d >> 6 | 192) : (b += String.fromCharCode(d >> 12 | 224), b += String.fromCharCode(d >> 6 & 63 | 128)), b += String.fromCharCode(d & 63 | 128));
	              }
	              return b;
	            }(a);
	          n = a.length;
	          var s = [];
	          for (d = 0; d < n - 3; d += 4) e = a.charCodeAt(d) << 24 | a.charCodeAt(d + 1) << 16 | a.charCodeAt(d + 2) << 8 | a.charCodeAt(d + 3), s.push(e);
	          switch (n % 4) {
	            case 0:
	              d = 2147483648;
	              break;
	            case 1:
	              d = a.charCodeAt(n - 1) << 24 | 8388608;
	              break;
	            case 2:
	              d = a.charCodeAt(n - 2) << 24 | a.charCodeAt(n - 1) << 16 | 32768;
	              break;
	            case 3:
	              d = a.charCodeAt(n - 3) << 24 | a.charCodeAt(n - 2) << 16 | a.charCodeAt(n - 1) << 8 | 128;
	          }
	          for (s.push(d); s.length % 16 != 14;) s.push(0);
	          s.push(n >>> 29);
	          s.push(n << 3 & 4294967295);
	          for (a = 0; a < s.length; a += 16) {
	            for (d = 0; d < 16; d++) g[d] = s[a + d];
	            for (d = 16; d <= 79; d++) g[d] = b(g[d - 3] ^ g[d - 8] ^ g[d - 14] ^ g[d - 16], 1);
	            e = h;
	            n = f;
	            k = o;
	            j = p;
	            l = q;
	            for (d = 0; d <= 19; d++) m = b(e, 5) + (n & k | ~n & j) + l + g[d] + 1518500249 & 4294967295, l = j, j = k, k = b(n, 30), n = e, e = m;
	            for (d = 20; d <= 39; d++) m = b(e, 5) + (n ^ k ^ j) + l + g[d] + 1859775393 & 4294967295, l = j, j = k, k = b(n, 30), n = e, e = m;
	            for (d = 40; d <= 59; d++) m = b(e, 5) + (n & k | n & j | k & j) + l + g[d] + 2400959708 & 4294967295, l = j, j = k, k = b(n, 30), n = e, e = m;
	            for (d = 60; d <= 79; d++) m = b(e, 5) + (n ^ k ^ j) + l + g[d] + 3395469782 & 4294967295, l = j, j = k, k = b(n, 30), n = e, e = m;
	            h = h + e & 4294967295;
	            f = f + n & 4294967295;
	            o = o + k & 4294967295;
	            p = p + j & 4294967295;
	            q = q + l & 4294967295;
	          }
	          m = c(h) + c(f) + c(o) + c(p) + c(q);
	          return m.toLowerCase();
	        }
	        var sha1 = {
	            hex: function (a) {
	              return SHA1(a);
	            }
	          },
	          MD5 = function (a) {
	            function b(a, b) {
	              var c, d, e, f, g;
	              e = a & 2147483648;
	              f = b & 2147483648;
	              c = a & 1073741824;
	              d = b & 1073741824;
	              g = (a & 1073741823) + (b & 1073741823);
	              return c & d ? g ^ 2147483648 ^ e ^ f : c | d ? g & 1073741824 ? g ^ 3221225472 ^ e ^ f : g ^ 1073741824 ^ e ^ f : g ^ e ^ f;
	            }
	            function c(a, c, d, e, f, g, h) {
	              a = b(a, b(b(c & d | ~c & e, f), h));
	              return b(a << g | a >>> 32 - g, c);
	            }
	            function d(a, c, d, e, f, g, h) {
	              a = b(a, b(b(c & e | d & ~e, f), h));
	              return b(a << g | a >>> 32 - g, c);
	            }
	            function e(a, c, d, e, f, g, h) {
	              a = b(a, b(b(c ^ d ^ e, f), h));
	              return b(a << g | a >>> 32 - g, c);
	            }
	            function g(a, c, d, e, f, g, h) {
	              a = b(a, b(b(d ^ (c | ~e), f), h));
	              return b(a << g | a >>> 32 - g, c);
	            }
	            function h(a) {
	              var b = "",
	                c = "",
	                d;
	              for (d = 0; d <= 3; d++) c = a >>> d * 8 & 255, c = "0" + c.toString(16), b += c.substr(c.length - 2, 2);
	              return b;
	            }
	            var f = [],
	              o,
	              p,
	              q,
	              n,
	              k,
	              j,
	              l,
	              m,
	              a = function (a) {
	                for (var a = a.replace(/\r\n/g, "\n"), b = "", c = 0; c < a.length; c++) {
	                  var d = a.charCodeAt(c);
	                  d < 128 ? b += String.fromCharCode(d) : (d > 127 && d < 2048 ? b += String.fromCharCode(d >> 6 | 192) : (b += String.fromCharCode(d >> 12 | 224), b += String.fromCharCode(d >> 6 & 63 | 128)), b += String.fromCharCode(d & 63 | 128));
	                }
	                return b;
	              }(a),
	              f = function (a) {
	                var b,
	                  c = a.length;
	                b = c + 8;
	                for (var d = ((b - b % 64) / 64 + 1) * 16, e = Array(d - 1), f = 0, g = 0; g < c;) b = (g - g % 4) / 4, f = g % 4 * 8, e[b] |= a.charCodeAt(g) << f, g++;
	                e[(g - g % 4) / 4] |= 128 << g % 4 * 8;
	                e[d - 2] = c << 3;
	                e[d - 1] = c >>> 29;
	                return e;
	              }(a);
	            k = 1732584193;
	            j = 4023233417;
	            l = 2562383102;
	            m = 271733878;
	            for (a = 0; a < f.length; a += 16) o = k, p = j, q = l, n = m, k = c(k, j, l, m, f[a + 0], 7, 3614090360), m = c(m, k, j, l, f[a + 1], 12, 3905402710), l = c(l, m, k, j, f[a + 2], 17, 606105819), j = c(j, l, m, k, f[a + 3], 22, 3250441966), k = c(k, j, l, m, f[a + 4], 7, 4118548399), m = c(m, k, j, l, f[a + 5], 12, 1200080426), l = c(l, m, k, j, f[a + 6], 17, 2821735955), j = c(j, l, m, k, f[a + 7], 22, 4249261313), k = c(k, j, l, m, f[a + 8], 7, 1770035416), m = c(m, k, j, l, f[a + 9], 12, 2336552879), l = c(l, m, k, j, f[a + 10], 17, 4294925233), j = c(j, l, m, k, f[a + 11], 22, 2304563134), k = c(k, j, l, m, f[a + 12], 7, 1804603682), m = c(m, k, j, l, f[a + 13], 12, 4254626195), l = c(l, m, k, j, f[a + 14], 17, 2792965006), j = c(j, l, m, k, f[a + 15], 22, 1236535329), k = d(k, j, l, m, f[a + 1], 5, 4129170786), m = d(m, k, j, l, f[a + 6], 9, 3225465664), l = d(l, m, k, j, f[a + 11], 14, 643717713), j = d(j, l, m, k, f[a + 0], 20, 3921069994), k = d(k, j, l, m, f[a + 5], 5, 3593408605), m = d(m, k, j, l, f[a + 10], 9, 38016083), l = d(l, m, k, j, f[a + 15], 14, 3634488961), j = d(j, l, m, k, f[a + 4], 20, 3889429448), k = d(k, j, l, m, f[a + 9], 5, 568446438), m = d(m, k, j, l, f[a + 14], 9, 3275163606), l = d(l, m, k, j, f[a + 3], 14, 4107603335), j = d(j, l, m, k, f[a + 8], 20, 1163531501), k = d(k, j, l, m, f[a + 13], 5, 2850285829), m = d(m, k, j, l, f[a + 2], 9, 4243563512), l = d(l, m, k, j, f[a + 7], 14, 1735328473), j = d(j, l, m, k, f[a + 12], 20, 2368359562), k = e(k, j, l, m, f[a + 5], 4, 4294588738), m = e(m, k, j, l, f[a + 8], 11, 2272392833), l = e(l, m, k, j, f[a + 11], 16, 1839030562), j = e(j, l, m, k, f[a + 14], 23, 4259657740), k = e(k, j, l, m, f[a + 1], 4, 2763975236), m = e(m, k, j, l, f[a + 4], 11, 1272893353), l = e(l, m, k, j, f[a + 7], 16, 4139469664), j = e(j, l, m, k, f[a + 10], 23, 3200236656), k = e(k, j, l, m, f[a + 13], 4, 681279174), m = e(m, k, j, l, f[a + 0], 11, 3936430074), l = e(l, m, k, j, f[a + 3], 16, 3572445317), j = e(j, l, m, k, f[a + 6], 23, 76029189), k = e(k, j, l, m, f[a + 9], 4, 3654602809), m = e(m, k, j, l, f[a + 12], 11, 3873151461), l = e(l, m, k, j, f[a + 15], 16, 530742520), j = e(j, l, m, k, f[a + 2], 23, 3299628645), k = g(k, j, l, m, f[a + 0], 6, 4096336452), m = g(m, k, j, l, f[a + 7], 10, 1126891415), l = g(l, m, k, j, f[a + 14], 15, 2878612391), j = g(j, l, m, k, f[a + 5], 21, 4237533241), k = g(k, j, l, m, f[a + 12], 6, 1700485571), m = g(m, k, j, l, f[a + 3], 10, 2399980690), l = g(l, m, k, j, f[a + 10], 15, 4293915773), j = g(j, l, m, k, f[a + 1], 21, 2240044497), k = g(k, j, l, m, f[a + 8], 6, 1873313359), m = g(m, k, j, l, f[a + 15], 10, 4264355552), l = g(l, m, k, j, f[a + 6], 15, 2734768916), j = g(j, l, m, k, f[a + 13], 21, 1309151649), k = g(k, j, l, m, f[a + 4], 6, 4149444226), m = g(m, k, j, l, f[a + 11], 10, 3174756917), l = g(l, m, k, j, f[a + 2], 15, 718787259), j = g(j, l, m, k, f[a + 9], 21, 3951481745), k = b(k, o), j = b(j, p), l = b(l, q), m = b(m, n);
	            return (h(k) + h(j) + h(l) + h(m)).toLowerCase();
	          };
	        function parseBigInt(a, b) {
	          return new BigInteger(a, b);
	        }
	        function pkcs1pad2(a, b) {
	          if (b < a.length + 11) throw "Message too long for RSA (n=" + b + ", l=" + a.length + ")";
	          for (var c = [], d = a.length - 1; d >= 0 && b > 0;) {
	            var e = a.charCodeAt(d--);
	            e < 128 ? c[--b] = e : e > 127 && e < 2048 ? (c[--b] = e & 63 | 128, c[--b] = e >> 6 | 192) : (c[--b] = e & 63 | 128, c[--b] = e >> 6 & 63 | 128, c[--b] = e >> 12 | 224);
	          }
	          c[--b] = 0;
	          d = new SecureRandom();
	          for (e = []; b > 2;) {
	            for (e[0] = 0; e[0] == 0;) d.nextBytes(e);
	            c[--b] = e[0];
	          }
	          c[--b] = 2;
	          c[--b] = 0;
	          return new BigInteger(c);
	        }
	        function RSAKey() {
	          this.n = null;
	          this.e = 0;
	          this.coeff = this.dmq1 = this.dmp1 = this.q = this.p = this.d = null;
	        }
	        function RSASetPublic(a, b) {
	          a != null && b != null && a.length > 0 && b.length > 0 ? (this.n = parseBigInt(a, 16), this.e = parseInt(b, 16)) : alert("Invalid RSA public key");
	        }
	        function RSADoPublic(a) {
	          return a.modPowInt(this.e, this.n);
	        }
	        function RSAEncrypt(a) {
	          a = pkcs1pad2(a, this.n.bitLength() + 7 >> 3);
	          if (a == null) return null;
	          a = this.doPublic(a);
	          if (a == null) return null;
	          a = a.toString(16);
	          return (a.length & 1) == 0 ? a : "0" + a;
	        }
	        RSAKey.prototype.doPublic = RSADoPublic;
	        RSAKey.prototype.setPublic = RSASetPublic;
	        RSAKey.prototype.encrypt = RSAEncrypt;
	        function pkcs1unpad2(a, b) {
	          for (var c = a.toByteArray(), d = 0; d < c.length && c[d] == 0;) ++d;
	          if (c.length - d != b - 1 || c[d] != 2) return null;
	          for (++d; c[d] != 0;) if (++d >= c.length) return null;
	          for (var e = ""; ++d < c.length;) {
	            var g = c[d] & 255;
	            g < 128 ? e += String.fromCharCode(g) : g > 191 && g < 224 ? (e += String.fromCharCode((g & 31) << 6 | c[d + 1] & 63), ++d) : (e += String.fromCharCode((g & 15) << 12 | (c[d + 1] & 63) << 6 | c[d + 2] & 63), d += 2);
	          }
	          return e;
	        }
	        function RSASetPrivate(a, b, c) {
	          a != null && b != null && a.length > 0 && b.length > 0 ? (this.n = parseBigInt(a, 16), this.e = parseInt(b, 16), this.d = parseBigInt(c, 16)) : alert("Invalid RSA private key");
	        }
	        function RSASetPrivateEx(a, b, c, d, e, g, h, f) {
	          a != null && b != null && a.length > 0 && b.length > 0 ? (this.n = parseBigInt(a, 16), this.e = parseInt(b, 16), this.d = parseBigInt(c, 16), this.p = parseBigInt(d, 16), this.q = parseBigInt(e, 16), this.dmp1 = parseBigInt(g, 16), this.dmq1 = parseBigInt(h, 16), this.coeff = parseBigInt(f, 16)) : alert("Invalid RSA private key");
	        }
	        function RSAGenerate(a, b) {
	          var c = new SeededRandom(),
	            d = a >> 1;
	          this.e = parseInt(b, 16);
	          for (var e = new BigInteger(b, 16);;) {
	            for (;;) if (this.p = new BigInteger(a - d, 1, c), this.p.subtract(BigInteger.ONE).gcd(e).compareTo(BigInteger.ONE) == 0 && this.p.isProbablePrime(10)) break;
	            for (;;) if (this.q = new BigInteger(d, 1, c), this.q.subtract(BigInteger.ONE).gcd(e).compareTo(BigInteger.ONE) == 0 && this.q.isProbablePrime(10)) break;
	            if (this.p.compareTo(this.q) <= 0) {
	              var g = this.p;
	              this.p = this.q;
	              this.q = g;
	            }
	            var g = this.p.subtract(BigInteger.ONE),
	              h = this.q.subtract(BigInteger.ONE),
	              f = g.multiply(h);
	            if (f.gcd(e).compareTo(BigInteger.ONE) == 0) {
	              this.n = this.p.multiply(this.q);
	              this.d = e.modInverse(f);
	              this.dmp1 = this.d.mod(g);
	              this.dmq1 = this.d.mod(h);
	              this.coeff = this.q.modInverse(this.p);
	              break;
	            }
	          }
	        }
	        function RSADoPrivate(a) {
	          if (this.p == null || this.q == null) return a.modPow(this.d, this.n);
	          for (var b = a.mod(this.p).modPow(this.dmp1, this.p), a = a.mod(this.q).modPow(this.dmq1, this.q); b.compareTo(a) < 0;) b = b.add(this.p);
	          return b.subtract(a).multiply(this.coeff).mod(this.p).multiply(this.q).add(a);
	        }
	        function RSADecrypt(a) {
	          a = this.doPrivate(parseBigInt(a, 16));
	          return a == null ? null : pkcs1unpad2(a, this.n.bitLength() + 7 >> 3);
	        }
	        RSAKey.prototype.doPrivate = RSADoPrivate;
	        RSAKey.prototype.setPrivate = RSASetPrivate;
	        RSAKey.prototype.setPrivateEx = RSASetPrivateEx;
	        RSAKey.prototype.generate = RSAGenerate;
	        RSAKey.prototype.decrypt = RSADecrypt;
	        var _RSASIGN_DIHEAD = [];
	        _RSASIGN_DIHEAD.sha1 = "3021300906052b0e03021a05000414";
	        _RSASIGN_DIHEAD.sha256 = "3031300d060960864801650304020105000420";
	        var _RSASIGN_HASHHEXFUNC = [];
	        _RSASIGN_HASHHEXFUNC.sha1 = sha1.hex;
	        _RSASIGN_HASHHEXFUNC.sha256 = sha256.hex;
	        function _rsasign_getHexPaddedDigestInfoForString(a, b, c) {
	          b /= 4;
	          for (var a = (0, _RSASIGN_HASHHEXFUNC[c])(a), c = "00" + _RSASIGN_DIHEAD[c] + a, a = "", b = b - 4 - c.length, d = 0; d < b; d += 2) a += "ff";
	          return sPaddedMessageHex = "0001" + a + c;
	        }
	        function _rsasign_signString(a, b) {
	          var c = _rsasign_getHexPaddedDigestInfoForString(a, this.n.bitLength(), b);
	          return this.doPrivate(parseBigInt(c, 16)).toString(16);
	        }
	        function _rsasign_signStringWithSHA1(a) {
	          a = _rsasign_getHexPaddedDigestInfoForString(a, this.n.bitLength(), "sha1");
	          return this.doPrivate(parseBigInt(a, 16)).toString(16);
	        }
	        function _rsasign_signStringWithSHA256(a) {
	          a = _rsasign_getHexPaddedDigestInfoForString(a, this.n.bitLength(), "sha256");
	          return this.doPrivate(parseBigInt(a, 16)).toString(16);
	        }
	        function _rsasign_getDecryptSignatureBI(a, b, c) {
	          var d = new RSAKey();
	          d.setPublic(b, c);
	          return d.doPublic(a);
	        }
	        function _rsasign_getHexDigestInfoFromSig(a, b, c) {
	          return _rsasign_getDecryptSignatureBI(a, b, c).toString(16).replace(/^1f+00/, "");
	        }
	        function _rsasign_getAlgNameAndHashFromHexDisgestInfo(a) {
	          for (var b in _RSASIGN_DIHEAD) {
	            var c = _RSASIGN_DIHEAD[b],
	              d = c.length;
	            if (a.substring(0, d) == c) return [b, a.substring(d)];
	          }
	          return [];
	        }
	        function _rsasign_verifySignatureWithArgs(a, b, c, d) {
	          b = _rsasign_getHexDigestInfoFromSig(b, c, d);
	          c = _rsasign_getAlgNameAndHashFromHexDisgestInfo(b);
	          if (c.length == 0) return !1;
	          b = c[1];
	          a = (0, _RSASIGN_HASHHEXFUNC[c[0]])(a);
	          return b == a;
	        }
	        function _rsasign_verifyHexSignatureForMessage(a, b) {
	          var c = parseBigInt(a, 16);
	          return _rsasign_verifySignatureWithArgs(b, c, this.n.toString(16), this.e.toString(16));
	        }
	        function _rsasign_verifyString(a, b) {
	          var b = b.replace(/[ \n]+/g, ""),
	            c = this.doPublic(parseBigInt(b, 16)).toString(16).replace(/^1f+00/, ""),
	            d = _rsasign_getAlgNameAndHashFromHexDisgestInfo(c);
	          if (d.length == 0) return !1;
	          c = d[1];
	          d = (0, _RSASIGN_HASHHEXFUNC[d[0]])(a);
	          return c == d;
	        }
	        RSAKey.prototype.signString = _rsasign_signString;
	        RSAKey.prototype.signStringWithSHA1 = _rsasign_signStringWithSHA1;
	        RSAKey.prototype.signStringWithSHA256 = _rsasign_signStringWithSHA256;
	        RSAKey.prototype.verifyString = _rsasign_verifyString;
	        RSAKey.prototype.verifyHexSignatureForMessage = _rsasign_verifyHexSignatureForMessage;
	        var aes = function () {
	            var a = {
	              Sbox: [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22],
	              ShiftRowTab: [0, 5, 10, 15, 4, 9, 14, 3, 8, 13, 2, 7, 12, 1, 6, 11]
	            };
	            a.Init = function () {
	              a.Sbox_Inv = Array(256);
	              for (var b = 0; b < 256; b++) a.Sbox_Inv[a.Sbox[b]] = b;
	              a.ShiftRowTab_Inv = Array(16);
	              for (b = 0; b < 16; b++) a.ShiftRowTab_Inv[a.ShiftRowTab[b]] = b;
	              a.xtime = Array(256);
	              for (b = 0; b < 128; b++) a.xtime[b] = b << 1, a.xtime[128 + b] = b << 1 ^ 27;
	            };
	            a.Done = function () {
	              delete a.Sbox_Inv;
	              delete a.ShiftRowTab_Inv;
	              delete a.xtime;
	            };
	            a.ExpandKey = function (b) {
	              var c = b.length,
	                d,
	                e = 1;
	              switch (c) {
	                case 16:
	                  d = 176;
	                  break;
	                case 24:
	                  d = 208;
	                  break;
	                case 32:
	                  d = 240;
	                  break;
	                default:
	                  alert("my.ExpandKey: Only key lengths of 16, 24 or 32 bytes allowed!");
	              }
	              for (var g = c; g < d; g += 4) {
	                var h = b.slice(g - 4, g);
	                if (g % c == 0) {
	                  if (h = [a.Sbox[h[1]] ^ e, a.Sbox[h[2]], a.Sbox[h[3]], a.Sbox[h[0]]], (e <<= 1) >= 256) e ^= 283;
	                } else c > 24 && g % c == 16 && (h = [a.Sbox[h[0]], a.Sbox[h[1]], a.Sbox[h[2]], a.Sbox[h[3]]]);
	                for (var f = 0; f < 4; f++) b[g + f] = b[g + f - c] ^ h[f];
	              }
	            };
	            a.Encrypt = function (b, c) {
	              var d = c.length;
	              a.AddRoundKey(b, c.slice(0, 16));
	              for (var e = 16; e < d - 16; e += 16) a.SubBytes(b, a.Sbox), a.ShiftRows(b, a.ShiftRowTab), a.MixColumns(b), a.AddRoundKey(b, c.slice(e, e + 16));
	              a.SubBytes(b, a.Sbox);
	              a.ShiftRows(b, a.ShiftRowTab);
	              a.AddRoundKey(b, c.slice(e, d));
	            };
	            a.Decrypt = function (b, c) {
	              var d = c.length;
	              a.AddRoundKey(b, c.slice(d - 16, d));
	              a.ShiftRows(b, a.ShiftRowTab_Inv);
	              a.SubBytes(b, a.Sbox_Inv);
	              for (d -= 32; d >= 16; d -= 16) a.AddRoundKey(b, c.slice(d, d + 16)), a.MixColumns_Inv(b), a.ShiftRows(b, a.ShiftRowTab_Inv), a.SubBytes(b, a.Sbox_Inv);
	              a.AddRoundKey(b, c.slice(0, 16));
	            };
	            a.SubBytes = function (a, c) {
	              for (var d = 0; d < 16; d++) a[d] = c[a[d]];
	            };
	            a.AddRoundKey = function (a, c) {
	              for (var d = 0; d < 16; d++) a[d] ^= c[d];
	            };
	            a.ShiftRows = function (a, c) {
	              for (var d = [].concat(a), e = 0; e < 16; e++) a[e] = d[c[e]];
	            };
	            a.MixColumns = function (b) {
	              for (var c = 0; c < 16; c += 4) {
	                var d = b[c + 0],
	                  e = b[c + 1],
	                  g = b[c + 2],
	                  h = b[c + 3],
	                  f = d ^ e ^ g ^ h;
	                b[c + 0] ^= f ^ a.xtime[d ^ e];
	                b[c + 1] ^= f ^ a.xtime[e ^ g];
	                b[c + 2] ^= f ^ a.xtime[g ^ h];
	                b[c + 3] ^= f ^ a.xtime[h ^ d];
	              }
	            };
	            a.MixColumns_Inv = function (b) {
	              for (var c = 0; c < 16; c += 4) {
	                var d = b[c + 0],
	                  e = b[c + 1],
	                  g = b[c + 2],
	                  h = b[c + 3],
	                  f = d ^ e ^ g ^ h,
	                  o = a.xtime[f],
	                  p = a.xtime[a.xtime[o ^ d ^ g]] ^ f;
	                f ^= a.xtime[a.xtime[o ^ e ^ h]];
	                b[c + 0] ^= p ^ a.xtime[d ^ e];
	                b[c + 1] ^= f ^ a.xtime[e ^ g];
	                b[c + 2] ^= p ^ a.xtime[g ^ h];
	                b[c + 3] ^= f ^ a.xtime[h ^ d];
	              }
	            };
	            return a;
	          }(),
	          cryptico = function () {
	            var a = {};
	            aes.Init();
	            a.b256to64 = function (a) {
	              var c,
	                d,
	                e,
	                g = "",
	                f = 0,
	                o = a.length;
	              for (e = 0; e < o; e++) d = a.charCodeAt(e), f == 0 ? (g += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d >> 2 & 63), c = (d & 3) << 4) : f == 1 ? (g += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c | d >> 4 & 15), c = (d & 15) << 2) : f == 2 && (g += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c | d >> 6 & 3), g += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d & 63)), f += 1, f == 3 && (f = 0);
	              f > 0 && (g += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c), g += "=");
	              f == 1 && (g += "=");
	              return g;
	            };
	            a.b64to256 = function (a) {
	              var c,
	                d,
	                e = "",
	                g = 0,
	                h = 0,
	                f = a.length;
	              for (d = 0; d < f; d++) c = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d)), c >= 0 && (g && (e += String.fromCharCode(h | c >> 6 - g & 255)), g = g + 2 & 7, h = c << g & 255);
	              return e;
	            };
	            a.b16to64 = function (a) {
	              var c,
	                d,
	                e = "";
	              a.length % 2 == 1 && (a = "0" + a);
	              for (c = 0; c + 3 <= a.length; c += 3) d = parseInt(a.substring(c, c + 3), 16), e += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d >> 6) + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d & 63);
	              c + 1 == a.length ? (d = parseInt(a.substring(c, c + 1), 16), e += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d << 2)) : c + 2 == a.length && (d = parseInt(a.substring(c, c + 2), 16), e += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d >> 2) + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((d & 3) << 4));
	              for (; (e.length & 3) > 0;) e += "=";
	              return e;
	            };
	            a.b64to16 = function (a) {
	              var c = "",
	                d,
	                e = 0,
	                g;
	              for (d = 0; d < a.length; ++d) {
	                if (a.charAt(d) == "=") break;
	                v = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d));
	                v < 0 || (e == 0 ? (c += int2char(v >> 2), g = v & 3, e = 1) : e == 1 ? (c += int2char(g << 2 | v >> 4), g = v & 15, e = 2) : e == 2 ? (c += int2char(g), c += int2char(v >> 2), g = v & 3, e = 3) : (c += int2char(g << 2 | v >> 4), c += int2char(v & 15), e = 0));
	              }
	              e == 1 && (c += int2char(g << 2));
	              return c;
	            };
	            a.string2bytes = function (a) {
	              for (var c = [], d = 0; d < a.length; d++) c.push(a.charCodeAt(d));
	              return c;
	            };
	            a.bytes2string = function (a) {
	              for (var c = "", d = 0; d < a.length; d++) c += String.fromCharCode(a[d]);
	              return c;
	            };
	            a.blockXOR = function (a, c) {
	              for (var d = Array(16), e = 0; e < 16; e++) d[e] = a[e] ^ c[e];
	              return d;
	            };
	            a.blockIV = function () {
	              var a = new SecureRandom(),
	                c = Array(16);
	              a.nextBytes(c);
	              return c;
	            };
	            a.pad16 = function (a) {
	              var c = a.slice(0),
	                d = (16 - a.length % 16) % 16;
	              for (i = a.length; i < a.length + d; i++) c.push(0);
	              return c;
	            };
	            a.depad = function (a) {
	              for (a = a.slice(0); a[a.length - 1] == 0;) a = a.slice(0, a.length - 1);
	              return a;
	            };
	            a.encryptAESCBC = function (b, c) {
	              var d = c.slice(0);
	              aes.ExpandKey(d);
	              for (var e = a.string2bytes(b), e = a.pad16(e), g = a.blockIV(), h = 0; h < e.length / 16; h++) {
	                var f = e.slice(h * 16, h * 16 + 16),
	                  o = g.slice(h * 16, h * 16 + 16),
	                  f = a.blockXOR(o, f);
	                aes.Encrypt(f, d);
	                g = g.concat(f);
	              }
	              d = a.bytes2string(g);
	              return a.b256to64(d);
	            };
	            a.decryptAESCBC = function (b, c) {
	              var d = c.slice(0);
	              aes.ExpandKey(d);
	              for (var b = a.b64to256(b), e = a.string2bytes(b), g = [], h = 1; h < e.length / 16; h++) {
	                var f = e.slice(h * 16, h * 16 + 16),
	                  o = e.slice((h - 1) * 16, (h - 1) * 16 + 16);
	                aes.Decrypt(f, d);
	                f = a.blockXOR(o, f);
	                g = g.concat(f);
	              }
	              g = a.depad(g);
	              return a.bytes2string(g);
	            };
	            a.wrap60 = function (a) {
	              for (var c = "", d = 0; d < a.length; d++) d % 60 == 0 && d != 0 && (c += "\n"), c += a[d];
	              return c;
	            };
	            a.generateAESKey = function () {
	              var a = Array(16);
	              new SecureRandom().nextBytes(a);
	              return a;
	            };
	            a.generateRSAKey = function (a, c) {
	              Math.seedrandom(sha256.hex(a));
	              var d = new RSAKey();
	              d.generate(c, "10001");
	              return d;
	            };
	            a.publicKeyString = function (b) {
	              return pubkey = b.n.toString(16);
	            };
	            a.publicKeyID = function (a) {
	              return MD5(a);
	            };
	            a.publicKeyFromString = function (b) {
	              var b = b.split("|")[0],
	                c = new RSAKey();
	              c.setPublic(b, "10001");
	              return c;
	            };
	            a.encrypt = function (b, c, d) {
	              var e = "";
	              try {
	                var h = a.publicKeyFromString(c);
	                e += h.encrypt(b) + "?";
	              } catch (f) {
	                return {
	                  status: "Invalid public key"
	                };
	              }
	              return {
	                status: "success",
	                cipher: e
	              };
	            };
	            a.decrypt = function (b, c) {
	              var d = b.split("?"),
	                e = c.decrypt(d[0]);
	              return {
	                status: "success",
	                plaintext: e,
	                signature: "unsigned"
	              };
	            };
	            return a;
	          }();
	        module.exports = cryptico;

	        /***/
	      }, /* 1 */
	      /***/function (module, exports, __webpack_require__) {
	        module.exports = __webpack_require__(2);

	        /***/
	      }, /* 2 */
	      /***/function (module, __webpack_exports__, __webpack_require__) {

	        // ESM COMPAT FLAG
	        __webpack_require__.r(__webpack_exports__);

	        // EXPORTS
	        __webpack_require__.d(__webpack_exports__, "StreamClient", function () {
	          return (/* binding */StreamClient
	          );
	        });

	        // CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/rng.js
	        // Unique ID creation requires a high quality random # generator. In the browser we therefore
	        // require the crypto API and do not support built-in fallback to lower quality random number
	        // generators (like Math.random()).
	        var getRandomValues;
	        var rnds8 = new Uint8Array(16);
	        function rng() {
	          // lazy load so that environments that need to polyfill have a chance to do so
	          if (!getRandomValues) {
	            // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,
	            // find the complete implementation of crypto (msCrypto) on IE11.
	            getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);
	            if (!getRandomValues) {
	              throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
	            }
	          }
	          return getRandomValues(rnds8);
	        }
	        // CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/regex.js
	        /* harmony default export */
	        var regex = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
	        // CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/validate.js

	        function validate(uuid) {
	          return typeof uuid === 'string' && regex.test(uuid);
	        }

	        /* harmony default export */
	        var esm_browser_validate = validate;
	        // CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/stringify.js

	        /**
	         * Convert array of 16 byte values to UUID string format of the form:
	         * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
	         */

	        var byteToHex = [];
	        for (var stringify_i = 0; stringify_i < 256; ++stringify_i) {
	          byteToHex.push((stringify_i + 0x100).toString(16).substr(1));
	        }
	        function stringify(arr) {
	          var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
	          // Note: Be careful editing this code!  It's been tuned for performance
	          // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
	          var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one
	          // of the following:
	          // - One or more input array values don't map to a hex octet (leading to
	          // "undefined" in the uuid)
	          // - Invalid input values for the RFC `version` or `variant` fields

	          if (!esm_browser_validate(uuid)) {
	            throw TypeError('Stringified UUID is invalid');
	          }
	          return uuid;
	        }

	        /* harmony default export */
	        var esm_browser_stringify = stringify;
	        // CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/v4.js

	        function v4(options, buf, offset) {
	          options = options || {};
	          var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

	          rnds[6] = rnds[6] & 0x0f | 0x40;
	          rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

	          if (buf) {
	            offset = offset || 0;
	            for (var i = 0; i < 16; ++i) {
	              buf[offset + i] = rnds[i];
	            }
	            return buf;
	          }
	          return esm_browser_stringify(rnds);
	        }

	        /* harmony default export */
	        var esm_browser_v4 = v4;
	        // CONCATENATED MODULE: ./directDeviceCustom.js
	        /**
	         * @synopsis 定制设备取流
	         *
	         * @note [ADD][2017-07-28]新建 by fengzhongjian
	         *
	         */
	        let DirectDeviceCustom = function () {
	          class DeviceDirect {
	            constructor() {}
	            //to do

	            //创建取流客户端对象
	            createClientObject(oWebsocket, szId, iCurChannel, iCurStream) {
	              return {
	                socket: oWebsocket,
	                id: szId,
	                iCurChannel: iCurChannel,
	                iCurStream: iCurStream,
	                resolve: null,
	                reject: null
	              };
	            }
	            //零通道预览
	            zeroPlayCmd(iCurChannel, iCurStream) {
	              let aCmd = [0x00, 0x00, 0x00, 0x2c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x13, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, iCurChannel + 1, 0x00, 0x00, 0x00, iCurStream, 0x00, 0x00, 0x04, 0x00];
	              return new Uint8Array(aCmd);
	            }
	            //普通通道预览
	            playCmd(iCurChannel, iCurStream) {
	              let aCmd = [0x00, 0x00, 0x00, 0x2c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, iCurChannel, 0x00, 0x00, 0x00, iCurStream, 0x00, 0x00, 0x04, 0x00];
	              return new Uint8Array(aCmd);
	            }
	            //回放
	            playbackCmd(szStartTime, szStopTime, iCurChannel, iCurStream) {
	              let szStartDayMonthYear = szStartTime.split("T")[0];
	              let szStartHourMinSec = szStartTime.split("T")[1];
	              let szStartYear = "0" + parseInt(szStartDayMonthYear.substring(0, 4), 10).toString(16);
	              let iStartMonth = parseInt(szStartDayMonthYear.substring(4, 6), 10);
	              let iStartDay = parseInt(szStartDayMonthYear.substring(6), 10);
	              let iStartHour = parseInt(szStartHourMinSec.substring(0, 2), 10);
	              let iStartMin = parseInt(szStartHourMinSec.substring(2, 4), 10);
	              let iStartSec = parseInt(szStartHourMinSec.substring(4, 6), 10);
	              let szStopDayMonthYear = szStopTime.split("T")[0];
	              let szStopHourMinSec = szStopTime.split("T")[1];
	              let szStopYear = "0" + parseInt(szStopDayMonthYear.substring(0, 4), 10).toString(16);
	              let iStopMonth = parseInt(szStopDayMonthYear.substring(4, 6), 10);
	              //let iStopDay = parseInt(szStopDayMonthYear.substring(6), 10);
	              let iStopHour = parseInt(szStopHourMinSec.substring(0, 2), 10);
	              let iStopMin = parseInt(szStopHourMinSec.substring(2, 4), 10);
	              let iStopSec = parseInt(szStopHourMinSec.substring(4, 6), 10);
	              let aCmd = [/*header*/0x00, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x01, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, /*channel*/0x00, 0x00, 0x00, iCurChannel, /*start time*/0x00, 0x00, parseInt(szStartYear.substring(0, 2), 16), parseInt(szStartYear.substring(2, 4), 16), 0x00, 0x00, 0x00, iStartMonth, 0x00, 0x00, 0x00, iStartDay, 0x00, 0x00, 0x00, iStartHour, 0x00, 0x00, 0x00, iStartMin, 0x00, 0x00, 0x00, iStartSec, /*end time*/0x00, 0x00, parseInt(szStopYear.substring(0, 2), 16), parseInt(szStopYear.substring(2, 4), 16), 0x00, 0x00, 0x00, iStopMonth, 0x00, 0x00, 0x00, iStartDay, 0x00, 0x00, 0x00, iStopHour, 0x00, 0x00, 0x00, iStopMin, 0x00, 0x00, 0x00, iStopSec, /*是否抽帧*/0x00, /*是否下载*/0x00, /*录像卷类型 0普通卷，1存档卷*/0x00, /*存档卷号*/0x00, /*存档卷上的录像文件索引*/0x00, 0x00, 0x00, 0x00, /*码流类型 0主码流，1子码流，2三码流*/iCurStream, /*保留字*/0x00, 0x00, 0x00];
	              return new Uint8Array(aCmd);
	            }
	            //回放速率
	            playRateCmd(iRate) {
	              let szHex = (parseInt(iRate, 10) >>> 0).toString(16).toLocaleUpperCase().toString(16);
	              for (let j = szHex.length; j < 8; j++) {
	                //对字符串进行补0，筹齐8位
	                szHex = "0" + szHex;
	              }
	              let aRate = [0, 0, 0, 0]; //4字节16机制表示
	              for (let j = 0, iLenRate = szHex.length; j < iLenRate; j = j + 2) {
	                aRate[Math.floor(j / 2)] = parseInt(szHex.substring(j, j + 2), 16);
	              }
	              let aCmd = [/*header*/0x00, 0x00, 0x00, 0x24, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x01, 0x2f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, aRate[0], aRate[1], aRate[2], aRate[3]];
	              return new Uint8Array(aCmd);
	            }
	            //回放暂停
	            pauseCmd() {
	              let aCmd = [/*header*/0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x01, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00];
	              return new Uint8Array(aCmd);
	            }
	            //恢复命令
	            resumeCmd() {
	              let aCmd = [/*header*/0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x01, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00];
	              return new Uint8Array(aCmd);
	            }
	          }
	          return DeviceDirect;
	        }();

	        // CONCATENATED MODULE: ./directDevice.js
	        /**
	         * @synopsis 直连设备取流
	         *
	         * @note [ADD][2017-07-28]新建 by fengzhongjian
	         *
	         */
	        const ERROR_STREAM_UNKNOWN = 3001; //未知取流错误
	        const ERROR_STREAM_LIMIT = 3002; //资源上限
	        const ERROR_BAD_AUTH = 3003; //认证失败

	        let DirectDevice = function () {
	          class DeviceDirect {
	            constructor() {}
	            //to do

	            //创建取流客户端对象
	            createClientObject(oWebsocket, szId, szPlayURL) {
	              return {
	                socket: oWebsocket,
	                id: szId,
	                playURL: szPlayURL,
	                resolve: null,
	                reject: null
	              };
	            }
	            //从sdp信息获取媒体头
	            getMediaFromSdp(szSdp) {
	              let iMediaIndex = szSdp.indexOf("MEDIAINFO=") + 10;
	              let szMediaInfo = szSdp.slice(iMediaIndex, iMediaIndex + 80);
	              let aMediaInfo = [];
	              for (let i = 0, iLen = szMediaInfo.length / 2; i < iLen; i++) {
	                aMediaInfo[i] = parseInt(szMediaInfo.slice(i * 2, i * 2 + 2), 16);
	              }
	              return new Uint8Array(aMediaInfo);
	            }
	            //普通通道预览
	            playCmd(szPlayURL) {
	              let oCmd = {
	                sequence: 0,
	                cmd: 'realplay',
	                url: szPlayURL
	              };
	              return JSON.stringify(oCmd);
	            }
	            //回放
	            playbackCmd(szStartTime, szStopTime, szPlayURL) {
	              let oCmd = {
	                sequence: 0,
	                cmd: 'playback',
	                url: szPlayURL,
	                startTime: szStartTime,
	                endTime: szStopTime
	              };
	              return JSON.stringify(oCmd);
	            }
	            //回放速率
	            playRateCmd(iRate) {
	              let oCmd = {
	                sequence: 0,
	                cmd: "changespeed",
	                speed: iRate
	              };
	              return JSON.stringify(oCmd);
	            }
	            //回放暂停
	            pauseCmd() {
	              let oCmd = {
	                sequence: 0,
	                cmd: "pause"
	              };
	              return JSON.stringify(oCmd);
	            }
	            //恢复命令
	            resumeCmd() {
	              let oCmd = {
	                sequence: 0,
	                cmd: "resume"
	              };
	              return JSON.stringify(oCmd);
	            }
	            //获取取流错误
	            getError(oError) {
	              let iErrorNum = ERROR_STREAM_UNKNOWN;
	              if (oError) {
	                if (parseInt(oError.statusCode, 10) === 6 && oError.subStatusCode === "streamLimit") {
	                  iErrorNum = ERROR_STREAM_LIMIT;
	                } else if (parseInt(oError.statusCode, 10) === 4 && oError.subStatusCode === "badAuthorization") {
	                  iErrorNum = ERROR_BAD_AUTH;
	                }
	              }
	              return {
	                iErrorNum: iErrorNum,
	                oError: oError
	              };
	            }
	          }
	          return DeviceDirect;
	        }();

	        // EXTERNAL MODULE: ./tool/cryptico.js
	        var cryptico = __webpack_require__(0);
	        var cryptico_default = /*#__PURE__*/__webpack_require__.n(cryptico);

	        // CONCATENATED MODULE: ./tool/aes.js
	        /*
	        CryptoJS v3.1.2
	        code.google.com/p/crypto-js
	        (c) 2009-2013 by Jeff Mott. All rights reserved.
	        code.google.com/p/crypto-js/wiki/License
	        */
	        var CryptoJS = CryptoJS || function (u, p) {
	          var d = {},
	            l = d.lib = {},
	            s = function () {},
	            t = l.Base = {
	              extend: function (a) {
	                s.prototype = this;
	                var c = new s();
	                a && c.mixIn(a);
	                c.hasOwnProperty("init") || (c.init = function () {
	                  c.$super.init.apply(this, arguments);
	                });
	                c.init.prototype = c;
	                c.$super = this;
	                return c;
	              },
	              create: function () {
	                var a = this.extend();
	                a.init.apply(a, arguments);
	                return a;
	              },
	              init: function () {},
	              mixIn: function (a) {
	                for (var c in a) a.hasOwnProperty(c) && (this[c] = a[c]);
	                a.hasOwnProperty("toString") && (this.toString = a.toString);
	              },
	              clone: function () {
	                return this.init.prototype.extend(this);
	              }
	            },
	            r = l.WordArray = t.extend({
	              init: function (a, c) {
	                a = this.words = a || [];
	                this.sigBytes = c != p ? c : 4 * a.length;
	              },
	              toString: function (a) {
	                return (a || v).stringify(this);
	              },
	              concat: function (a) {
	                var c = this.words,
	                  e = a.words,
	                  j = this.sigBytes;
	                a = a.sigBytes;
	                this.clamp();
	                if (j % 4) for (var k = 0; k < a; k++) c[j + k >>> 2] |= (e[k >>> 2] >>> 24 - 8 * (k % 4) & 255) << 24 - 8 * ((j + k) % 4);else if (65535 < e.length) for (k = 0; k < a; k += 4) c[j + k >>> 2] = e[k >>> 2];else c.push.apply(c, e);
	                this.sigBytes += a;
	                return this;
	              },
	              clamp: function () {
	                var a = this.words,
	                  c = this.sigBytes;
	                a[c >>> 2] &= 4294967295 << 32 - 8 * (c % 4);
	                a.length = u.ceil(c / 4);
	              },
	              clone: function () {
	                var a = t.clone.call(this);
	                a.words = this.words.slice(0);
	                return a;
	              },
	              random: function (a) {
	                for (var c = [], e = 0; e < a; e += 4) c.push(4294967296 * u.random() | 0);
	                return new r.init(c, a);
	              }
	            }),
	            w = d.enc = {},
	            v = w.Hex = {
	              stringify: function (a) {
	                var c = a.words;
	                a = a.sigBytes;
	                for (var e = [], j = 0; j < a; j++) {
	                  var k = c[j >>> 2] >>> 24 - 8 * (j % 4) & 255;
	                  e.push((k >>> 4).toString(16));
	                  e.push((k & 15).toString(16));
	                }
	                return e.join("");
	              },
	              parse: function (a) {
	                for (var c = a.length, e = [], j = 0; j < c; j += 2) e[j >>> 3] |= parseInt(a.substr(j, 2), 16) << 24 - 4 * (j % 8);
	                return new r.init(e, c / 2);
	              }
	            },
	            b = w.Latin1 = {
	              stringify: function (a) {
	                var c = a.words;
	                a = a.sigBytes;
	                for (var e = [], j = 0; j < a; j++) e.push(String.fromCharCode(c[j >>> 2] >>> 24 - 8 * (j % 4) & 255));
	                return e.join("");
	              },
	              parse: function (a) {
	                for (var c = a.length, e = [], j = 0; j < c; j++) e[j >>> 2] |= (a.charCodeAt(j) & 255) << 24 - 8 * (j % 4);
	                return new r.init(e, c);
	              }
	            },
	            x = w.Utf8 = {
	              stringify: function (a) {
	                try {
	                  return decodeURIComponent(escape(b.stringify(a)));
	                } catch (c) {
	                  throw Error("Malformed UTF-8 data");
	                }
	              },
	              parse: function (a) {
	                return b.parse(unescape(encodeURIComponent(a)));
	              }
	            },
	            q = l.BufferedBlockAlgorithm = t.extend({
	              reset: function () {
	                this._data = new r.init();
	                this._nDataBytes = 0;
	              },
	              _append: function (a) {
	                "string" == typeof a && (a = x.parse(a));
	                this._data.concat(a);
	                this._nDataBytes += a.sigBytes;
	              },
	              _process: function (a) {
	                var c = this._data,
	                  e = c.words,
	                  j = c.sigBytes,
	                  k = this.blockSize,
	                  b = j / (4 * k),
	                  b = a ? u.ceil(b) : u.max((b | 0) - this._minBufferSize, 0);
	                a = b * k;
	                j = u.min(4 * a, j);
	                if (a) {
	                  for (var q = 0; q < a; q += k) this._doProcessBlock(e, q);
	                  q = e.splice(0, a);
	                  c.sigBytes -= j;
	                }
	                return new r.init(q, j);
	              },
	              clone: function () {
	                var a = t.clone.call(this);
	                a._data = this._data.clone();
	                return a;
	              },
	              _minBufferSize: 0
	            });
	          l.Hasher = q.extend({
	            cfg: t.extend(),
	            init: function (a) {
	              this.cfg = this.cfg.extend(a);
	              this.reset();
	            },
	            reset: function () {
	              q.reset.call(this);
	              this._doReset();
	            },
	            update: function (a) {
	              this._append(a);
	              this._process();
	              return this;
	            },
	            finalize: function (a) {
	              a && this._append(a);
	              return this._doFinalize();
	            },
	            blockSize: 16,
	            _createHelper: function (a) {
	              return function (b, e) {
	                return new a.init(e).finalize(b);
	              };
	            },
	            _createHmacHelper: function (a) {
	              return function (b, e) {
	                return new n.HMAC.init(a, e).finalize(b);
	              };
	            }
	          });
	          var n = d.algo = {};
	          return d;
	        }(Math);
	        (function () {
	          var u = CryptoJS,
	            p = u.lib.WordArray;
	          u.enc.Base64 = {
	            stringify: function (d) {
	              var l = d.words,
	                p = d.sigBytes,
	                t = this._map;
	              d.clamp();
	              d = [];
	              for (var r = 0; r < p; r += 3) for (var w = (l[r >>> 2] >>> 24 - 8 * (r % 4) & 255) << 16 | (l[r + 1 >>> 2] >>> 24 - 8 * ((r + 1) % 4) & 255) << 8 | l[r + 2 >>> 2] >>> 24 - 8 * ((r + 2) % 4) & 255, v = 0; 4 > v && r + 0.75 * v < p; v++) d.push(t.charAt(w >>> 6 * (3 - v) & 63));
	              if (l = t.charAt(64)) for (; d.length % 4;) d.push(l);
	              return d.join("");
	            },
	            parse: function (d) {
	              var l = d.length,
	                s = this._map,
	                t = s.charAt(64);
	              t && (t = d.indexOf(t), -1 != t && (l = t));
	              for (var t = [], r = 0, w = 0; w < l; w++) if (w % 4) {
	                var v = s.indexOf(d.charAt(w - 1)) << 2 * (w % 4),
	                  b = s.indexOf(d.charAt(w)) >>> 6 - 2 * (w % 4);
	                t[r >>> 2] |= (v | b) << 24 - 8 * (r % 4);
	                r++;
	              }
	              return p.create(t, r);
	            },
	            _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
	          };
	        })();
	        (function (u) {
	          function p(b, n, a, c, e, j, k) {
	            b = b + (n & a | ~n & c) + e + k;
	            return (b << j | b >>> 32 - j) + n;
	          }
	          function d(b, n, a, c, e, j, k) {
	            b = b + (n & c | a & ~c) + e + k;
	            return (b << j | b >>> 32 - j) + n;
	          }
	          function l(b, n, a, c, e, j, k) {
	            b = b + (n ^ a ^ c) + e + k;
	            return (b << j | b >>> 32 - j) + n;
	          }
	          function s(b, n, a, c, e, j, k) {
	            b = b + (a ^ (n | ~c)) + e + k;
	            return (b << j | b >>> 32 - j) + n;
	          }
	          for (var t = CryptoJS, r = t.lib, w = r.WordArray, v = r.Hasher, r = t.algo, b = [], x = 0; 64 > x; x++) b[x] = 4294967296 * u.abs(u.sin(x + 1)) | 0;
	          r = r.MD5 = v.extend({
	            _doReset: function () {
	              this._hash = new w.init([1732584193, 4023233417, 2562383102, 271733878]);
	            },
	            _doProcessBlock: function (q, n) {
	              for (var a = 0; 16 > a; a++) {
	                var c = n + a,
	                  e = q[c];
	                q[c] = (e << 8 | e >>> 24) & 16711935 | (e << 24 | e >>> 8) & 4278255360;
	              }
	              var a = this._hash.words,
	                c = q[n + 0],
	                e = q[n + 1],
	                j = q[n + 2],
	                k = q[n + 3],
	                z = q[n + 4],
	                r = q[n + 5],
	                t = q[n + 6],
	                w = q[n + 7],
	                v = q[n + 8],
	                A = q[n + 9],
	                B = q[n + 10],
	                C = q[n + 11],
	                u = q[n + 12],
	                D = q[n + 13],
	                E = q[n + 14],
	                x = q[n + 15],
	                f = a[0],
	                m = a[1],
	                g = a[2],
	                h = a[3],
	                f = p(f, m, g, h, c, 7, b[0]),
	                h = p(h, f, m, g, e, 12, b[1]),
	                g = p(g, h, f, m, j, 17, b[2]),
	                m = p(m, g, h, f, k, 22, b[3]),
	                f = p(f, m, g, h, z, 7, b[4]),
	                h = p(h, f, m, g, r, 12, b[5]),
	                g = p(g, h, f, m, t, 17, b[6]),
	                m = p(m, g, h, f, w, 22, b[7]),
	                f = p(f, m, g, h, v, 7, b[8]),
	                h = p(h, f, m, g, A, 12, b[9]),
	                g = p(g, h, f, m, B, 17, b[10]),
	                m = p(m, g, h, f, C, 22, b[11]),
	                f = p(f, m, g, h, u, 7, b[12]),
	                h = p(h, f, m, g, D, 12, b[13]),
	                g = p(g, h, f, m, E, 17, b[14]),
	                m = p(m, g, h, f, x, 22, b[15]),
	                f = d(f, m, g, h, e, 5, b[16]),
	                h = d(h, f, m, g, t, 9, b[17]),
	                g = d(g, h, f, m, C, 14, b[18]),
	                m = d(m, g, h, f, c, 20, b[19]),
	                f = d(f, m, g, h, r, 5, b[20]),
	                h = d(h, f, m, g, B, 9, b[21]),
	                g = d(g, h, f, m, x, 14, b[22]),
	                m = d(m, g, h, f, z, 20, b[23]),
	                f = d(f, m, g, h, A, 5, b[24]),
	                h = d(h, f, m, g, E, 9, b[25]),
	                g = d(g, h, f, m, k, 14, b[26]),
	                m = d(m, g, h, f, v, 20, b[27]),
	                f = d(f, m, g, h, D, 5, b[28]),
	                h = d(h, f, m, g, j, 9, b[29]),
	                g = d(g, h, f, m, w, 14, b[30]),
	                m = d(m, g, h, f, u, 20, b[31]),
	                f = l(f, m, g, h, r, 4, b[32]),
	                h = l(h, f, m, g, v, 11, b[33]),
	                g = l(g, h, f, m, C, 16, b[34]),
	                m = l(m, g, h, f, E, 23, b[35]),
	                f = l(f, m, g, h, e, 4, b[36]),
	                h = l(h, f, m, g, z, 11, b[37]),
	                g = l(g, h, f, m, w, 16, b[38]),
	                m = l(m, g, h, f, B, 23, b[39]),
	                f = l(f, m, g, h, D, 4, b[40]),
	                h = l(h, f, m, g, c, 11, b[41]),
	                g = l(g, h, f, m, k, 16, b[42]),
	                m = l(m, g, h, f, t, 23, b[43]),
	                f = l(f, m, g, h, A, 4, b[44]),
	                h = l(h, f, m, g, u, 11, b[45]),
	                g = l(g, h, f, m, x, 16, b[46]),
	                m = l(m, g, h, f, j, 23, b[47]),
	                f = s(f, m, g, h, c, 6, b[48]),
	                h = s(h, f, m, g, w, 10, b[49]),
	                g = s(g, h, f, m, E, 15, b[50]),
	                m = s(m, g, h, f, r, 21, b[51]),
	                f = s(f, m, g, h, u, 6, b[52]),
	                h = s(h, f, m, g, k, 10, b[53]),
	                g = s(g, h, f, m, B, 15, b[54]),
	                m = s(m, g, h, f, e, 21, b[55]),
	                f = s(f, m, g, h, v, 6, b[56]),
	                h = s(h, f, m, g, x, 10, b[57]),
	                g = s(g, h, f, m, t, 15, b[58]),
	                m = s(m, g, h, f, D, 21, b[59]),
	                f = s(f, m, g, h, z, 6, b[60]),
	                h = s(h, f, m, g, C, 10, b[61]),
	                g = s(g, h, f, m, j, 15, b[62]),
	                m = s(m, g, h, f, A, 21, b[63]);
	              a[0] = a[0] + f | 0;
	              a[1] = a[1] + m | 0;
	              a[2] = a[2] + g | 0;
	              a[3] = a[3] + h | 0;
	            },
	            _doFinalize: function () {
	              var b = this._data,
	                n = b.words,
	                a = 8 * this._nDataBytes,
	                c = 8 * b.sigBytes;
	              n[c >>> 5] |= 128 << 24 - c % 32;
	              var e = u.floor(a / 4294967296);
	              n[(c + 64 >>> 9 << 4) + 15] = (e << 8 | e >>> 24) & 16711935 | (e << 24 | e >>> 8) & 4278255360;
	              n[(c + 64 >>> 9 << 4) + 14] = (a << 8 | a >>> 24) & 16711935 | (a << 24 | a >>> 8) & 4278255360;
	              b.sigBytes = 4 * (n.length + 1);
	              this._process();
	              b = this._hash;
	              n = b.words;
	              for (a = 0; 4 > a; a++) c = n[a], n[a] = (c << 8 | c >>> 24) & 16711935 | (c << 24 | c >>> 8) & 4278255360;
	              return b;
	            },
	            clone: function () {
	              var b = v.clone.call(this);
	              b._hash = this._hash.clone();
	              return b;
	            }
	          });
	          t.MD5 = v._createHelper(r);
	          t.HmacMD5 = v._createHmacHelper(r);
	        })(Math);
	        (function () {
	          var u = CryptoJS,
	            p = u.lib,
	            d = p.Base,
	            l = p.WordArray,
	            p = u.algo,
	            s = p.EvpKDF = d.extend({
	              cfg: d.extend({
	                keySize: 4,
	                hasher: p.MD5,
	                iterations: 1
	              }),
	              init: function (d) {
	                this.cfg = this.cfg.extend(d);
	              },
	              compute: function (d, r) {
	                for (var p = this.cfg, s = p.hasher.create(), b = l.create(), u = b.words, q = p.keySize, p = p.iterations; u.length < q;) {
	                  n && s.update(n);
	                  var n = s.update(d).finalize(r);
	                  s.reset();
	                  for (var a = 1; a < p; a++) n = s.finalize(n), s.reset();
	                  b.concat(n);
	                }
	                b.sigBytes = 4 * q;
	                return b;
	              }
	            });
	          u.EvpKDF = function (d, l, p) {
	            return s.create(p).compute(d, l);
	          };
	        })();
	        CryptoJS.lib.Cipher || function (u) {
	          var p = CryptoJS,
	            d = p.lib,
	            l = d.Base,
	            s = d.WordArray,
	            t = d.BufferedBlockAlgorithm,
	            r = p.enc.Base64,
	            w = p.algo.EvpKDF,
	            v = d.Cipher = t.extend({
	              cfg: l.extend(),
	              createEncryptor: function (e, a) {
	                return this.create(this._ENC_XFORM_MODE, e, a);
	              },
	              createDecryptor: function (e, a) {
	                return this.create(this._DEC_XFORM_MODE, e, a);
	              },
	              init: function (e, a, b) {
	                this.cfg = this.cfg.extend(b);
	                this._xformMode = e;
	                this._key = a;
	                this.reset();
	              },
	              reset: function () {
	                t.reset.call(this);
	                this._doReset();
	              },
	              process: function (e) {
	                this._append(e);
	                return this._process();
	              },
	              finalize: function (e) {
	                e && this._append(e);
	                return this._doFinalize();
	              },
	              keySize: 4,
	              ivSize: 4,
	              _ENC_XFORM_MODE: 1,
	              _DEC_XFORM_MODE: 2,
	              _createHelper: function (e) {
	                return {
	                  encrypt: function (b, k, d) {
	                    return ("string" == typeof k ? c : a).encrypt(e, b, k, d);
	                  },
	                  decrypt: function (b, k, d) {
	                    return ("string" == typeof k ? c : a).decrypt(e, b, k, d);
	                  }
	                };
	              }
	            });
	          d.StreamCipher = v.extend({
	            _doFinalize: function () {
	              return this._process(!0);
	            },
	            blockSize: 1
	          });
	          var b = p.mode = {},
	            x = function (e, a, b) {
	              var c = this._iv;
	              c ? this._iv = u : c = this._prevBlock;
	              for (var d = 0; d < b; d++) e[a + d] ^= c[d];
	            },
	            q = (d.BlockCipherMode = l.extend({
	              createEncryptor: function (e, a) {
	                return this.Encryptor.create(e, a);
	              },
	              createDecryptor: function (e, a) {
	                return this.Decryptor.create(e, a);
	              },
	              init: function (e, a) {
	                this._cipher = e;
	                this._iv = a;
	              }
	            })).extend();
	          q.Encryptor = q.extend({
	            processBlock: function (e, a) {
	              var b = this._cipher,
	                c = b.blockSize;
	              x.call(this, e, a, c);
	              b.encryptBlock(e, a);
	              this._prevBlock = e.slice(a, a + c);
	            }
	          });
	          q.Decryptor = q.extend({
	            processBlock: function (e, a) {
	              var b = this._cipher,
	                c = b.blockSize,
	                d = e.slice(a, a + c);
	              b.decryptBlock(e, a);
	              x.call(this, e, a, c);
	              this._prevBlock = d;
	            }
	          });
	          b = b.CBC = q;
	          q = (p.pad = {}).Pkcs7 = {
	            pad: function (a, b) {
	              for (var c = 4 * b, c = c - a.sigBytes % c, d = c << 24 | c << 16 | c << 8 | c, l = [], n = 0; n < c; n += 4) l.push(d);
	              c = s.create(l, c);
	              a.concat(c);
	            },
	            unpad: function (a) {
	              a.sigBytes -= a.words[a.sigBytes - 1 >>> 2] & 255;
	            }
	          };
	          d.BlockCipher = v.extend({
	            cfg: v.cfg.extend({
	              mode: b,
	              padding: q
	            }),
	            reset: function () {
	              v.reset.call(this);
	              var a = this.cfg,
	                b = a.iv,
	                a = a.mode;
	              if (this._xformMode == this._ENC_XFORM_MODE) var c = a.createEncryptor;else c = a.createDecryptor, this._minBufferSize = 1;
	              this._mode = c.call(a, this, b && b.words);
	            },
	            _doProcessBlock: function (a, b) {
	              this._mode.processBlock(a, b);
	            },
	            _doFinalize: function () {
	              var a = this.cfg.padding;
	              if (this._xformMode == this._ENC_XFORM_MODE) {
	                a.pad(this._data, this.blockSize);
	                var b = this._process(!0);
	              } else b = this._process(!0), a.unpad(b);
	              return b;
	            },
	            blockSize: 4
	          });
	          var n = d.CipherParams = l.extend({
	              init: function (a) {
	                this.mixIn(a);
	              },
	              toString: function (a) {
	                return (a || this.formatter).stringify(this);
	              }
	            }),
	            b = (p.format = {}).OpenSSL = {
	              stringify: function (a) {
	                var b = a.ciphertext;
	                a = a.salt;
	                return (a ? s.create([1398893684, 1701076831]).concat(a).concat(b) : b).toString(r);
	              },
	              parse: function (a) {
	                a = r.parse(a);
	                var b = a.words;
	                if (1398893684 == b[0] && 1701076831 == b[1]) {
	                  var c = s.create(b.slice(2, 4));
	                  b.splice(0, 4);
	                  a.sigBytes -= 16;
	                }
	                return n.create({
	                  ciphertext: a,
	                  salt: c
	                });
	              }
	            },
	            a = d.SerializableCipher = l.extend({
	              cfg: l.extend({
	                format: b
	              }),
	              encrypt: function (a, b, c, d) {
	                d = this.cfg.extend(d);
	                var l = a.createEncryptor(c, d);
	                b = l.finalize(b);
	                l = l.cfg;
	                return n.create({
	                  ciphertext: b,
	                  key: c,
	                  iv: l.iv,
	                  algorithm: a,
	                  mode: l.mode,
	                  padding: l.padding,
	                  blockSize: a.blockSize,
	                  formatter: d.format
	                });
	              },
	              decrypt: function (a, b, c, d) {
	                d = this.cfg.extend(d);
	                b = this._parse(b, d.format);
	                return a.createDecryptor(c, d).finalize(b.ciphertext);
	              },
	              _parse: function (a, b) {
	                return "string" == typeof a ? b.parse(a, this) : a;
	              }
	            }),
	            p = (p.kdf = {}).OpenSSL = {
	              execute: function (a, b, c, d) {
	                d || (d = s.random(8));
	                a = w.create({
	                  keySize: b + c
	                }).compute(a, d);
	                c = s.create(a.words.slice(b), 4 * c);
	                a.sigBytes = 4 * b;
	                return n.create({
	                  key: a,
	                  iv: c,
	                  salt: d
	                });
	              }
	            },
	            c = d.PasswordBasedCipher = a.extend({
	              cfg: a.cfg.extend({
	                kdf: p
	              }),
	              encrypt: function (b, c, d, l) {
	                l = this.cfg.extend(l);
	                d = l.kdf.execute(d, b.keySize, b.ivSize);
	                l.iv = d.iv;
	                b = a.encrypt.call(this, b, c, d.key, l);
	                b.mixIn(d);
	                return b;
	              },
	              decrypt: function (b, c, d, l) {
	                l = this.cfg.extend(l);
	                c = this._parse(c, l.format);
	                d = l.kdf.execute(d, b.keySize, b.ivSize, c.salt);
	                l.iv = d.iv;
	                return a.decrypt.call(this, b, c, d.key, l);
	              }
	            });
	        }();
	        (function () {
	          for (var u = CryptoJS, p = u.lib.BlockCipher, d = u.algo, l = [], s = [], t = [], r = [], w = [], v = [], b = [], x = [], q = [], n = [], a = [], c = 0; 256 > c; c++) a[c] = 128 > c ? c << 1 : c << 1 ^ 283;
	          for (var e = 0, j = 0, c = 0; 256 > c; c++) {
	            var k = j ^ j << 1 ^ j << 2 ^ j << 3 ^ j << 4,
	              k = k >>> 8 ^ k & 255 ^ 99;
	            l[e] = k;
	            s[k] = e;
	            var z = a[e],
	              F = a[z],
	              G = a[F],
	              y = 257 * a[k] ^ 16843008 * k;
	            t[e] = y << 24 | y >>> 8;
	            r[e] = y << 16 | y >>> 16;
	            w[e] = y << 8 | y >>> 24;
	            v[e] = y;
	            y = 16843009 * G ^ 65537 * F ^ 257 * z ^ 16843008 * e;
	            b[k] = y << 24 | y >>> 8;
	            x[k] = y << 16 | y >>> 16;
	            q[k] = y << 8 | y >>> 24;
	            n[k] = y;
	            e ? (e = z ^ a[a[a[G ^ z]]], j ^= a[a[j]]) : e = j = 1;
	          }
	          var H = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54],
	            d = d.AES = p.extend({
	              _doReset: function () {
	                for (var a = this._key, c = a.words, d = a.sigBytes / 4, a = 4 * ((this._nRounds = d + 6) + 1), e = this._keySchedule = [], j = 0; j < a; j++) if (j < d) e[j] = c[j];else {
	                  var k = e[j - 1];
	                  j % d ? 6 < d && 4 == j % d && (k = l[k >>> 24] << 24 | l[k >>> 16 & 255] << 16 | l[k >>> 8 & 255] << 8 | l[k & 255]) : (k = k << 8 | k >>> 24, k = l[k >>> 24] << 24 | l[k >>> 16 & 255] << 16 | l[k >>> 8 & 255] << 8 | l[k & 255], k ^= H[j / d | 0] << 24);
	                  e[j] = e[j - d] ^ k;
	                }
	                c = this._invKeySchedule = [];
	                for (d = 0; d < a; d++) j = a - d, k = d % 4 ? e[j] : e[j - 4], c[d] = 4 > d || 4 >= j ? k : b[l[k >>> 24]] ^ x[l[k >>> 16 & 255]] ^ q[l[k >>> 8 & 255]] ^ n[l[k & 255]];
	              },
	              encryptBlock: function (a, b) {
	                this._doCryptBlock(a, b, this._keySchedule, t, r, w, v, l);
	              },
	              decryptBlock: function (a, c) {
	                var d = a[c + 1];
	                a[c + 1] = a[c + 3];
	                a[c + 3] = d;
	                this._doCryptBlock(a, c, this._invKeySchedule, b, x, q, n, s);
	                d = a[c + 1];
	                a[c + 1] = a[c + 3];
	                a[c + 3] = d;
	              },
	              _doCryptBlock: function (a, b, c, d, e, j, l, f) {
	                for (var m = this._nRounds, g = a[b] ^ c[0], h = a[b + 1] ^ c[1], k = a[b + 2] ^ c[2], n = a[b + 3] ^ c[3], p = 4, r = 1; r < m; r++) var q = d[g >>> 24] ^ e[h >>> 16 & 255] ^ j[k >>> 8 & 255] ^ l[n & 255] ^ c[p++], s = d[h >>> 24] ^ e[k >>> 16 & 255] ^ j[n >>> 8 & 255] ^ l[g & 255] ^ c[p++], t = d[k >>> 24] ^ e[n >>> 16 & 255] ^ j[g >>> 8 & 255] ^ l[h & 255] ^ c[p++], n = d[n >>> 24] ^ e[g >>> 16 & 255] ^ j[h >>> 8 & 255] ^ l[k & 255] ^ c[p++], g = q, h = s, k = t;
	                q = (f[g >>> 24] << 24 | f[h >>> 16 & 255] << 16 | f[k >>> 8 & 255] << 8 | f[n & 255]) ^ c[p++];
	                s = (f[h >>> 24] << 24 | f[k >>> 16 & 255] << 16 | f[n >>> 8 & 255] << 8 | f[g & 255]) ^ c[p++];
	                t = (f[k >>> 24] << 24 | f[n >>> 16 & 255] << 16 | f[g >>> 8 & 255] << 8 | f[h & 255]) ^ c[p++];
	                n = (f[n >>> 24] << 24 | f[g >>> 16 & 255] << 16 | f[h >>> 8 & 255] << 8 | f[k & 255]) ^ c[p++];
	                a[b] = q;
	                a[b + 1] = s;
	                a[b + 2] = t;
	                a[b + 3] = n;
	              },
	              keySize: 8
	            });
	          u.AES = p._createHelper(d);
	        })();
	        /* harmony default export */
	        var aes = CryptoJS;
	        // CONCATENATED MODULE: ./liveMedia.js
	        /**
	         * @synopsis 流媒体取流
	         *
	         * @note [ADD][2017-07-28]新建 by fengzhongjian
	         *
	         */

	        let LiveMedia = function () {
	          class MediaLive {
	            constructor() {}
	            //to do

	            //创建取流客户端对象
	            createClientObject(oWebsocket, szId, szPKD, szRand, oParams) {
	              let key = aes.AES.encrypt(new Date().getTime().toString(), aes.enc.Hex.parse("1234567891234567123456789123456712345678912345671234567891234567"), {
	                mode: aes.mode.CBC,
	                iv: aes.enc.Hex.parse("12345678912345671234567891234567"),
	                padding: aes.pad.Pkcs7
	              }).ciphertext.toString();
	              if (key.length < 64) {
	                key = key + key;
	              }
	              let iv = aes.AES.encrypt(new Date().getTime().toString(), aes.enc.Hex.parse("12345678912345671234567891234567"), {
	                mode: aes.mode.CBC,
	                iv: aes.enc.Hex.parse("12345678912345671234567891234567"),
	                padding: aes.pad.Pkcs7
	              }).ciphertext.toString();
	              return {
	                socket: oWebsocket,
	                id: szId,
	                PKD: szPKD,
	                rand: szRand,
	                playURL: oParams.playURL || "",
	                auth: oParams.auth || "",
	                token: oParams.token || "",
	                key: key,
	                iv: iv,
	                resolve: null,
	                reject: null
	              };
	            }
	            //预览命令
	            playCmd(oWebsocket) {
	              let oCmd = {
	                sequence: 0,
	                cmd: 'realplay',
	                url: oWebsocket.playURL,
	                key: cryptico_default.a.encrypt(oWebsocket.iv + ":" + oWebsocket.key, oWebsocket.PKD).cipher.split("?")[0],
	                authorization: aes.AES.encrypt(oWebsocket.rand + ":" + oWebsocket.auth, aes.enc.Hex.parse(oWebsocket.key), {
	                  mode: aes.mode.CBC,
	                  iv: aes.enc.Hex.parse(oWebsocket.iv),
	                  padding: aes.pad.Pkcs7
	                }).ciphertext.toString(),
	                token: aes.AES.encrypt(oWebsocket.token, aes.enc.Hex.parse(oWebsocket.key), {
	                  mode: aes.mode.CBC,
	                  iv: aes.enc.Hex.parse(oWebsocket.iv),
	                  padding: aes.pad.Pkcs7
	                }).ciphertext.toString()
	              };
	              return JSON.stringify(oCmd);
	            }
	            //回放
	            playbackCmd(oWebsocket, szStartTime, szStopTime) {
	              let oCmd = {
	                sequence: 0,
	                cmd: 'playback',
	                url: oWebsocket.playURL,
	                key: cryptico_default.a.encrypt(oWebsocket.iv + ":" + oWebsocket.key, oWebsocket.PKD).cipher.split("?")[0],
	                authorization: aes.AES.encrypt(oWebsocket.rand + ":" + oWebsocket.auth, aes.enc.Hex.parse(oWebsocket.key), {
	                  mode: aes.mode.CBC,
	                  iv: aes.enc.Hex.parse(oWebsocket.iv),
	                  padding: aes.pad.Pkcs7
	                }).ciphertext.toString(),
	                token: aes.AES.encrypt(oWebsocket.token, aes.enc.Hex.parse(oWebsocket.key), {
	                  mode: aes.mode.CBC,
	                  iv: aes.enc.Hex.parse(oWebsocket.iv),
	                  padding: aes.pad.Pkcs7
	                }).ciphertext.toString(),
	                startTime: szStartTime,
	                endTime: szStopTime
	              };
	              return JSON.stringify(oCmd);
	            }
	            //定位回放
	            seekCmd(szStartTime, szStopTime) {
	              let oCmd = {
	                sequence: 0,
	                cmd: "seek",
	                startTime: szStartTime,
	                endTime: szStopTime
	              };
	              return JSON.stringify(oCmd);
	            }
	          }
	          return MediaLive;
	        }();

	        // CONCATENATED MODULE: ./localService.js
	        /**
	         * @synopsis 本地服务取流
	         *
	         * @note [ADD][2017-07-28]新建 by fengzhongjian
	         *
	         */
	        let LocalService = function () {
	          class LocalServer {
	            constructor() {}
	            //to do

	            //创建取流客户端对象
	            createClientObject(oWebsocket, szId, szPlayURL, oParams) {
	              return {
	                socket: oWebsocket,
	                id: szId,
	                playURL: szPlayURL,
	                deviceSerial: oParams.deviceSerial || "",
	                verificationCode: oParams.verificationCode || "",
	                resolve: null,
	                reject: null
	              };
	            }
	            //普通通道预览
	            playCmd(oWebsocket) {
	              let oCmd = {
	                sequence: 0,
	                cmd: 'realplay',
	                deviceSerial: oWebsocket.deviceSerial,
	                verificationCode: oWebsocket.verificationCode,
	                url: oWebsocket.playURL
	              };
	              return JSON.stringify(oCmd);
	            }
	            //回放
	            playbackCmd(oWebsocket, szStartTime, szStopTime) {
	              let oCmd = {
	                sequence: 0,
	                cmd: 'playback',
	                deviceSerial: oWebsocket.deviceSerial,
	                verificationCode: oWebsocket.verificationCode,
	                url: oWebsocket.playURL,
	                startTime: szStartTime,
	                endTime: szStopTime
	              };
	              return JSON.stringify(oCmd);
	            }
	          }
	          return LocalServer;
	        }();

	        // CONCATENATED MODULE: ./streamClient.js

	        //定制设备直连取流
	        //设备直连取流
	        //流媒体取流
	        //本地服务取流

	        /**
	         * @synopsis 取流类
	         *
	         * @note [ADD][2017-01-03]新建 by fengzhongjian
	         *
	         */
	        let StreamClient = function () {
	          const WEBSOCKET = Symbol("WEBSOCKET");
	          const GETINDEX = Symbol("GETINDEX");
	          const PROTOCOLVERSION = Symbol("PROTOCOLVERSION");
	          const CIPHERSUITES = Symbol("CIPHERSUITES");
	          let oDirectDeviceCustom = new DirectDeviceCustom(); //定制设备直连取流
	          let oDirectDevice = new DirectDevice(); //设备直连取流
	          let oLiveMedia = new LiveMedia(); //流媒体取流
	          let oLocalService = new LocalService(); //本地服务取流

	          class WebsocketClient {
	            constructor() {
	              this[PROTOCOLVERSION] = "0.1"; //协议版本
	              this[CIPHERSUITES] = 0; //秘钥套件
	              this[WEBSOCKET] = []; //websocket对象列表
	              this.ERRORS = {//错误码
	              };
	              //openstream后保存当前通道号和当前码流类型
	              this[GETINDEX] = function (id) {
	                let iIndex = -1;
	                for (let i = 0, iLen = this[WEBSOCKET].length; i < iLen; i++) {
	                  if (this[WEBSOCKET][i].id === id) {
	                    iIndex = i;
	                    break;
	                  }
	                }
	                return iIndex;
	              };
	            }
	            /**
	             * @synopsis 开流, 此时设备的流还没有发出来
	               * @param {string} szUrl 取流路径，如ws://hostname:port/channel
	               * @param {object} oParams 取流需要涉及的相关参数
	               * @param {function} cbMessage 消息回调函数
	               * @param {function} cbClose 失败回调
	               * @returns {objcet} 返回Promise对象
	             */
	            openStream(szUrl, oParams, cbMessage, cbClose) {
	              let bIpv6 = false;
	              if (szUrl.indexOf("[") > -1) {
	                bIpv6 = true;
	              }
	              let that = this;
	              let aUrl = szUrl.split("://"); //szUrl格式为ws://ip:port/channel/stream或wss://ip:port/channel/stream
	              let szProtocol = aUrl[0];
	              let szHostname = "";
	              let iPort = 7681;
	              let iCurChannel = 1;
	              let iCurStream = 0;
	              let bWebSocketVideoCtrlProxy = false; //判断是否是开发包代理模式
	              if (bIpv6) {
	                szHostname = aUrl[1].split("]:")[0] + "]";
	                iPort = Math.floor(aUrl[1].split("]:")[1].split("/")[0]);
	                iCurChannel = Math.floor(aUrl[1].split("]:")[1].split("/")[1] / 100); //通道号
	                iCurStream = Math.floor(aUrl[1].split("]:")[1].split("/")[1] % 100) - 1; //码流类型
	              } else {
	                szHostname = aUrl[1].split(":")[0];
	                iPort = Math.floor(aUrl[1].split(":")[1].split("/")[0]);
	                iCurChannel = Math.floor(aUrl[1].split(":")[1].split("/")[1] / 100); //通道号
	                iCurStream = Math.floor(aUrl[1].split(":")[1].split("/")[1] % 100) - 1; //码流类型
	                let szProxyFlag = aUrl[1].split(":")[1].split("/")[2];
	                if (szProxyFlag !== "" && szProxyFlag === "webSocketVideoCtrlProxy") {
	                  bWebSocketVideoCtrlProxy = true;
	                }
	              }
	              if (iCurChannel === 0) {
	                //表示零通道
	                iCurStream = 0;
	              }
	              oParams = oParams || {};
	              let szAuthType = "&sessionID=";
	              if (oParams.token && !oParams.playURL) {
	                //流媒体的token和配套token属性名一样，需要区分
	                szAuthType = "&token=";
	              }
	              let szSessionID = oParams.sessionID || oParams.session || (oParams.playURL ? "" : oParams.token) || "";
	              let oWebsocket = new window.WebSocket(szProtocol + "://" + szHostname + ":" + iPort + (oParams.mode ? "/" + oParams.mode : "") + (bWebSocketVideoCtrlProxy ? "/webSocketVideoCtrlProxy" : "") + "?version=" + that[PROTOCOLVERSION] + "&cipherSuites=" + that[CIPHERSUITES] + szAuthType + szSessionID + (oParams.proxy ? "&proxy=" + oParams.proxy : ""));
	              oWebsocket.binaryType = "arraybuffer";
	              let szId = esm_browser_v4(); //取流uuid，由于区分每条取流连接
	              let iDataIndex = -1;
	              let promise = new Promise(function (resolve, reject) {
	                oWebsocket.onopen = function () {
	                  if (!oParams.playURL && !oParams.sessionID && !oParams.deviceSerial && !oParams.token) {
	                    //定制设备取流，open就表示成功，因为没有命令码返回
	                    that[WEBSOCKET].push(oDirectDeviceCustom.createClientObject(oWebsocket, szId, iCurChannel, iCurStream));
	                    resolve(szId);
	                  }
	                  /*let aTest = [73, 77, 75, 72, 1, 2, 0, 0, 4, 0, 0, 1, 16, 113, 1, 16, 64, 31, 0, 0, 0, 250, 0, 0, 129, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
	                  cbMessage({
	                      bHead: true,
	                      buf: aTest
	                  });*/ //写死head，本地架websokcet服务时使用
	                };

	                oWebsocket.onmessage = function (e) {
	                  if (typeof e.data === "string") {
	                    let oJSON = JSON.parse(e.data);
	                    let iWebsocketIndex = that[GETINDEX](szId);
	                    if (oJSON && oJSON.version && oJSON.cipherSuite) {
	                      //建立websocket连接成功返回
	                      that[PROTOCOLVERSION] = oJSON.version;
	                      that[CIPHERSUITES] = parseInt(oJSON.cipherSuite, 10);
	                      if (oJSON && oJSON.PKD && oJSON.rand) {
	                        that[WEBSOCKET].push(oLiveMedia.createClientObject(oWebsocket, szId, oJSON.PKD, oJSON.rand, oParams)); //流媒体
	                      } else {
	                        let szPlayURL = "live://" + szHostname + ":" + iPort + "/" + iCurChannel + "/" + iCurStream;
	                        if (that[CIPHERSUITES] === -1) {
	                          that[WEBSOCKET].push(oLocalService.createClientObject(oWebsocket, szId, szPlayURL, oParams)); //本地服务
	                        } else {
	                          that[WEBSOCKET].push(oDirectDevice.createClientObject(oWebsocket, szId, szPlayURL)); //基线设备
	                        }
	                      }

	                      resolve(szId);
	                      return;
	                    }
	                    if (oJSON && oJSON.sdp) {
	                      let aSadpHeadBuf = oDirectDevice.getMediaFromSdp(oJSON.sdp); //获取媒体头
	                      cbMessage({
	                        bHead: true,
	                        buf: aSadpHeadBuf
	                      });
	                    }
	                    if (oJSON && oJSON.cmd) {
	                      if (oJSON.cmd === "end") {
	                        cbMessage({
	                          type: "exception",
	                          cmd: oJSON.cmd
	                        }); //回放结束
	                      }
	                    }

	                    if (oJSON && oJSON.statusString) {
	                      if (oJSON.statusString.toLowerCase() === "ok") {
	                        if (that[WEBSOCKET][iWebsocketIndex].resolve) {
	                          that[WEBSOCKET][iWebsocketIndex].resolve(oJSON);
	                        }
	                      }
	                      if (oJSON.statusString.toLowerCase() !== "ok") {
	                        let oError = oDirectDevice.getError(oJSON);
	                        if (iWebsocketIndex > -1) {
	                          //建立连接即返回错误，此时iWebsocketIndex为-1
	                          if (that[WEBSOCKET][iWebsocketIndex].reject) {
	                            that[WEBSOCKET][iWebsocketIndex].reject(oError);
	                          }
	                        } else {
	                          reject(oError);
	                        }
	                      }
	                    }
	                    if (oJSON && oJSON.errorCode) {
	                      //推流异常时返回异常信息
	                      cbMessage(oJSON);
	                    }
	                  } else {
	                    let dataObj = {};
	                    let dataBuf = new Uint8Array(e.data);
	                    iDataIndex++;
	                    if (dataBuf.byteLength === 64 || dataBuf.byteLength === 40) {
	                      //媒体头包含在第一个64字节的数据包中
	                      let iMediaHeadIndex = -1; //回放和预览媒体头位置不一致，需要动态查询媒体头位置
	                      let iLen = dataBuf.byteLength;
	                      for (let i = 0; i < iLen; i++) {
	                        if (dataBuf[i] === 73 && dataBuf[i + 1] === 77 && dataBuf[i + 2] === 75 && dataBuf[i + 3] === 72) {
	                          iMediaHeadIndex = i;
	                          break;
	                        }
	                      }
	                      if (iMediaHeadIndex !== -1) {
	                        let aHeadBuf = dataBuf.slice(iMediaHeadIndex, iMediaHeadIndex + 40);
	                        dataObj = {
	                          bHead: true,
	                          buf: aHeadBuf
	                        };
	                      } else {
	                        dataObj = {
	                          bHead: false,
	                          buf: dataBuf
	                        };
	                      }
	                      cbMessage(dataObj);
	                    } else {
	                      if (iDataIndex > 0) {
	                        dataObj = {
	                          bHead: false,
	                          buf: dataBuf
	                        };
	                        cbMessage(dataObj);
	                      }
	                    }
	                    dataBuf = null;
	                    dataObj = null;
	                    e = null;
	                  }
	                };
	                oWebsocket.onclose = function () {
	                  for (let i = 0, iLen = that[WEBSOCKET].length; i < iLen; i++) {
	                    if (that[WEBSOCKET][i].id === szId) {
	                      that[WEBSOCKET][i].resolve(); //关闭连接后触发该事件表示关闭成功
	                      that[WEBSOCKET].splice(i, 1);
	                      setTimeout(function () {
	                        cbClose();
	                      }, 200); //延时触发停止成功回调，保证停止成功

	                      break;
	                    }
	                  }
	                  // clearInterval(heartBitTimer);
	                  reject(); //建立websocket连接时就触发onclose
	                };
	              });

	              return promise;
	            }
	            /**
	             * @synopsis 开始取流
	             *
	             * @param {string} id websocket id，在openStream的时候生成
	               @param {string} szStartTime 开始时间
	               @param {string} szStopTime 结束时间
	             * @param {function} cbMessage 码流回调函数
	             *
	             * @returns {object} 返回Promise对象
	             */
	            startPlay(id, szStartTime, szStopTime) {
	              let that = this;
	              let iWebsocketIndex = this[GETINDEX](id);
	              if (szStartTime && szStopTime && that[PROTOCOLVERSION] === "0.1") {
	                szStartTime = szStartTime.replace(/-/g, "").replace(/:/g, "");
	                szStopTime = szStopTime.replace(/-/g, "").replace(/:/g, "");
	              }
	              let promise = new Promise(function (resolve, reject) {
	                if (iWebsocketIndex > -1) {
	                  that[WEBSOCKET][iWebsocketIndex].resolve = resolve;
	                  that[WEBSOCKET][iWebsocketIndex].reject = reject;
	                  let uIntCmd = null;
	                  if (!szStartTime || !szStopTime) {
	                    //预览
	                    if (that[WEBSOCKET][iWebsocketIndex].iCurChannel === 0 && that[PROTOCOLVERSION] === "0.1") {
	                      //零通道预览
	                      uIntCmd = oDirectDeviceCustom.zeroPlayCmd(that[WEBSOCKET][iWebsocketIndex].iCurChannel, that[WEBSOCKET][iWebsocketIndex].iCurStream);
	                    } else {
	                      //普通预览
	                      if (that[PROTOCOLVERSION] !== "0.1") {
	                        if (that[CIPHERSUITES] === 0) {
	                          uIntCmd = oLiveMedia.playCmd(that[WEBSOCKET][iWebsocketIndex]); //流媒体预览
	                        } else if (that[CIPHERSUITES] === 1) {
	                          uIntCmd = oDirectDevice.playCmd(that[WEBSOCKET][iWebsocketIndex].playURL); //基线普通预览
	                        } else if (that[CIPHERSUITES] === -1) {
	                          uIntCmd = oLocalService.playCmd(that[WEBSOCKET][iWebsocketIndex]); //本地服务预览
	                        }
	                      } else {
	                        uIntCmd = oDirectDeviceCustom.playCmd(that[WEBSOCKET][iWebsocketIndex].iCurChannel, that[WEBSOCKET][iWebsocketIndex].iCurStream); //定制普通预览
	                      }
	                    }
	                  } else {
	                    //回放
	                    if (that[PROTOCOLVERSION] !== "0.1") {
	                      if (that[CIPHERSUITES] === 0) {
	                        uIntCmd = oLiveMedia.playbackCmd(that[WEBSOCKET][iWebsocketIndex], szStartTime, szStopTime); //流媒体回放
	                      } else if (that[CIPHERSUITES] === 1) {
	                        uIntCmd = oDirectDevice.playbackCmd(szStartTime, szStopTime, that[WEBSOCKET][iWebsocketIndex].playURL); //基线设备回放
	                      } else if (that[CIPHERSUITES] === -1) {
	                        uIntCmd = oLocalService.playbackCmd(that[WEBSOCKET][iWebsocketIndex], szStartTime, szStopTime); //本地服务回放
	                      }
	                    } else {
	                      //定制设备回放
	                      uIntCmd = oDirectDeviceCustom.playbackCmd(szStartTime, szStopTime, that[WEBSOCKET][iWebsocketIndex].iCurChannel, that[WEBSOCKET][iWebsocketIndex].iCurStream);
	                    }
	                  }
	                  that[WEBSOCKET][iWebsocketIndex].socket.send(uIntCmd);

	                  // heartBitTimer = setInterval(function () {
	                  //   that[WEBSOCKET][iWebsocketIndex].socket.send('ping');
	                  // }, 10000);
	                  if (that[PROTOCOLVERSION] === "0.1") {
	                    //定制协议没有返回码，发送后直接认为发送成功
	                    resolve();
	                  }
	                } else {
	                  if (that[PROTOCOLVERSION] === "0.1") {
	                    //定制协议没有返回码，发送后直接认为发送成功
	                    reject();
	                  }
	                }
	              });
	              return promise;
	            }
	            singleFrame() {}
	            //do something

	            /**
	             * @synopsis 设置倍率
	             *
	             * @param {string} id websocket id在openStream的时候生成
	               @param {number} iRate 播放倍率
	             *
	             * @returns {object} Promise
	             */
	            setPlayRate(id, iRate) {
	              let that = this;
	              let promise = new Promise(function (resolve, reject) {
	                for (let i = 0, iLen = that[WEBSOCKET].length; i < iLen; i++) {
	                  if (that[WEBSOCKET][i].id === id) {
	                    if (that[PROTOCOLVERSION] === "0.1") {
	                      let uIntCmd = oDirectDeviceCustom.playRateCmd(iRate); //定制协议快慢放
	                      that[WEBSOCKET][i].socket.send(uIntCmd);
	                      resolve(); //定制协议没有返回码，发送后直接认为发送成功
	                      break;
	                    } else {
	                      that[WEBSOCKET][i].resolve = resolve;
	                      that[WEBSOCKET][i].reject = reject;
	                      let szCmd = oDirectDevice.playRateCmd(iRate); //标准协议快慢放
	                      that[WEBSOCKET][i].socket.send(szCmd);
	                    }
	                  }
	                }
	              });
	              return promise;
	            }
	            /**
	             * @synopsis 定位回放
	             *
	             * @param {string} id websocket id在openStream的时候生成
	               @param {string} szStartTime 开始时间
	               @param {string} szStopTime 结束时间
	             *
	             * @returns {object} Promise
	             */
	            seek(id, szStartTime, szStopTime) {
	              let that = this;
	              let promise = new Promise(function (resolve, reject) {
	                for (let i = 0, iLen = that[WEBSOCKET].length; i < iLen; i++) {
	                  if (that[WEBSOCKET][i].id === id) {
	                    that[WEBSOCKET][i].resolve = resolve;
	                    that[WEBSOCKET][i].reject = reject;
	                    let szCmd = oLiveMedia.seekCmd(szStartTime, szStopTime);
	                    that[WEBSOCKET][i].socket.send(szCmd);
	                  }
	                }
	              });
	              return promise;
	            }
	            /**
	             * @synopsis 暂停取流
	             *
	             * @param {string} id websocket id，在openStream的时候生成
	             *
	             * @returns {object} 返回Promise对象
	             */
	            pause(id) {
	              let that = this;
	              let promise = new Promise(function (resolve, reject) {
	                for (let i = 0, iLen = that[WEBSOCKET].length; i < iLen; i++) {
	                  if (that[WEBSOCKET][i].id === id) {
	                    if (that[PROTOCOLVERSION] === "0.1") {
	                      let uIntCmd = oDirectDeviceCustom.pauseCmd(); //定制协议暂停
	                      that[WEBSOCKET][i].socket.send(uIntCmd);
	                      resolve(); //定制协议没有返回码，发送后直接认为发送成功
	                      break;
	                    } else {
	                      that[WEBSOCKET][i].resolve = resolve;
	                      that[WEBSOCKET][i].reject = reject;
	                      let szCmd = oDirectDevice.pauseCmd(); //标准协议暂停
	                      that[WEBSOCKET][i].socket.send(szCmd);
	                    }
	                  }
	                }
	              });
	              return promise;
	            }
	            /**
	             * @synopsis 透传协议
	             *
	             * @param {string} id websocket id，在openStream的时候生成
	             * @param {string} szCmd, 透传的命令码
	             *
	             * @returns {object} 返回Promise对象
	             */
	            transmission(id, szCmd) {
	              let that = this;
	              let promise = new Promise(function (resolve, reject) {
	                for (let i = 0, iLen = that[WEBSOCKET].length; i < iLen; i++) {
	                  if (that[WEBSOCKET][i].id === id) {
	                    that[WEBSOCKET][i].resolve = resolve;
	                    that[WEBSOCKET][i].reject = reject;
	                    that[WEBSOCKET][i].socket.send(szCmd);
	                  }
	                }
	              });
	              return promise;
	            }
	            /**
	             * @synopsis 恢复取流
	             *
	             * @param {string} id websocket id，在openStream的时候生成
	             *
	             * @returns {object} 返回Promise对象
	             */
	            resume(id) {
	              let that = this;
	              let promise = new Promise(function (resolve, reject) {
	                for (let i = 0, iLen = that[WEBSOCKET].length; i < iLen; i++) {
	                  if (that[WEBSOCKET][i].id === id) {
	                    if (that[PROTOCOLVERSION] === "0.1") {
	                      let uIntCmd = oDirectDeviceCustom.resumeCmd(); //定制协议恢复
	                      that[WEBSOCKET][i].socket.send(uIntCmd);
	                      resolve(); //定制协议没有返回码，发送后直接认为发送成功
	                      break;
	                    } else {
	                      that[WEBSOCKET][i].resolve = resolve;
	                      that[WEBSOCKET][i].reject = reject;
	                      let szCmd = oDirectDevice.resumeCmd(); //定制协议恢复
	                      that[WEBSOCKET][i].socket.send(szCmd);
	                    }
	                  }
	                }
	              });
	              return promise;
	            }
	            /**
	             * @synopsis 停止取流
	             *
	             * @param {string} id websocket id，在openStream的时候生成
	             *
	             * @returns {object} 返回Promise对象
	             */
	            stop(id) {
	              let that = this;
	              let promise = new Promise(function (resolve, reject) {
	                if (!id) {
	                  reject();
	                } else {
	                  let iIndex = -1;
	                  for (let i = 0, iLen = that[WEBSOCKET].length; i < iLen; i++) {
	                    if (that[WEBSOCKET][i].id === id) {
	                      iIndex = i;
	                      that[WEBSOCKET][i].resolve = resolve; //onclose中处理，判断是否停止成功
	                      that[WEBSOCKET][i].socket.close(1000, "CLOSE");
	                      break;
	                    }
	                  }
	                  if (iIndex === -1) {
	                    reject();
	                  }
	                }
	              });
	              return promise;
	            }
	            /**
	             * @synopsis 停止所有通道取流
	             *
	             * @returns {object} 返回Promise对象
	             */
	            stopAll() {
	              let that = this;
	              let promise = new Promise(function (resolve, reject) {
	                for (let i = 0, iLen = that[WEBSOCKET].length; i < iLen; i++) {
	                  that[WEBSOCKET][i].socket.close(1000, "CLOSE");
	                }
	                console.log("停止所有流");
	                resolve();
	              });
	              return promise;
	            }
	          }
	          return WebsocketClient;
	        }();

	        /***/
	      }
	      /******/])
	    );
	  });
	})(streamClient1_2_0_min);
	var streamClient1_2_0_minExports = streamClient1_2_0_min.exports;

	// Unique ID creation requires a high quality random # generator. In the browser we therefore
	// require the crypto API and do not support built-in fallback to lower quality random number
	// generators (like Math.random()).
	var getRandomValues;
	var rnds8 = new Uint8Array(16);
	function rng() {
	  // lazy load so that environments that need to polyfill have a chance to do so
	  if (!getRandomValues) {
	    // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,
	    // find the complete implementation of crypto (msCrypto) on IE11.
	    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);
	    if (!getRandomValues) {
	      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
	    }
	  }
	  return getRandomValues(rnds8);
	}

	var REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;

	function validate(uuid) {
	  return typeof uuid === 'string' && REGEX.test(uuid);
	}

	/**
	 * Convert array of 16 byte values to UUID string format of the form:
	 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
	 */

	var byteToHex = [];
	for (var i$1 = 0; i$1 < 256; ++i$1) {
	  byteToHex.push((i$1 + 0x100).toString(16).substr(1));
	}
	function stringify(arr) {
	  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
	  // Note: Be careful editing this code!  It's been tuned for performance
	  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
	  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one
	  // of the following:
	  // - One or more input array values don't map to a hex octet (leading to
	  // "undefined" in the uuid)
	  // - Invalid input values for the RFC `version` or `variant` fields

	  if (!validate(uuid)) {
	    throw TypeError('Stringified UUID is invalid');
	  }
	  return uuid;
	}

	function v4(options, buf, offset) {
	  options = options || {};
	  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

	  rnds[6] = rnds[6] & 0x0f | 0x40;
	  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

	  if (buf) {
	    offset = offset || 0;
	    for (var i = 0; i < 16; ++i) {
	      buf[offset + i] = rnds[i];
	    }
	    return buf;
	  }
	  return stringify(rnds);
	}

	let Tool$1 = class Tool {
	  constructor() {
	    //to do
	    this._keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
	  }
	  $(strExpr) {
	    var idExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
	    var classExpr = /^(?:\s*(<[\w\W]+>)[^>]*|.([\w-]*))$/;
	    if (idExpr.test(strExpr)) {
	      var idMatch = idExpr.exec(strExpr);
	      return document.getElementById(idMatch[2]);
	    } else if (classExpr.test(strExpr)) {
	      var classMatch = classExpr.exec(strExpr);
	      var allElement = document.getElementsByTagName("*");
	      var ClassMatch = [];
	      for (var i = 0, l = allElement.length; i < l; i++) {
	        if (allElement[i].className.match(new RegExp("(\\s|^)" + classMatch[2] + "(\\s|$)"))) {
	          ClassMatch.push(allElement[i]);
	        }
	      }
	      return ClassMatch;
	    }
	  }

	  /**
	   * @synopsis 时间日期格式化
	   *
	   * @param {objcet} oDate 时间
	   * @param {string} fmt 格式 yyyy-MM-dd
	   *
	   * @returns {string} 格式化后的时间
	   */
	  dateFormat(oDate, fmt) {
	    var o = {
	      "M+": oDate.getMonth() + 1,
	      //月份
	      "d+": oDate.getDate(),
	      //日
	      "h+": oDate.getHours(),
	      //小时
	      "m+": oDate.getMinutes(),
	      //分
	      "s+": oDate.getSeconds(),
	      //秒
	      "q+": Math.floor((oDate.getMonth() + 3) / 3),
	      //季度
	      "S": oDate.getMilliseconds() //毫秒
	    };

	    if (/(y+)/.test(fmt)) {
	      fmt = fmt.replace(RegExp.$1, (oDate.getFullYear() + "").substr(4 - RegExp.$1.length));
	    }
	    for (var k in o) {
	      if (new RegExp("(" + k + ")").test(fmt)) {
	        fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? o[k] : ("00" + o[k]).substr(("" + o[k]).length));
	      }
	    }
	    return fmt;
	  }

	  /**
	   * @synopsis 下载文件
	   *
	   * @param {object} oData 数据 File对象或者Blob对象或者ArrayBuffer对象
	   * @param {string} szName 下载文件名
	   * @returns {none} 无返回
	   */
	  downloadFile(oData, szName) {
	    let oBlob = oData;
	    if (!(oData instanceof Blob || oData instanceof File)) {
	      oBlob = new Blob([oData]);
	    }
	    var szFileUrl = window.URL.createObjectURL(oBlob);
	    var oLink = window.document.createElement("a");
	    oLink.href = szFileUrl;
	    oLink.download = szName;
	    var oClick = document.createEvent("MouseEvents");
	    oClick.initEvent("click", true, true);
	    oLink.dispatchEvent(oClick);
	  }
	  //创建xml DOM对象
	  createxmlDoc() {
	    var xmlDoc;
	    var aVersions = ["MSXML2.DOMDocument", "MSXML2.DOMDocument.5.0", "MSXML2.DOMDocument.4.0", "MSXML2.DOMDocument.3.0", "Microsoft.XmlDom"];
	    for (var i = 0, len = aVersions.length; i < len; i++) {
	      try {
	        xmlDoc = new ActiveXObject(aVersions[i]);
	        break;
	      } catch (e) {
	        xmlDoc = document.implementation.createDocument("", "", null);
	        break;
	      }
	    }
	    xmlDoc.async = "false";
	    return xmlDoc;
	  }
	  //从xml字符串中解析xml
	  parseXmlFromStr(szXml) {
	    if (null === szXml || '' === szXml) {
	      return null;
	    }
	    var xmlDoc = this.createxmlDoc();
	    if (navigator.appName === "Netscape" || navigator.appName === "Opera") {
	      var oParser = new DOMParser();
	      xmlDoc = oParser.parseFromString(szXml, "text/xml");
	    } else {
	      xmlDoc.loadXML(szXml);
	    }
	    return xmlDoc;
	  }
	  // public method for encoding
	  encode(input) {
	    var output = "";
	    var chr1;
	    var chr2;
	    var chr3;
	    var enc1;
	    var enc2;
	    var enc3;
	    var enc4;
	    var i = 0;
	    input = this._utf8_encode(input);
	    while (i < input.length) {
	      chr1 = input.charCodeAt(i++);
	      chr2 = input.charCodeAt(i++);
	      chr3 = input.charCodeAt(i++);
	      enc1 = chr1 >> 2;
	      enc2 = (chr1 & 3) << 4 | chr2 >> 4;
	      enc3 = (chr2 & 15) << 2 | chr3 >> 6;
	      enc4 = chr3 & 63;
	      if (isNaN(chr2)) {
	        enc3 = enc4 = 64;
	      } else if (isNaN(chr3)) {
	        enc4 = 64;
	      }
	      output = output + this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) + this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);
	    }
	    return output;
	  }
	  // public method for decoding
	  decode(input) {
	    var output = "";
	    var chr1;
	    var chr2;
	    var chr3;
	    var enc1;
	    var enc2;
	    var enc3;
	    var enc4;
	    var i = 0;
	    input = input.replace(/[^A-Za-z0-9+/=]/g, "");
	    while (i < input.length) {
	      enc1 = this._keyStr.indexOf(input.charAt(i++));
	      enc2 = this._keyStr.indexOf(input.charAt(i++));
	      enc3 = this._keyStr.indexOf(input.charAt(i++));
	      enc4 = this._keyStr.indexOf(input.charAt(i++));
	      chr1 = enc1 << 2 | enc2 >> 4;
	      chr2 = (enc2 & 15) << 4 | enc3 >> 2;
	      chr3 = (enc3 & 3) << 6 | enc4;
	      output = output + String.fromCharCode(chr1);
	      if (enc3 !== 64) {
	        output = output + String.fromCharCode(chr2);
	      }
	      if (enc4 !== 64) {
	        output = output + String.fromCharCode(chr3);
	      }
	    }
	    output = this._utf8_decode(output);
	    return output;
	  }
	  // private method for UTF-8 encoding
	  _utf8_encode(string) {
	    string = string.replace(/\r\n/g, "\n");
	    var utftext = "";
	    for (var n = 0; n < string.length; n++) {
	      var c = string.charCodeAt(n);
	      if (c < 128) {
	        utftext += String.fromCharCode(c);
	      } else if (c > 127 && c < 2048) {
	        utftext += String.fromCharCode(c >> 6 | 192);
	        utftext += String.fromCharCode(c & 63 | 128);
	      } else {
	        utftext += String.fromCharCode(c >> 12 | 224);
	        utftext += String.fromCharCode(c >> 6 & 63 | 128);
	        utftext += String.fromCharCode(c & 63 | 128);
	      }
	    }
	    return utftext;
	  }
	  // private method for UTF-8 decoding
	  _utf8_decode(utftext) {
	    var string = "";
	    var i = 0;
	    var c = 0;
	    //var c1 = 0;
	    var c2 = 0;
	    while (i < utftext.length) {
	      c = utftext.charCodeAt(i);
	      if (c < 128) {
	        string += String.fromCharCode(c);
	        i++;
	      } else if (c > 191 && c < 224) {
	        c2 = utftext.charCodeAt(i + 1);
	        string += String.fromCharCode((c & 31) << 6 | c2 & 63);
	        i += 2;
	      } else {
	        c2 = utftext.charCodeAt(i + 1);
	        var c3 = utftext.charCodeAt(i + 2);
	        string += String.fromCharCode((c & 15) << 12 | (c2 & 63) << 6 | c3 & 63);
	        i += 3;
	      }
	    }
	    return string;
	  }
	  isFirefox() {
	    var bRet = false;
	    var szUserAgent = navigator.userAgent.toLowerCase();
	    var szBrowserVersion = "";
	    var iBrowserVersion = -1;
	    if (szUserAgent.match(/firefox\/([\d.]+)/)) {
	      szBrowserVersion = szUserAgent.match(/firefox\/([\d.]+)/)[1];
	      iBrowserVersion = parseInt(szBrowserVersion.split(".")[0], 10);
	      if (iBrowserVersion > -1) {
	        bRet = true;
	      }
	    }
	    return bRet;
	  }
	  isSafari() {
	    var bRet = false;
	    var szUserAgent = navigator.userAgent.toLowerCase();
	    var szBrowserVersion = "";
	    var iBrowserVersion = -1;
	    if (szUserAgent.match(/version\/([\d.]+).safari./)) {
	      szBrowserVersion = szUserAgent.match(/version\/([\d.]+).safari./)[1];
	      iBrowserVersion = parseInt(szBrowserVersion.split(".")[0], 10);
	      if (iBrowserVersion > -1) {
	        bRet = true;
	      }
	    }
	    /*if (/safari/.test(szUserAgent) && !/chrome/.test(szUserAgent)) {
	        bRet = true;
	    }*/
	    return bRet;
	  }
	  isEdge() {
	    return navigator.userAgent.toLowerCase().indexOf("edge") > -1;
	  }
	  isIOS() {
	    let u = navigator.userAgent;
	    let bIOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
	    return bIOS;
	  }
	};
	let oTool$1 = new Tool$1();

	const systemTransformWorkerString = (staticPath = 'https://open.ys7.com/assets/ezuikit_v3.6') => `(function() {
    const RECORDRTP = 0;  //录制一份未经过转封装的码流原始数据，用于定位问题
    self.Module = { memoryInitializerRequest: loadMemInitFile(), TOTAL_MEMORY: 128*1024*1024 };
    importScripts = (function (globalEval) {
        var xhr = new XMLHttpRequest;
        return function importScripts() {
          var
            args = Array.prototype.slice.call(arguments)
            , len = args.length
            , i = 0
            , meta
            , data
            , content
            ;
          for (; i < len; i++) {
            if (args[i].substr(0, 5).toLowerCase() === "data:") {
              data = args[i];
              content = data.indexOf(",");
              meta = data.substr(5, content).toLowerCase();
              data = decodeURIComponent(data.substr(content + 1));
              if (/;\s*base64\s*[;,]/.test(meta)) {
                data = atob(data);
              }
              if (/;\s*charset=[uU][tT][fF]-?8\s*[;,]/.test(meta)) {
                data = decodeURIComponent(escape(data));
              }
            } else {
              xhr.open("GET", args[i], false);
              xhr.send(null);
              data = xhr.responseText;
            }
            globalEval(data);
          }
        };
      }(eval));
    importScripts('${staticPath}/js/transform/SystemTransform.js');

    Module.postRun.push(function() {
        postMessage({type: "loaded"});
    });

    onmessage = function (e) {
        var data = e.data;

        if ("create" === data.type) {
            var iHeadLen = data.len;
            var pHead = Module._malloc(iHeadLen);

            var aData = Module.HEAPU8.subarray(pHead, pHead + iHeadLen);
            aData.set(new Uint8Array(data.buf));

            var iTransType = data.packType;//目标格式 RTP->PS
            if (RECORDRTP) {
                postMessage({type: "created"});
                postMessage({type: "outputData", buf: data.buf, dType: 1}, [data.buf]);
            } else {
                var iRet = Module._ST_Create(pHead, iHeadLen, iTransType);
                if (iRet != 0) {
                    console.log("_ST_Create failed!");
                } else {
                    Module._ST_Start();
                    postMessage({type: "created"});
                }
            }

        } else if ("inputData" === data.type) {
            if (RECORDRTP) {
                var aFileData = new Uint8Array(data.buf);  // 拷贝一份
                var iBufferLen = aFileData.length;
                var szBufferLen = iBufferLen.toString(16);
                if (szBufferLen.length === 1) {
                    szBufferLen = "000" + szBufferLen;
                } else if (szBufferLen.length === 2) {
                    szBufferLen = "00" + szBufferLen;
                } else if (szBufferLen.length === 3) {
                    szBufferLen = "0" + szBufferLen;
                }
                var aData = [0, 0, parseInt(szBufferLen.substring(0, 2), 16), parseInt(szBufferLen.substring(2, 4), 16)];
                for(var iIndex = 0, iDataLength = aFileData.length; iIndex < iDataLength; iIndex++) {
                    aData[iIndex + 4] = aFileData[iIndex]
                }
                var dataUint8 = new Uint8Array(aData);
                postMessage({type: "outputData", buf: dataUint8.buffer, dType: 2}, [dataUint8.buffer]);
            } else {
                var iDataLen = data.len;
                var pData = Module._malloc(iDataLen);

                var aData = Module.HEAPU8.subarray(pData, pData + iDataLen);
                aData.set(new Uint8Array(data.buf));

                var iRet = Module._ST_InputData(0, pData, iDataLen);
                if (iRet != 0) {
                    //console.log("_ST_InputData failed!");// 一开始会有一些失败，但是不影响后面的文件存储
                }

                Module._free(pData);
            }
        } else if ("release" === data.type) {
            Module._ST_Stop();
            Module._ST_Release();

            close();
        }
    };

    function loadMemInitFile() {
        var req = new XMLHttpRequest();
        req.open('GET', '${staticPath}/js/transform/SystemTransform.js.mem');
        req.responseType = 'arraybuffer';
        req.send();

        return req;
    }
})();`;

	// import UUID from "uuid";

	// 常量定义
	//const STORAGE_OK = 0;
	//const STORAGE_FAILED = -1;
	const STORAGE_RECORD_PATH = "Web/RecordFiles/";
	const STORAGE_CLIPS_PATH = "Web/PlaybackFiles/";
	const STORAGE_TIMEOUT = 1000;
	const TRANS_SYSHEAD = 1; //系统头数据
	//const TRANS_STREAMDATA = 2;         //视频流数据（包括复合流和音视频分开的视频流数据）
	//const TRANS_AUDIOSTREAMDATA = 3;    //音频流数据
	//const TRANS_PRIVTSTREAMDATA = 4;    //私有数据类型
	//const TRANS_DECODEPARAM = 5;        //解码参数类型

	const ERROR_MAX_FILE_SIZE = 3001; //文件大小超限

	// 兼容处理
	window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;
	window.URL = window.URL || window.webkitURL;

	/**
	 * @synopsis 文件系统类
	 *
	 * @note [ADD][2017-01-03]新建 by xufengyf3
	 *
	 */
	class FileSystem {
	  /**
	   * @synopsis 构造函数
	   *
	   * @param {string} szUUID 存储对象uuid
	   * @param {string} szFileName 文件名
	   * @param {number} iStreamType 码流类型
	   * @param {object} options 可选参数
	   *
	   * @returns {none} 无
	   */
	  constructor(szUUID, szFileName, iStreamType, options) {
	    this.szUUID = szUUID;
	    this.szFileName = szFileName;
	    this.iStreamType = iStreamType;
	    this.szPath = "";
	    this.bStart = false;
	    this.aStreamList = [];
	    this.options = options;
	  }

	  /**
	   * @synopsis 初始化
	   *
	   * @returns {object} 返回Promise对象
	   *
	   */
	  init() {
	    var that = this;
	    if (0 === this.iStreamType) {
	      // 录像
	      this.szPath = STORAGE_RECORD_PATH;
	    } else if (1 === this.iStreamType) {
	      // 剪辑
	      this.szPath = STORAGE_CLIPS_PATH;
	    }
	    this.szPath += this.getDateDir();
	    var aPath = that.szPath.split("/");
	    var oPromise = new Promise(function (resolve /*, reject*/) {
	      // 创建目录
	      window.requestFileSystem(window.TEMPORARY, that.options.iFileSize, function (fs) {
	        that.createDir(fs.root, aPath, function () {
	          resolve();
	        });
	      }, that.errorHandler);
	    });
	    return oPromise;
	  }

	  /**
	   * @synopsis 获取日期
	   *
	   * @returns {string} 返回当前日期
	   */
	  getDateDir() {
	    return oTool$1.dateFormat(new Date(), "yyyy-MM-dd");
	  }

	  /**
	   * @synopsis 递归创建目录
	   *
	   * @param {string} rootDirEntry 根目录
	   * @param {string} floders 子目录
	   * @param {function} cbFunc 创建后回调函数
	   *
	   * @returns {none} 无
	   */
	  createDir(rootDirEntry, floders, cbFunc) {
	    var that = this;
	    if (floders.length) {
	      rootDirEntry.getDirectory(floders[0], {
	        create: true
	      }, function (dirEntry) {
	        that.createDir(dirEntry, floders.slice(1), cbFunc);
	      }, that.errorHandler);
	    } else {
	      // 创建完毕
	      cbFunc();
	    }
	  }

	  /**
	   * @synopsis 错误处理
	   *
	   * @returns {none} 无
	   */
	  errorHandler( /*e*/
	  ) {
	    //to do
	    //console.log('Error: ' + e.toString());
	  }

	  /**
	   * @synopsis 写入文件头
	   *
	   * @param {Array} aData 文件头
	   *
	   * @returns {none} 无
	   */
	  writeFileHeader(aData) {
	    var that = this;
	    window.requestFileSystem(window.TEMPORARY, that.options.iFileSize, function (fs) {
	      fs.root.getFile(that.szPath + "/" + that.szFileName, {
	        create: true
	      }, function (fileEntry) {
	        fileEntry.createWriter(function (fileWriter) {
	          fileWriter.onwriteend = function () {
	            //console.log('write completed.');
	            that.bStart = true;
	            that.writeFile(fileWriter);
	          };
	          fileWriter.onerror = function () {
	            //to do
	            //console.log('write failed: ' + e.toString());
	          };

	          //console.log("write: " + data.byteLength);
	          //console.log(new Uint8Array(data));
	          //console.log(fileWriter.length);

	          fileWriter.seek(fileWriter.length);
	          var oBlob = new Blob([aData]);
	          fileWriter.write(oBlob);
	        }, that.errorHandler);
	      }, that.errorHandler);
	    }, that.errorHandler);
	  }

	  /**
	   * @synopsis 写入文件队列
	   *
	   * @param {Array} aData 文件内容
	   *
	   * @returns {none} 无
	   */
	  writeFileContent(aData) {
	    this.aStreamList.push(aData);
	  }

	  /**
	   * @synopsis 写文件
	   *
	   * @param {object} fileWriter 文件对象
	   *
	   * @returns {none} 无
	   */
	  writeFile(fileWriter) {
	    var that = this;
	    if (this.bStart) {
	      if (this.aStreamList.length > 0) {
	        var aData = this.aStreamList.shift();
	        fileWriter.seek(fileWriter.length);

	        // 判断文件大小
	        if (fileWriter.length >= this.options.iFileSize) {
	          if (this.options.cbEventHandler) {
	            this.options.cbEventHandler(ERROR_MAX_FILE_SIZE, this.szUUID);
	          }
	          return;
	        }
	        var oBlob = new Blob([aData]);
	        fileWriter.write(oBlob);
	      } else {
	        // 写的速度比数据来的快，延时递归
	        setTimeout(function () {
	          that.writeFile(fileWriter);
	        }, STORAGE_TIMEOUT);
	      }
	    }
	  }

	  /**
	   * @synopsis 停止写文件 & 下载文件
	   *
	   *
	   * @returns {object} 返回Promise对象
	   */
	  stopWriteFile() {
	    var that = this;
	    //console.log("stopWriteFile");

	    this.bStart = false;
	    this.aStreamList.length = 0;
	    var oPromise = new Promise(function (resolve /*, reject*/) {
	      window.requestFileSystem(window.TEMPORARY, that.options.iFileSize, function (fs) {
	        fs.root.getFile(that.szPath + "/" + that.szFileName, {
	          create: false
	        }, function (fileEntry) {
	          fileEntry.file(function (file) {
	            resolve();
	            oTool$1.downloadFile(file, file.name);
	          });
	        }, that.errorHandler);
	      }, that.errorHandler);
	    });
	    return oPromise;
	  }
	}

	/**
	 * @synopsis 存储类
	 *
	 * @note [ADD][2017-01-03]新建 by xufengyf3
	 *
	 */
	class Storage {
	  /**
	   * @synopsis 构造函数
	   * @param {string} szBasePath 基础路径
	   * @param {string} szUUID 存储对象uuid
	   * @param {string} szFileName 文件名
	   * @param {Array} aHeadBuf 40字节媒体头
	   * @param {number} iPackType 打包类型
	   * @param {number} iStreamType 码流类型
	   * @param {object} options 可选参数
	   *
	   * @returns {none} 无
	   */
	  constructor(szBasePath, szUUID, szFileName, aHeadBuf, iPackType, iStreamType, options, staticPath) {
	    this.szBasePath = szBasePath;
	    this.szUUID = szUUID;
	    this.szFileName = szFileName;
	    this.aHeadBuf = new Uint8Array(aHeadBuf); //拷贝一份
	    this.iPackType = iPackType;
	    this.iStreamType = iStreamType;
	    this.oWorker = null;
	    this.oFileSystem = null;
	    this.options = options;
	    this.bHead = true;
	    this.staticPath = staticPath;
	  }

	  /**
	   * @synopsis 初始化
	   *
	   * @returns {object} 返回Promise对象
	   */
	  init() {
	    var that = this;
	    var oPromise = new Promise(function (resolve, reject) {
	      that.initFileSystem().then(function () {
	        that.initWorker().then(function () {
	          resolve(that.szUUID);
	        }, function (iError) {
	          reject(iError);
	        });
	      }, function (iError) {
	        reject(iError);
	      });
	    });
	    return oPromise;
	  }

	  /**
	   * @synopsis 初始化虚拟文件系统
	   *
	   * @returns {object} 返回Promise对象
	   */
	  initFileSystem() {
	    var that = this;
	    this.oFileSystem = new FileSystem(this.szUUID, this.szFileName, this.iStreamType, this.options);
	    var oPromise = new Promise(function (resolve, reject) {
	      that.oFileSystem.init().then(function () {
	        resolve();
	      }, function (iError) {
	        reject(iError);
	      });
	    });
	    return oPromise;
	  }

	  /**
	   * @synopsis 初始化转封装Worker
	   *
	   *
	   * @returns {object} 返回Promise对象
	   */
	  initWorker() {
	    var that = this;
	    var oPromise = new Promise(function (resolve /*, reject*/) {
	      var workBlob = new Blob([systemTransformWorkerString(that.staticPath)]);
	      const url = URL.createObjectURL(workBlob);
	      that.oWorker = new Worker(url);
	      that.oWorker.onmessage = function (e) {
	        var data = e.data;
	        let packType = that.iPackType;
	        if (that.options.iPackage === 1) {
	          packType = 12;
	        }
	        if ("loaded" === data.type) {
	          // 加载完毕后，初始化转封装库
	          that.oWorker.postMessage({
	            type: "create",
	            buf: that.aHeadBuf.buffer,
	            len: 40,
	            packType: packType
	          }, [that.aHeadBuf.buffer]);
	        } else if ("created" === data.type) {
	          //console.log("created");
	          resolve();
	        } else if ("outputData" === data.type) {
	          //console.log(new Uint8Array(data.buf));
	          //console.log("dType: " + data.dType);

	          var aFileData = new Uint8Array(data.buf); // 拷贝一份
	          if (that.options.iPackage === 1) {
	            if (that.bHead) {
	              that.oFileSystem.writeFileHeader(aFileData);
	              that.bHead = false;
	            } else {
	              that.oFileSystem.writeFileContent(aFileData);
	            }
	          } else {
	            if (TRANS_SYSHEAD === data.dType) {
	              // 头数据
	              that.oFileSystem.writeFileHeader(aFileData);
	            } else {
	              that.oFileSystem.writeFileContent(aFileData);
	            }
	          }
	        }
	      };
	    });
	    return oPromise;
	  }

	  /**
	   * @synopsis 输入数据
	   *
	   * @param {Array} aData 数据
	   *
	   * @returns {none} 无
	   */
	  inputData(aData) {
	    if (this.oWorker) {
	      var aPostData = new Uint8Array(aData); // 拷贝一份
	      this.oWorker.postMessage({
	        type: "inputData",
	        buf: aPostData.buffer,
	        len: aPostData.length
	      }, [aPostData.buffer]);
	    }
	  }

	  /**
	   * @synopsis 停止录像
	   *
	   *
	   * @returns {object} 返回Promise对象
	   */
	  stopRecord() {
	    var that = this;
	    var oPromise = new Promise(function (resolve, reject) {
	      if (that.oWorker) {
	        that.oWorker.postMessage({
	          type: "release"
	        });
	      } else {
	        reject();
	      }
	      if (that.oFileSystem) {
	        that.oFileSystem.stopWriteFile().then(function () {
	          that.bHead = true;
	          resolve();
	        }, function () {
	          reject();
	        });
	      } else {
	        reject();
	      }
	    });
	    return oPromise;
	  }
	}

	/**
	 * @synopsis 存储管理类
	 *
	 * @note [ADD][2017-01-03]新建 by xufengyf3
	 *
	 */
	var StorageManager = function () {
	  var STORAGELIST = Symbol("STORAGELIST");
	  class StorageManage {
	    /**
	     * @synopsis 构造函数
	     *
	     * @param {string} szBasePath 库基础路径，相对于web根目录
	     * @param {object} options 可选参数
	     *
	     * @returns {none} 无
	     */
	    constructor(szBasePath, options, staticPath) {
	      this.szBasePath = szBasePath;
	      this[STORAGELIST] = {};
	      this.options = {
	        iFileSize: 1024 * 1024 * 1024 // 默认1G
	      };

	      Object.assign(this.options, options);
	      if (typeof options.staticPath === 'string') {
	        this.staticPath = options.staticPath;
	      }
	    }

	    /**
	     * @synopsis 开始录像
	     *
	     * @param {string} szFileName 文件名
	     * @param {Array} aHeadBuf 40字节头
	     * @param {number} iPackType 目标格式
	     * @param {number} iStreamType 0:录像  1:剪辑
	     * @param {object} options 可选参数
	     *
	     * @returns {object} 返回Promise对象
	     */
	    startRecord(szFileName, aHeadBuf, iPackType, iStreamType, options) {
	      var that = this;
	      var szUUID = v4();
	      var oOptions = Object.assign({}, this.options, options);
	      var oStorage = new Storage(this.szBasePath, szUUID, szFileName, aHeadBuf, iPackType, iStreamType, oOptions, this.staticPath);
	      var oPromise = new Promise(function (resolve, reject) {
	        oStorage.init().then(function (szID) {
	          //console.log("startRecord:" + szID);

	          that[STORAGELIST][szID] = oStorage;
	          resolve(szID);
	        }, function (iError) {
	          reject(iError);
	        });
	      });
	      return oPromise;
	    }

	    /**
	     * @synopsis 输入数据
	     *
	     * @param {string} szUUID 实例标识
	     * @param {Array} aData 数据
	     *
	     * @returns {none} 无
	     */
	    inputData(szUUID, aData) {
	      var oStorage = this[STORAGELIST][szUUID];
	      if (oStorage) {
	        oStorage.inputData(aData);
	      }
	    }

	    /**
	     * @synopsis 停止录像
	     *
	     * @param {string} szUUID 实例标识
	     *
	     * @returns {object} 返回Promise对象
	     */
	    stopRecord(szUUID) {
	      var that = this;
	      var oPromise = new Promise(function (resolve, reject) {
	        var oStorage = that[STORAGELIST][szUUID];
	        if (oStorage) {
	          oStorage.stopRecord().then(function () {
	            delete that[STORAGELIST][szUUID];
	            resolve();
	          }, function () {
	            reject();
	          });
	        } else {
	          reject();
	        }
	      });
	      return oPromise;
	    }
	  }
	  return StorageManage;
	}();

	function _classCallCheck(instance, Constructor) {
	  if (!(instance instanceof Constructor)) {
	    throw new TypeError("Cannot call a class as a function");
	  }
	}
	function _defineProperties(target, props) {
	  for (var i = 0; i < props.length; i++) {
	    var descriptor = props[i];
	    descriptor.enumerable = descriptor.enumerable || false;
	    descriptor.configurable = true;
	    if ("value" in descriptor) descriptor.writable = true;
	    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
	  }
	}
	function _createClass(Constructor, protoProps, staticProps) {
	  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
	  if (staticProps) _defineProperties(Constructor, staticProps);
	  Object.defineProperty(Constructor, "prototype", {
	    writable: false
	  });
	  return Constructor;
	}
	function _inherits(subClass, superClass) {
	  if (typeof superClass !== "function" && superClass !== null) {
	    throw new TypeError("Super expression must either be null or a function");
	  }
	  subClass.prototype = Object.create(superClass && superClass.prototype, {
	    constructor: {
	      value: subClass,
	      writable: true,
	      configurable: true
	    }
	  });
	  Object.defineProperty(subClass, "prototype", {
	    writable: false
	  });
	  if (superClass) _setPrototypeOf(subClass, superClass);
	}
	function _getPrototypeOf(o) {
	  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {
	    return o.__proto__ || Object.getPrototypeOf(o);
	  };
	  return _getPrototypeOf(o);
	}
	function _setPrototypeOf(o, p) {
	  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {
	    o.__proto__ = p;
	    return o;
	  };
	  return _setPrototypeOf(o, p);
	}
	function _isNativeReflectConstruct() {
	  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
	  if (Reflect.construct.sham) return false;
	  if (typeof Proxy === "function") return true;
	  try {
	    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
	    return true;
	  } catch (e) {
	    return false;
	  }
	}
	function _assertThisInitialized(self) {
	  if (self === void 0) {
	    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
	  }
	  return self;
	}
	function _possibleConstructorReturn(self, call) {
	  if (call && (typeof call === "object" || typeof call === "function")) {
	    return call;
	  } else if (call !== void 0) {
	    throw new TypeError("Derived constructors may only return object or undefined");
	  }
	  return _assertThisInitialized(self);
	}
	function _createSuper(Derived) {
	  var hasNativeReflectConstruct = _isNativeReflectConstruct();
	  return function _createSuperInternal() {
	    var Super = _getPrototypeOf(Derived),
	      result;
	    if (hasNativeReflectConstruct) {
	      var NewTarget = _getPrototypeOf(this).constructor;
	      result = Reflect.construct(Super, arguments, NewTarget);
	    } else {
	      result = Super.apply(this, arguments);
	    }
	    return _possibleConstructorReturn(this, result);
	  };
	}
	function _toPrimitive(input, hint) {
	  if (typeof input !== "object" || input === null) return input;
	  var prim = input[Symbol.toPrimitive];
	  if (prim !== undefined) {
	    var res = prim.call(input, hint || "default");
	    if (typeof res !== "object") return res;
	    throw new TypeError("@@toPrimitive must return a primitive value.");
	  }
	  return (hint === "string" ? String : Number)(input);
	}
	function _toPropertyKey(arg) {
	  var key = _toPrimitive(arg, "string");
	  return typeof key === "symbol" ? key : String(key);
	}

	var jquery = {exports: {}};

	/*!
	 * jQuery JavaScript Library v3.7.1
	 * https://jquery.com/
	 *
	 * Copyright OpenJS Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2023-08-28T13:37Z
	 */
	(function (module) {
	  (function (global, factory) {

	    {
	      // For CommonJS and CommonJS-like environments where a proper `window`
	      // is present, execute the factory and get jQuery.
	      // For environments that do not have a `window` with a `document`
	      // (such as Node.js), expose a factory as module.exports.
	      // This accentuates the need for the creation of a real `window`.
	      // e.g. var jQuery = require("jquery")(window);
	      // See ticket trac-14549 for more info.
	      module.exports = global.document ? factory(global, true) : function (w) {
	        if (!w.document) {
	          throw new Error("jQuery requires a window with a document");
	        }
	        return factory(w);
	      };
	    }

	    // Pass this if window is not defined yet
	  })(typeof window !== "undefined" ? window : commonjsGlobal, function (window, noGlobal) {

	    var arr = [];
	    var getProto = Object.getPrototypeOf;
	    var slice = arr.slice;
	    var flat = arr.flat ? function (array) {
	      return arr.flat.call(array);
	    } : function (array) {
	      return arr.concat.apply([], array);
	    };
	    var push = arr.push;
	    var indexOf = arr.indexOf;
	    var class2type = {};
	    var toString = class2type.toString;
	    var hasOwn = class2type.hasOwnProperty;
	    var fnToString = hasOwn.toString;
	    var ObjectFunctionString = fnToString.call(Object);
	    var support = {};
	    var isFunction = function isFunction(obj) {
	      // Support: Chrome <=57, Firefox <=52
	      // In some browsers, typeof returns "function" for HTML <object> elements
	      // (i.e., `typeof document.createElement( "object" ) === "function"`).
	      // We don't want to classify *any* DOM node as a function.
	      // Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5
	      // Plus for old WebKit, typeof returns "function" for HTML collections
	      // (e.g., `typeof document.getElementsByTagName("div") === "function"`). (gh-4756)
	      return typeof obj === "function" && typeof obj.nodeType !== "number" && typeof obj.item !== "function";
	    };
	    var isWindow = function isWindow(obj) {
	      return obj != null && obj === obj.window;
	    };
	    var document = window.document;
	    var preservedScriptAttributes = {
	      type: true,
	      src: true,
	      nonce: true,
	      noModule: true
	    };
	    function DOMEval(code, node, doc) {
	      doc = doc || document;
	      var i,
	        val,
	        script = doc.createElement("script");
	      script.text = code;
	      if (node) {
	        for (i in preservedScriptAttributes) {
	          // Support: Firefox 64+, Edge 18+
	          // Some browsers don't support the "nonce" property on scripts.
	          // On the other hand, just using `getAttribute` is not enough as
	          // the `nonce` attribute is reset to an empty string whenever it
	          // becomes browsing-context connected.
	          // See https://github.com/whatwg/html/issues/2369
	          // See https://html.spec.whatwg.org/#nonce-attributes
	          // The `node.getAttribute` check was added for the sake of
	          // `jQuery.globalEval` so that it can fake a nonce-containing node
	          // via an object.
	          val = node[i] || node.getAttribute && node.getAttribute(i);
	          if (val) {
	            script.setAttribute(i, val);
	          }
	        }
	      }
	      doc.head.appendChild(script).parentNode.removeChild(script);
	    }
	    function toType(obj) {
	      if (obj == null) {
	        return obj + "";
	      }

	      // Support: Android <=2.3 only (functionish RegExp)
	      return typeof obj === "object" || typeof obj === "function" ? class2type[toString.call(obj)] || "object" : typeof obj;
	    }
	    /* global Symbol */
	    // Defining this global in .eslintrc.json would create a danger of using the global
	    // unguarded in another place, it seems safer to define global only for this module

	    var version = "3.7.1",
	      rhtmlSuffix = /HTML$/i,
	      // Define a local copy of jQuery
	      jQuery = function (selector, context) {
	        // The jQuery object is actually just the init constructor 'enhanced'
	        // Need init if jQuery is called (just allow error to be thrown if not included)
	        return new jQuery.fn.init(selector, context);
	      };
	    jQuery.fn = jQuery.prototype = {
	      // The current version of jQuery being used
	      jquery: version,
	      constructor: jQuery,
	      // The default length of a jQuery object is 0
	      length: 0,
	      toArray: function () {
	        return slice.call(this);
	      },
	      // Get the Nth element in the matched element set OR
	      // Get the whole matched element set as a clean array
	      get: function (num) {
	        // Return all the elements in a clean array
	        if (num == null) {
	          return slice.call(this);
	        }

	        // Return just the one element from the set
	        return num < 0 ? this[num + this.length] : this[num];
	      },
	      // Take an array of elements and push it onto the stack
	      // (returning the new matched element set)
	      pushStack: function (elems) {
	        // Build a new jQuery matched element set
	        var ret = jQuery.merge(this.constructor(), elems);

	        // Add the old object onto the stack (as a reference)
	        ret.prevObject = this;

	        // Return the newly-formed element set
	        return ret;
	      },
	      // Execute a callback for every element in the matched set.
	      each: function (callback) {
	        return jQuery.each(this, callback);
	      },
	      map: function (callback) {
	        return this.pushStack(jQuery.map(this, function (elem, i) {
	          return callback.call(elem, i, elem);
	        }));
	      },
	      slice: function () {
	        return this.pushStack(slice.apply(this, arguments));
	      },
	      first: function () {
	        return this.eq(0);
	      },
	      last: function () {
	        return this.eq(-1);
	      },
	      even: function () {
	        return this.pushStack(jQuery.grep(this, function (_elem, i) {
	          return (i + 1) % 2;
	        }));
	      },
	      odd: function () {
	        return this.pushStack(jQuery.grep(this, function (_elem, i) {
	          return i % 2;
	        }));
	      },
	      eq: function (i) {
	        var len = this.length,
	          j = +i + (i < 0 ? len : 0);
	        return this.pushStack(j >= 0 && j < len ? [this[j]] : []);
	      },
	      end: function () {
	        return this.prevObject || this.constructor();
	      },
	      // For internal use only.
	      // Behaves like an Array's method, not like a jQuery method.
	      push: push,
	      sort: arr.sort,
	      splice: arr.splice
	    };
	    jQuery.extend = jQuery.fn.extend = function () {
	      var options,
	        name,
	        src,
	        copy,
	        copyIsArray,
	        clone,
	        target = arguments[0] || {},
	        i = 1,
	        length = arguments.length,
	        deep = false;

	      // Handle a deep copy situation
	      if (typeof target === "boolean") {
	        deep = target;

	        // Skip the boolean and the target
	        target = arguments[i] || {};
	        i++;
	      }

	      // Handle case when target is a string or something (possible in deep copy)
	      if (typeof target !== "object" && !isFunction(target)) {
	        target = {};
	      }

	      // Extend jQuery itself if only one argument is passed
	      if (i === length) {
	        target = this;
	        i--;
	      }
	      for (; i < length; i++) {
	        // Only deal with non-null/undefined values
	        if ((options = arguments[i]) != null) {
	          // Extend the base object
	          for (name in options) {
	            copy = options[name];

	            // Prevent Object.prototype pollution
	            // Prevent never-ending loop
	            if (name === "__proto__" || target === copy) {
	              continue;
	            }

	            // Recurse if we're merging plain objects or arrays
	            if (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))) {
	              src = target[name];

	              // Ensure proper type for the source value
	              if (copyIsArray && !Array.isArray(src)) {
	                clone = [];
	              } else if (!copyIsArray && !jQuery.isPlainObject(src)) {
	                clone = {};
	              } else {
	                clone = src;
	              }
	              copyIsArray = false;

	              // Never move original objects, clone them
	              target[name] = jQuery.extend(deep, clone, copy);

	              // Don't bring in undefined values
	            } else if (copy !== undefined) {
	              target[name] = copy;
	            }
	          }
	        }
	      }

	      // Return the modified object
	      return target;
	    };
	    jQuery.extend({
	      // Unique for each copy of jQuery on the page
	      expando: "jQuery" + (version + Math.random()).replace(/\D/g, ""),
	      // Assume jQuery is ready without the ready module
	      isReady: true,
	      error: function (msg) {
	        throw new Error(msg);
	      },
	      noop: function () {},
	      isPlainObject: function (obj) {
	        var proto, Ctor;

	        // Detect obvious negatives
	        // Use toString instead of jQuery.type to catch host objects
	        if (!obj || toString.call(obj) !== "[object Object]") {
	          return false;
	        }
	        proto = getProto(obj);

	        // Objects with no prototype (e.g., `Object.create( null )`) are plain
	        if (!proto) {
	          return true;
	        }

	        // Objects with prototype are plain iff they were constructed by a global Object function
	        Ctor = hasOwn.call(proto, "constructor") && proto.constructor;
	        return typeof Ctor === "function" && fnToString.call(Ctor) === ObjectFunctionString;
	      },
	      isEmptyObject: function (obj) {
	        var name;
	        for (name in obj) {
	          return false;
	        }
	        return true;
	      },
	      // Evaluates a script in a provided context; falls back to the global one
	      // if not specified.
	      globalEval: function (code, options, doc) {
	        DOMEval(code, {
	          nonce: options && options.nonce
	        }, doc);
	      },
	      each: function (obj, callback) {
	        var length,
	          i = 0;
	        if (isArrayLike(obj)) {
	          length = obj.length;
	          for (; i < length; i++) {
	            if (callback.call(obj[i], i, obj[i]) === false) {
	              break;
	            }
	          }
	        } else {
	          for (i in obj) {
	            if (callback.call(obj[i], i, obj[i]) === false) {
	              break;
	            }
	          }
	        }
	        return obj;
	      },
	      // Retrieve the text value of an array of DOM nodes
	      text: function (elem) {
	        var node,
	          ret = "",
	          i = 0,
	          nodeType = elem.nodeType;
	        if (!nodeType) {
	          // If no nodeType, this is expected to be an array
	          while (node = elem[i++]) {
	            // Do not traverse comment nodes
	            ret += jQuery.text(node);
	          }
	        }
	        if (nodeType === 1 || nodeType === 11) {
	          return elem.textContent;
	        }
	        if (nodeType === 9) {
	          return elem.documentElement.textContent;
	        }
	        if (nodeType === 3 || nodeType === 4) {
	          return elem.nodeValue;
	        }

	        // Do not include comment or processing instruction nodes

	        return ret;
	      },
	      // results is for internal usage only
	      makeArray: function (arr, results) {
	        var ret = results || [];
	        if (arr != null) {
	          if (isArrayLike(Object(arr))) {
	            jQuery.merge(ret, typeof arr === "string" ? [arr] : arr);
	          } else {
	            push.call(ret, arr);
	          }
	        }
	        return ret;
	      },
	      inArray: function (elem, arr, i) {
	        return arr == null ? -1 : indexOf.call(arr, elem, i);
	      },
	      isXMLDoc: function (elem) {
	        var namespace = elem && elem.namespaceURI,
	          docElem = elem && (elem.ownerDocument || elem).documentElement;

	        // Assume HTML when documentElement doesn't yet exist, such as inside
	        // document fragments.
	        return !rhtmlSuffix.test(namespace || docElem && docElem.nodeName || "HTML");
	      },
	      // Support: Android <=4.0 only, PhantomJS 1 only
	      // push.apply(_, arraylike) throws on ancient WebKit
	      merge: function (first, second) {
	        var len = +second.length,
	          j = 0,
	          i = first.length;
	        for (; j < len; j++) {
	          first[i++] = second[j];
	        }
	        first.length = i;
	        return first;
	      },
	      grep: function (elems, callback, invert) {
	        var callbackInverse,
	          matches = [],
	          i = 0,
	          length = elems.length,
	          callbackExpect = !invert;

	        // Go through the array, only saving the items
	        // that pass the validator function
	        for (; i < length; i++) {
	          callbackInverse = !callback(elems[i], i);
	          if (callbackInverse !== callbackExpect) {
	            matches.push(elems[i]);
	          }
	        }
	        return matches;
	      },
	      // arg is for internal usage only
	      map: function (elems, callback, arg) {
	        var length,
	          value,
	          i = 0,
	          ret = [];

	        // Go through the array, translating each of the items to their new values
	        if (isArrayLike(elems)) {
	          length = elems.length;
	          for (; i < length; i++) {
	            value = callback(elems[i], i, arg);
	            if (value != null) {
	              ret.push(value);
	            }
	          }

	          // Go through every key on the object,
	        } else {
	          for (i in elems) {
	            value = callback(elems[i], i, arg);
	            if (value != null) {
	              ret.push(value);
	            }
	          }
	        }

	        // Flatten any nested arrays
	        return flat(ret);
	      },
	      // A global GUID counter for objects
	      guid: 1,
	      // jQuery.support is not used in Core but other projects attach their
	      // properties to it so it needs to exist.
	      support: support
	    });
	    if (typeof Symbol === "function") {
	      jQuery.fn[Symbol.iterator] = arr[Symbol.iterator];
	    }

	    // Populate the class2type map
	    jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (_i, name) {
	      class2type["[object " + name + "]"] = name.toLowerCase();
	    });
	    function isArrayLike(obj) {
	      // Support: real iOS 8.2 only (not reproducible in simulator)
	      // `in` check used to prevent JIT error (gh-2145)
	      // hasOwn isn't used here due to false negatives
	      // regarding Nodelist length in IE
	      var length = !!obj && "length" in obj && obj.length,
	        type = toType(obj);
	      if (isFunction(obj) || isWindow(obj)) {
	        return false;
	      }
	      return type === "array" || length === 0 || typeof length === "number" && length > 0 && length - 1 in obj;
	    }
	    function nodeName(elem, name) {
	      return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
	    }
	    var pop = arr.pop;
	    var sort = arr.sort;
	    var splice = arr.splice;
	    var whitespace = "[\\x20\\t\\r\\n\\f]";
	    var rtrimCSS = new RegExp("^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g");

	    // Note: an element does not contain itself
	    jQuery.contains = function (a, b) {
	      var bup = b && b.parentNode;
	      return a === bup || !!(bup && bup.nodeType === 1 && (
	      // Support: IE 9 - 11+
	      // IE doesn't have `contains` on SVG.
	      a.contains ? a.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));
	    };

	    // CSS string/identifier serialization
	    // https://drafts.csswg.org/cssom/#common-serializing-idioms
	    var rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;
	    function fcssescape(ch, asCodePoint) {
	      if (asCodePoint) {
	        // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER
	        if (ch === "\0") {
	          return "\uFFFD";
	        }

	        // Control characters and (dependent upon position) numbers get escaped as code points
	        return ch.slice(0, -1) + "\\" + ch.charCodeAt(ch.length - 1).toString(16) + " ";
	      }

	      // Other potentially-special ASCII characters get backslash-escaped
	      return "\\" + ch;
	    }
	    jQuery.escapeSelector = function (sel) {
	      return (sel + "").replace(rcssescape, fcssescape);
	    };
	    var preferredDoc = document,
	      pushNative = push;
	    (function () {
	      var i,
	        Expr,
	        outermostContext,
	        sortInput,
	        hasDuplicate,
	        push = pushNative,
	        // Local document vars
	        document,
	        documentElement,
	        documentIsHTML,
	        rbuggyQSA,
	        matches,
	        // Instance-specific data
	        expando = jQuery.expando,
	        dirruns = 0,
	        done = 0,
	        classCache = createCache(),
	        tokenCache = createCache(),
	        compilerCache = createCache(),
	        nonnativeSelectorCache = createCache(),
	        sortOrder = function (a, b) {
	          if (a === b) {
	            hasDuplicate = true;
	          }
	          return 0;
	        },
	        booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|" + "loop|multiple|open|readonly|required|scoped",
	        // Regular expressions

	        // https://www.w3.org/TR/css-syntax-3/#ident-token-diagram
	        identifier = "(?:\\\\[\\da-fA-F]{1,6}" + whitespace + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",
	        // Attribute selectors: https://www.w3.org/TR/selectors/#attribute-selectors
	        attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +
	        // Operator (capture 2)
	        "*([*^$|!~]?=)" + whitespace +
	        // "Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]"
	        "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace + "*\\]",
	        pseudos = ":(" + identifier + ")(?:\\((" +
	        // To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
	        // 1. quoted (capture 3; capture 4 or capture 5)
	        "('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
	        // 2. simple (capture 6)
	        "((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
	        // 3. anything else (capture 2)
	        ".*" + ")\\)|)",
	        // Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	        rwhitespace = new RegExp(whitespace + "+", "g"),
	        rcomma = new RegExp("^" + whitespace + "*," + whitespace + "*"),
	        rleadingCombinator = new RegExp("^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*"),
	        rdescend = new RegExp(whitespace + "|>"),
	        rpseudo = new RegExp(pseudos),
	        ridentifier = new RegExp("^" + identifier + "$"),
	        matchExpr = {
	          ID: new RegExp("^#(" + identifier + ")"),
	          CLASS: new RegExp("^\\.(" + identifier + ")"),
	          TAG: new RegExp("^(" + identifier + "|[*])"),
	          ATTR: new RegExp("^" + attributes),
	          PSEUDO: new RegExp("^" + pseudos),
	          CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i"),
	          bool: new RegExp("^(?:" + booleans + ")$", "i"),
	          // For use in libraries implementing .is()
	          // We use this for POS matching in `select`
	          needsContext: new RegExp("^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i")
	        },
	        rinputs = /^(?:input|select|textarea|button)$/i,
	        rheader = /^h\d$/i,
	        // Easily-parseable/retrievable ID or TAG or CLASS selectors
	        rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
	        rsibling = /[+~]/,
	        // CSS escapes
	        // https://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	        runescape = new RegExp("\\\\[\\da-fA-F]{1,6}" + whitespace + "?|\\\\([^\\r\\n\\f])", "g"),
	        funescape = function (escape, nonHex) {
	          var high = "0x" + escape.slice(1) - 0x10000;
	          if (nonHex) {
	            // Strip the backslash prefix from a non-hex escape sequence
	            return nonHex;
	          }

	          // Replace a hexadecimal escape sequence with the encoded Unicode code point
	          // Support: IE <=11+
	          // For values outside the Basic Multilingual Plane (BMP), manually construct a
	          // surrogate pair
	          return high < 0 ? String.fromCharCode(high + 0x10000) : String.fromCharCode(high >> 10 | 0xD800, high & 0x3FF | 0xDC00);
	        },
	        // Used for iframes; see `setDocument`.
	        // Support: IE 9 - 11+, Edge 12 - 18+
	        // Removing the function wrapper causes a "Permission Denied"
	        // error in IE/Edge.
	        unloadHandler = function () {
	          setDocument();
	        },
	        inDisabledFieldset = addCombinator(function (elem) {
	          return elem.disabled === true && nodeName(elem, "fieldset");
	        }, {
	          dir: "parentNode",
	          next: "legend"
	        });

	      // Support: IE <=9 only
	      // Accessing document.activeElement can throw unexpectedly
	      // https://bugs.jquery.com/ticket/13393
	      function safeActiveElement() {
	        try {
	          return document.activeElement;
	        } catch (err) {}
	      }

	      // Optimize for push.apply( _, NodeList )
	      try {
	        push.apply(arr = slice.call(preferredDoc.childNodes), preferredDoc.childNodes);

	        // Support: Android <=4.0
	        // Detect silently failing push.apply
	        // eslint-disable-next-line no-unused-expressions
	        arr[preferredDoc.childNodes.length].nodeType;
	      } catch (e) {
	        push = {
	          apply: function (target, els) {
	            pushNative.apply(target, slice.call(els));
	          },
	          call: function (target) {
	            pushNative.apply(target, slice.call(arguments, 1));
	          }
	        };
	      }
	      function find(selector, context, results, seed) {
	        var m,
	          i,
	          elem,
	          nid,
	          match,
	          groups,
	          newSelector,
	          newContext = context && context.ownerDocument,
	          // nodeType defaults to 9, since context defaults to document
	          nodeType = context ? context.nodeType : 9;
	        results = results || [];

	        // Return early from calls with invalid selector or context
	        if (typeof selector !== "string" || !selector || nodeType !== 1 && nodeType !== 9 && nodeType !== 11) {
	          return results;
	        }

	        // Try to shortcut find operations (as opposed to filters) in HTML documents
	        if (!seed) {
	          setDocument(context);
	          context = context || document;
	          if (documentIsHTML) {
	            // If the selector is sufficiently simple, try using a "get*By*" DOM method
	            // (excepting DocumentFragment context, where the methods don't exist)
	            if (nodeType !== 11 && (match = rquickExpr.exec(selector))) {
	              // ID selector
	              if (m = match[1]) {
	                // Document context
	                if (nodeType === 9) {
	                  if (elem = context.getElementById(m)) {
	                    // Support: IE 9 only
	                    // getElementById can match elements by name instead of ID
	                    if (elem.id === m) {
	                      push.call(results, elem);
	                      return results;
	                    }
	                  } else {
	                    return results;
	                  }

	                  // Element context
	                } else {
	                  // Support: IE 9 only
	                  // getElementById can match elements by name instead of ID
	                  if (newContext && (elem = newContext.getElementById(m)) && find.contains(context, elem) && elem.id === m) {
	                    push.call(results, elem);
	                    return results;
	                  }
	                }

	                // Type selector
	              } else if (match[2]) {
	                push.apply(results, context.getElementsByTagName(selector));
	                return results;

	                // Class selector
	              } else if ((m = match[3]) && context.getElementsByClassName) {
	                push.apply(results, context.getElementsByClassName(m));
	                return results;
	              }
	            }

	            // Take advantage of querySelectorAll
	            if (!nonnativeSelectorCache[selector + " "] && (!rbuggyQSA || !rbuggyQSA.test(selector))) {
	              newSelector = selector;
	              newContext = context;

	              // qSA considers elements outside a scoping root when evaluating child or
	              // descendant combinators, which is not what we want.
	              // In such cases, we work around the behavior by prefixing every selector in the
	              // list with an ID selector referencing the scope context.
	              // The technique has to be used as well when a leading combinator is used
	              // as such selectors are not recognized by querySelectorAll.
	              // Thanks to Andrew Dupont for this technique.
	              if (nodeType === 1 && (rdescend.test(selector) || rleadingCombinator.test(selector))) {
	                // Expand context for sibling selectors
	                newContext = rsibling.test(selector) && testContext(context.parentNode) || context;

	                // We can use :scope instead of the ID hack if the browser
	                // supports it & if we're not changing the context.
	                // Support: IE 11+, Edge 17 - 18+
	                // IE/Edge sometimes throw a "Permission denied" error when
	                // strict-comparing two documents; shallow comparisons work.
	                // eslint-disable-next-line eqeqeq
	                if (newContext != context || !support.scope) {
	                  // Capture the context ID, setting it first if necessary
	                  if (nid = context.getAttribute("id")) {
	                    nid = jQuery.escapeSelector(nid);
	                  } else {
	                    context.setAttribute("id", nid = expando);
	                  }
	                }

	                // Prefix every selector in the list
	                groups = tokenize(selector);
	                i = groups.length;
	                while (i--) {
	                  groups[i] = (nid ? "#" + nid : ":scope") + " " + toSelector(groups[i]);
	                }
	                newSelector = groups.join(",");
	              }
	              try {
	                push.apply(results, newContext.querySelectorAll(newSelector));
	                return results;
	              } catch (qsaError) {
	                nonnativeSelectorCache(selector, true);
	              } finally {
	                if (nid === expando) {
	                  context.removeAttribute("id");
	                }
	              }
	            }
	          }
	        }

	        // All others
	        return select(selector.replace(rtrimCSS, "$1"), context, results, seed);
	      }

	      /**
	       * Create key-value caches of limited size
	       * @returns {function(string, object)} Returns the Object data after storing it on itself with
	       *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
	       *	deleting the oldest entry
	       */
	      function createCache() {
	        var keys = [];
	        function cache(key, value) {
	          // Use (key + " ") to avoid collision with native prototype properties
	          // (see https://github.com/jquery/sizzle/issues/157)
	          if (keys.push(key + " ") > Expr.cacheLength) {
	            // Only keep the most recent entries
	            delete cache[keys.shift()];
	          }
	          return cache[key + " "] = value;
	        }
	        return cache;
	      }

	      /**
	       * Mark a function for special use by jQuery selector module
	       * @param {Function} fn The function to mark
	       */
	      function markFunction(fn) {
	        fn[expando] = true;
	        return fn;
	      }

	      /**
	       * Support testing using an element
	       * @param {Function} fn Passed the created element and returns a boolean result
	       */
	      function assert(fn) {
	        var el = document.createElement("fieldset");
	        try {
	          return !!fn(el);
	        } catch (e) {
	          return false;
	        } finally {
	          // Remove from its parent by default
	          if (el.parentNode) {
	            el.parentNode.removeChild(el);
	          }

	          // release memory in IE
	          el = null;
	        }
	      }

	      /**
	       * Returns a function to use in pseudos for input types
	       * @param {String} type
	       */
	      function createInputPseudo(type) {
	        return function (elem) {
	          return nodeName(elem, "input") && elem.type === type;
	        };
	      }

	      /**
	       * Returns a function to use in pseudos for buttons
	       * @param {String} type
	       */
	      function createButtonPseudo(type) {
	        return function (elem) {
	          return (nodeName(elem, "input") || nodeName(elem, "button")) && elem.type === type;
	        };
	      }

	      /**
	       * Returns a function to use in pseudos for :enabled/:disabled
	       * @param {Boolean} disabled true for :disabled; false for :enabled
	       */
	      function createDisabledPseudo(disabled) {
	        // Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable
	        return function (elem) {
	          // Only certain elements can match :enabled or :disabled
	          // https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled
	          // https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled
	          if ("form" in elem) {
	            // Check for inherited disabledness on relevant non-disabled elements:
	            // * listed form-associated elements in a disabled fieldset
	            //   https://html.spec.whatwg.org/multipage/forms.html#category-listed
	            //   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled
	            // * option elements in a disabled optgroup
	            //   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled
	            // All such elements have a "form" property.
	            if (elem.parentNode && elem.disabled === false) {
	              // Option elements defer to a parent optgroup if present
	              if ("label" in elem) {
	                if ("label" in elem.parentNode) {
	                  return elem.parentNode.disabled === disabled;
	                } else {
	                  return elem.disabled === disabled;
	                }
	              }

	              // Support: IE 6 - 11+
	              // Use the isDisabled shortcut property to check for disabled fieldset ancestors
	              return elem.isDisabled === disabled ||
	              // Where there is no isDisabled, check manually
	              elem.isDisabled !== !disabled && inDisabledFieldset(elem) === disabled;
	            }
	            return elem.disabled === disabled;

	            // Try to winnow out elements that can't be disabled before trusting the disabled property.
	            // Some victims get caught in our net (label, legend, menu, track), but it shouldn't
	            // even exist on them, let alone have a boolean value.
	          } else if ("label" in elem) {
	            return elem.disabled === disabled;
	          }

	          // Remaining elements are neither :enabled nor :disabled
	          return false;
	        };
	      }

	      /**
	       * Returns a function to use in pseudos for positionals
	       * @param {Function} fn
	       */
	      function createPositionalPseudo(fn) {
	        return markFunction(function (argument) {
	          argument = +argument;
	          return markFunction(function (seed, matches) {
	            var j,
	              matchIndexes = fn([], seed.length, argument),
	              i = matchIndexes.length;

	            // Match elements found at the specified indexes
	            while (i--) {
	              if (seed[j = matchIndexes[i]]) {
	                seed[j] = !(matches[j] = seed[j]);
	              }
	            }
	          });
	        });
	      }

	      /**
	       * Checks a node for validity as a jQuery selector context
	       * @param {Element|Object=} context
	       * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
	       */
	      function testContext(context) {
	        return context && typeof context.getElementsByTagName !== "undefined" && context;
	      }

	      /**
	       * Sets document-related variables once based on the current document
	       * @param {Element|Object} [node] An element or document object to use to set the document
	       * @returns {Object} Returns the current document
	       */
	      function setDocument(node) {
	        var subWindow,
	          doc = node ? node.ownerDocument || node : preferredDoc;

	        // Return early if doc is invalid or already selected
	        // Support: IE 11+, Edge 17 - 18+
	        // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	        // two documents; shallow comparisons work.
	        // eslint-disable-next-line eqeqeq
	        if (doc == document || doc.nodeType !== 9 || !doc.documentElement) {
	          return document;
	        }

	        // Update global variables
	        document = doc;
	        documentElement = document.documentElement;
	        documentIsHTML = !jQuery.isXMLDoc(document);

	        // Support: iOS 7 only, IE 9 - 11+
	        // Older browsers didn't support unprefixed `matches`.
	        matches = documentElement.matches || documentElement.webkitMatchesSelector || documentElement.msMatchesSelector;

	        // Support: IE 9 - 11+, Edge 12 - 18+
	        // Accessing iframe documents after unload throws "permission denied" errors
	        // (see trac-13936).
	        // Limit the fix to IE & Edge Legacy; despite Edge 15+ implementing `matches`,
	        // all IE 9+ and Edge Legacy versions implement `msMatchesSelector` as well.
	        if (documentElement.msMatchesSelector &&
	        // Support: IE 11+, Edge 17 - 18+
	        // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	        // two documents; shallow comparisons work.
	        // eslint-disable-next-line eqeqeq
	        preferredDoc != document && (subWindow = document.defaultView) && subWindow.top !== subWindow) {
	          // Support: IE 9 - 11+, Edge 12 - 18+
	          subWindow.addEventListener("unload", unloadHandler);
	        }

	        // Support: IE <10
	        // Check if getElementById returns elements by name
	        // The broken getElementById methods don't pick up programmatically-set names,
	        // so use a roundabout getElementsByName test
	        support.getById = assert(function (el) {
	          documentElement.appendChild(el).id = jQuery.expando;
	          return !document.getElementsByName || !document.getElementsByName(jQuery.expando).length;
	        });

	        // Support: IE 9 only
	        // Check to see if it's possible to do matchesSelector
	        // on a disconnected node.
	        support.disconnectedMatch = assert(function (el) {
	          return matches.call(el, "*");
	        });

	        // Support: IE 9 - 11+, Edge 12 - 18+
	        // IE/Edge don't support the :scope pseudo-class.
	        support.scope = assert(function () {
	          return document.querySelectorAll(":scope");
	        });

	        // Support: Chrome 105 - 111 only, Safari 15.4 - 16.3 only
	        // Make sure the `:has()` argument is parsed unforgivingly.
	        // We include `*` in the test to detect buggy implementations that are
	        // _selectively_ forgiving (specifically when the list includes at least
	        // one valid selector).
	        // Note that we treat complete lack of support for `:has()` as if it were
	        // spec-compliant support, which is fine because use of `:has()` in such
	        // environments will fail in the qSA path and fall back to jQuery traversal
	        // anyway.
	        support.cssHas = assert(function () {
	          try {
	            document.querySelector(":has(*,:jqfake)");
	            return false;
	          } catch (e) {
	            return true;
	          }
	        });

	        // ID filter and find
	        if (support.getById) {
	          Expr.filter.ID = function (id) {
	            var attrId = id.replace(runescape, funescape);
	            return function (elem) {
	              return elem.getAttribute("id") === attrId;
	            };
	          };
	          Expr.find.ID = function (id, context) {
	            if (typeof context.getElementById !== "undefined" && documentIsHTML) {
	              var elem = context.getElementById(id);
	              return elem ? [elem] : [];
	            }
	          };
	        } else {
	          Expr.filter.ID = function (id) {
	            var attrId = id.replace(runescape, funescape);
	            return function (elem) {
	              var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");
	              return node && node.value === attrId;
	            };
	          };

	          // Support: IE 6 - 7 only
	          // getElementById is not reliable as a find shortcut
	          Expr.find.ID = function (id, context) {
	            if (typeof context.getElementById !== "undefined" && documentIsHTML) {
	              var node,
	                i,
	                elems,
	                elem = context.getElementById(id);
	              if (elem) {
	                // Verify the id attribute
	                node = elem.getAttributeNode("id");
	                if (node && node.value === id) {
	                  return [elem];
	                }

	                // Fall back on getElementsByName
	                elems = context.getElementsByName(id);
	                i = 0;
	                while (elem = elems[i++]) {
	                  node = elem.getAttributeNode("id");
	                  if (node && node.value === id) {
	                    return [elem];
	                  }
	                }
	              }
	              return [];
	            }
	          };
	        }

	        // Tag
	        Expr.find.TAG = function (tag, context) {
	          if (typeof context.getElementsByTagName !== "undefined") {
	            return context.getElementsByTagName(tag);

	            // DocumentFragment nodes don't have gEBTN
	          } else {
	            return context.querySelectorAll(tag);
	          }
	        };

	        // Class
	        Expr.find.CLASS = function (className, context) {
	          if (typeof context.getElementsByClassName !== "undefined" && documentIsHTML) {
	            return context.getElementsByClassName(className);
	          }
	        };

	        /* QSA/matchesSelector
	        ---------------------------------------------------------------------- */

	        // QSA and matchesSelector support

	        rbuggyQSA = [];

	        // Build QSA regex
	        // Regex strategy adopted from Diego Perini
	        assert(function (el) {
	          var input;
	          documentElement.appendChild(el).innerHTML = "<a id='" + expando + "' href='' disabled='disabled'></a>" + "<select id='" + expando + "-\r\\' disabled='disabled'>" + "<option selected=''></option></select>";

	          // Support: iOS <=7 - 8 only
	          // Boolean attributes and "value" are not treated correctly in some XML documents
	          if (!el.querySelectorAll("[selected]").length) {
	            rbuggyQSA.push("\\[" + whitespace + "*(?:value|" + booleans + ")");
	          }

	          // Support: iOS <=7 - 8 only
	          if (!el.querySelectorAll("[id~=" + expando + "-]").length) {
	            rbuggyQSA.push("~=");
	          }

	          // Support: iOS 8 only
	          // https://bugs.webkit.org/show_bug.cgi?id=136851
	          // In-page `selector#id sibling-combinator selector` fails
	          if (!el.querySelectorAll("a#" + expando + "+*").length) {
	            rbuggyQSA.push(".#.+[+~]");
	          }

	          // Support: Chrome <=105+, Firefox <=104+, Safari <=15.4+
	          // In some of the document kinds, these selectors wouldn't work natively.
	          // This is probably OK but for backwards compatibility we want to maintain
	          // handling them through jQuery traversal in jQuery 3.x.
	          if (!el.querySelectorAll(":checked").length) {
	            rbuggyQSA.push(":checked");
	          }

	          // Support: Windows 8 Native Apps
	          // The type and name attributes are restricted during .innerHTML assignment
	          input = document.createElement("input");
	          input.setAttribute("type", "hidden");
	          el.appendChild(input).setAttribute("name", "D");

	          // Support: IE 9 - 11+
	          // IE's :disabled selector does not pick up the children of disabled fieldsets
	          // Support: Chrome <=105+, Firefox <=104+, Safari <=15.4+
	          // In some of the document kinds, these selectors wouldn't work natively.
	          // This is probably OK but for backwards compatibility we want to maintain
	          // handling them through jQuery traversal in jQuery 3.x.
	          documentElement.appendChild(el).disabled = true;
	          if (el.querySelectorAll(":disabled").length !== 2) {
	            rbuggyQSA.push(":enabled", ":disabled");
	          }

	          // Support: IE 11+, Edge 15 - 18+
	          // IE 11/Edge don't find elements on a `[name='']` query in some cases.
	          // Adding a temporary attribute to the document before the selection works
	          // around the issue.
	          // Interestingly, IE 10 & older don't seem to have the issue.
	          input = document.createElement("input");
	          input.setAttribute("name", "");
	          el.appendChild(input);
	          if (!el.querySelectorAll("[name='']").length) {
	            rbuggyQSA.push("\\[" + whitespace + "*name" + whitespace + "*=" + whitespace + "*(?:''|\"\")");
	          }
	        });
	        if (!support.cssHas) {
	          // Support: Chrome 105 - 110+, Safari 15.4 - 16.3+
	          // Our regular `try-catch` mechanism fails to detect natively-unsupported
	          // pseudo-classes inside `:has()` (such as `:has(:contains("Foo"))`)
	          // in browsers that parse the `:has()` argument as a forgiving selector list.
	          // https://drafts.csswg.org/selectors/#relational now requires the argument
	          // to be parsed unforgivingly, but browsers have not yet fully adjusted.
	          rbuggyQSA.push(":has");
	        }
	        rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join("|"));

	        /* Sorting
	        ---------------------------------------------------------------------- */

	        // Document order sorting
	        sortOrder = function (a, b) {
	          // Flag for duplicate removal
	          if (a === b) {
	            hasDuplicate = true;
	            return 0;
	          }

	          // Sort on method existence if only one input has compareDocumentPosition
	          var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
	          if (compare) {
	            return compare;
	          }

	          // Calculate position if both inputs belong to the same document
	          // Support: IE 11+, Edge 17 - 18+
	          // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	          // two documents; shallow comparisons work.
	          // eslint-disable-next-line eqeqeq
	          compare = (a.ownerDocument || a) == (b.ownerDocument || b) ? a.compareDocumentPosition(b) :
	          // Otherwise we know they are disconnected
	          1;

	          // Disconnected nodes
	          if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {
	            // Choose the first element that is related to our preferred document
	            // Support: IE 11+, Edge 17 - 18+
	            // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	            // two documents; shallow comparisons work.
	            // eslint-disable-next-line eqeqeq
	            if (a === document || a.ownerDocument == preferredDoc && find.contains(preferredDoc, a)) {
	              return -1;
	            }

	            // Support: IE 11+, Edge 17 - 18+
	            // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	            // two documents; shallow comparisons work.
	            // eslint-disable-next-line eqeqeq
	            if (b === document || b.ownerDocument == preferredDoc && find.contains(preferredDoc, b)) {
	              return 1;
	            }

	            // Maintain original order
	            return sortInput ? indexOf.call(sortInput, a) - indexOf.call(sortInput, b) : 0;
	          }
	          return compare & 4 ? -1 : 1;
	        };
	        return document;
	      }
	      find.matches = function (expr, elements) {
	        return find(expr, null, null, elements);
	      };
	      find.matchesSelector = function (elem, expr) {
	        setDocument(elem);
	        if (documentIsHTML && !nonnativeSelectorCache[expr + " "] && (!rbuggyQSA || !rbuggyQSA.test(expr))) {
	          try {
	            var ret = matches.call(elem, expr);

	            // IE 9's matchesSelector returns false on disconnected nodes
	            if (ret || support.disconnectedMatch ||
	            // As well, disconnected nodes are said to be in a document
	            // fragment in IE 9
	            elem.document && elem.document.nodeType !== 11) {
	              return ret;
	            }
	          } catch (e) {
	            nonnativeSelectorCache(expr, true);
	          }
	        }
	        return find(expr, document, null, [elem]).length > 0;
	      };
	      find.contains = function (context, elem) {
	        // Set document vars if needed
	        // Support: IE 11+, Edge 17 - 18+
	        // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	        // two documents; shallow comparisons work.
	        // eslint-disable-next-line eqeqeq
	        if ((context.ownerDocument || context) != document) {
	          setDocument(context);
	        }
	        return jQuery.contains(context, elem);
	      };
	      find.attr = function (elem, name) {
	        // Set document vars if needed
	        // Support: IE 11+, Edge 17 - 18+
	        // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	        // two documents; shallow comparisons work.
	        // eslint-disable-next-line eqeqeq
	        if ((elem.ownerDocument || elem) != document) {
	          setDocument(elem);
	        }
	        var fn = Expr.attrHandle[name.toLowerCase()],
	          // Don't get fooled by Object.prototype properties (see trac-13807)
	          val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;
	        if (val !== undefined) {
	          return val;
	        }
	        return elem.getAttribute(name);
	      };
	      find.error = function (msg) {
	        throw new Error("Syntax error, unrecognized expression: " + msg);
	      };

	      /**
	       * Document sorting and removing duplicates
	       * @param {ArrayLike} results
	       */
	      jQuery.uniqueSort = function (results) {
	        var elem,
	          duplicates = [],
	          j = 0,
	          i = 0;

	        // Unless we *know* we can detect duplicates, assume their presence
	        //
	        // Support: Android <=4.0+
	        // Testing for detecting duplicates is unpredictable so instead assume we can't
	        // depend on duplicate detection in all browsers without a stable sort.
	        hasDuplicate = !support.sortStable;
	        sortInput = !support.sortStable && slice.call(results, 0);
	        sort.call(results, sortOrder);
	        if (hasDuplicate) {
	          while (elem = results[i++]) {
	            if (elem === results[i]) {
	              j = duplicates.push(i);
	            }
	          }
	          while (j--) {
	            splice.call(results, duplicates[j], 1);
	          }
	        }

	        // Clear input after sorting to release objects
	        // See https://github.com/jquery/sizzle/pull/225
	        sortInput = null;
	        return results;
	      };
	      jQuery.fn.uniqueSort = function () {
	        return this.pushStack(jQuery.uniqueSort(slice.apply(this)));
	      };
	      Expr = jQuery.expr = {
	        // Can be adjusted by the user
	        cacheLength: 50,
	        createPseudo: markFunction,
	        match: matchExpr,
	        attrHandle: {},
	        find: {},
	        relative: {
	          ">": {
	            dir: "parentNode",
	            first: true
	          },
	          " ": {
	            dir: "parentNode"
	          },
	          "+": {
	            dir: "previousSibling",
	            first: true
	          },
	          "~": {
	            dir: "previousSibling"
	          }
	        },
	        preFilter: {
	          ATTR: function (match) {
	            match[1] = match[1].replace(runescape, funescape);

	            // Move the given value to match[3] whether quoted or unquoted
	            match[3] = (match[3] || match[4] || match[5] || "").replace(runescape, funescape);
	            if (match[2] === "~=") {
	              match[3] = " " + match[3] + " ";
	            }
	            return match.slice(0, 4);
	          },
	          CHILD: function (match) {
	            /* matches from matchExpr["CHILD"]
	            	1 type (only|nth|...)
	            	2 what (child|of-type)
	            	3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
	            	4 xn-component of xn+y argument ([+-]?\d*n|)
	            	5 sign of xn-component
	            	6 x of xn-component
	            	7 sign of y-component
	            	8 y of y-component
	            */
	            match[1] = match[1].toLowerCase();
	            if (match[1].slice(0, 3) === "nth") {
	              // nth-* requires argument
	              if (!match[3]) {
	                find.error(match[0]);
	              }

	              // numeric x and y parameters for Expr.filter.CHILD
	              // remember that false/true cast respectively to 0/1
	              match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === "even" || match[3] === "odd"));
	              match[5] = +(match[7] + match[8] || match[3] === "odd");

	              // other types prohibit arguments
	            } else if (match[3]) {
	              find.error(match[0]);
	            }
	            return match;
	          },
	          PSEUDO: function (match) {
	            var excess,
	              unquoted = !match[6] && match[2];
	            if (matchExpr.CHILD.test(match[0])) {
	              return null;
	            }

	            // Accept quoted arguments as-is
	            if (match[3]) {
	              match[2] = match[4] || match[5] || "";

	              // Strip excess characters from unquoted arguments
	            } else if (unquoted && rpseudo.test(unquoted) && (
	            // Get excess from tokenize (recursively)
	            excess = tokenize(unquoted, true)) && (
	            // advance to the next closing parenthesis
	            excess = unquoted.indexOf(")", unquoted.length - excess) - unquoted.length)) {
	              // excess is a negative index
	              match[0] = match[0].slice(0, excess);
	              match[2] = unquoted.slice(0, excess);
	            }

	            // Return only captures needed by the pseudo filter method (type and argument)
	            return match.slice(0, 3);
	          }
	        },
	        filter: {
	          TAG: function (nodeNameSelector) {
	            var expectedNodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();
	            return nodeNameSelector === "*" ? function () {
	              return true;
	            } : function (elem) {
	              return nodeName(elem, expectedNodeName);
	            };
	          },
	          CLASS: function (className) {
	            var pattern = classCache[className + " "];
	            return pattern || (pattern = new RegExp("(^|" + whitespace + ")" + className + "(" + whitespace + "|$)")) && classCache(className, function (elem) {
	              return pattern.test(typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "");
	            });
	          },
	          ATTR: function (name, operator, check) {
	            return function (elem) {
	              var result = find.attr(elem, name);
	              if (result == null) {
	                return operator === "!=";
	              }
	              if (!operator) {
	                return true;
	              }
	              result += "";
	              if (operator === "=") {
	                return result === check;
	              }
	              if (operator === "!=") {
	                return result !== check;
	              }
	              if (operator === "^=") {
	                return check && result.indexOf(check) === 0;
	              }
	              if (operator === "*=") {
	                return check && result.indexOf(check) > -1;
	              }
	              if (operator === "$=") {
	                return check && result.slice(-check.length) === check;
	              }
	              if (operator === "~=") {
	                return (" " + result.replace(rwhitespace, " ") + " ").indexOf(check) > -1;
	              }
	              if (operator === "|=") {
	                return result === check || result.slice(0, check.length + 1) === check + "-";
	              }
	              return false;
	            };
	          },
	          CHILD: function (type, what, _argument, first, last) {
	            var simple = type.slice(0, 3) !== "nth",
	              forward = type.slice(-4) !== "last",
	              ofType = what === "of-type";
	            return first === 1 && last === 0 ?
	            // Shortcut for :nth-*(n)
	            function (elem) {
	              return !!elem.parentNode;
	            } : function (elem, _context, xml) {
	              var cache,
	                outerCache,
	                node,
	                nodeIndex,
	                start,
	                dir = simple !== forward ? "nextSibling" : "previousSibling",
	                parent = elem.parentNode,
	                name = ofType && elem.nodeName.toLowerCase(),
	                useCache = !xml && !ofType,
	                diff = false;
	              if (parent) {
	                // :(first|last|only)-(child|of-type)
	                if (simple) {
	                  while (dir) {
	                    node = elem;
	                    while (node = node[dir]) {
	                      if (ofType ? nodeName(node, name) : node.nodeType === 1) {
	                        return false;
	                      }
	                    }

	                    // Reverse direction for :only-* (if we haven't yet done so)
	                    start = dir = type === "only" && !start && "nextSibling";
	                  }
	                  return true;
	                }
	                start = [forward ? parent.firstChild : parent.lastChild];

	                // non-xml :nth-child(...) stores cache data on `parent`
	                if (forward && useCache) {
	                  // Seek `elem` from a previously-cached index
	                  outerCache = parent[expando] || (parent[expando] = {});
	                  cache = outerCache[type] || [];
	                  nodeIndex = cache[0] === dirruns && cache[1];
	                  diff = nodeIndex && cache[2];
	                  node = nodeIndex && parent.childNodes[nodeIndex];
	                  while (node = ++nodeIndex && node && node[dir] || (
	                  // Fallback to seeking `elem` from the start
	                  diff = nodeIndex = 0) || start.pop()) {
	                    // When found, cache indexes on `parent` and break
	                    if (node.nodeType === 1 && ++diff && node === elem) {
	                      outerCache[type] = [dirruns, nodeIndex, diff];
	                      break;
	                    }
	                  }
	                } else {
	                  // Use previously-cached element index if available
	                  if (useCache) {
	                    outerCache = elem[expando] || (elem[expando] = {});
	                    cache = outerCache[type] || [];
	                    nodeIndex = cache[0] === dirruns && cache[1];
	                    diff = nodeIndex;
	                  }

	                  // xml :nth-child(...)
	                  // or :nth-last-child(...) or :nth(-last)?-of-type(...)
	                  if (diff === false) {
	                    // Use the same loop as above to seek `elem` from the start
	                    while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {
	                      if ((ofType ? nodeName(node, name) : node.nodeType === 1) && ++diff) {
	                        // Cache the index of each encountered element
	                        if (useCache) {
	                          outerCache = node[expando] || (node[expando] = {});
	                          outerCache[type] = [dirruns, diff];
	                        }
	                        if (node === elem) {
	                          break;
	                        }
	                      }
	                    }
	                  }
	                }

	                // Incorporate the offset, then check against cycle size
	                diff -= last;
	                return diff === first || diff % first === 0 && diff / first >= 0;
	              }
	            };
	          },
	          PSEUDO: function (pseudo, argument) {
	            // pseudo-class names are case-insensitive
	            // https://www.w3.org/TR/selectors/#pseudo-classes
	            // Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
	            // Remember that setFilters inherits from pseudos
	            var args,
	              fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || find.error("unsupported pseudo: " + pseudo);

	            // The user may use createPseudo to indicate that
	            // arguments are needed to create the filter function
	            // just as jQuery does
	            if (fn[expando]) {
	              return fn(argument);
	            }

	            // But maintain support for old signatures
	            if (fn.length > 1) {
	              args = [pseudo, pseudo, "", argument];
	              return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {
	                var idx,
	                  matched = fn(seed, argument),
	                  i = matched.length;
	                while (i--) {
	                  idx = indexOf.call(seed, matched[i]);
	                  seed[idx] = !(matches[idx] = matched[i]);
	                }
	              }) : function (elem) {
	                return fn(elem, 0, args);
	              };
	            }
	            return fn;
	          }
	        },
	        pseudos: {
	          // Potentially complex pseudos
	          not: markFunction(function (selector) {
	            // Trim the selector passed to compile
	            // to avoid treating leading and trailing
	            // spaces as combinators
	            var input = [],
	              results = [],
	              matcher = compile(selector.replace(rtrimCSS, "$1"));
	            return matcher[expando] ? markFunction(function (seed, matches, _context, xml) {
	              var elem,
	                unmatched = matcher(seed, null, xml, []),
	                i = seed.length;

	              // Match elements unmatched by `matcher`
	              while (i--) {
	                if (elem = unmatched[i]) {
	                  seed[i] = !(matches[i] = elem);
	                }
	              }
	            }) : function (elem, _context, xml) {
	              input[0] = elem;
	              matcher(input, null, xml, results);

	              // Don't keep the element
	              // (see https://github.com/jquery/sizzle/issues/299)
	              input[0] = null;
	              return !results.pop();
	            };
	          }),
	          has: markFunction(function (selector) {
	            return function (elem) {
	              return find(selector, elem).length > 0;
	            };
	          }),
	          contains: markFunction(function (text) {
	            text = text.replace(runescape, funescape);
	            return function (elem) {
	              return (elem.textContent || jQuery.text(elem)).indexOf(text) > -1;
	            };
	          }),
	          // "Whether an element is represented by a :lang() selector
	          // is based solely on the element's language value
	          // being equal to the identifier C,
	          // or beginning with the identifier C immediately followed by "-".
	          // The matching of C against the element's language value is performed case-insensitively.
	          // The identifier C does not have to be a valid language name."
	          // https://www.w3.org/TR/selectors/#lang-pseudo
	          lang: markFunction(function (lang) {
	            // lang value must be a valid identifier
	            if (!ridentifier.test(lang || "")) {
	              find.error("unsupported lang: " + lang);
	            }
	            lang = lang.replace(runescape, funescape).toLowerCase();
	            return function (elem) {
	              var elemLang;
	              do {
	                if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute("xml:lang") || elem.getAttribute("lang")) {
	                  elemLang = elemLang.toLowerCase();
	                  return elemLang === lang || elemLang.indexOf(lang + "-") === 0;
	                }
	              } while ((elem = elem.parentNode) && elem.nodeType === 1);
	              return false;
	            };
	          }),
	          // Miscellaneous
	          target: function (elem) {
	            var hash = window.location && window.location.hash;
	            return hash && hash.slice(1) === elem.id;
	          },
	          root: function (elem) {
	            return elem === documentElement;
	          },
	          focus: function (elem) {
	            return elem === safeActiveElement() && document.hasFocus() && !!(elem.type || elem.href || ~elem.tabIndex);
	          },
	          // Boolean properties
	          enabled: createDisabledPseudo(false),
	          disabled: createDisabledPseudo(true),
	          checked: function (elem) {
	            // In CSS3, :checked should return both checked and selected elements
	            // https://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
	            return nodeName(elem, "input") && !!elem.checked || nodeName(elem, "option") && !!elem.selected;
	          },
	          selected: function (elem) {
	            // Support: IE <=11+
	            // Accessing the selectedIndex property
	            // forces the browser to treat the default option as
	            // selected when in an optgroup.
	            if (elem.parentNode) {
	              // eslint-disable-next-line no-unused-expressions
	              elem.parentNode.selectedIndex;
	            }
	            return elem.selected === true;
	          },
	          // Contents
	          empty: function (elem) {
	            // https://www.w3.org/TR/selectors/#empty-pseudo
	            // :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
	            //   but not by others (comment: 8; processing instruction: 7; etc.)
	            // nodeType < 6 works because attributes (2) do not appear as children
	            for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
	              if (elem.nodeType < 6) {
	                return false;
	              }
	            }
	            return true;
	          },
	          parent: function (elem) {
	            return !Expr.pseudos.empty(elem);
	          },
	          // Element/input types
	          header: function (elem) {
	            return rheader.test(elem.nodeName);
	          },
	          input: function (elem) {
	            return rinputs.test(elem.nodeName);
	          },
	          button: function (elem) {
	            return nodeName(elem, "input") && elem.type === "button" || nodeName(elem, "button");
	          },
	          text: function (elem) {
	            var attr;
	            return nodeName(elem, "input") && elem.type === "text" && (
	            // Support: IE <10 only
	            // New HTML5 attribute values (e.g., "search") appear
	            // with elem.type === "text"
	            (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text");
	          },
	          // Position-in-collection
	          first: createPositionalPseudo(function () {
	            return [0];
	          }),
	          last: createPositionalPseudo(function (_matchIndexes, length) {
	            return [length - 1];
	          }),
	          eq: createPositionalPseudo(function (_matchIndexes, length, argument) {
	            return [argument < 0 ? argument + length : argument];
	          }),
	          even: createPositionalPseudo(function (matchIndexes, length) {
	            var i = 0;
	            for (; i < length; i += 2) {
	              matchIndexes.push(i);
	            }
	            return matchIndexes;
	          }),
	          odd: createPositionalPseudo(function (matchIndexes, length) {
	            var i = 1;
	            for (; i < length; i += 2) {
	              matchIndexes.push(i);
	            }
	            return matchIndexes;
	          }),
	          lt: createPositionalPseudo(function (matchIndexes, length, argument) {
	            var i;
	            if (argument < 0) {
	              i = argument + length;
	            } else if (argument > length) {
	              i = length;
	            } else {
	              i = argument;
	            }
	            for (; --i >= 0;) {
	              matchIndexes.push(i);
	            }
	            return matchIndexes;
	          }),
	          gt: createPositionalPseudo(function (matchIndexes, length, argument) {
	            var i = argument < 0 ? argument + length : argument;
	            for (; ++i < length;) {
	              matchIndexes.push(i);
	            }
	            return matchIndexes;
	          })
	        }
	      };
	      Expr.pseudos.nth = Expr.pseudos.eq;

	      // Add button/input type pseudos
	      for (i in {
	        radio: true,
	        checkbox: true,
	        file: true,
	        password: true,
	        image: true
	      }) {
	        Expr.pseudos[i] = createInputPseudo(i);
	      }
	      for (i in {
	        submit: true,
	        reset: true
	      }) {
	        Expr.pseudos[i] = createButtonPseudo(i);
	      }

	      // Easy API for creating new setFilters
	      function setFilters() {}
	      setFilters.prototype = Expr.filters = Expr.pseudos;
	      Expr.setFilters = new setFilters();
	      function tokenize(selector, parseOnly) {
	        var matched,
	          match,
	          tokens,
	          type,
	          soFar,
	          groups,
	          preFilters,
	          cached = tokenCache[selector + " "];
	        if (cached) {
	          return parseOnly ? 0 : cached.slice(0);
	        }
	        soFar = selector;
	        groups = [];
	        preFilters = Expr.preFilter;
	        while (soFar) {
	          // Comma and first run
	          if (!matched || (match = rcomma.exec(soFar))) {
	            if (match) {
	              // Don't consume trailing commas as valid
	              soFar = soFar.slice(match[0].length) || soFar;
	            }
	            groups.push(tokens = []);
	          }
	          matched = false;

	          // Combinators
	          if (match = rleadingCombinator.exec(soFar)) {
	            matched = match.shift();
	            tokens.push({
	              value: matched,
	              // Cast descendant combinators to space
	              type: match[0].replace(rtrimCSS, " ")
	            });
	            soFar = soFar.slice(matched.length);
	          }

	          // Filters
	          for (type in Expr.filter) {
	            if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {
	              matched = match.shift();
	              tokens.push({
	                value: matched,
	                type: type,
	                matches: match
	              });
	              soFar = soFar.slice(matched.length);
	            }
	          }
	          if (!matched) {
	            break;
	          }
	        }

	        // Return the length of the invalid excess
	        // if we're just parsing
	        // Otherwise, throw an error or return tokens
	        if (parseOnly) {
	          return soFar.length;
	        }
	        return soFar ? find.error(selector) :
	        // Cache the tokens
	        tokenCache(selector, groups).slice(0);
	      }
	      function toSelector(tokens) {
	        var i = 0,
	          len = tokens.length,
	          selector = "";
	        for (; i < len; i++) {
	          selector += tokens[i].value;
	        }
	        return selector;
	      }
	      function addCombinator(matcher, combinator, base) {
	        var dir = combinator.dir,
	          skip = combinator.next,
	          key = skip || dir,
	          checkNonElements = base && key === "parentNode",
	          doneName = done++;
	        return combinator.first ?
	        // Check against closest ancestor/preceding element
	        function (elem, context, xml) {
	          while (elem = elem[dir]) {
	            if (elem.nodeType === 1 || checkNonElements) {
	              return matcher(elem, context, xml);
	            }
	          }
	          return false;
	        } :
	        // Check against all ancestor/preceding elements
	        function (elem, context, xml) {
	          var oldCache,
	            outerCache,
	            newCache = [dirruns, doneName];

	          // We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching
	          if (xml) {
	            while (elem = elem[dir]) {
	              if (elem.nodeType === 1 || checkNonElements) {
	                if (matcher(elem, context, xml)) {
	                  return true;
	                }
	              }
	            }
	          } else {
	            while (elem = elem[dir]) {
	              if (elem.nodeType === 1 || checkNonElements) {
	                outerCache = elem[expando] || (elem[expando] = {});
	                if (skip && nodeName(elem, skip)) {
	                  elem = elem[dir] || elem;
	                } else if ((oldCache = outerCache[key]) && oldCache[0] === dirruns && oldCache[1] === doneName) {
	                  // Assign to newCache so results back-propagate to previous elements
	                  return newCache[2] = oldCache[2];
	                } else {
	                  // Reuse newcache so results back-propagate to previous elements
	                  outerCache[key] = newCache;

	                  // A match means we're done; a fail means we have to keep checking
	                  if (newCache[2] = matcher(elem, context, xml)) {
	                    return true;
	                  }
	                }
	              }
	            }
	          }
	          return false;
	        };
	      }
	      function elementMatcher(matchers) {
	        return matchers.length > 1 ? function (elem, context, xml) {
	          var i = matchers.length;
	          while (i--) {
	            if (!matchers[i](elem, context, xml)) {
	              return false;
	            }
	          }
	          return true;
	        } : matchers[0];
	      }
	      function multipleContexts(selector, contexts, results) {
	        var i = 0,
	          len = contexts.length;
	        for (; i < len; i++) {
	          find(selector, contexts[i], results);
	        }
	        return results;
	      }
	      function condense(unmatched, map, filter, context, xml) {
	        var elem,
	          newUnmatched = [],
	          i = 0,
	          len = unmatched.length,
	          mapped = map != null;
	        for (; i < len; i++) {
	          if (elem = unmatched[i]) {
	            if (!filter || filter(elem, context, xml)) {
	              newUnmatched.push(elem);
	              if (mapped) {
	                map.push(i);
	              }
	            }
	          }
	        }
	        return newUnmatched;
	      }
	      function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {
	        if (postFilter && !postFilter[expando]) {
	          postFilter = setMatcher(postFilter);
	        }
	        if (postFinder && !postFinder[expando]) {
	          postFinder = setMatcher(postFinder, postSelector);
	        }
	        return markFunction(function (seed, results, context, xml) {
	          var temp,
	            i,
	            elem,
	            matcherOut,
	            preMap = [],
	            postMap = [],
	            preexisting = results.length,
	            // Get initial elements from seed or context
	            elems = seed || multipleContexts(selector || "*", context.nodeType ? [context] : context, []),
	            // Prefilter to get matcher input, preserving a map for seed-results synchronization
	            matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems;
	          if (matcher) {
	            // If we have a postFinder, or filtered seed, or non-seed postFilter
	            // or preexisting results,
	            matcherOut = postFinder || (seed ? preFilter : preexisting || postFilter) ?
	            // ...intermediate processing is necessary
	            [] :
	            // ...otherwise use results directly
	            results;

	            // Find primary matches
	            matcher(matcherIn, matcherOut, context, xml);
	          } else {
	            matcherOut = matcherIn;
	          }

	          // Apply postFilter
	          if (postFilter) {
	            temp = condense(matcherOut, postMap);
	            postFilter(temp, [], context, xml);

	            // Un-match failing elements by moving them back to matcherIn
	            i = temp.length;
	            while (i--) {
	              if (elem = temp[i]) {
	                matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);
	              }
	            }
	          }
	          if (seed) {
	            if (postFinder || preFilter) {
	              if (postFinder) {
	                // Get the final matcherOut by condensing this intermediate into postFinder contexts
	                temp = [];
	                i = matcherOut.length;
	                while (i--) {
	                  if (elem = matcherOut[i]) {
	                    // Restore matcherIn since elem is not yet a final match
	                    temp.push(matcherIn[i] = elem);
	                  }
	                }
	                postFinder(null, matcherOut = [], temp, xml);
	              }

	              // Move matched elements from seed to results to keep them synchronized
	              i = matcherOut.length;
	              while (i--) {
	                if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf.call(seed, elem) : preMap[i]) > -1) {
	                  seed[temp] = !(results[temp] = elem);
	                }
	              }
	            }

	            // Add elements to results, through postFinder if defined
	          } else {
	            matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);
	            if (postFinder) {
	              postFinder(null, results, matcherOut, xml);
	            } else {
	              push.apply(results, matcherOut);
	            }
	          }
	        });
	      }
	      function matcherFromTokens(tokens) {
	        var checkContext,
	          matcher,
	          j,
	          len = tokens.length,
	          leadingRelative = Expr.relative[tokens[0].type],
	          implicitRelative = leadingRelative || Expr.relative[" "],
	          i = leadingRelative ? 1 : 0,
	          // The foundational matcher ensures that elements are reachable from top-level context(s)
	          matchContext = addCombinator(function (elem) {
	            return elem === checkContext;
	          }, implicitRelative, true),
	          matchAnyContext = addCombinator(function (elem) {
	            return indexOf.call(checkContext, elem) > -1;
	          }, implicitRelative, true),
	          matchers = [function (elem, context, xml) {
	            // Support: IE 11+, Edge 17 - 18+
	            // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	            // two documents; shallow comparisons work.
	            // eslint-disable-next-line eqeqeq
	            var ret = !leadingRelative && (xml || context != outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));

	            // Avoid hanging onto element
	            // (see https://github.com/jquery/sizzle/issues/299)
	            checkContext = null;
	            return ret;
	          }];
	        for (; i < len; i++) {
	          if (matcher = Expr.relative[tokens[i].type]) {
	            matchers = [addCombinator(elementMatcher(matchers), matcher)];
	          } else {
	            matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);

	            // Return special upon seeing a positional matcher
	            if (matcher[expando]) {
	              // Find the next relative operator (if any) for proper handling
	              j = ++i;
	              for (; j < len; j++) {
	                if (Expr.relative[tokens[j].type]) {
	                  break;
	                }
	              }
	              return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(
	              // If the preceding token was a descendant combinator, insert an implicit any-element `*`
	              tokens.slice(0, i - 1).concat({
	                value: tokens[i - 2].type === " " ? "*" : ""
	              })).replace(rtrimCSS, "$1"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));
	            }
	            matchers.push(matcher);
	          }
	        }
	        return elementMatcher(matchers);
	      }
	      function matcherFromGroupMatchers(elementMatchers, setMatchers) {
	        var bySet = setMatchers.length > 0,
	          byElement = elementMatchers.length > 0,
	          superMatcher = function (seed, context, xml, results, outermost) {
	            var elem,
	              j,
	              matcher,
	              matchedCount = 0,
	              i = "0",
	              unmatched = seed && [],
	              setMatched = [],
	              contextBackup = outermostContext,
	              // We must always have either seed elements or outermost context
	              elems = seed || byElement && Expr.find.TAG("*", outermost),
	              // Use integer dirruns iff this is the outermost matcher
	              dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || 0.1,
	              len = elems.length;
	            if (outermost) {
	              // Support: IE 11+, Edge 17 - 18+
	              // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	              // two documents; shallow comparisons work.
	              // eslint-disable-next-line eqeqeq
	              outermostContext = context == document || context || outermost;
	            }

	            // Add elements passing elementMatchers directly to results
	            // Support: iOS <=7 - 9 only
	            // Tolerate NodeList properties (IE: "length"; Safari: <number>) matching
	            // elements by id. (see trac-14142)
	            for (; i !== len && (elem = elems[i]) != null; i++) {
	              if (byElement && elem) {
	                j = 0;

	                // Support: IE 11+, Edge 17 - 18+
	                // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	                // two documents; shallow comparisons work.
	                // eslint-disable-next-line eqeqeq
	                if (!context && elem.ownerDocument != document) {
	                  setDocument(elem);
	                  xml = !documentIsHTML;
	                }
	                while (matcher = elementMatchers[j++]) {
	                  if (matcher(elem, context || document, xml)) {
	                    push.call(results, elem);
	                    break;
	                  }
	                }
	                if (outermost) {
	                  dirruns = dirrunsUnique;
	                }
	              }

	              // Track unmatched elements for set filters
	              if (bySet) {
	                // They will have gone through all possible matchers
	                if (elem = !matcher && elem) {
	                  matchedCount--;
	                }

	                // Lengthen the array for every element, matched or not
	                if (seed) {
	                  unmatched.push(elem);
	                }
	              }
	            }

	            // `i` is now the count of elements visited above, and adding it to `matchedCount`
	            // makes the latter nonnegative.
	            matchedCount += i;

	            // Apply set filters to unmatched elements
	            // NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
	            // equals `i`), unless we didn't visit _any_ elements in the above loop because we have
	            // no element matchers and no seed.
	            // Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
	            // case, which will result in a "00" `matchedCount` that differs from `i` but is also
	            // numerically zero.
	            if (bySet && i !== matchedCount) {
	              j = 0;
	              while (matcher = setMatchers[j++]) {
	                matcher(unmatched, setMatched, context, xml);
	              }
	              if (seed) {
	                // Reintegrate element matches to eliminate the need for sorting
	                if (matchedCount > 0) {
	                  while (i--) {
	                    if (!(unmatched[i] || setMatched[i])) {
	                      setMatched[i] = pop.call(results);
	                    }
	                  }
	                }

	                // Discard index placeholder values to get only actual matches
	                setMatched = condense(setMatched);
	              }

	              // Add matches to results
	              push.apply(results, setMatched);

	              // Seedless set matches succeeding multiple successful matchers stipulate sorting
	              if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {
	                jQuery.uniqueSort(results);
	              }
	            }

	            // Override manipulation of globals by nested matchers
	            if (outermost) {
	              dirruns = dirrunsUnique;
	              outermostContext = contextBackup;
	            }
	            return unmatched;
	          };
	        return bySet ? markFunction(superMatcher) : superMatcher;
	      }
	      function compile(selector, match /* Internal Use Only */) {
	        var i,
	          setMatchers = [],
	          elementMatchers = [],
	          cached = compilerCache[selector + " "];
	        if (!cached) {
	          // Generate a function of recursive functions that can be used to check each element
	          if (!match) {
	            match = tokenize(selector);
	          }
	          i = match.length;
	          while (i--) {
	            cached = matcherFromTokens(match[i]);
	            if (cached[expando]) {
	              setMatchers.push(cached);
	            } else {
	              elementMatchers.push(cached);
	            }
	          }

	          // Cache the compiled function
	          cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));

	          // Save selector and tokenization
	          cached.selector = selector;
	        }
	        return cached;
	      }

	      /**
	       * A low-level selection function that works with jQuery's compiled
	       *  selector functions
	       * @param {String|Function} selector A selector or a pre-compiled
	       *  selector function built with jQuery selector compile
	       * @param {Element} context
	       * @param {Array} [results]
	       * @param {Array} [seed] A set of elements to match against
	       */
	      function select(selector, context, results, seed) {
	        var i,
	          tokens,
	          token,
	          type,
	          find,
	          compiled = typeof selector === "function" && selector,
	          match = !seed && tokenize(selector = compiled.selector || selector);
	        results = results || [];

	        // Try to minimize operations if there is only one selector in the list and no seed
	        // (the latter of which guarantees us context)
	        if (match.length === 1) {
	          // Reduce context if the leading compound selector is an ID
	          tokens = match[0] = match[0].slice(0);
	          if (tokens.length > 2 && (token = tokens[0]).type === "ID" && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {
	            context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0];
	            if (!context) {
	              return results;

	              // Precompiled matchers will still verify ancestry, so step up a level
	            } else if (compiled) {
	              context = context.parentNode;
	            }
	            selector = selector.slice(tokens.shift().value.length);
	          }

	          // Fetch a seed set for right-to-left matching
	          i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;
	          while (i--) {
	            token = tokens[i];

	            // Abort if we hit a combinator
	            if (Expr.relative[type = token.type]) {
	              break;
	            }
	            if (find = Expr.find[type]) {
	              // Search, expanding context for leading sibling combinators
	              if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {
	                // If seed is empty or no tokens remain, we can return early
	                tokens.splice(i, 1);
	                selector = seed.length && toSelector(tokens);
	                if (!selector) {
	                  push.apply(results, seed);
	                  return results;
	                }
	                break;
	              }
	            }
	          }
	        }

	        // Compile and execute a filtering function if one is not provided
	        // Provide `match` to avoid retokenization if we modified the selector above
	        (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, !context || rsibling.test(selector) && testContext(context.parentNode) || context);
	        return results;
	      }

	      // One-time assignments

	      // Support: Android <=4.0 - 4.1+
	      // Sort stability
	      support.sortStable = expando.split("").sort(sortOrder).join("") === expando;

	      // Initialize against the default document
	      setDocument();

	      // Support: Android <=4.0 - 4.1+
	      // Detached nodes confoundingly follow *each other*
	      support.sortDetached = assert(function (el) {
	        // Should return 1, but returns 4 (following)
	        return el.compareDocumentPosition(document.createElement("fieldset")) & 1;
	      });
	      jQuery.find = find;

	      // Deprecated
	      jQuery.expr[":"] = jQuery.expr.pseudos;
	      jQuery.unique = jQuery.uniqueSort;

	      // These have always been private, but they used to be documented as part of
	      // Sizzle so let's maintain them for now for backwards compatibility purposes.
	      find.compile = compile;
	      find.select = select;
	      find.setDocument = setDocument;
	      find.tokenize = tokenize;
	      find.escape = jQuery.escapeSelector;
	      find.getText = jQuery.text;
	      find.isXML = jQuery.isXMLDoc;
	      find.selectors = jQuery.expr;
	      find.support = jQuery.support;
	      find.uniqueSort = jQuery.uniqueSort;

	      /* eslint-enable */
	    })();

	    var dir = function (elem, dir, until) {
	      var matched = [],
	        truncate = until !== undefined;
	      while ((elem = elem[dir]) && elem.nodeType !== 9) {
	        if (elem.nodeType === 1) {
	          if (truncate && jQuery(elem).is(until)) {
	            break;
	          }
	          matched.push(elem);
	        }
	      }
	      return matched;
	    };
	    var siblings = function (n, elem) {
	      var matched = [];
	      for (; n; n = n.nextSibling) {
	        if (n.nodeType === 1 && n !== elem) {
	          matched.push(n);
	        }
	      }
	      return matched;
	    };
	    var rneedsContext = jQuery.expr.match.needsContext;
	    var rsingleTag = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;

	    // Implement the identical functionality for filter and not
	    function winnow(elements, qualifier, not) {
	      if (isFunction(qualifier)) {
	        return jQuery.grep(elements, function (elem, i) {
	          return !!qualifier.call(elem, i, elem) !== not;
	        });
	      }

	      // Single element
	      if (qualifier.nodeType) {
	        return jQuery.grep(elements, function (elem) {
	          return elem === qualifier !== not;
	        });
	      }

	      // Arraylike of elements (jQuery, arguments, Array)
	      if (typeof qualifier !== "string") {
	        return jQuery.grep(elements, function (elem) {
	          return indexOf.call(qualifier, elem) > -1 !== not;
	        });
	      }

	      // Filtered directly for both simple and complex selectors
	      return jQuery.filter(qualifier, elements, not);
	    }
	    jQuery.filter = function (expr, elems, not) {
	      var elem = elems[0];
	      if (not) {
	        expr = ":not(" + expr + ")";
	      }
	      if (elems.length === 1 && elem.nodeType === 1) {
	        return jQuery.find.matchesSelector(elem, expr) ? [elem] : [];
	      }
	      return jQuery.find.matches(expr, jQuery.grep(elems, function (elem) {
	        return elem.nodeType === 1;
	      }));
	    };
	    jQuery.fn.extend({
	      find: function (selector) {
	        var i,
	          ret,
	          len = this.length,
	          self = this;
	        if (typeof selector !== "string") {
	          return this.pushStack(jQuery(selector).filter(function () {
	            for (i = 0; i < len; i++) {
	              if (jQuery.contains(self[i], this)) {
	                return true;
	              }
	            }
	          }));
	        }
	        ret = this.pushStack([]);
	        for (i = 0; i < len; i++) {
	          jQuery.find(selector, self[i], ret);
	        }
	        return len > 1 ? jQuery.uniqueSort(ret) : ret;
	      },
	      filter: function (selector) {
	        return this.pushStack(winnow(this, selector || [], false));
	      },
	      not: function (selector) {
	        return this.pushStack(winnow(this, selector || [], true));
	      },
	      is: function (selector) {
	        return !!winnow(this,
	        // If this is a positional/relative selector, check membership in the returned set
	        // so $("p:first").is("p:last") won't return true for a doc with two "p".
	        typeof selector === "string" && rneedsContext.test(selector) ? jQuery(selector) : selector || [], false).length;
	      }
	    });

	    // Initialize a jQuery object

	    // A central reference to the root jQuery(document)
	    var rootjQuery,
	      // A simple way to check for HTML strings
	      // Prioritize #id over <tag> to avoid XSS via location.hash (trac-9521)
	      // Strict HTML recognition (trac-11290: must start with <)
	      // Shortcut simple #id case for speed
	      rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
	      init = jQuery.fn.init = function (selector, context, root) {
	        var match, elem;

	        // HANDLE: $(""), $(null), $(undefined), $(false)
	        if (!selector) {
	          return this;
	        }

	        // Method init() accepts an alternate rootjQuery
	        // so migrate can support jQuery.sub (gh-2101)
	        root = root || rootjQuery;

	        // Handle HTML strings
	        if (typeof selector === "string") {
	          if (selector[0] === "<" && selector[selector.length - 1] === ">" && selector.length >= 3) {
	            // Assume that strings that start and end with <> are HTML and skip the regex check
	            match = [null, selector, null];
	          } else {
	            match = rquickExpr.exec(selector);
	          }

	          // Match html or make sure no context is specified for #id
	          if (match && (match[1] || !context)) {
	            // HANDLE: $(html) -> $(array)
	            if (match[1]) {
	              context = context instanceof jQuery ? context[0] : context;

	              // Option to run scripts is true for back-compat
	              // Intentionally let the error be thrown if parseHTML is not present
	              jQuery.merge(this, jQuery.parseHTML(match[1], context && context.nodeType ? context.ownerDocument || context : document, true));

	              // HANDLE: $(html, props)
	              if (rsingleTag.test(match[1]) && jQuery.isPlainObject(context)) {
	                for (match in context) {
	                  // Properties of context are called as methods if possible
	                  if (isFunction(this[match])) {
	                    this[match](context[match]);

	                    // ...and otherwise set as attributes
	                  } else {
	                    this.attr(match, context[match]);
	                  }
	                }
	              }
	              return this;

	              // HANDLE: $(#id)
	            } else {
	              elem = document.getElementById(match[2]);
	              if (elem) {
	                // Inject the element directly into the jQuery object
	                this[0] = elem;
	                this.length = 1;
	              }
	              return this;
	            }

	            // HANDLE: $(expr, $(...))
	          } else if (!context || context.jquery) {
	            return (context || root).find(selector);

	            // HANDLE: $(expr, context)
	            // (which is just equivalent to: $(context).find(expr)
	          } else {
	            return this.constructor(context).find(selector);
	          }

	          // HANDLE: $(DOMElement)
	        } else if (selector.nodeType) {
	          this[0] = selector;
	          this.length = 1;
	          return this;

	          // HANDLE: $(function)
	          // Shortcut for document ready
	        } else if (isFunction(selector)) {
	          return root.ready !== undefined ? root.ready(selector) :
	          // Execute immediately if ready is not present
	          selector(jQuery);
	        }
	        return jQuery.makeArray(selector, this);
	      };

	    // Give the init function the jQuery prototype for later instantiation
	    init.prototype = jQuery.fn;

	    // Initialize central reference
	    rootjQuery = jQuery(document);
	    var rparentsprev = /^(?:parents|prev(?:Until|All))/,
	      // Methods guaranteed to produce a unique set when starting from a unique set
	      guaranteedUnique = {
	        children: true,
	        contents: true,
	        next: true,
	        prev: true
	      };
	    jQuery.fn.extend({
	      has: function (target) {
	        var targets = jQuery(target, this),
	          l = targets.length;
	        return this.filter(function () {
	          var i = 0;
	          for (; i < l; i++) {
	            if (jQuery.contains(this, targets[i])) {
	              return true;
	            }
	          }
	        });
	      },
	      closest: function (selectors, context) {
	        var cur,
	          i = 0,
	          l = this.length,
	          matched = [],
	          targets = typeof selectors !== "string" && jQuery(selectors);

	        // Positional selectors never match, since there's no _selection_ context
	        if (!rneedsContext.test(selectors)) {
	          for (; i < l; i++) {
	            for (cur = this[i]; cur && cur !== context; cur = cur.parentNode) {
	              // Always skip document fragments
	              if (cur.nodeType < 11 && (targets ? targets.index(cur) > -1 :
	              // Don't pass non-elements to jQuery#find
	              cur.nodeType === 1 && jQuery.find.matchesSelector(cur, selectors))) {
	                matched.push(cur);
	                break;
	              }
	            }
	          }
	        }
	        return this.pushStack(matched.length > 1 ? jQuery.uniqueSort(matched) : matched);
	      },
	      // Determine the position of an element within the set
	      index: function (elem) {
	        // No argument, return index in parent
	        if (!elem) {
	          return this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
	        }

	        // Index in selector
	        if (typeof elem === "string") {
	          return indexOf.call(jQuery(elem), this[0]);
	        }

	        // Locate the position of the desired element
	        return indexOf.call(this,
	        // If it receives a jQuery object, the first element is used
	        elem.jquery ? elem[0] : elem);
	      },
	      add: function (selector, context) {
	        return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(), jQuery(selector, context))));
	      },
	      addBack: function (selector) {
	        return this.add(selector == null ? this.prevObject : this.prevObject.filter(selector));
	      }
	    });
	    function sibling(cur, dir) {
	      while ((cur = cur[dir]) && cur.nodeType !== 1) {}
	      return cur;
	    }
	    jQuery.each({
	      parent: function (elem) {
	        var parent = elem.parentNode;
	        return parent && parent.nodeType !== 11 ? parent : null;
	      },
	      parents: function (elem) {
	        return dir(elem, "parentNode");
	      },
	      parentsUntil: function (elem, _i, until) {
	        return dir(elem, "parentNode", until);
	      },
	      next: function (elem) {
	        return sibling(elem, "nextSibling");
	      },
	      prev: function (elem) {
	        return sibling(elem, "previousSibling");
	      },
	      nextAll: function (elem) {
	        return dir(elem, "nextSibling");
	      },
	      prevAll: function (elem) {
	        return dir(elem, "previousSibling");
	      },
	      nextUntil: function (elem, _i, until) {
	        return dir(elem, "nextSibling", until);
	      },
	      prevUntil: function (elem, _i, until) {
	        return dir(elem, "previousSibling", until);
	      },
	      siblings: function (elem) {
	        return siblings((elem.parentNode || {}).firstChild, elem);
	      },
	      children: function (elem) {
	        return siblings(elem.firstChild);
	      },
	      contents: function (elem) {
	        if (elem.contentDocument != null &&
	        // Support: IE 11+
	        // <object> elements with no `data` attribute has an object
	        // `contentDocument` with a `null` prototype.
	        getProto(elem.contentDocument)) {
	          return elem.contentDocument;
	        }

	        // Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only
	        // Treat the template element as a regular one in browsers that
	        // don't support it.
	        if (nodeName(elem, "template")) {
	          elem = elem.content || elem;
	        }
	        return jQuery.merge([], elem.childNodes);
	      }
	    }, function (name, fn) {
	      jQuery.fn[name] = function (until, selector) {
	        var matched = jQuery.map(this, fn, until);
	        if (name.slice(-5) !== "Until") {
	          selector = until;
	        }
	        if (selector && typeof selector === "string") {
	          matched = jQuery.filter(selector, matched);
	        }
	        if (this.length > 1) {
	          // Remove duplicates
	          if (!guaranteedUnique[name]) {
	            jQuery.uniqueSort(matched);
	          }

	          // Reverse order for parents* and prev-derivatives
	          if (rparentsprev.test(name)) {
	            matched.reverse();
	          }
	        }
	        return this.pushStack(matched);
	      };
	    });
	    var rnothtmlwhite = /[^\x20\t\r\n\f]+/g;

	    // Convert String-formatted options into Object-formatted ones
	    function createOptions(options) {
	      var object = {};
	      jQuery.each(options.match(rnothtmlwhite) || [], function (_, flag) {
	        object[flag] = true;
	      });
	      return object;
	    }

	    /*
	     * Create a callback list using the following parameters:
	     *
	     *	options: an optional list of space-separated options that will change how
	     *			the callback list behaves or a more traditional option object
	     *
	     * By default a callback list will act like an event callback list and can be
	     * "fired" multiple times.
	     *
	     * Possible options:
	     *
	     *	once:			will ensure the callback list can only be fired once (like a Deferred)
	     *
	     *	memory:			will keep track of previous values and will call any callback added
	     *					after the list has been fired right away with the latest "memorized"
	     *					values (like a Deferred)
	     *
	     *	unique:			will ensure a callback can only be added once (no duplicate in the list)
	     *
	     *	stopOnFalse:	interrupt callings when a callback returns false
	     *
	     */
	    jQuery.Callbacks = function (options) {
	      // Convert options from String-formatted to Object-formatted if needed
	      // (we check in cache first)
	      options = typeof options === "string" ? createOptions(options) : jQuery.extend({}, options);
	      var
	        // Flag to know if list is currently firing
	        firing,
	        // Last fire value for non-forgettable lists
	        memory,
	        // Flag to know if list was already fired
	        fired,
	        // Flag to prevent firing
	        locked,
	        // Actual callback list
	        list = [],
	        // Queue of execution data for repeatable lists
	        queue = [],
	        // Index of currently firing callback (modified by add/remove as needed)
	        firingIndex = -1,
	        // Fire callbacks
	        fire = function () {
	          // Enforce single-firing
	          locked = locked || options.once;

	          // Execute callbacks for all pending executions,
	          // respecting firingIndex overrides and runtime changes
	          fired = firing = true;
	          for (; queue.length; firingIndex = -1) {
	            memory = queue.shift();
	            while (++firingIndex < list.length) {
	              // Run callback and check for early termination
	              if (list[firingIndex].apply(memory[0], memory[1]) === false && options.stopOnFalse) {
	                // Jump to end and forget the data so .add doesn't re-fire
	                firingIndex = list.length;
	                memory = false;
	              }
	            }
	          }

	          // Forget the data if we're done with it
	          if (!options.memory) {
	            memory = false;
	          }
	          firing = false;

	          // Clean up if we're done firing for good
	          if (locked) {
	            // Keep an empty list if we have data for future add calls
	            if (memory) {
	              list = [];

	              // Otherwise, this object is spent
	            } else {
	              list = "";
	            }
	          }
	        },
	        // Actual Callbacks object
	        self = {
	          // Add a callback or a collection of callbacks to the list
	          add: function () {
	            if (list) {
	              // If we have memory from a past run, we should fire after adding
	              if (memory && !firing) {
	                firingIndex = list.length - 1;
	                queue.push(memory);
	              }
	              (function add(args) {
	                jQuery.each(args, function (_, arg) {
	                  if (isFunction(arg)) {
	                    if (!options.unique || !self.has(arg)) {
	                      list.push(arg);
	                    }
	                  } else if (arg && arg.length && toType(arg) !== "string") {
	                    // Inspect recursively
	                    add(arg);
	                  }
	                });
	              })(arguments);
	              if (memory && !firing) {
	                fire();
	              }
	            }
	            return this;
	          },
	          // Remove a callback from the list
	          remove: function () {
	            jQuery.each(arguments, function (_, arg) {
	              var index;
	              while ((index = jQuery.inArray(arg, list, index)) > -1) {
	                list.splice(index, 1);

	                // Handle firing indexes
	                if (index <= firingIndex) {
	                  firingIndex--;
	                }
	              }
	            });
	            return this;
	          },
	          // Check if a given callback is in the list.
	          // If no argument is given, return whether or not list has callbacks attached.
	          has: function (fn) {
	            return fn ? jQuery.inArray(fn, list) > -1 : list.length > 0;
	          },
	          // Remove all callbacks from the list
	          empty: function () {
	            if (list) {
	              list = [];
	            }
	            return this;
	          },
	          // Disable .fire and .add
	          // Abort any current/pending executions
	          // Clear all callbacks and values
	          disable: function () {
	            locked = queue = [];
	            list = memory = "";
	            return this;
	          },
	          disabled: function () {
	            return !list;
	          },
	          // Disable .fire
	          // Also disable .add unless we have memory (since it would have no effect)
	          // Abort any pending executions
	          lock: function () {
	            locked = queue = [];
	            if (!memory && !firing) {
	              list = memory = "";
	            }
	            return this;
	          },
	          locked: function () {
	            return !!locked;
	          },
	          // Call all callbacks with the given context and arguments
	          fireWith: function (context, args) {
	            if (!locked) {
	              args = args || [];
	              args = [context, args.slice ? args.slice() : args];
	              queue.push(args);
	              if (!firing) {
	                fire();
	              }
	            }
	            return this;
	          },
	          // Call all the callbacks with the given arguments
	          fire: function () {
	            self.fireWith(this, arguments);
	            return this;
	          },
	          // To know if the callbacks have already been called at least once
	          fired: function () {
	            return !!fired;
	          }
	        };
	      return self;
	    };
	    function Identity(v) {
	      return v;
	    }
	    function Thrower(ex) {
	      throw ex;
	    }
	    function adoptValue(value, resolve, reject, noValue) {
	      var method;
	      try {
	        // Check for promise aspect first to privilege synchronous behavior
	        if (value && isFunction(method = value.promise)) {
	          method.call(value).done(resolve).fail(reject);

	          // Other thenables
	        } else if (value && isFunction(method = value.then)) {
	          method.call(value, resolve, reject);

	          // Other non-thenables
	        } else {
	          // Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:
	          // * false: [ value ].slice( 0 ) => resolve( value )
	          // * true: [ value ].slice( 1 ) => resolve()
	          resolve.apply(undefined, [value].slice(noValue));
	        }

	        // For Promises/A+, convert exceptions into rejections
	        // Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in
	        // Deferred#then to conditionally suppress rejection.
	      } catch (value) {
	        // Support: Android 4.0 only
	        // Strict mode functions invoked without .call/.apply get global-object context
	        reject.apply(undefined, [value]);
	      }
	    }
	    jQuery.extend({
	      Deferred: function (func) {
	        var tuples = [
	          // action, add listener, callbacks,
	          // ... .then handlers, argument index, [final state]
	          ["notify", "progress", jQuery.Callbacks("memory"), jQuery.Callbacks("memory"), 2], ["resolve", "done", jQuery.Callbacks("once memory"), jQuery.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", jQuery.Callbacks("once memory"), jQuery.Callbacks("once memory"), 1, "rejected"]],
	          state = "pending",
	          promise = {
	            state: function () {
	              return state;
	            },
	            always: function () {
	              deferred.done(arguments).fail(arguments);
	              return this;
	            },
	            "catch": function (fn) {
	              return promise.then(null, fn);
	            },
	            // Keep pipe for back-compat
	            pipe: function /* fnDone, fnFail, fnProgress */
	            () {
	              var fns = arguments;
	              return jQuery.Deferred(function (newDefer) {
	                jQuery.each(tuples, function (_i, tuple) {
	                  // Map tuples (progress, done, fail) to arguments (done, fail, progress)
	                  var fn = isFunction(fns[tuple[4]]) && fns[tuple[4]];

	                  // deferred.progress(function() { bind to newDefer or newDefer.notify })
	                  // deferred.done(function() { bind to newDefer or newDefer.resolve })
	                  // deferred.fail(function() { bind to newDefer or newDefer.reject })
	                  deferred[tuple[1]](function () {
	                    var returned = fn && fn.apply(this, arguments);
	                    if (returned && isFunction(returned.promise)) {
	                      returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject);
	                    } else {
	                      newDefer[tuple[0] + "With"](this, fn ? [returned] : arguments);
	                    }
	                  });
	                });
	                fns = null;
	              }).promise();
	            },
	            then: function (onFulfilled, onRejected, onProgress) {
	              var maxDepth = 0;
	              function resolve(depth, deferred, handler, special) {
	                return function () {
	                  var that = this,
	                    args = arguments,
	                    mightThrow = function () {
	                      var returned, then;

	                      // Support: Promises/A+ section 2.3.3.3.3
	                      // https://promisesaplus.com/#point-59
	                      // Ignore double-resolution attempts
	                      if (depth < maxDepth) {
	                        return;
	                      }
	                      returned = handler.apply(that, args);

	                      // Support: Promises/A+ section 2.3.1
	                      // https://promisesaplus.com/#point-48
	                      if (returned === deferred.promise()) {
	                        throw new TypeError("Thenable self-resolution");
	                      }

	                      // Support: Promises/A+ sections 2.3.3.1, 3.5
	                      // https://promisesaplus.com/#point-54
	                      // https://promisesaplus.com/#point-75
	                      // Retrieve `then` only once
	                      then = returned && (
	                      // Support: Promises/A+ section 2.3.4
	                      // https://promisesaplus.com/#point-64
	                      // Only check objects and functions for thenability
	                      typeof returned === "object" || typeof returned === "function") && returned.then;

	                      // Handle a returned thenable
	                      if (isFunction(then)) {
	                        // Special processors (notify) just wait for resolution
	                        if (special) {
	                          then.call(returned, resolve(maxDepth, deferred, Identity, special), resolve(maxDepth, deferred, Thrower, special));

	                          // Normal processors (resolve) also hook into progress
	                        } else {
	                          // ...and disregard older resolution values
	                          maxDepth++;
	                          then.call(returned, resolve(maxDepth, deferred, Identity, special), resolve(maxDepth, deferred, Thrower, special), resolve(maxDepth, deferred, Identity, deferred.notifyWith));
	                        }

	                        // Handle all other returned values
	                      } else {
	                        // Only substitute handlers pass on context
	                        // and multiple values (non-spec behavior)
	                        if (handler !== Identity) {
	                          that = undefined;
	                          args = [returned];
	                        }

	                        // Process the value(s)
	                        // Default process is resolve
	                        (special || deferred.resolveWith)(that, args);
	                      }
	                    },
	                    // Only normal processors (resolve) catch and reject exceptions
	                    process = special ? mightThrow : function () {
	                      try {
	                        mightThrow();
	                      } catch (e) {
	                        if (jQuery.Deferred.exceptionHook) {
	                          jQuery.Deferred.exceptionHook(e, process.error);
	                        }

	                        // Support: Promises/A+ section 2.3.3.3.4.1
	                        // https://promisesaplus.com/#point-61
	                        // Ignore post-resolution exceptions
	                        if (depth + 1 >= maxDepth) {
	                          // Only substitute handlers pass on context
	                          // and multiple values (non-spec behavior)
	                          if (handler !== Thrower) {
	                            that = undefined;
	                            args = [e];
	                          }
	                          deferred.rejectWith(that, args);
	                        }
	                      }
	                    };

	                  // Support: Promises/A+ section 2.3.3.3.1
	                  // https://promisesaplus.com/#point-57
	                  // Re-resolve promises immediately to dodge false rejection from
	                  // subsequent errors
	                  if (depth) {
	                    process();
	                  } else {
	                    // Call an optional hook to record the error, in case of exception
	                    // since it's otherwise lost when execution goes async
	                    if (jQuery.Deferred.getErrorHook) {
	                      process.error = jQuery.Deferred.getErrorHook();

	                      // The deprecated alias of the above. While the name suggests
	                      // returning the stack, not an error instance, jQuery just passes
	                      // it directly to `console.warn` so both will work; an instance
	                      // just better cooperates with source maps.
	                    } else if (jQuery.Deferred.getStackHook) {
	                      process.error = jQuery.Deferred.getStackHook();
	                    }
	                    window.setTimeout(process);
	                  }
	                };
	              }
	              return jQuery.Deferred(function (newDefer) {
	                // progress_handlers.add( ... )
	                tuples[0][3].add(resolve(0, newDefer, isFunction(onProgress) ? onProgress : Identity, newDefer.notifyWith));

	                // fulfilled_handlers.add( ... )
	                tuples[1][3].add(resolve(0, newDefer, isFunction(onFulfilled) ? onFulfilled : Identity));

	                // rejected_handlers.add( ... )
	                tuples[2][3].add(resolve(0, newDefer, isFunction(onRejected) ? onRejected : Thrower));
	              }).promise();
	            },
	            // Get a promise for this deferred
	            // If obj is provided, the promise aspect is added to the object
	            promise: function (obj) {
	              return obj != null ? jQuery.extend(obj, promise) : promise;
	            }
	          },
	          deferred = {};

	        // Add list-specific methods
	        jQuery.each(tuples, function (i, tuple) {
	          var list = tuple[2],
	            stateString = tuple[5];

	          // promise.progress = list.add
	          // promise.done = list.add
	          // promise.fail = list.add
	          promise[tuple[1]] = list.add;

	          // Handle state
	          if (stateString) {
	            list.add(function () {
	              // state = "resolved" (i.e., fulfilled)
	              // state = "rejected"
	              state = stateString;
	            },
	            // rejected_callbacks.disable
	            // fulfilled_callbacks.disable
	            tuples[3 - i][2].disable,
	            // rejected_handlers.disable
	            // fulfilled_handlers.disable
	            tuples[3 - i][3].disable,
	            // progress_callbacks.lock
	            tuples[0][2].lock,
	            // progress_handlers.lock
	            tuples[0][3].lock);
	          }

	          // progress_handlers.fire
	          // fulfilled_handlers.fire
	          // rejected_handlers.fire
	          list.add(tuple[3].fire);

	          // deferred.notify = function() { deferred.notifyWith(...) }
	          // deferred.resolve = function() { deferred.resolveWith(...) }
	          // deferred.reject = function() { deferred.rejectWith(...) }
	          deferred[tuple[0]] = function () {
	            deferred[tuple[0] + "With"](this === deferred ? undefined : this, arguments);
	            return this;
	          };

	          // deferred.notifyWith = list.fireWith
	          // deferred.resolveWith = list.fireWith
	          // deferred.rejectWith = list.fireWith
	          deferred[tuple[0] + "With"] = list.fireWith;
	        });

	        // Make the deferred a promise
	        promise.promise(deferred);

	        // Call given func if any
	        if (func) {
	          func.call(deferred, deferred);
	        }

	        // All done!
	        return deferred;
	      },
	      // Deferred helper
	      when: function (singleValue) {
	        var
	          // count of uncompleted subordinates
	          remaining = arguments.length,
	          // count of unprocessed arguments
	          i = remaining,
	          // subordinate fulfillment data
	          resolveContexts = Array(i),
	          resolveValues = slice.call(arguments),
	          // the primary Deferred
	          primary = jQuery.Deferred(),
	          // subordinate callback factory
	          updateFunc = function (i) {
	            return function (value) {
	              resolveContexts[i] = this;
	              resolveValues[i] = arguments.length > 1 ? slice.call(arguments) : value;
	              if (! --remaining) {
	                primary.resolveWith(resolveContexts, resolveValues);
	              }
	            };
	          };

	        // Single- and empty arguments are adopted like Promise.resolve
	        if (remaining <= 1) {
	          adoptValue(singleValue, primary.done(updateFunc(i)).resolve, primary.reject, !remaining);

	          // Use .then() to unwrap secondary thenables (cf. gh-3000)
	          if (primary.state() === "pending" || isFunction(resolveValues[i] && resolveValues[i].then)) {
	            return primary.then();
	          }
	        }

	        // Multiple arguments are aggregated like Promise.all array elements
	        while (i--) {
	          adoptValue(resolveValues[i], updateFunc(i), primary.reject);
	        }
	        return primary.promise();
	      }
	    });

	    // These usually indicate a programmer mistake during development,
	    // warn about them ASAP rather than swallowing them by default.
	    var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;

	    // If `jQuery.Deferred.getErrorHook` is defined, `asyncError` is an error
	    // captured before the async barrier to get the original error cause
	    // which may otherwise be hidden.
	    jQuery.Deferred.exceptionHook = function (error, asyncError) {
	      // Support: IE 8 - 9 only
	      // Console exists when dev tools are open, which can happen at any time
	      if (window.console && window.console.warn && error && rerrorNames.test(error.name)) {
	        window.console.warn("jQuery.Deferred exception: " + error.message, error.stack, asyncError);
	      }
	    };
	    jQuery.readyException = function (error) {
	      window.setTimeout(function () {
	        throw error;
	      });
	    };

	    // The deferred used on DOM ready
	    var readyList = jQuery.Deferred();
	    jQuery.fn.ready = function (fn) {
	      readyList.then(fn)

	      // Wrap jQuery.readyException in a function so that the lookup
	      // happens at the time of error handling instead of callback
	      // registration.
	      .catch(function (error) {
	        jQuery.readyException(error);
	      });
	      return this;
	    };
	    jQuery.extend({
	      // Is the DOM ready to be used? Set to true once it occurs.
	      isReady: false,
	      // A counter to track how many items to wait for before
	      // the ready event fires. See trac-6781
	      readyWait: 1,
	      // Handle when the DOM is ready
	      ready: function (wait) {
	        // Abort if there are pending holds or we're already ready
	        if (wait === true ? --jQuery.readyWait : jQuery.isReady) {
	          return;
	        }

	        // Remember that the DOM is ready
	        jQuery.isReady = true;

	        // If a normal DOM Ready event fired, decrement, and wait if need be
	        if (wait !== true && --jQuery.readyWait > 0) {
	          return;
	        }

	        // If there are functions bound, to execute
	        readyList.resolveWith(document, [jQuery]);
	      }
	    });
	    jQuery.ready.then = readyList.then;

	    // The ready event handler and self cleanup method
	    function completed() {
	      document.removeEventListener("DOMContentLoaded", completed);
	      window.removeEventListener("load", completed);
	      jQuery.ready();
	    }

	    // Catch cases where $(document).ready() is called
	    // after the browser event has already occurred.
	    // Support: IE <=9 - 10 only
	    // Older IE sometimes signals "interactive" too soon
	    if (document.readyState === "complete" || document.readyState !== "loading" && !document.documentElement.doScroll) {
	      // Handle it asynchronously to allow scripts the opportunity to delay ready
	      window.setTimeout(jQuery.ready);
	    } else {
	      // Use the handy event callback
	      document.addEventListener("DOMContentLoaded", completed);

	      // A fallback to window.onload, that will always work
	      window.addEventListener("load", completed);
	    }

	    // Multifunctional method to get and set values of a collection
	    // The value/s can optionally be executed if it's a function
	    var access = function (elems, fn, key, value, chainable, emptyGet, raw) {
	      var i = 0,
	        len = elems.length,
	        bulk = key == null;

	      // Sets many values
	      if (toType(key) === "object") {
	        chainable = true;
	        for (i in key) {
	          access(elems, fn, i, key[i], true, emptyGet, raw);
	        }

	        // Sets one value
	      } else if (value !== undefined) {
	        chainable = true;
	        if (!isFunction(value)) {
	          raw = true;
	        }
	        if (bulk) {
	          // Bulk operations run against the entire set
	          if (raw) {
	            fn.call(elems, value);
	            fn = null;

	            // ...except when executing function values
	          } else {
	            bulk = fn;
	            fn = function (elem, _key, value) {
	              return bulk.call(jQuery(elem), value);
	            };
	          }
	        }
	        if (fn) {
	          for (; i < len; i++) {
	            fn(elems[i], key, raw ? value : value.call(elems[i], i, fn(elems[i], key)));
	          }
	        }
	      }
	      if (chainable) {
	        return elems;
	      }

	      // Gets
	      if (bulk) {
	        return fn.call(elems);
	      }
	      return len ? fn(elems[0], key) : emptyGet;
	    };

	    // Matches dashed string for camelizing
	    var rmsPrefix = /^-ms-/,
	      rdashAlpha = /-([a-z])/g;

	    // Used by camelCase as callback to replace()
	    function fcamelCase(_all, letter) {
	      return letter.toUpperCase();
	    }

	    // Convert dashed to camelCase; used by the css and data modules
	    // Support: IE <=9 - 11, Edge 12 - 15
	    // Microsoft forgot to hump their vendor prefix (trac-9572)
	    function camelCase(string) {
	      return string.replace(rmsPrefix, "ms-").replace(rdashAlpha, fcamelCase);
	    }
	    var acceptData = function (owner) {
	      // Accepts only:
	      //  - Node
	      //    - Node.ELEMENT_NODE
	      //    - Node.DOCUMENT_NODE
	      //  - Object
	      //    - Any
	      return owner.nodeType === 1 || owner.nodeType === 9 || !+owner.nodeType;
	    };
	    function Data() {
	      this.expando = jQuery.expando + Data.uid++;
	    }
	    Data.uid = 1;
	    Data.prototype = {
	      cache: function (owner) {
	        // Check if the owner object already has a cache
	        var value = owner[this.expando];

	        // If not, create one
	        if (!value) {
	          value = {};

	          // We can accept data for non-element nodes in modern browsers,
	          // but we should not, see trac-8335.
	          // Always return an empty object.
	          if (acceptData(owner)) {
	            // If it is a node unlikely to be stringify-ed or looped over
	            // use plain assignment
	            if (owner.nodeType) {
	              owner[this.expando] = value;

	              // Otherwise secure it in a non-enumerable property
	              // configurable must be true to allow the property to be
	              // deleted when data is removed
	            } else {
	              Object.defineProperty(owner, this.expando, {
	                value: value,
	                configurable: true
	              });
	            }
	          }
	        }
	        return value;
	      },
	      set: function (owner, data, value) {
	        var prop,
	          cache = this.cache(owner);

	        // Handle: [ owner, key, value ] args
	        // Always use camelCase key (gh-2257)
	        if (typeof data === "string") {
	          cache[camelCase(data)] = value;

	          // Handle: [ owner, { properties } ] args
	        } else {
	          // Copy the properties one-by-one to the cache object
	          for (prop in data) {
	            cache[camelCase(prop)] = data[prop];
	          }
	        }
	        return cache;
	      },
	      get: function (owner, key) {
	        return key === undefined ? this.cache(owner) :
	        // Always use camelCase key (gh-2257)
	        owner[this.expando] && owner[this.expando][camelCase(key)];
	      },
	      access: function (owner, key, value) {
	        // In cases where either:
	        //
	        //   1. No key was specified
	        //   2. A string key was specified, but no value provided
	        //
	        // Take the "read" path and allow the get method to determine
	        // which value to return, respectively either:
	        //
	        //   1. The entire cache object
	        //   2. The data stored at the key
	        //
	        if (key === undefined || key && typeof key === "string" && value === undefined) {
	          return this.get(owner, key);
	        }

	        // When the key is not a string, or both a key and value
	        // are specified, set or extend (existing objects) with either:
	        //
	        //   1. An object of properties
	        //   2. A key and value
	        //
	        this.set(owner, key, value);

	        // Since the "set" path can have two possible entry points
	        // return the expected data based on which path was taken[*]
	        return value !== undefined ? value : key;
	      },
	      remove: function (owner, key) {
	        var i,
	          cache = owner[this.expando];
	        if (cache === undefined) {
	          return;
	        }
	        if (key !== undefined) {
	          // Support array or space separated string of keys
	          if (Array.isArray(key)) {
	            // If key is an array of keys...
	            // We always set camelCase keys, so remove that.
	            key = key.map(camelCase);
	          } else {
	            key = camelCase(key);

	            // If a key with the spaces exists, use it.
	            // Otherwise, create an array by matching non-whitespace
	            key = key in cache ? [key] : key.match(rnothtmlwhite) || [];
	          }
	          i = key.length;
	          while (i--) {
	            delete cache[key[i]];
	          }
	        }

	        // Remove the expando if there's no more data
	        if (key === undefined || jQuery.isEmptyObject(cache)) {
	          // Support: Chrome <=35 - 45
	          // Webkit & Blink performance suffers when deleting properties
	          // from DOM nodes, so set to undefined instead
	          // https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)
	          if (owner.nodeType) {
	            owner[this.expando] = undefined;
	          } else {
	            delete owner[this.expando];
	          }
	        }
	      },
	      hasData: function (owner) {
	        var cache = owner[this.expando];
	        return cache !== undefined && !jQuery.isEmptyObject(cache);
	      }
	    };
	    var dataPriv = new Data();
	    var dataUser = new Data();

	    //	Implementation Summary
	    //
	    //	1. Enforce API surface and semantic compatibility with 1.9.x branch
	    //	2. Improve the module's maintainability by reducing the storage
	    //		paths to a single mechanism.
	    //	3. Use the same single mechanism to support "private" and "user" data.
	    //	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
	    //	5. Avoid exposing implementation details on user objects (eg. expando properties)
	    //	6. Provide a clear path for implementation upgrade to WeakMap in 2014

	    var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	      rmultiDash = /[A-Z]/g;
	    function getData(data) {
	      if (data === "true") {
	        return true;
	      }
	      if (data === "false") {
	        return false;
	      }
	      if (data === "null") {
	        return null;
	      }

	      // Only convert to a number if it doesn't change the string
	      if (data === +data + "") {
	        return +data;
	      }
	      if (rbrace.test(data)) {
	        return JSON.parse(data);
	      }
	      return data;
	    }
	    function dataAttr(elem, key, data) {
	      var name;

	      // If nothing was found internally, try to fetch any
	      // data from the HTML5 data-* attribute
	      if (data === undefined && elem.nodeType === 1) {
	        name = "data-" + key.replace(rmultiDash, "-$&").toLowerCase();
	        data = elem.getAttribute(name);
	        if (typeof data === "string") {
	          try {
	            data = getData(data);
	          } catch (e) {}

	          // Make sure we set the data so it isn't changed later
	          dataUser.set(elem, key, data);
	        } else {
	          data = undefined;
	        }
	      }
	      return data;
	    }
	    jQuery.extend({
	      hasData: function (elem) {
	        return dataUser.hasData(elem) || dataPriv.hasData(elem);
	      },
	      data: function (elem, name, data) {
	        return dataUser.access(elem, name, data);
	      },
	      removeData: function (elem, name) {
	        dataUser.remove(elem, name);
	      },
	      // TODO: Now that all calls to _data and _removeData have been replaced
	      // with direct calls to dataPriv methods, these can be deprecated.
	      _data: function (elem, name, data) {
	        return dataPriv.access(elem, name, data);
	      },
	      _removeData: function (elem, name) {
	        dataPriv.remove(elem, name);
	      }
	    });
	    jQuery.fn.extend({
	      data: function (key, value) {
	        var i,
	          name,
	          data,
	          elem = this[0],
	          attrs = elem && elem.attributes;

	        // Gets all values
	        if (key === undefined) {
	          if (this.length) {
	            data = dataUser.get(elem);
	            if (elem.nodeType === 1 && !dataPriv.get(elem, "hasDataAttrs")) {
	              i = attrs.length;
	              while (i--) {
	                // Support: IE 11 only
	                // The attrs elements can be null (trac-14894)
	                if (attrs[i]) {
	                  name = attrs[i].name;
	                  if (name.indexOf("data-") === 0) {
	                    name = camelCase(name.slice(5));
	                    dataAttr(elem, name, data[name]);
	                  }
	                }
	              }
	              dataPriv.set(elem, "hasDataAttrs", true);
	            }
	          }
	          return data;
	        }

	        // Sets multiple values
	        if (typeof key === "object") {
	          return this.each(function () {
	            dataUser.set(this, key);
	          });
	        }
	        return access(this, function (value) {
	          var data;

	          // The calling jQuery object (element matches) is not empty
	          // (and therefore has an element appears at this[ 0 ]) and the
	          // `value` parameter was not undefined. An empty jQuery object
	          // will result in `undefined` for elem = this[ 0 ] which will
	          // throw an exception if an attempt to read a data cache is made.
	          if (elem && value === undefined) {
	            // Attempt to get data from the cache
	            // The key will always be camelCased in Data
	            data = dataUser.get(elem, key);
	            if (data !== undefined) {
	              return data;
	            }

	            // Attempt to "discover" the data in
	            // HTML5 custom data-* attrs
	            data = dataAttr(elem, key);
	            if (data !== undefined) {
	              return data;
	            }

	            // We tried really hard, but the data doesn't exist.
	            return;
	          }

	          // Set the data...
	          this.each(function () {
	            // We always store the camelCased key
	            dataUser.set(this, key, value);
	          });
	        }, null, value, arguments.length > 1, null, true);
	      },
	      removeData: function (key) {
	        return this.each(function () {
	          dataUser.remove(this, key);
	        });
	      }
	    });
	    jQuery.extend({
	      queue: function (elem, type, data) {
	        var queue;
	        if (elem) {
	          type = (type || "fx") + "queue";
	          queue = dataPriv.get(elem, type);

	          // Speed up dequeue by getting out quickly if this is just a lookup
	          if (data) {
	            if (!queue || Array.isArray(data)) {
	              queue = dataPriv.access(elem, type, jQuery.makeArray(data));
	            } else {
	              queue.push(data);
	            }
	          }
	          return queue || [];
	        }
	      },
	      dequeue: function (elem, type) {
	        type = type || "fx";
	        var queue = jQuery.queue(elem, type),
	          startLength = queue.length,
	          fn = queue.shift(),
	          hooks = jQuery._queueHooks(elem, type),
	          next = function () {
	            jQuery.dequeue(elem, type);
	          };

	        // If the fx queue is dequeued, always remove the progress sentinel
	        if (fn === "inprogress") {
	          fn = queue.shift();
	          startLength--;
	        }
	        if (fn) {
	          // Add a progress sentinel to prevent the fx queue from being
	          // automatically dequeued
	          if (type === "fx") {
	            queue.unshift("inprogress");
	          }

	          // Clear up the last queue stop function
	          delete hooks.stop;
	          fn.call(elem, next, hooks);
	        }
	        if (!startLength && hooks) {
	          hooks.empty.fire();
	        }
	      },
	      // Not public - generate a queueHooks object, or return the current one
	      _queueHooks: function (elem, type) {
	        var key = type + "queueHooks";
	        return dataPriv.get(elem, key) || dataPriv.access(elem, key, {
	          empty: jQuery.Callbacks("once memory").add(function () {
	            dataPriv.remove(elem, [type + "queue", key]);
	          })
	        });
	      }
	    });
	    jQuery.fn.extend({
	      queue: function (type, data) {
	        var setter = 2;
	        if (typeof type !== "string") {
	          data = type;
	          type = "fx";
	          setter--;
	        }
	        if (arguments.length < setter) {
	          return jQuery.queue(this[0], type);
	        }
	        return data === undefined ? this : this.each(function () {
	          var queue = jQuery.queue(this, type, data);

	          // Ensure a hooks for this queue
	          jQuery._queueHooks(this, type);
	          if (type === "fx" && queue[0] !== "inprogress") {
	            jQuery.dequeue(this, type);
	          }
	        });
	      },
	      dequeue: function (type) {
	        return this.each(function () {
	          jQuery.dequeue(this, type);
	        });
	      },
	      clearQueue: function (type) {
	        return this.queue(type || "fx", []);
	      },
	      // Get a promise resolved when queues of a certain type
	      // are emptied (fx is the type by default)
	      promise: function (type, obj) {
	        var tmp,
	          count = 1,
	          defer = jQuery.Deferred(),
	          elements = this,
	          i = this.length,
	          resolve = function () {
	            if (! --count) {
	              defer.resolveWith(elements, [elements]);
	            }
	          };
	        if (typeof type !== "string") {
	          obj = type;
	          type = undefined;
	        }
	        type = type || "fx";
	        while (i--) {
	          tmp = dataPriv.get(elements[i], type + "queueHooks");
	          if (tmp && tmp.empty) {
	            count++;
	            tmp.empty.add(resolve);
	          }
	        }
	        resolve();
	        return defer.promise(obj);
	      }
	    });
	    var pnum = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;
	    var rcssNum = new RegExp("^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i");
	    var cssExpand = ["Top", "Right", "Bottom", "Left"];
	    var documentElement = document.documentElement;
	    var isAttached = function (elem) {
	        return jQuery.contains(elem.ownerDocument, elem);
	      },
	      composed = {
	        composed: true
	      };

	    // Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only
	    // Check attachment across shadow DOM boundaries when possible (gh-3504)
	    // Support: iOS 10.0-10.2 only
	    // Early iOS 10 versions support `attachShadow` but not `getRootNode`,
	    // leading to errors. We need to check for `getRootNode`.
	    if (documentElement.getRootNode) {
	      isAttached = function (elem) {
	        return jQuery.contains(elem.ownerDocument, elem) || elem.getRootNode(composed) === elem.ownerDocument;
	      };
	    }
	    var isHiddenWithinTree = function (elem, el) {
	      // isHiddenWithinTree might be called from jQuery#filter function;
	      // in that case, element will be second argument
	      elem = el || elem;

	      // Inline style trumps all
	      return elem.style.display === "none" || elem.style.display === "" &&
	      // Otherwise, check computed style
	      // Support: Firefox <=43 - 45
	      // Disconnected elements can have computed display: none, so first confirm that elem is
	      // in the document.
	      isAttached(elem) && jQuery.css(elem, "display") === "none";
	    };
	    function adjustCSS(elem, prop, valueParts, tween) {
	      var adjusted,
	        scale,
	        maxIterations = 20,
	        currentValue = tween ? function () {
	          return tween.cur();
	        } : function () {
	          return jQuery.css(elem, prop, "");
	        },
	        initial = currentValue(),
	        unit = valueParts && valueParts[3] || (jQuery.cssNumber[prop] ? "" : "px"),
	        // Starting value computation is required for potential unit mismatches
	        initialInUnit = elem.nodeType && (jQuery.cssNumber[prop] || unit !== "px" && +initial) && rcssNum.exec(jQuery.css(elem, prop));
	      if (initialInUnit && initialInUnit[3] !== unit) {
	        // Support: Firefox <=54
	        // Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)
	        initial = initial / 2;

	        // Trust units reported by jQuery.css
	        unit = unit || initialInUnit[3];

	        // Iteratively approximate from a nonzero starting point
	        initialInUnit = +initial || 1;
	        while (maxIterations--) {
	          // Evaluate and update our best guess (doubling guesses that zero out).
	          // Finish if the scale equals or crosses 1 (making the old*new product non-positive).
	          jQuery.style(elem, prop, initialInUnit + unit);
	          if ((1 - scale) * (1 - (scale = currentValue() / initial || 0.5)) <= 0) {
	            maxIterations = 0;
	          }
	          initialInUnit = initialInUnit / scale;
	        }
	        initialInUnit = initialInUnit * 2;
	        jQuery.style(elem, prop, initialInUnit + unit);

	        // Make sure we update the tween properties later on
	        valueParts = valueParts || [];
	      }
	      if (valueParts) {
	        initialInUnit = +initialInUnit || +initial || 0;

	        // Apply relative offset (+=/-=) if specified
	        adjusted = valueParts[1] ? initialInUnit + (valueParts[1] + 1) * valueParts[2] : +valueParts[2];
	        if (tween) {
	          tween.unit = unit;
	          tween.start = initialInUnit;
	          tween.end = adjusted;
	        }
	      }
	      return adjusted;
	    }
	    var defaultDisplayMap = {};
	    function getDefaultDisplay(elem) {
	      var temp,
	        doc = elem.ownerDocument,
	        nodeName = elem.nodeName,
	        display = defaultDisplayMap[nodeName];
	      if (display) {
	        return display;
	      }
	      temp = doc.body.appendChild(doc.createElement(nodeName));
	      display = jQuery.css(temp, "display");
	      temp.parentNode.removeChild(temp);
	      if (display === "none") {
	        display = "block";
	      }
	      defaultDisplayMap[nodeName] = display;
	      return display;
	    }
	    function showHide(elements, show) {
	      var display,
	        elem,
	        values = [],
	        index = 0,
	        length = elements.length;

	      // Determine new display value for elements that need to change
	      for (; index < length; index++) {
	        elem = elements[index];
	        if (!elem.style) {
	          continue;
	        }
	        display = elem.style.display;
	        if (show) {
	          // Since we force visibility upon cascade-hidden elements, an immediate (and slow)
	          // check is required in this first loop unless we have a nonempty display value (either
	          // inline or about-to-be-restored)
	          if (display === "none") {
	            values[index] = dataPriv.get(elem, "display") || null;
	            if (!values[index]) {
	              elem.style.display = "";
	            }
	          }
	          if (elem.style.display === "" && isHiddenWithinTree(elem)) {
	            values[index] = getDefaultDisplay(elem);
	          }
	        } else {
	          if (display !== "none") {
	            values[index] = "none";

	            // Remember what we're overwriting
	            dataPriv.set(elem, "display", display);
	          }
	        }
	      }

	      // Set the display of the elements in a second loop to avoid constant reflow
	      for (index = 0; index < length; index++) {
	        if (values[index] != null) {
	          elements[index].style.display = values[index];
	        }
	      }
	      return elements;
	    }
	    jQuery.fn.extend({
	      show: function () {
	        return showHide(this, true);
	      },
	      hide: function () {
	        return showHide(this);
	      },
	      toggle: function (state) {
	        if (typeof state === "boolean") {
	          return state ? this.show() : this.hide();
	        }
	        return this.each(function () {
	          if (isHiddenWithinTree(this)) {
	            jQuery(this).show();
	          } else {
	            jQuery(this).hide();
	          }
	        });
	      }
	    });
	    var rcheckableType = /^(?:checkbox|radio)$/i;
	    var rtagName = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i;
	    var rscriptType = /^$|^module$|\/(?:java|ecma)script/i;
	    (function () {
	      var fragment = document.createDocumentFragment(),
	        div = fragment.appendChild(document.createElement("div")),
	        input = document.createElement("input");

	      // Support: Android 4.0 - 4.3 only
	      // Check state lost if the name is set (trac-11217)
	      // Support: Windows Web Apps (WWA)
	      // `name` and `type` must use .setAttribute for WWA (trac-14901)
	      input.setAttribute("type", "radio");
	      input.setAttribute("checked", "checked");
	      input.setAttribute("name", "t");
	      div.appendChild(input);

	      // Support: Android <=4.1 only
	      // Older WebKit doesn't clone checked state correctly in fragments
	      support.checkClone = div.cloneNode(true).cloneNode(true).lastChild.checked;

	      // Support: IE <=11 only
	      // Make sure textarea (and checkbox) defaultValue is properly cloned
	      div.innerHTML = "<textarea>x</textarea>";
	      support.noCloneChecked = !!div.cloneNode(true).lastChild.defaultValue;

	      // Support: IE <=9 only
	      // IE <=9 replaces <option> tags with their contents when inserted outside of
	      // the select element.
	      div.innerHTML = "<option></option>";
	      support.option = !!div.lastChild;
	    })();

	    // We have to close these tags to support XHTML (trac-13200)
	    var wrapMap = {
	      // XHTML parsers do not magically insert elements in the
	      // same way that tag soup parsers do. So we cannot shorten
	      // this by omitting <tbody> or other required elements.
	      thead: [1, "<table>", "</table>"],
	      col: [2, "<table><colgroup>", "</colgroup></table>"],
	      tr: [2, "<table><tbody>", "</tbody></table>"],
	      td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
	      _default: [0, "", ""]
	    };
	    wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
	    wrapMap.th = wrapMap.td;

	    // Support: IE <=9 only
	    if (!support.option) {
	      wrapMap.optgroup = wrapMap.option = [1, "<select multiple='multiple'>", "</select>"];
	    }
	    function getAll(context, tag) {
	      // Support: IE <=9 - 11 only
	      // Use typeof to avoid zero-argument method invocation on host objects (trac-15151)
	      var ret;
	      if (typeof context.getElementsByTagName !== "undefined") {
	        ret = context.getElementsByTagName(tag || "*");
	      } else if (typeof context.querySelectorAll !== "undefined") {
	        ret = context.querySelectorAll(tag || "*");
	      } else {
	        ret = [];
	      }
	      if (tag === undefined || tag && nodeName(context, tag)) {
	        return jQuery.merge([context], ret);
	      }
	      return ret;
	    }

	    // Mark scripts as having already been evaluated
	    function setGlobalEval(elems, refElements) {
	      var i = 0,
	        l = elems.length;
	      for (; i < l; i++) {
	        dataPriv.set(elems[i], "globalEval", !refElements || dataPriv.get(refElements[i], "globalEval"));
	      }
	    }
	    var rhtml = /<|&#?\w+;/;
	    function buildFragment(elems, context, scripts, selection, ignored) {
	      var elem,
	        tmp,
	        tag,
	        wrap,
	        attached,
	        j,
	        fragment = context.createDocumentFragment(),
	        nodes = [],
	        i = 0,
	        l = elems.length;
	      for (; i < l; i++) {
	        elem = elems[i];
	        if (elem || elem === 0) {
	          // Add nodes directly
	          if (toType(elem) === "object") {
	            // Support: Android <=4.0 only, PhantomJS 1 only
	            // push.apply(_, arraylike) throws on ancient WebKit
	            jQuery.merge(nodes, elem.nodeType ? [elem] : elem);

	            // Convert non-html into a text node
	          } else if (!rhtml.test(elem)) {
	            nodes.push(context.createTextNode(elem));

	            // Convert html into DOM nodes
	          } else {
	            tmp = tmp || fragment.appendChild(context.createElement("div"));

	            // Deserialize a standard representation
	            tag = (rtagName.exec(elem) || ["", ""])[1].toLowerCase();
	            wrap = wrapMap[tag] || wrapMap._default;
	            tmp.innerHTML = wrap[1] + jQuery.htmlPrefilter(elem) + wrap[2];

	            // Descend through wrappers to the right content
	            j = wrap[0];
	            while (j--) {
	              tmp = tmp.lastChild;
	            }

	            // Support: Android <=4.0 only, PhantomJS 1 only
	            // push.apply(_, arraylike) throws on ancient WebKit
	            jQuery.merge(nodes, tmp.childNodes);

	            // Remember the top-level container
	            tmp = fragment.firstChild;

	            // Ensure the created nodes are orphaned (trac-12392)
	            tmp.textContent = "";
	          }
	        }
	      }

	      // Remove wrapper from fragment
	      fragment.textContent = "";
	      i = 0;
	      while (elem = nodes[i++]) {
	        // Skip elements already in the context collection (trac-4087)
	        if (selection && jQuery.inArray(elem, selection) > -1) {
	          if (ignored) {
	            ignored.push(elem);
	          }
	          continue;
	        }
	        attached = isAttached(elem);

	        // Append to fragment
	        tmp = getAll(fragment.appendChild(elem), "script");

	        // Preserve script evaluation history
	        if (attached) {
	          setGlobalEval(tmp);
	        }

	        // Capture executables
	        if (scripts) {
	          j = 0;
	          while (elem = tmp[j++]) {
	            if (rscriptType.test(elem.type || "")) {
	              scripts.push(elem);
	            }
	          }
	        }
	      }
	      return fragment;
	    }
	    var rtypenamespace = /^([^.]*)(?:\.(.+)|)/;
	    function returnTrue() {
	      return true;
	    }
	    function returnFalse() {
	      return false;
	    }
	    function on(elem, types, selector, data, fn, one) {
	      var origFn, type;

	      // Types can be a map of types/handlers
	      if (typeof types === "object") {
	        // ( types-Object, selector, data )
	        if (typeof selector !== "string") {
	          // ( types-Object, data )
	          data = data || selector;
	          selector = undefined;
	        }
	        for (type in types) {
	          on(elem, type, selector, data, types[type], one);
	        }
	        return elem;
	      }
	      if (data == null && fn == null) {
	        // ( types, fn )
	        fn = selector;
	        data = selector = undefined;
	      } else if (fn == null) {
	        if (typeof selector === "string") {
	          // ( types, selector, fn )
	          fn = data;
	          data = undefined;
	        } else {
	          // ( types, data, fn )
	          fn = data;
	          data = selector;
	          selector = undefined;
	        }
	      }
	      if (fn === false) {
	        fn = returnFalse;
	      } else if (!fn) {
	        return elem;
	      }
	      if (one === 1) {
	        origFn = fn;
	        fn = function (event) {
	          // Can use an empty set, since event contains the info
	          jQuery().off(event);
	          return origFn.apply(this, arguments);
	        };

	        // Use same guid so caller can remove using origFn
	        fn.guid = origFn.guid || (origFn.guid = jQuery.guid++);
	      }
	      return elem.each(function () {
	        jQuery.event.add(this, types, fn, data, selector);
	      });
	    }

	    /*
	     * Helper functions for managing events -- not part of the public interface.
	     * Props to Dean Edwards' addEvent library for many of the ideas.
	     */
	    jQuery.event = {
	      global: {},
	      add: function (elem, types, handler, data, selector) {
	        var handleObjIn,
	          eventHandle,
	          tmp,
	          events,
	          t,
	          handleObj,
	          special,
	          handlers,
	          type,
	          namespaces,
	          origType,
	          elemData = dataPriv.get(elem);

	        // Only attach events to objects that accept data
	        if (!acceptData(elem)) {
	          return;
	        }

	        // Caller can pass in an object of custom data in lieu of the handler
	        if (handler.handler) {
	          handleObjIn = handler;
	          handler = handleObjIn.handler;
	          selector = handleObjIn.selector;
	        }

	        // Ensure that invalid selectors throw exceptions at attach time
	        // Evaluate against documentElement in case elem is a non-element node (e.g., document)
	        if (selector) {
	          jQuery.find.matchesSelector(documentElement, selector);
	        }

	        // Make sure that the handler has a unique ID, used to find/remove it later
	        if (!handler.guid) {
	          handler.guid = jQuery.guid++;
	        }

	        // Init the element's event structure and main handler, if this is the first
	        if (!(events = elemData.events)) {
	          events = elemData.events = Object.create(null);
	        }
	        if (!(eventHandle = elemData.handle)) {
	          eventHandle = elemData.handle = function (e) {
	            // Discard the second event of a jQuery.event.trigger() and
	            // when an event is called after a page has unloaded
	            return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ? jQuery.event.dispatch.apply(elem, arguments) : undefined;
	          };
	        }

	        // Handle multiple events separated by a space
	        types = (types || "").match(rnothtmlwhite) || [""];
	        t = types.length;
	        while (t--) {
	          tmp = rtypenamespace.exec(types[t]) || [];
	          type = origType = tmp[1];
	          namespaces = (tmp[2] || "").split(".").sort();

	          // There *must* be a type, no attaching namespace-only handlers
	          if (!type) {
	            continue;
	          }

	          // If event changes its type, use the special event handlers for the changed type
	          special = jQuery.event.special[type] || {};

	          // If selector defined, determine special event api type, otherwise given type
	          type = (selector ? special.delegateType : special.bindType) || type;

	          // Update special based on newly reset type
	          special = jQuery.event.special[type] || {};

	          // handleObj is passed to all event handlers
	          handleObj = jQuery.extend({
	            type: type,
	            origType: origType,
	            data: data,
	            handler: handler,
	            guid: handler.guid,
	            selector: selector,
	            needsContext: selector && jQuery.expr.match.needsContext.test(selector),
	            namespace: namespaces.join(".")
	          }, handleObjIn);

	          // Init the event handler queue if we're the first
	          if (!(handlers = events[type])) {
	            handlers = events[type] = [];
	            handlers.delegateCount = 0;

	            // Only use addEventListener if the special events handler returns false
	            if (!special.setup || special.setup.call(elem, data, namespaces, eventHandle) === false) {
	              if (elem.addEventListener) {
	                elem.addEventListener(type, eventHandle);
	              }
	            }
	          }
	          if (special.add) {
	            special.add.call(elem, handleObj);
	            if (!handleObj.handler.guid) {
	              handleObj.handler.guid = handler.guid;
	            }
	          }

	          // Add to the element's handler list, delegates in front
	          if (selector) {
	            handlers.splice(handlers.delegateCount++, 0, handleObj);
	          } else {
	            handlers.push(handleObj);
	          }

	          // Keep track of which events have ever been used, for event optimization
	          jQuery.event.global[type] = true;
	        }
	      },
	      // Detach an event or set of events from an element
	      remove: function (elem, types, handler, selector, mappedTypes) {
	        var j,
	          origCount,
	          tmp,
	          events,
	          t,
	          handleObj,
	          special,
	          handlers,
	          type,
	          namespaces,
	          origType,
	          elemData = dataPriv.hasData(elem) && dataPriv.get(elem);
	        if (!elemData || !(events = elemData.events)) {
	          return;
	        }

	        // Once for each type.namespace in types; type may be omitted
	        types = (types || "").match(rnothtmlwhite) || [""];
	        t = types.length;
	        while (t--) {
	          tmp = rtypenamespace.exec(types[t]) || [];
	          type = origType = tmp[1];
	          namespaces = (tmp[2] || "").split(".").sort();

	          // Unbind all events (on this namespace, if provided) for the element
	          if (!type) {
	            for (type in events) {
	              jQuery.event.remove(elem, type + types[t], handler, selector, true);
	            }
	            continue;
	          }
	          special = jQuery.event.special[type] || {};
	          type = (selector ? special.delegateType : special.bindType) || type;
	          handlers = events[type] || [];
	          tmp = tmp[2] && new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)");

	          // Remove matching events
	          origCount = j = handlers.length;
	          while (j--) {
	            handleObj = handlers[j];
	            if ((mappedTypes || origType === handleObj.origType) && (!handler || handler.guid === handleObj.guid) && (!tmp || tmp.test(handleObj.namespace)) && (!selector || selector === handleObj.selector || selector === "**" && handleObj.selector)) {
	              handlers.splice(j, 1);
	              if (handleObj.selector) {
	                handlers.delegateCount--;
	              }
	              if (special.remove) {
	                special.remove.call(elem, handleObj);
	              }
	            }
	          }

	          // Remove generic event handler if we removed something and no more handlers exist
	          // (avoids potential for endless recursion during removal of special event handlers)
	          if (origCount && !handlers.length) {
	            if (!special.teardown || special.teardown.call(elem, namespaces, elemData.handle) === false) {
	              jQuery.removeEvent(elem, type, elemData.handle);
	            }
	            delete events[type];
	          }
	        }

	        // Remove data and the expando if it's no longer used
	        if (jQuery.isEmptyObject(events)) {
	          dataPriv.remove(elem, "handle events");
	        }
	      },
	      dispatch: function (nativeEvent) {
	        var i,
	          j,
	          ret,
	          matched,
	          handleObj,
	          handlerQueue,
	          args = new Array(arguments.length),
	          // Make a writable jQuery.Event from the native event object
	          event = jQuery.event.fix(nativeEvent),
	          handlers = (dataPriv.get(this, "events") || Object.create(null))[event.type] || [],
	          special = jQuery.event.special[event.type] || {};

	        // Use the fix-ed jQuery.Event rather than the (read-only) native event
	        args[0] = event;
	        for (i = 1; i < arguments.length; i++) {
	          args[i] = arguments[i];
	        }
	        event.delegateTarget = this;

	        // Call the preDispatch hook for the mapped type, and let it bail if desired
	        if (special.preDispatch && special.preDispatch.call(this, event) === false) {
	          return;
	        }

	        // Determine handlers
	        handlerQueue = jQuery.event.handlers.call(this, event, handlers);

	        // Run delegates first; they may want to stop propagation beneath us
	        i = 0;
	        while ((matched = handlerQueue[i++]) && !event.isPropagationStopped()) {
	          event.currentTarget = matched.elem;
	          j = 0;
	          while ((handleObj = matched.handlers[j++]) && !event.isImmediatePropagationStopped()) {
	            // If the event is namespaced, then each handler is only invoked if it is
	            // specially universal or its namespaces are a superset of the event's.
	            if (!event.rnamespace || handleObj.namespace === false || event.rnamespace.test(handleObj.namespace)) {
	              event.handleObj = handleObj;
	              event.data = handleObj.data;
	              ret = ((jQuery.event.special[handleObj.origType] || {}).handle || handleObj.handler).apply(matched.elem, args);
	              if (ret !== undefined) {
	                if ((event.result = ret) === false) {
	                  event.preventDefault();
	                  event.stopPropagation();
	                }
	              }
	            }
	          }
	        }

	        // Call the postDispatch hook for the mapped type
	        if (special.postDispatch) {
	          special.postDispatch.call(this, event);
	        }
	        return event.result;
	      },
	      handlers: function (event, handlers) {
	        var i,
	          handleObj,
	          sel,
	          matchedHandlers,
	          matchedSelectors,
	          handlerQueue = [],
	          delegateCount = handlers.delegateCount,
	          cur = event.target;

	        // Find delegate handlers
	        if (delegateCount &&
	        // Support: IE <=9
	        // Black-hole SVG <use> instance trees (trac-13180)
	        cur.nodeType &&
	        // Support: Firefox <=42
	        // Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)
	        // https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click
	        // Support: IE 11 only
	        // ...but not arrow key "clicks" of radio inputs, which can have `button` -1 (gh-2343)
	        !(event.type === "click" && event.button >= 1)) {
	          for (; cur !== this; cur = cur.parentNode || this) {
	            // Don't check non-elements (trac-13208)
	            // Don't process clicks on disabled elements (trac-6911, trac-8165, trac-11382, trac-11764)
	            if (cur.nodeType === 1 && !(event.type === "click" && cur.disabled === true)) {
	              matchedHandlers = [];
	              matchedSelectors = {};
	              for (i = 0; i < delegateCount; i++) {
	                handleObj = handlers[i];

	                // Don't conflict with Object.prototype properties (trac-13203)
	                sel = handleObj.selector + " ";
	                if (matchedSelectors[sel] === undefined) {
	                  matchedSelectors[sel] = handleObj.needsContext ? jQuery(sel, this).index(cur) > -1 : jQuery.find(sel, this, null, [cur]).length;
	                }
	                if (matchedSelectors[sel]) {
	                  matchedHandlers.push(handleObj);
	                }
	              }
	              if (matchedHandlers.length) {
	                handlerQueue.push({
	                  elem: cur,
	                  handlers: matchedHandlers
	                });
	              }
	            }
	          }
	        }

	        // Add the remaining (directly-bound) handlers
	        cur = this;
	        if (delegateCount < handlers.length) {
	          handlerQueue.push({
	            elem: cur,
	            handlers: handlers.slice(delegateCount)
	          });
	        }
	        return handlerQueue;
	      },
	      addProp: function (name, hook) {
	        Object.defineProperty(jQuery.Event.prototype, name, {
	          enumerable: true,
	          configurable: true,
	          get: isFunction(hook) ? function () {
	            if (this.originalEvent) {
	              return hook(this.originalEvent);
	            }
	          } : function () {
	            if (this.originalEvent) {
	              return this.originalEvent[name];
	            }
	          },
	          set: function (value) {
	            Object.defineProperty(this, name, {
	              enumerable: true,
	              configurable: true,
	              writable: true,
	              value: value
	            });
	          }
	        });
	      },
	      fix: function (originalEvent) {
	        return originalEvent[jQuery.expando] ? originalEvent : new jQuery.Event(originalEvent);
	      },
	      special: {
	        load: {
	          // Prevent triggered image.load events from bubbling to window.load
	          noBubble: true
	        },
	        click: {
	          // Utilize native event to ensure correct state for checkable inputs
	          setup: function (data) {
	            // For mutual compressibility with _default, replace `this` access with a local var.
	            // `|| data` is dead code meant only to preserve the variable through minification.
	            var el = this || data;

	            // Claim the first handler
	            if (rcheckableType.test(el.type) && el.click && nodeName(el, "input")) {
	              // dataPriv.set( el, "click", ... )
	              leverageNative(el, "click", true);
	            }

	            // Return false to allow normal processing in the caller
	            return false;
	          },
	          trigger: function (data) {
	            // For mutual compressibility with _default, replace `this` access with a local var.
	            // `|| data` is dead code meant only to preserve the variable through minification.
	            var el = this || data;

	            // Force setup before triggering a click
	            if (rcheckableType.test(el.type) && el.click && nodeName(el, "input")) {
	              leverageNative(el, "click");
	            }

	            // Return non-false to allow normal event-path propagation
	            return true;
	          },
	          // For cross-browser consistency, suppress native .click() on links
	          // Also prevent it if we're currently inside a leveraged native-event stack
	          _default: function (event) {
	            var target = event.target;
	            return rcheckableType.test(target.type) && target.click && nodeName(target, "input") && dataPriv.get(target, "click") || nodeName(target, "a");
	          }
	        },
	        beforeunload: {
	          postDispatch: function (event) {
	            // Support: Firefox 20+
	            // Firefox doesn't alert if the returnValue field is not set.
	            if (event.result !== undefined && event.originalEvent) {
	              event.originalEvent.returnValue = event.result;
	            }
	          }
	        }
	      }
	    };

	    // Ensure the presence of an event listener that handles manually-triggered
	    // synthetic events by interrupting progress until reinvoked in response to
	    // *native* events that it fires directly, ensuring that state changes have
	    // already occurred before other listeners are invoked.
	    function leverageNative(el, type, isSetup) {
	      // Missing `isSetup` indicates a trigger call, which must force setup through jQuery.event.add
	      if (!isSetup) {
	        if (dataPriv.get(el, type) === undefined) {
	          jQuery.event.add(el, type, returnTrue);
	        }
	        return;
	      }

	      // Register the controller as a special universal handler for all event namespaces
	      dataPriv.set(el, type, false);
	      jQuery.event.add(el, type, {
	        namespace: false,
	        handler: function (event) {
	          var result,
	            saved = dataPriv.get(this, type);
	          if (event.isTrigger & 1 && this[type]) {
	            // Interrupt processing of the outer synthetic .trigger()ed event
	            if (!saved) {
	              // Store arguments for use when handling the inner native event
	              // There will always be at least one argument (an event object), so this array
	              // will not be confused with a leftover capture object.
	              saved = slice.call(arguments);
	              dataPriv.set(this, type, saved);

	              // Trigger the native event and capture its result
	              this[type]();
	              result = dataPriv.get(this, type);
	              dataPriv.set(this, type, false);
	              if (saved !== result) {
	                // Cancel the outer synthetic event
	                event.stopImmediatePropagation();
	                event.preventDefault();
	                return result;
	              }

	              // If this is an inner synthetic event for an event with a bubbling surrogate
	              // (focus or blur), assume that the surrogate already propagated from triggering
	              // the native event and prevent that from happening again here.
	              // This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the
	              // bubbling surrogate propagates *after* the non-bubbling base), but that seems
	              // less bad than duplication.
	            } else if ((jQuery.event.special[type] || {}).delegateType) {
	              event.stopPropagation();
	            }

	            // If this is a native event triggered above, everything is now in order
	            // Fire an inner synthetic event with the original arguments
	          } else if (saved) {
	            // ...and capture the result
	            dataPriv.set(this, type, jQuery.event.trigger(saved[0], saved.slice(1), this));

	            // Abort handling of the native event by all jQuery handlers while allowing
	            // native handlers on the same element to run. On target, this is achieved
	            // by stopping immediate propagation just on the jQuery event. However,
	            // the native event is re-wrapped by a jQuery one on each level of the
	            // propagation so the only way to stop it for jQuery is to stop it for
	            // everyone via native `stopPropagation()`. This is not a problem for
	            // focus/blur which don't bubble, but it does also stop click on checkboxes
	            // and radios. We accept this limitation.
	            event.stopPropagation();
	            event.isImmediatePropagationStopped = returnTrue;
	          }
	        }
	      });
	    }
	    jQuery.removeEvent = function (elem, type, handle) {
	      // This "if" is needed for plain objects
	      if (elem.removeEventListener) {
	        elem.removeEventListener(type, handle);
	      }
	    };
	    jQuery.Event = function (src, props) {
	      // Allow instantiation without the 'new' keyword
	      if (!(this instanceof jQuery.Event)) {
	        return new jQuery.Event(src, props);
	      }

	      // Event object
	      if (src && src.type) {
	        this.originalEvent = src;
	        this.type = src.type;

	        // Events bubbling up the document may have been marked as prevented
	        // by a handler lower down the tree; reflect the correct value.
	        this.isDefaultPrevented = src.defaultPrevented || src.defaultPrevented === undefined &&
	        // Support: Android <=2.3 only
	        src.returnValue === false ? returnTrue : returnFalse;

	        // Create target properties
	        // Support: Safari <=6 - 7 only
	        // Target should not be a text node (trac-504, trac-13143)
	        this.target = src.target && src.target.nodeType === 3 ? src.target.parentNode : src.target;
	        this.currentTarget = src.currentTarget;
	        this.relatedTarget = src.relatedTarget;

	        // Event type
	      } else {
	        this.type = src;
	      }

	      // Put explicitly provided properties onto the event object
	      if (props) {
	        jQuery.extend(this, props);
	      }

	      // Create a timestamp if incoming event doesn't have one
	      this.timeStamp = src && src.timeStamp || Date.now();

	      // Mark it as fixed
	      this[jQuery.expando] = true;
	    };

	    // jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
	    // https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
	    jQuery.Event.prototype = {
	      constructor: jQuery.Event,
	      isDefaultPrevented: returnFalse,
	      isPropagationStopped: returnFalse,
	      isImmediatePropagationStopped: returnFalse,
	      isSimulated: false,
	      preventDefault: function () {
	        var e = this.originalEvent;
	        this.isDefaultPrevented = returnTrue;
	        if (e && !this.isSimulated) {
	          e.preventDefault();
	        }
	      },
	      stopPropagation: function () {
	        var e = this.originalEvent;
	        this.isPropagationStopped = returnTrue;
	        if (e && !this.isSimulated) {
	          e.stopPropagation();
	        }
	      },
	      stopImmediatePropagation: function () {
	        var e = this.originalEvent;
	        this.isImmediatePropagationStopped = returnTrue;
	        if (e && !this.isSimulated) {
	          e.stopImmediatePropagation();
	        }
	        this.stopPropagation();
	      }
	    };

	    // Includes all common event props including KeyEvent and MouseEvent specific props
	    jQuery.each({
	      altKey: true,
	      bubbles: true,
	      cancelable: true,
	      changedTouches: true,
	      ctrlKey: true,
	      detail: true,
	      eventPhase: true,
	      metaKey: true,
	      pageX: true,
	      pageY: true,
	      shiftKey: true,
	      view: true,
	      "char": true,
	      code: true,
	      charCode: true,
	      key: true,
	      keyCode: true,
	      button: true,
	      buttons: true,
	      clientX: true,
	      clientY: true,
	      offsetX: true,
	      offsetY: true,
	      pointerId: true,
	      pointerType: true,
	      screenX: true,
	      screenY: true,
	      targetTouches: true,
	      toElement: true,
	      touches: true,
	      which: true
	    }, jQuery.event.addProp);
	    jQuery.each({
	      focus: "focusin",
	      blur: "focusout"
	    }, function (type, delegateType) {
	      function focusMappedHandler(nativeEvent) {
	        if (document.documentMode) {
	          // Support: IE 11+
	          // Attach a single focusin/focusout handler on the document while someone wants
	          // focus/blur. This is because the former are synchronous in IE while the latter
	          // are async. In other browsers, all those handlers are invoked synchronously.

	          // `handle` from private data would already wrap the event, but we need
	          // to change the `type` here.
	          var handle = dataPriv.get(this, "handle"),
	            event = jQuery.event.fix(nativeEvent);
	          event.type = nativeEvent.type === "focusin" ? "focus" : "blur";
	          event.isSimulated = true;

	          // First, handle focusin/focusout
	          handle(nativeEvent);

	          // ...then, handle focus/blur
	          //
	          // focus/blur don't bubble while focusin/focusout do; simulate the former by only
	          // invoking the handler at the lower level.
	          if (event.target === event.currentTarget) {
	            // The setup part calls `leverageNative`, which, in turn, calls
	            // `jQuery.event.add`, so event handle will already have been set
	            // by this point.
	            handle(event);
	          }
	        } else {
	          // For non-IE browsers, attach a single capturing handler on the document
	          // while someone wants focusin/focusout.
	          jQuery.event.simulate(delegateType, nativeEvent.target, jQuery.event.fix(nativeEvent));
	        }
	      }
	      jQuery.event.special[type] = {
	        // Utilize native event if possible so blur/focus sequence is correct
	        setup: function () {
	          var attaches;

	          // Claim the first handler
	          // dataPriv.set( this, "focus", ... )
	          // dataPriv.set( this, "blur", ... )
	          leverageNative(this, type, true);
	          if (document.documentMode) {
	            // Support: IE 9 - 11+
	            // We use the same native handler for focusin & focus (and focusout & blur)
	            // so we need to coordinate setup & teardown parts between those events.
	            // Use `delegateType` as the key as `type` is already used by `leverageNative`.
	            attaches = dataPriv.get(this, delegateType);
	            if (!attaches) {
	              this.addEventListener(delegateType, focusMappedHandler);
	            }
	            dataPriv.set(this, delegateType, (attaches || 0) + 1);
	          } else {
	            // Return false to allow normal processing in the caller
	            return false;
	          }
	        },
	        trigger: function () {
	          // Force setup before trigger
	          leverageNative(this, type);

	          // Return non-false to allow normal event-path propagation
	          return true;
	        },
	        teardown: function () {
	          var attaches;
	          if (document.documentMode) {
	            attaches = dataPriv.get(this, delegateType) - 1;
	            if (!attaches) {
	              this.removeEventListener(delegateType, focusMappedHandler);
	              dataPriv.remove(this, delegateType);
	            } else {
	              dataPriv.set(this, delegateType, attaches);
	            }
	          } else {
	            // Return false to indicate standard teardown should be applied
	            return false;
	          }
	        },
	        // Suppress native focus or blur if we're currently inside
	        // a leveraged native-event stack
	        _default: function (event) {
	          return dataPriv.get(event.target, type);
	        },
	        delegateType: delegateType
	      };

	      // Support: Firefox <=44
	      // Firefox doesn't have focus(in | out) events
	      // Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787
	      //
	      // Support: Chrome <=48 - 49, Safari <=9.0 - 9.1
	      // focus(in | out) events fire after focus & blur events,
	      // which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order
	      // Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857
	      //
	      // Support: IE 9 - 11+
	      // To preserve relative focusin/focus & focusout/blur event order guaranteed on the 3.x branch,
	      // attach a single handler for both events in IE.
	      jQuery.event.special[delegateType] = {
	        setup: function () {
	          // Handle: regular nodes (via `this.ownerDocument`), window
	          // (via `this.document`) & document (via `this`).
	          var doc = this.ownerDocument || this.document || this,
	            dataHolder = document.documentMode ? this : doc,
	            attaches = dataPriv.get(dataHolder, delegateType);

	          // Support: IE 9 - 11+
	          // We use the same native handler for focusin & focus (and focusout & blur)
	          // so we need to coordinate setup & teardown parts between those events.
	          // Use `delegateType` as the key as `type` is already used by `leverageNative`.
	          if (!attaches) {
	            if (document.documentMode) {
	              this.addEventListener(delegateType, focusMappedHandler);
	            } else {
	              doc.addEventListener(type, focusMappedHandler, true);
	            }
	          }
	          dataPriv.set(dataHolder, delegateType, (attaches || 0) + 1);
	        },
	        teardown: function () {
	          var doc = this.ownerDocument || this.document || this,
	            dataHolder = document.documentMode ? this : doc,
	            attaches = dataPriv.get(dataHolder, delegateType) - 1;
	          if (!attaches) {
	            if (document.documentMode) {
	              this.removeEventListener(delegateType, focusMappedHandler);
	            } else {
	              doc.removeEventListener(type, focusMappedHandler, true);
	            }
	            dataPriv.remove(dataHolder, delegateType);
	          } else {
	            dataPriv.set(dataHolder, delegateType, attaches);
	          }
	        }
	      };
	    });

	    // Create mouseenter/leave events using mouseover/out and event-time checks
	    // so that event delegation works in jQuery.
	    // Do the same for pointerenter/pointerleave and pointerover/pointerout
	    //
	    // Support: Safari 7 only
	    // Safari sends mouseenter too often; see:
	    // https://bugs.chromium.org/p/chromium/issues/detail?id=470258
	    // for the description of the bug (it existed in older Chrome versions as well).
	    jQuery.each({
	      mouseenter: "mouseover",
	      mouseleave: "mouseout",
	      pointerenter: "pointerover",
	      pointerleave: "pointerout"
	    }, function (orig, fix) {
	      jQuery.event.special[orig] = {
	        delegateType: fix,
	        bindType: fix,
	        handle: function (event) {
	          var ret,
	            target = this,
	            related = event.relatedTarget,
	            handleObj = event.handleObj;

	          // For mouseenter/leave call the handler if related is outside the target.
	          // NB: No relatedTarget if the mouse left/entered the browser window
	          if (!related || related !== target && !jQuery.contains(target, related)) {
	            event.type = handleObj.origType;
	            ret = handleObj.handler.apply(this, arguments);
	            event.type = fix;
	          }
	          return ret;
	        }
	      };
	    });
	    jQuery.fn.extend({
	      on: function (types, selector, data, fn) {
	        return on(this, types, selector, data, fn);
	      },
	      one: function (types, selector, data, fn) {
	        return on(this, types, selector, data, fn, 1);
	      },
	      off: function (types, selector, fn) {
	        var handleObj, type;
	        if (types && types.preventDefault && types.handleObj) {
	          // ( event )  dispatched jQuery.Event
	          handleObj = types.handleObj;
	          jQuery(types.delegateTarget).off(handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType, handleObj.selector, handleObj.handler);
	          return this;
	        }
	        if (typeof types === "object") {
	          // ( types-object [, selector] )
	          for (type in types) {
	            this.off(type, selector, types[type]);
	          }
	          return this;
	        }
	        if (selector === false || typeof selector === "function") {
	          // ( types [, fn] )
	          fn = selector;
	          selector = undefined;
	        }
	        if (fn === false) {
	          fn = returnFalse;
	        }
	        return this.each(function () {
	          jQuery.event.remove(this, types, fn, selector);
	        });
	      }
	    });
	    var
	      // Support: IE <=10 - 11, Edge 12 - 13 only
	      // In IE/Edge using regex groups here causes severe slowdowns.
	      // See https://connect.microsoft.com/IE/feedback/details/1736512/
	      rnoInnerhtml = /<script|<style|<link/i,
	      // checked="checked" or checked
	      rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	      rcleanScript = /^\s*<!\[CDATA\[|\]\]>\s*$/g;

	    // Prefer a tbody over its parent table for containing new rows
	    function manipulationTarget(elem, content) {
	      if (nodeName(elem, "table") && nodeName(content.nodeType !== 11 ? content : content.firstChild, "tr")) {
	        return jQuery(elem).children("tbody")[0] || elem;
	      }
	      return elem;
	    }

	    // Replace/restore the type attribute of script elements for safe DOM manipulation
	    function disableScript(elem) {
	      elem.type = (elem.getAttribute("type") !== null) + "/" + elem.type;
	      return elem;
	    }
	    function restoreScript(elem) {
	      if ((elem.type || "").slice(0, 5) === "true/") {
	        elem.type = elem.type.slice(5);
	      } else {
	        elem.removeAttribute("type");
	      }
	      return elem;
	    }
	    function cloneCopyEvent(src, dest) {
	      var i, l, type, pdataOld, udataOld, udataCur, events;
	      if (dest.nodeType !== 1) {
	        return;
	      }

	      // 1. Copy private data: events, handlers, etc.
	      if (dataPriv.hasData(src)) {
	        pdataOld = dataPriv.get(src);
	        events = pdataOld.events;
	        if (events) {
	          dataPriv.remove(dest, "handle events");
	          for (type in events) {
	            for (i = 0, l = events[type].length; i < l; i++) {
	              jQuery.event.add(dest, type, events[type][i]);
	            }
	          }
	        }
	      }

	      // 2. Copy user data
	      if (dataUser.hasData(src)) {
	        udataOld = dataUser.access(src);
	        udataCur = jQuery.extend({}, udataOld);
	        dataUser.set(dest, udataCur);
	      }
	    }

	    // Fix IE bugs, see support tests
	    function fixInput(src, dest) {
	      var nodeName = dest.nodeName.toLowerCase();

	      // Fails to persist the checked state of a cloned checkbox or radio button.
	      if (nodeName === "input" && rcheckableType.test(src.type)) {
	        dest.checked = src.checked;

	        // Fails to return the selected option to the default selected state when cloning options
	      } else if (nodeName === "input" || nodeName === "textarea") {
	        dest.defaultValue = src.defaultValue;
	      }
	    }
	    function domManip(collection, args, callback, ignored) {
	      // Flatten any nested arrays
	      args = flat(args);
	      var fragment,
	        first,
	        scripts,
	        hasScripts,
	        node,
	        doc,
	        i = 0,
	        l = collection.length,
	        iNoClone = l - 1,
	        value = args[0],
	        valueIsFunction = isFunction(value);

	      // We can't cloneNode fragments that contain checked, in WebKit
	      if (valueIsFunction || l > 1 && typeof value === "string" && !support.checkClone && rchecked.test(value)) {
	        return collection.each(function (index) {
	          var self = collection.eq(index);
	          if (valueIsFunction) {
	            args[0] = value.call(this, index, self.html());
	          }
	          domManip(self, args, callback, ignored);
	        });
	      }
	      if (l) {
	        fragment = buildFragment(args, collection[0].ownerDocument, false, collection, ignored);
	        first = fragment.firstChild;
	        if (fragment.childNodes.length === 1) {
	          fragment = first;
	        }

	        // Require either new content or an interest in ignored elements to invoke the callback
	        if (first || ignored) {
	          scripts = jQuery.map(getAll(fragment, "script"), disableScript);
	          hasScripts = scripts.length;

	          // Use the original fragment for the last item
	          // instead of the first because it can end up
	          // being emptied incorrectly in certain situations (trac-8070).
	          for (; i < l; i++) {
	            node = fragment;
	            if (i !== iNoClone) {
	              node = jQuery.clone(node, true, true);

	              // Keep references to cloned scripts for later restoration
	              if (hasScripts) {
	                // Support: Android <=4.0 only, PhantomJS 1 only
	                // push.apply(_, arraylike) throws on ancient WebKit
	                jQuery.merge(scripts, getAll(node, "script"));
	              }
	            }
	            callback.call(collection[i], node, i);
	          }
	          if (hasScripts) {
	            doc = scripts[scripts.length - 1].ownerDocument;

	            // Re-enable scripts
	            jQuery.map(scripts, restoreScript);

	            // Evaluate executable scripts on first document insertion
	            for (i = 0; i < hasScripts; i++) {
	              node = scripts[i];
	              if (rscriptType.test(node.type || "") && !dataPriv.access(node, "globalEval") && jQuery.contains(doc, node)) {
	                if (node.src && (node.type || "").toLowerCase() !== "module") {
	                  // Optional AJAX dependency, but won't run scripts if not present
	                  if (jQuery._evalUrl && !node.noModule) {
	                    jQuery._evalUrl(node.src, {
	                      nonce: node.nonce || node.getAttribute("nonce")
	                    }, doc);
	                  }
	                } else {
	                  // Unwrap a CDATA section containing script contents. This shouldn't be
	                  // needed as in XML documents they're already not visible when
	                  // inspecting element contents and in HTML documents they have no
	                  // meaning but we're preserving that logic for backwards compatibility.
	                  // This will be removed completely in 4.0. See gh-4904.
	                  DOMEval(node.textContent.replace(rcleanScript, ""), node, doc);
	                }
	              }
	            }
	          }
	        }
	      }
	      return collection;
	    }
	    function remove(elem, selector, keepData) {
	      var node,
	        nodes = selector ? jQuery.filter(selector, elem) : elem,
	        i = 0;
	      for (; (node = nodes[i]) != null; i++) {
	        if (!keepData && node.nodeType === 1) {
	          jQuery.cleanData(getAll(node));
	        }
	        if (node.parentNode) {
	          if (keepData && isAttached(node)) {
	            setGlobalEval(getAll(node, "script"));
	          }
	          node.parentNode.removeChild(node);
	        }
	      }
	      return elem;
	    }
	    jQuery.extend({
	      htmlPrefilter: function (html) {
	        return html;
	      },
	      clone: function (elem, dataAndEvents, deepDataAndEvents) {
	        var i,
	          l,
	          srcElements,
	          destElements,
	          clone = elem.cloneNode(true),
	          inPage = isAttached(elem);

	        // Fix IE cloning issues
	        if (!support.noCloneChecked && (elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem)) {
	          // We eschew jQuery#find here for performance reasons:
	          // https://jsperf.com/getall-vs-sizzle/2
	          destElements = getAll(clone);
	          srcElements = getAll(elem);
	          for (i = 0, l = srcElements.length; i < l; i++) {
	            fixInput(srcElements[i], destElements[i]);
	          }
	        }

	        // Copy the events from the original to the clone
	        if (dataAndEvents) {
	          if (deepDataAndEvents) {
	            srcElements = srcElements || getAll(elem);
	            destElements = destElements || getAll(clone);
	            for (i = 0, l = srcElements.length; i < l; i++) {
	              cloneCopyEvent(srcElements[i], destElements[i]);
	            }
	          } else {
	            cloneCopyEvent(elem, clone);
	          }
	        }

	        // Preserve script evaluation history
	        destElements = getAll(clone, "script");
	        if (destElements.length > 0) {
	          setGlobalEval(destElements, !inPage && getAll(elem, "script"));
	        }

	        // Return the cloned set
	        return clone;
	      },
	      cleanData: function (elems) {
	        var data,
	          elem,
	          type,
	          special = jQuery.event.special,
	          i = 0;
	        for (; (elem = elems[i]) !== undefined; i++) {
	          if (acceptData(elem)) {
	            if (data = elem[dataPriv.expando]) {
	              if (data.events) {
	                for (type in data.events) {
	                  if (special[type]) {
	                    jQuery.event.remove(elem, type);

	                    // This is a shortcut to avoid jQuery.event.remove's overhead
	                  } else {
	                    jQuery.removeEvent(elem, type, data.handle);
	                  }
	                }
	              }

	              // Support: Chrome <=35 - 45+
	              // Assign undefined instead of using delete, see Data#remove
	              elem[dataPriv.expando] = undefined;
	            }
	            if (elem[dataUser.expando]) {
	              // Support: Chrome <=35 - 45+
	              // Assign undefined instead of using delete, see Data#remove
	              elem[dataUser.expando] = undefined;
	            }
	          }
	        }
	      }
	    });
	    jQuery.fn.extend({
	      detach: function (selector) {
	        return remove(this, selector, true);
	      },
	      remove: function (selector) {
	        return remove(this, selector);
	      },
	      text: function (value) {
	        return access(this, function (value) {
	          return value === undefined ? jQuery.text(this) : this.empty().each(function () {
	            if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
	              this.textContent = value;
	            }
	          });
	        }, null, value, arguments.length);
	      },
	      append: function () {
	        return domManip(this, arguments, function (elem) {
	          if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
	            var target = manipulationTarget(this, elem);
	            target.appendChild(elem);
	          }
	        });
	      },
	      prepend: function () {
	        return domManip(this, arguments, function (elem) {
	          if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
	            var target = manipulationTarget(this, elem);
	            target.insertBefore(elem, target.firstChild);
	          }
	        });
	      },
	      before: function () {
	        return domManip(this, arguments, function (elem) {
	          if (this.parentNode) {
	            this.parentNode.insertBefore(elem, this);
	          }
	        });
	      },
	      after: function () {
	        return domManip(this, arguments, function (elem) {
	          if (this.parentNode) {
	            this.parentNode.insertBefore(elem, this.nextSibling);
	          }
	        });
	      },
	      empty: function () {
	        var elem,
	          i = 0;
	        for (; (elem = this[i]) != null; i++) {
	          if (elem.nodeType === 1) {
	            // Prevent memory leaks
	            jQuery.cleanData(getAll(elem, false));

	            // Remove any remaining nodes
	            elem.textContent = "";
	          }
	        }
	        return this;
	      },
	      clone: function (dataAndEvents, deepDataAndEvents) {
	        dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
	        deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;
	        return this.map(function () {
	          return jQuery.clone(this, dataAndEvents, deepDataAndEvents);
	        });
	      },
	      html: function (value) {
	        return access(this, function (value) {
	          var elem = this[0] || {},
	            i = 0,
	            l = this.length;
	          if (value === undefined && elem.nodeType === 1) {
	            return elem.innerHTML;
	          }

	          // See if we can take a shortcut and just use innerHTML
	          if (typeof value === "string" && !rnoInnerhtml.test(value) && !wrapMap[(rtagName.exec(value) || ["", ""])[1].toLowerCase()]) {
	            value = jQuery.htmlPrefilter(value);
	            try {
	              for (; i < l; i++) {
	                elem = this[i] || {};

	                // Remove element nodes and prevent memory leaks
	                if (elem.nodeType === 1) {
	                  jQuery.cleanData(getAll(elem, false));
	                  elem.innerHTML = value;
	                }
	              }
	              elem = 0;

	              // If using innerHTML throws an exception, use the fallback method
	            } catch (e) {}
	          }
	          if (elem) {
	            this.empty().append(value);
	          }
	        }, null, value, arguments.length);
	      },
	      replaceWith: function () {
	        var ignored = [];

	        // Make the changes, replacing each non-ignored context element with the new content
	        return domManip(this, arguments, function (elem) {
	          var parent = this.parentNode;
	          if (jQuery.inArray(this, ignored) < 0) {
	            jQuery.cleanData(getAll(this));
	            if (parent) {
	              parent.replaceChild(elem, this);
	            }
	          }

	          // Force callback invocation
	        }, ignored);
	      }
	    });
	    jQuery.each({
	      appendTo: "append",
	      prependTo: "prepend",
	      insertBefore: "before",
	      insertAfter: "after",
	      replaceAll: "replaceWith"
	    }, function (name, original) {
	      jQuery.fn[name] = function (selector) {
	        var elems,
	          ret = [],
	          insert = jQuery(selector),
	          last = insert.length - 1,
	          i = 0;
	        for (; i <= last; i++) {
	          elems = i === last ? this : this.clone(true);
	          jQuery(insert[i])[original](elems);

	          // Support: Android <=4.0 only, PhantomJS 1 only
	          // .get() because push.apply(_, arraylike) throws on ancient WebKit
	          push.apply(ret, elems.get());
	        }
	        return this.pushStack(ret);
	      };
	    });
	    var rnumnonpx = new RegExp("^(" + pnum + ")(?!px)[a-z%]+$", "i");
	    var rcustomProp = /^--/;
	    var getStyles = function (elem) {
	      // Support: IE <=11 only, Firefox <=30 (trac-15098, trac-14150)
	      // IE throws on elements created in popups
	      // FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
	      var view = elem.ownerDocument.defaultView;
	      if (!view || !view.opener) {
	        view = window;
	      }
	      return view.getComputedStyle(elem);
	    };
	    var swap = function (elem, options, callback) {
	      var ret,
	        name,
	        old = {};

	      // Remember the old values, and insert the new ones
	      for (name in options) {
	        old[name] = elem.style[name];
	        elem.style[name] = options[name];
	      }
	      ret = callback.call(elem);

	      // Revert the old values
	      for (name in options) {
	        elem.style[name] = old[name];
	      }
	      return ret;
	    };
	    var rboxStyle = new RegExp(cssExpand.join("|"), "i");
	    (function () {
	      // Executing both pixelPosition & boxSizingReliable tests require only one layout
	      // so they're executed at the same time to save the second computation.
	      function computeStyleTests() {
	        // This is a singleton, we need to execute it only once
	        if (!div) {
	          return;
	        }
	        container.style.cssText = "position:absolute;left:-11111px;width:60px;" + "margin-top:1px;padding:0;border:0";
	        div.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;" + "margin:auto;border:1px;padding:1px;" + "width:60%;top:1%";
	        documentElement.appendChild(container).appendChild(div);
	        var divStyle = window.getComputedStyle(div);
	        pixelPositionVal = divStyle.top !== "1%";

	        // Support: Android 4.0 - 4.3 only, Firefox <=3 - 44
	        reliableMarginLeftVal = roundPixelMeasures(divStyle.marginLeft) === 12;

	        // Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3
	        // Some styles come back with percentage values, even though they shouldn't
	        div.style.right = "60%";
	        pixelBoxStylesVal = roundPixelMeasures(divStyle.right) === 36;

	        // Support: IE 9 - 11 only
	        // Detect misreporting of content dimensions for box-sizing:border-box elements
	        boxSizingReliableVal = roundPixelMeasures(divStyle.width) === 36;

	        // Support: IE 9 only
	        // Detect overflow:scroll screwiness (gh-3699)
	        // Support: Chrome <=64
	        // Don't get tricked when zoom affects offsetWidth (gh-4029)
	        div.style.position = "absolute";
	        scrollboxSizeVal = roundPixelMeasures(div.offsetWidth / 3) === 12;
	        documentElement.removeChild(container);

	        // Nullify the div so it wouldn't be stored in the memory and
	        // it will also be a sign that checks already performed
	        div = null;
	      }
	      function roundPixelMeasures(measure) {
	        return Math.round(parseFloat(measure));
	      }
	      var pixelPositionVal,
	        boxSizingReliableVal,
	        scrollboxSizeVal,
	        pixelBoxStylesVal,
	        reliableTrDimensionsVal,
	        reliableMarginLeftVal,
	        container = document.createElement("div"),
	        div = document.createElement("div");

	      // Finish early in limited (non-browser) environments
	      if (!div.style) {
	        return;
	      }

	      // Support: IE <=9 - 11 only
	      // Style of cloned element affects source element cloned (trac-8908)
	      div.style.backgroundClip = "content-box";
	      div.cloneNode(true).style.backgroundClip = "";
	      support.clearCloneStyle = div.style.backgroundClip === "content-box";
	      jQuery.extend(support, {
	        boxSizingReliable: function () {
	          computeStyleTests();
	          return boxSizingReliableVal;
	        },
	        pixelBoxStyles: function () {
	          computeStyleTests();
	          return pixelBoxStylesVal;
	        },
	        pixelPosition: function () {
	          computeStyleTests();
	          return pixelPositionVal;
	        },
	        reliableMarginLeft: function () {
	          computeStyleTests();
	          return reliableMarginLeftVal;
	        },
	        scrollboxSize: function () {
	          computeStyleTests();
	          return scrollboxSizeVal;
	        },
	        // Support: IE 9 - 11+, Edge 15 - 18+
	        // IE/Edge misreport `getComputedStyle` of table rows with width/height
	        // set in CSS while `offset*` properties report correct values.
	        // Behavior in IE 9 is more subtle than in newer versions & it passes
	        // some versions of this test; make sure not to make it pass there!
	        //
	        // Support: Firefox 70+
	        // Only Firefox includes border widths
	        // in computed dimensions. (gh-4529)
	        reliableTrDimensions: function () {
	          var table, tr, trChild, trStyle;
	          if (reliableTrDimensionsVal == null) {
	            table = document.createElement("table");
	            tr = document.createElement("tr");
	            trChild = document.createElement("div");
	            table.style.cssText = "position:absolute;left:-11111px;border-collapse:separate";
	            tr.style.cssText = "box-sizing:content-box;border:1px solid";

	            // Support: Chrome 86+
	            // Height set through cssText does not get applied.
	            // Computed height then comes back as 0.
	            tr.style.height = "1px";
	            trChild.style.height = "9px";

	            // Support: Android 8 Chrome 86+
	            // In our bodyBackground.html iframe,
	            // display for all div elements is set to "inline",
	            // which causes a problem only in Android 8 Chrome 86.
	            // Ensuring the div is `display: block`
	            // gets around this issue.
	            trChild.style.display = "block";
	            documentElement.appendChild(table).appendChild(tr).appendChild(trChild);
	            trStyle = window.getComputedStyle(tr);
	            reliableTrDimensionsVal = parseInt(trStyle.height, 10) + parseInt(trStyle.borderTopWidth, 10) + parseInt(trStyle.borderBottomWidth, 10) === tr.offsetHeight;
	            documentElement.removeChild(table);
	          }
	          return reliableTrDimensionsVal;
	        }
	      });
	    })();
	    function curCSS(elem, name, computed) {
	      var width,
	        minWidth,
	        maxWidth,
	        ret,
	        isCustomProp = rcustomProp.test(name),
	        // Support: Firefox 51+
	        // Retrieving style before computed somehow
	        // fixes an issue with getting wrong values
	        // on detached elements
	        style = elem.style;
	      computed = computed || getStyles(elem);

	      // getPropertyValue is needed for:
	      //   .css('filter') (IE 9 only, trac-12537)
	      //   .css('--customProperty) (gh-3144)
	      if (computed) {
	        // Support: IE <=9 - 11+
	        // IE only supports `"float"` in `getPropertyValue`; in computed styles
	        // it's only available as `"cssFloat"`. We no longer modify properties
	        // sent to `.css()` apart from camelCasing, so we need to check both.
	        // Normally, this would create difference in behavior: if
	        // `getPropertyValue` returns an empty string, the value returned
	        // by `.css()` would be `undefined`. This is usually the case for
	        // disconnected elements. However, in IE even disconnected elements
	        // with no styles return `"none"` for `getPropertyValue( "float" )`
	        ret = computed.getPropertyValue(name) || computed[name];
	        if (isCustomProp && ret) {
	          // Support: Firefox 105+, Chrome <=105+
	          // Spec requires trimming whitespace for custom properties (gh-4926).
	          // Firefox only trims leading whitespace. Chrome just collapses
	          // both leading & trailing whitespace to a single space.
	          //
	          // Fall back to `undefined` if empty string returned.
	          // This collapses a missing definition with property defined
	          // and set to an empty string but there's no standard API
	          // allowing us to differentiate them without a performance penalty
	          // and returning `undefined` aligns with older jQuery.
	          //
	          // rtrimCSS treats U+000D CARRIAGE RETURN and U+000C FORM FEED
	          // as whitespace while CSS does not, but this is not a problem
	          // because CSS preprocessing replaces them with U+000A LINE FEED
	          // (which *is* CSS whitespace)
	          // https://www.w3.org/TR/css-syntax-3/#input-preprocessing
	          ret = ret.replace(rtrimCSS, "$1") || undefined;
	        }
	        if (ret === "" && !isAttached(elem)) {
	          ret = jQuery.style(elem, name);
	        }

	        // A tribute to the "awesome hack by Dean Edwards"
	        // Android Browser returns percentage for some values,
	        // but width seems to be reliably pixels.
	        // This is against the CSSOM draft spec:
	        // https://drafts.csswg.org/cssom/#resolved-values
	        if (!support.pixelBoxStyles() && rnumnonpx.test(ret) && rboxStyle.test(name)) {
	          // Remember the original values
	          width = style.width;
	          minWidth = style.minWidth;
	          maxWidth = style.maxWidth;

	          // Put in the new values to get a computed value out
	          style.minWidth = style.maxWidth = style.width = ret;
	          ret = computed.width;

	          // Revert the changed values
	          style.width = width;
	          style.minWidth = minWidth;
	          style.maxWidth = maxWidth;
	        }
	      }
	      return ret !== undefined ?
	      // Support: IE <=9 - 11 only
	      // IE returns zIndex value as an integer.
	      ret + "" : ret;
	    }
	    function addGetHookIf(conditionFn, hookFn) {
	      // Define the hook, we'll check on the first run if it's really needed.
	      return {
	        get: function () {
	          if (conditionFn()) {
	            // Hook not needed (or it's not possible to use it due
	            // to missing dependency), remove it.
	            delete this.get;
	            return;
	          }

	          // Hook needed; redefine it so that the support test is not executed again.
	          return (this.get = hookFn).apply(this, arguments);
	        }
	      };
	    }
	    var cssPrefixes = ["Webkit", "Moz", "ms"],
	      emptyStyle = document.createElement("div").style,
	      vendorProps = {};

	    // Return a vendor-prefixed property or undefined
	    function vendorPropName(name) {
	      // Check for vendor prefixed names
	      var capName = name[0].toUpperCase() + name.slice(1),
	        i = cssPrefixes.length;
	      while (i--) {
	        name = cssPrefixes[i] + capName;
	        if (name in emptyStyle) {
	          return name;
	        }
	      }
	    }

	    // Return a potentially-mapped jQuery.cssProps or vendor prefixed property
	    function finalPropName(name) {
	      var final = jQuery.cssProps[name] || vendorProps[name];
	      if (final) {
	        return final;
	      }
	      if (name in emptyStyle) {
	        return name;
	      }
	      return vendorProps[name] = vendorPropName(name) || name;
	    }
	    var
	      // Swappable if display is none or starts with table
	      // except "table", "table-cell", or "table-caption"
	      // See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	      rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	      cssShow = {
	        position: "absolute",
	        visibility: "hidden",
	        display: "block"
	      },
	      cssNormalTransform = {
	        letterSpacing: "0",
	        fontWeight: "400"
	      };
	    function setPositiveNumber(_elem, value, subtract) {
	      // Any relative (+/-) values have already been
	      // normalized at this point
	      var matches = rcssNum.exec(value);
	      return matches ?
	      // Guard against undefined "subtract", e.g., when used as in cssHooks
	      Math.max(0, matches[2] - (subtract || 0)) + (matches[3] || "px") : value;
	    }
	    function boxModelAdjustment(elem, dimension, box, isBorderBox, styles, computedVal) {
	      var i = dimension === "width" ? 1 : 0,
	        extra = 0,
	        delta = 0,
	        marginDelta = 0;

	      // Adjustment may not be necessary
	      if (box === (isBorderBox ? "border" : "content")) {
	        return 0;
	      }
	      for (; i < 4; i += 2) {
	        // Both box models exclude margin
	        // Count margin delta separately to only add it after scroll gutter adjustment.
	        // This is needed to make negative margins work with `outerHeight( true )` (gh-3982).
	        if (box === "margin") {
	          marginDelta += jQuery.css(elem, box + cssExpand[i], true, styles);
	        }

	        // If we get here with a content-box, we're seeking "padding" or "border" or "margin"
	        if (!isBorderBox) {
	          // Add padding
	          delta += jQuery.css(elem, "padding" + cssExpand[i], true, styles);

	          // For "border" or "margin", add border
	          if (box !== "padding") {
	            delta += jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);

	            // But still keep track of it otherwise
	          } else {
	            extra += jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);
	          }

	          // If we get here with a border-box (content + padding + border), we're seeking "content" or
	          // "padding" or "margin"
	        } else {
	          // For "content", subtract padding
	          if (box === "content") {
	            delta -= jQuery.css(elem, "padding" + cssExpand[i], true, styles);
	          }

	          // For "content" or "padding", subtract border
	          if (box !== "margin") {
	            delta -= jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);
	          }
	        }
	      }

	      // Account for positive content-box scroll gutter when requested by providing computedVal
	      if (!isBorderBox && computedVal >= 0) {
	        // offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border
	        // Assuming integer scroll gutter, subtract the rest and round down
	        delta += Math.max(0, Math.ceil(elem["offset" + dimension[0].toUpperCase() + dimension.slice(1)] - computedVal - delta - extra - 0.5

	        // If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter
	        // Use an explicit zero to avoid NaN (gh-3964)
	        )) || 0;
	      }
	      return delta + marginDelta;
	    }
	    function getWidthOrHeight(elem, dimension, extra) {
	      // Start with computed style
	      var styles = getStyles(elem),
	        // To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).
	        // Fake content-box until we know it's needed to know the true value.
	        boxSizingNeeded = !support.boxSizingReliable() || extra,
	        isBorderBox = boxSizingNeeded && jQuery.css(elem, "boxSizing", false, styles) === "border-box",
	        valueIsBorderBox = isBorderBox,
	        val = curCSS(elem, dimension, styles),
	        offsetProp = "offset" + dimension[0].toUpperCase() + dimension.slice(1);

	      // Support: Firefox <=54
	      // Return a confounding non-pixel value or feign ignorance, as appropriate.
	      if (rnumnonpx.test(val)) {
	        if (!extra) {
	          return val;
	        }
	        val = "auto";
	      }

	      // Support: IE 9 - 11 only
	      // Use offsetWidth/offsetHeight for when box sizing is unreliable.
	      // In those cases, the computed value can be trusted to be border-box.
	      if ((!support.boxSizingReliable() && isBorderBox ||
	      // Support: IE 10 - 11+, Edge 15 - 18+
	      // IE/Edge misreport `getComputedStyle` of table rows with width/height
	      // set in CSS while `offset*` properties report correct values.
	      // Interestingly, in some cases IE 9 doesn't suffer from this issue.
	      !support.reliableTrDimensions() && nodeName(elem, "tr") ||
	      // Fall back to offsetWidth/offsetHeight when value is "auto"
	      // This happens for inline elements with no explicit setting (gh-3571)
	      val === "auto" ||
	      // Support: Android <=4.1 - 4.3 only
	      // Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)
	      !parseFloat(val) && jQuery.css(elem, "display", false, styles) === "inline") &&
	      // Make sure the element is visible & connected
	      elem.getClientRects().length) {
	        isBorderBox = jQuery.css(elem, "boxSizing", false, styles) === "border-box";

	        // Where available, offsetWidth/offsetHeight approximate border box dimensions.
	        // Where not available (e.g., SVG), assume unreliable box-sizing and interpret the
	        // retrieved value as a content box dimension.
	        valueIsBorderBox = offsetProp in elem;
	        if (valueIsBorderBox) {
	          val = elem[offsetProp];
	        }
	      }

	      // Normalize "" and auto
	      val = parseFloat(val) || 0;

	      // Adjust for the element's box model
	      return val + boxModelAdjustment(elem, dimension, extra || (isBorderBox ? "border" : "content"), valueIsBorderBox, styles,
	      // Provide the current computed size to request scroll gutter calculation (gh-3589)
	      val) + "px";
	    }
	    jQuery.extend({
	      // Add in style property hooks for overriding the default
	      // behavior of getting and setting a style property
	      cssHooks: {
	        opacity: {
	          get: function (elem, computed) {
	            if (computed) {
	              // We should always get a number back from opacity
	              var ret = curCSS(elem, "opacity");
	              return ret === "" ? "1" : ret;
	            }
	          }
	        }
	      },
	      // Don't automatically add "px" to these possibly-unitless properties
	      cssNumber: {
	        animationIterationCount: true,
	        aspectRatio: true,
	        borderImageSlice: true,
	        columnCount: true,
	        flexGrow: true,
	        flexShrink: true,
	        fontWeight: true,
	        gridArea: true,
	        gridColumn: true,
	        gridColumnEnd: true,
	        gridColumnStart: true,
	        gridRow: true,
	        gridRowEnd: true,
	        gridRowStart: true,
	        lineHeight: true,
	        opacity: true,
	        order: true,
	        orphans: true,
	        scale: true,
	        widows: true,
	        zIndex: true,
	        zoom: true,
	        // SVG-related
	        fillOpacity: true,
	        floodOpacity: true,
	        stopOpacity: true,
	        strokeMiterlimit: true,
	        strokeOpacity: true
	      },
	      // Add in properties whose names you wish to fix before
	      // setting or getting the value
	      cssProps: {},
	      // Get and set the style property on a DOM Node
	      style: function (elem, name, value, extra) {
	        // Don't set styles on text and comment nodes
	        if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {
	          return;
	        }

	        // Make sure that we're working with the right name
	        var ret,
	          type,
	          hooks,
	          origName = camelCase(name),
	          isCustomProp = rcustomProp.test(name),
	          style = elem.style;

	        // Make sure that we're working with the right name. We don't
	        // want to query the value if it is a CSS custom property
	        // since they are user-defined.
	        if (!isCustomProp) {
	          name = finalPropName(origName);
	        }

	        // Gets hook for the prefixed version, then unprefixed version
	        hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];

	        // Check if we're setting a value
	        if (value !== undefined) {
	          type = typeof value;

	          // Convert "+=" or "-=" to relative numbers (trac-7345)
	          if (type === "string" && (ret = rcssNum.exec(value)) && ret[1]) {
	            value = adjustCSS(elem, name, ret);

	            // Fixes bug trac-9237
	            type = "number";
	          }

	          // Make sure that null and NaN values aren't set (trac-7116)
	          if (value == null || value !== value) {
	            return;
	          }

	          // If a number was passed in, add the unit (except for certain CSS properties)
	          // The isCustomProp check can be removed in jQuery 4.0 when we only auto-append
	          // "px" to a few hardcoded values.
	          if (type === "number" && !isCustomProp) {
	            value += ret && ret[3] || (jQuery.cssNumber[origName] ? "" : "px");
	          }

	          // background-* props affect original clone's values
	          if (!support.clearCloneStyle && value === "" && name.indexOf("background") === 0) {
	            style[name] = "inherit";
	          }

	          // If a hook was provided, use that value, otherwise just set the specified value
	          if (!hooks || !("set" in hooks) || (value = hooks.set(elem, value, extra)) !== undefined) {
	            if (isCustomProp) {
	              style.setProperty(name, value);
	            } else {
	              style[name] = value;
	            }
	          }
	        } else {
	          // If a hook was provided get the non-computed value from there
	          if (hooks && "get" in hooks && (ret = hooks.get(elem, false, extra)) !== undefined) {
	            return ret;
	          }

	          // Otherwise just get the value from the style object
	          return style[name];
	        }
	      },
	      css: function (elem, name, extra, styles) {
	        var val,
	          num,
	          hooks,
	          origName = camelCase(name),
	          isCustomProp = rcustomProp.test(name);

	        // Make sure that we're working with the right name. We don't
	        // want to modify the value if it is a CSS custom property
	        // since they are user-defined.
	        if (!isCustomProp) {
	          name = finalPropName(origName);
	        }

	        // Try prefixed name followed by the unprefixed name
	        hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];

	        // If a hook was provided get the computed value from there
	        if (hooks && "get" in hooks) {
	          val = hooks.get(elem, true, extra);
	        }

	        // Otherwise, if a way to get the computed value exists, use that
	        if (val === undefined) {
	          val = curCSS(elem, name, styles);
	        }

	        // Convert "normal" to computed value
	        if (val === "normal" && name in cssNormalTransform) {
	          val = cssNormalTransform[name];
	        }

	        // Make numeric if forced or a qualifier was provided and val looks numeric
	        if (extra === "" || extra) {
	          num = parseFloat(val);
	          return extra === true || isFinite(num) ? num || 0 : val;
	        }
	        return val;
	      }
	    });
	    jQuery.each(["height", "width"], function (_i, dimension) {
	      jQuery.cssHooks[dimension] = {
	        get: function (elem, computed, extra) {
	          if (computed) {
	            // Certain elements can have dimension info if we invisibly show them
	            // but it must have a current display style that would benefit
	            return rdisplayswap.test(jQuery.css(elem, "display")) && (
	            // Support: Safari 8+
	            // Table columns in Safari have non-zero offsetWidth & zero
	            // getBoundingClientRect().width unless display is changed.
	            // Support: IE <=11 only
	            // Running getBoundingClientRect on a disconnected node
	            // in IE throws an error.
	            !elem.getClientRects().length || !elem.getBoundingClientRect().width) ? swap(elem, cssShow, function () {
	              return getWidthOrHeight(elem, dimension, extra);
	            }) : getWidthOrHeight(elem, dimension, extra);
	          }
	        },
	        set: function (elem, value, extra) {
	          var matches,
	            styles = getStyles(elem),
	            // Only read styles.position if the test has a chance to fail
	            // to avoid forcing a reflow.
	            scrollboxSizeBuggy = !support.scrollboxSize() && styles.position === "absolute",
	            // To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)
	            boxSizingNeeded = scrollboxSizeBuggy || extra,
	            isBorderBox = boxSizingNeeded && jQuery.css(elem, "boxSizing", false, styles) === "border-box",
	            subtract = extra ? boxModelAdjustment(elem, dimension, extra, isBorderBox, styles) : 0;

	          // Account for unreliable border-box dimensions by comparing offset* to computed and
	          // faking a content-box to get border and padding (gh-3699)
	          if (isBorderBox && scrollboxSizeBuggy) {
	            subtract -= Math.ceil(elem["offset" + dimension[0].toUpperCase() + dimension.slice(1)] - parseFloat(styles[dimension]) - boxModelAdjustment(elem, dimension, "border", false, styles) - 0.5);
	          }

	          // Convert to pixels if value adjustment is needed
	          if (subtract && (matches = rcssNum.exec(value)) && (matches[3] || "px") !== "px") {
	            elem.style[dimension] = value;
	            value = jQuery.css(elem, dimension);
	          }
	          return setPositiveNumber(elem, value, subtract);
	        }
	      };
	    });
	    jQuery.cssHooks.marginLeft = addGetHookIf(support.reliableMarginLeft, function (elem, computed) {
	      if (computed) {
	        return (parseFloat(curCSS(elem, "marginLeft")) || elem.getBoundingClientRect().left - swap(elem, {
	          marginLeft: 0
	        }, function () {
	          return elem.getBoundingClientRect().left;
	        })) + "px";
	      }
	    });

	    // These hooks are used by animate to expand properties
	    jQuery.each({
	      margin: "",
	      padding: "",
	      border: "Width"
	    }, function (prefix, suffix) {
	      jQuery.cssHooks[prefix + suffix] = {
	        expand: function (value) {
	          var i = 0,
	            expanded = {},
	            // Assumes a single number if not a string
	            parts = typeof value === "string" ? value.split(" ") : [value];
	          for (; i < 4; i++) {
	            expanded[prefix + cssExpand[i] + suffix] = parts[i] || parts[i - 2] || parts[0];
	          }
	          return expanded;
	        }
	      };
	      if (prefix !== "margin") {
	        jQuery.cssHooks[prefix + suffix].set = setPositiveNumber;
	      }
	    });
	    jQuery.fn.extend({
	      css: function (name, value) {
	        return access(this, function (elem, name, value) {
	          var styles,
	            len,
	            map = {},
	            i = 0;
	          if (Array.isArray(name)) {
	            styles = getStyles(elem);
	            len = name.length;
	            for (; i < len; i++) {
	              map[name[i]] = jQuery.css(elem, name[i], false, styles);
	            }
	            return map;
	          }
	          return value !== undefined ? jQuery.style(elem, name, value) : jQuery.css(elem, name);
	        }, name, value, arguments.length > 1);
	      }
	    });
	    function Tween(elem, options, prop, end, easing) {
	      return new Tween.prototype.init(elem, options, prop, end, easing);
	    }
	    jQuery.Tween = Tween;
	    Tween.prototype = {
	      constructor: Tween,
	      init: function (elem, options, prop, end, easing, unit) {
	        this.elem = elem;
	        this.prop = prop;
	        this.easing = easing || jQuery.easing._default;
	        this.options = options;
	        this.start = this.now = this.cur();
	        this.end = end;
	        this.unit = unit || (jQuery.cssNumber[prop] ? "" : "px");
	      },
	      cur: function () {
	        var hooks = Tween.propHooks[this.prop];
	        return hooks && hooks.get ? hooks.get(this) : Tween.propHooks._default.get(this);
	      },
	      run: function (percent) {
	        var eased,
	          hooks = Tween.propHooks[this.prop];
	        if (this.options.duration) {
	          this.pos = eased = jQuery.easing[this.easing](percent, this.options.duration * percent, 0, 1, this.options.duration);
	        } else {
	          this.pos = eased = percent;
	        }
	        this.now = (this.end - this.start) * eased + this.start;
	        if (this.options.step) {
	          this.options.step.call(this.elem, this.now, this);
	        }
	        if (hooks && hooks.set) {
	          hooks.set(this);
	        } else {
	          Tween.propHooks._default.set(this);
	        }
	        return this;
	      }
	    };
	    Tween.prototype.init.prototype = Tween.prototype;
	    Tween.propHooks = {
	      _default: {
	        get: function (tween) {
	          var result;

	          // Use a property on the element directly when it is not a DOM element,
	          // or when there is no matching style property that exists.
	          if (tween.elem.nodeType !== 1 || tween.elem[tween.prop] != null && tween.elem.style[tween.prop] == null) {
	            return tween.elem[tween.prop];
	          }

	          // Passing an empty string as a 3rd parameter to .css will automatically
	          // attempt a parseFloat and fallback to a string if the parse fails.
	          // Simple values such as "10px" are parsed to Float;
	          // complex values such as "rotate(1rad)" are returned as-is.
	          result = jQuery.css(tween.elem, tween.prop, "");

	          // Empty strings, null, undefined and "auto" are converted to 0.
	          return !result || result === "auto" ? 0 : result;
	        },
	        set: function (tween) {
	          // Use step hook for back compat.
	          // Use cssHook if its there.
	          // Use .style if available and use plain properties where available.
	          if (jQuery.fx.step[tween.prop]) {
	            jQuery.fx.step[tween.prop](tween);
	          } else if (tween.elem.nodeType === 1 && (jQuery.cssHooks[tween.prop] || tween.elem.style[finalPropName(tween.prop)] != null)) {
	            jQuery.style(tween.elem, tween.prop, tween.now + tween.unit);
	          } else {
	            tween.elem[tween.prop] = tween.now;
	          }
	        }
	      }
	    };

	    // Support: IE <=9 only
	    // Panic based approach to setting things on disconnected nodes
	    Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	      set: function (tween) {
	        if (tween.elem.nodeType && tween.elem.parentNode) {
	          tween.elem[tween.prop] = tween.now;
	        }
	      }
	    };
	    jQuery.easing = {
	      linear: function (p) {
	        return p;
	      },
	      swing: function (p) {
	        return 0.5 - Math.cos(p * Math.PI) / 2;
	      },
	      _default: "swing"
	    };
	    jQuery.fx = Tween.prototype.init;

	    // Back compat <1.8 extension point
	    jQuery.fx.step = {};
	    var fxNow,
	      inProgress,
	      rfxtypes = /^(?:toggle|show|hide)$/,
	      rrun = /queueHooks$/;
	    function schedule() {
	      if (inProgress) {
	        if (document.hidden === false && window.requestAnimationFrame) {
	          window.requestAnimationFrame(schedule);
	        } else {
	          window.setTimeout(schedule, jQuery.fx.interval);
	        }
	        jQuery.fx.tick();
	      }
	    }

	    // Animations created synchronously will run synchronously
	    function createFxNow() {
	      window.setTimeout(function () {
	        fxNow = undefined;
	      });
	      return fxNow = Date.now();
	    }

	    // Generate parameters to create a standard animation
	    function genFx(type, includeWidth) {
	      var which,
	        i = 0,
	        attrs = {
	          height: type
	        };

	      // If we include width, step value is 1 to do all cssExpand values,
	      // otherwise step value is 2 to skip over Left and Right
	      includeWidth = includeWidth ? 1 : 0;
	      for (; i < 4; i += 2 - includeWidth) {
	        which = cssExpand[i];
	        attrs["margin" + which] = attrs["padding" + which] = type;
	      }
	      if (includeWidth) {
	        attrs.opacity = attrs.width = type;
	      }
	      return attrs;
	    }
	    function createTween(value, prop, animation) {
	      var tween,
	        collection = (Animation.tweeners[prop] || []).concat(Animation.tweeners["*"]),
	        index = 0,
	        length = collection.length;
	      for (; index < length; index++) {
	        if (tween = collection[index].call(animation, prop, value)) {
	          // We're done with this property
	          return tween;
	        }
	      }
	    }
	    function defaultPrefilter(elem, props, opts) {
	      var prop,
	        value,
	        toggle,
	        hooks,
	        oldfire,
	        propTween,
	        restoreDisplay,
	        display,
	        isBox = "width" in props || "height" in props,
	        anim = this,
	        orig = {},
	        style = elem.style,
	        hidden = elem.nodeType && isHiddenWithinTree(elem),
	        dataShow = dataPriv.get(elem, "fxshow");

	      // Queue-skipping animations hijack the fx hooks
	      if (!opts.queue) {
	        hooks = jQuery._queueHooks(elem, "fx");
	        if (hooks.unqueued == null) {
	          hooks.unqueued = 0;
	          oldfire = hooks.empty.fire;
	          hooks.empty.fire = function () {
	            if (!hooks.unqueued) {
	              oldfire();
	            }
	          };
	        }
	        hooks.unqueued++;
	        anim.always(function () {
	          // Ensure the complete handler is called before this completes
	          anim.always(function () {
	            hooks.unqueued--;
	            if (!jQuery.queue(elem, "fx").length) {
	              hooks.empty.fire();
	            }
	          });
	        });
	      }

	      // Detect show/hide animations
	      for (prop in props) {
	        value = props[prop];
	        if (rfxtypes.test(value)) {
	          delete props[prop];
	          toggle = toggle || value === "toggle";
	          if (value === (hidden ? "hide" : "show")) {
	            // Pretend to be hidden if this is a "show" and
	            // there is still data from a stopped show/hide
	            if (value === "show" && dataShow && dataShow[prop] !== undefined) {
	              hidden = true;

	              // Ignore all other no-op show/hide data
	            } else {
	              continue;
	            }
	          }
	          orig[prop] = dataShow && dataShow[prop] || jQuery.style(elem, prop);
	        }
	      }

	      // Bail out if this is a no-op like .hide().hide()
	      propTween = !jQuery.isEmptyObject(props);
	      if (!propTween && jQuery.isEmptyObject(orig)) {
	        return;
	      }

	      // Restrict "overflow" and "display" styles during box animations
	      if (isBox && elem.nodeType === 1) {
	        // Support: IE <=9 - 11, Edge 12 - 15
	        // Record all 3 overflow attributes because IE does not infer the shorthand
	        // from identically-valued overflowX and overflowY and Edge just mirrors
	        // the overflowX value there.
	        opts.overflow = [style.overflow, style.overflowX, style.overflowY];

	        // Identify a display type, preferring old show/hide data over the CSS cascade
	        restoreDisplay = dataShow && dataShow.display;
	        if (restoreDisplay == null) {
	          restoreDisplay = dataPriv.get(elem, "display");
	        }
	        display = jQuery.css(elem, "display");
	        if (display === "none") {
	          if (restoreDisplay) {
	            display = restoreDisplay;
	          } else {
	            // Get nonempty value(s) by temporarily forcing visibility
	            showHide([elem], true);
	            restoreDisplay = elem.style.display || restoreDisplay;
	            display = jQuery.css(elem, "display");
	            showHide([elem]);
	          }
	        }

	        // Animate inline elements as inline-block
	        if (display === "inline" || display === "inline-block" && restoreDisplay != null) {
	          if (jQuery.css(elem, "float") === "none") {
	            // Restore the original display value at the end of pure show/hide animations
	            if (!propTween) {
	              anim.done(function () {
	                style.display = restoreDisplay;
	              });
	              if (restoreDisplay == null) {
	                display = style.display;
	                restoreDisplay = display === "none" ? "" : display;
	              }
	            }
	            style.display = "inline-block";
	          }
	        }
	      }
	      if (opts.overflow) {
	        style.overflow = "hidden";
	        anim.always(function () {
	          style.overflow = opts.overflow[0];
	          style.overflowX = opts.overflow[1];
	          style.overflowY = opts.overflow[2];
	        });
	      }

	      // Implement show/hide animations
	      propTween = false;
	      for (prop in orig) {
	        // General show/hide setup for this element animation
	        if (!propTween) {
	          if (dataShow) {
	            if ("hidden" in dataShow) {
	              hidden = dataShow.hidden;
	            }
	          } else {
	            dataShow = dataPriv.access(elem, "fxshow", {
	              display: restoreDisplay
	            });
	          }

	          // Store hidden/visible for toggle so `.stop().toggle()` "reverses"
	          if (toggle) {
	            dataShow.hidden = !hidden;
	          }

	          // Show elements before animating them
	          if (hidden) {
	            showHide([elem], true);
	          }

	          /* eslint-disable no-loop-func */

	          anim.done(function () {
	            /* eslint-enable no-loop-func */

	            // The final step of a "hide" animation is actually hiding the element
	            if (!hidden) {
	              showHide([elem]);
	            }
	            dataPriv.remove(elem, "fxshow");
	            for (prop in orig) {
	              jQuery.style(elem, prop, orig[prop]);
	            }
	          });
	        }

	        // Per-property setup
	        propTween = createTween(hidden ? dataShow[prop] : 0, prop, anim);
	        if (!(prop in dataShow)) {
	          dataShow[prop] = propTween.start;
	          if (hidden) {
	            propTween.end = propTween.start;
	            propTween.start = 0;
	          }
	        }
	      }
	    }
	    function propFilter(props, specialEasing) {
	      var index, name, easing, value, hooks;

	      // camelCase, specialEasing and expand cssHook pass
	      for (index in props) {
	        name = camelCase(index);
	        easing = specialEasing[name];
	        value = props[index];
	        if (Array.isArray(value)) {
	          easing = value[1];
	          value = props[index] = value[0];
	        }
	        if (index !== name) {
	          props[name] = value;
	          delete props[index];
	        }
	        hooks = jQuery.cssHooks[name];
	        if (hooks && "expand" in hooks) {
	          value = hooks.expand(value);
	          delete props[name];

	          // Not quite $.extend, this won't overwrite existing keys.
	          // Reusing 'index' because we have the correct "name"
	          for (index in value) {
	            if (!(index in props)) {
	              props[index] = value[index];
	              specialEasing[index] = easing;
	            }
	          }
	        } else {
	          specialEasing[name] = easing;
	        }
	      }
	    }
	    function Animation(elem, properties, options) {
	      var result,
	        stopped,
	        index = 0,
	        length = Animation.prefilters.length,
	        deferred = jQuery.Deferred().always(function () {
	          // Don't match elem in the :animated selector
	          delete tick.elem;
	        }),
	        tick = function () {
	          if (stopped) {
	            return false;
	          }
	          var currentTime = fxNow || createFxNow(),
	            remaining = Math.max(0, animation.startTime + animation.duration - currentTime),
	            // Support: Android 2.3 only
	            // Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (trac-12497)
	            temp = remaining / animation.duration || 0,
	            percent = 1 - temp,
	            index = 0,
	            length = animation.tweens.length;
	          for (; index < length; index++) {
	            animation.tweens[index].run(percent);
	          }
	          deferred.notifyWith(elem, [animation, percent, remaining]);

	          // If there's more to do, yield
	          if (percent < 1 && length) {
	            return remaining;
	          }

	          // If this was an empty animation, synthesize a final progress notification
	          if (!length) {
	            deferred.notifyWith(elem, [animation, 1, 0]);
	          }

	          // Resolve the animation and report its conclusion
	          deferred.resolveWith(elem, [animation]);
	          return false;
	        },
	        animation = deferred.promise({
	          elem: elem,
	          props: jQuery.extend({}, properties),
	          opts: jQuery.extend(true, {
	            specialEasing: {},
	            easing: jQuery.easing._default
	          }, options),
	          originalProperties: properties,
	          originalOptions: options,
	          startTime: fxNow || createFxNow(),
	          duration: options.duration,
	          tweens: [],
	          createTween: function (prop, end) {
	            var tween = jQuery.Tween(elem, animation.opts, prop, end, animation.opts.specialEasing[prop] || animation.opts.easing);
	            animation.tweens.push(tween);
	            return tween;
	          },
	          stop: function (gotoEnd) {
	            var index = 0,
	              // If we are going to the end, we want to run all the tweens
	              // otherwise we skip this part
	              length = gotoEnd ? animation.tweens.length : 0;
	            if (stopped) {
	              return this;
	            }
	            stopped = true;
	            for (; index < length; index++) {
	              animation.tweens[index].run(1);
	            }

	            // Resolve when we played the last frame; otherwise, reject
	            if (gotoEnd) {
	              deferred.notifyWith(elem, [animation, 1, 0]);
	              deferred.resolveWith(elem, [animation, gotoEnd]);
	            } else {
	              deferred.rejectWith(elem, [animation, gotoEnd]);
	            }
	            return this;
	          }
	        }),
	        props = animation.props;
	      propFilter(props, animation.opts.specialEasing);
	      for (; index < length; index++) {
	        result = Animation.prefilters[index].call(animation, elem, props, animation.opts);
	        if (result) {
	          if (isFunction(result.stop)) {
	            jQuery._queueHooks(animation.elem, animation.opts.queue).stop = result.stop.bind(result);
	          }
	          return result;
	        }
	      }
	      jQuery.map(props, createTween, animation);
	      if (isFunction(animation.opts.start)) {
	        animation.opts.start.call(elem, animation);
	      }

	      // Attach callbacks from options
	      animation.progress(animation.opts.progress).done(animation.opts.done, animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);
	      jQuery.fx.timer(jQuery.extend(tick, {
	        elem: elem,
	        anim: animation,
	        queue: animation.opts.queue
	      }));
	      return animation;
	    }
	    jQuery.Animation = jQuery.extend(Animation, {
	      tweeners: {
	        "*": [function (prop, value) {
	          var tween = this.createTween(prop, value);
	          adjustCSS(tween.elem, prop, rcssNum.exec(value), tween);
	          return tween;
	        }]
	      },
	      tweener: function (props, callback) {
	        if (isFunction(props)) {
	          callback = props;
	          props = ["*"];
	        } else {
	          props = props.match(rnothtmlwhite);
	        }
	        var prop,
	          index = 0,
	          length = props.length;
	        for (; index < length; index++) {
	          prop = props[index];
	          Animation.tweeners[prop] = Animation.tweeners[prop] || [];
	          Animation.tweeners[prop].unshift(callback);
	        }
	      },
	      prefilters: [defaultPrefilter],
	      prefilter: function (callback, prepend) {
	        if (prepend) {
	          Animation.prefilters.unshift(callback);
	        } else {
	          Animation.prefilters.push(callback);
	        }
	      }
	    });
	    jQuery.speed = function (speed, easing, fn) {
	      var opt = speed && typeof speed === "object" ? jQuery.extend({}, speed) : {
	        complete: fn || !fn && easing || isFunction(speed) && speed,
	        duration: speed,
	        easing: fn && easing || easing && !isFunction(easing) && easing
	      };

	      // Go to the end state if fx are off
	      if (jQuery.fx.off) {
	        opt.duration = 0;
	      } else {
	        if (typeof opt.duration !== "number") {
	          if (opt.duration in jQuery.fx.speeds) {
	            opt.duration = jQuery.fx.speeds[opt.duration];
	          } else {
	            opt.duration = jQuery.fx.speeds._default;
	          }
	        }
	      }

	      // Normalize opt.queue - true/undefined/null -> "fx"
	      if (opt.queue == null || opt.queue === true) {
	        opt.queue = "fx";
	      }

	      // Queueing
	      opt.old = opt.complete;
	      opt.complete = function () {
	        if (isFunction(opt.old)) {
	          opt.old.call(this);
	        }
	        if (opt.queue) {
	          jQuery.dequeue(this, opt.queue);
	        }
	      };
	      return opt;
	    };
	    jQuery.fn.extend({
	      fadeTo: function (speed, to, easing, callback) {
	        // Show any hidden elements after setting opacity to 0
	        return this.filter(isHiddenWithinTree).css("opacity", 0).show()

	        // Animate to the value specified
	        .end().animate({
	          opacity: to
	        }, speed, easing, callback);
	      },
	      animate: function (prop, speed, easing, callback) {
	        var empty = jQuery.isEmptyObject(prop),
	          optall = jQuery.speed(speed, easing, callback),
	          doAnimation = function () {
	            // Operate on a copy of prop so per-property easing won't be lost
	            var anim = Animation(this, jQuery.extend({}, prop), optall);

	            // Empty animations, or finishing resolves immediately
	            if (empty || dataPriv.get(this, "finish")) {
	              anim.stop(true);
	            }
	          };
	        doAnimation.finish = doAnimation;
	        return empty || optall.queue === false ? this.each(doAnimation) : this.queue(optall.queue, doAnimation);
	      },
	      stop: function (type, clearQueue, gotoEnd) {
	        var stopQueue = function (hooks) {
	          var stop = hooks.stop;
	          delete hooks.stop;
	          stop(gotoEnd);
	        };
	        if (typeof type !== "string") {
	          gotoEnd = clearQueue;
	          clearQueue = type;
	          type = undefined;
	        }
	        if (clearQueue) {
	          this.queue(type || "fx", []);
	        }
	        return this.each(function () {
	          var dequeue = true,
	            index = type != null && type + "queueHooks",
	            timers = jQuery.timers,
	            data = dataPriv.get(this);
	          if (index) {
	            if (data[index] && data[index].stop) {
	              stopQueue(data[index]);
	            }
	          } else {
	            for (index in data) {
	              if (data[index] && data[index].stop && rrun.test(index)) {
	                stopQueue(data[index]);
	              }
	            }
	          }
	          for (index = timers.length; index--;) {
	            if (timers[index].elem === this && (type == null || timers[index].queue === type)) {
	              timers[index].anim.stop(gotoEnd);
	              dequeue = false;
	              timers.splice(index, 1);
	            }
	          }

	          // Start the next in the queue if the last step wasn't forced.
	          // Timers currently will call their complete callbacks, which
	          // will dequeue but only if they were gotoEnd.
	          if (dequeue || !gotoEnd) {
	            jQuery.dequeue(this, type);
	          }
	        });
	      },
	      finish: function (type) {
	        if (type !== false) {
	          type = type || "fx";
	        }
	        return this.each(function () {
	          var index,
	            data = dataPriv.get(this),
	            queue = data[type + "queue"],
	            hooks = data[type + "queueHooks"],
	            timers = jQuery.timers,
	            length = queue ? queue.length : 0;

	          // Enable finishing flag on private data
	          data.finish = true;

	          // Empty the queue first
	          jQuery.queue(this, type, []);
	          if (hooks && hooks.stop) {
	            hooks.stop.call(this, true);
	          }

	          // Look for any active animations, and finish them
	          for (index = timers.length; index--;) {
	            if (timers[index].elem === this && timers[index].queue === type) {
	              timers[index].anim.stop(true);
	              timers.splice(index, 1);
	            }
	          }

	          // Look for any animations in the old queue and finish them
	          for (index = 0; index < length; index++) {
	            if (queue[index] && queue[index].finish) {
	              queue[index].finish.call(this);
	            }
	          }

	          // Turn off finishing flag
	          delete data.finish;
	        });
	      }
	    });
	    jQuery.each(["toggle", "show", "hide"], function (_i, name) {
	      var cssFn = jQuery.fn[name];
	      jQuery.fn[name] = function (speed, easing, callback) {
	        return speed == null || typeof speed === "boolean" ? cssFn.apply(this, arguments) : this.animate(genFx(name, true), speed, easing, callback);
	      };
	    });

	    // Generate shortcuts for custom animations
	    jQuery.each({
	      slideDown: genFx("show"),
	      slideUp: genFx("hide"),
	      slideToggle: genFx("toggle"),
	      fadeIn: {
	        opacity: "show"
	      },
	      fadeOut: {
	        opacity: "hide"
	      },
	      fadeToggle: {
	        opacity: "toggle"
	      }
	    }, function (name, props) {
	      jQuery.fn[name] = function (speed, easing, callback) {
	        return this.animate(props, speed, easing, callback);
	      };
	    });
	    jQuery.timers = [];
	    jQuery.fx.tick = function () {
	      var timer,
	        i = 0,
	        timers = jQuery.timers;
	      fxNow = Date.now();
	      for (; i < timers.length; i++) {
	        timer = timers[i];

	        // Run the timer and safely remove it when done (allowing for external removal)
	        if (!timer() && timers[i] === timer) {
	          timers.splice(i--, 1);
	        }
	      }
	      if (!timers.length) {
	        jQuery.fx.stop();
	      }
	      fxNow = undefined;
	    };
	    jQuery.fx.timer = function (timer) {
	      jQuery.timers.push(timer);
	      jQuery.fx.start();
	    };
	    jQuery.fx.interval = 13;
	    jQuery.fx.start = function () {
	      if (inProgress) {
	        return;
	      }
	      inProgress = true;
	      schedule();
	    };
	    jQuery.fx.stop = function () {
	      inProgress = null;
	    };
	    jQuery.fx.speeds = {
	      slow: 600,
	      fast: 200,
	      // Default speed
	      _default: 400
	    };

	    // Based off of the plugin by Clint Helfers, with permission.
	    jQuery.fn.delay = function (time, type) {
	      time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;
	      type = type || "fx";
	      return this.queue(type, function (next, hooks) {
	        var timeout = window.setTimeout(next, time);
	        hooks.stop = function () {
	          window.clearTimeout(timeout);
	        };
	      });
	    };
	    (function () {
	      var input = document.createElement("input"),
	        select = document.createElement("select"),
	        opt = select.appendChild(document.createElement("option"));
	      input.type = "checkbox";

	      // Support: Android <=4.3 only
	      // Default value for a checkbox should be "on"
	      support.checkOn = input.value !== "";

	      // Support: IE <=11 only
	      // Must access selectedIndex to make default options select
	      support.optSelected = opt.selected;

	      // Support: IE <=11 only
	      // An input loses its value after becoming a radio
	      input = document.createElement("input");
	      input.value = "t";
	      input.type = "radio";
	      support.radioValue = input.value === "t";
	    })();
	    var boolHook,
	      attrHandle = jQuery.expr.attrHandle;
	    jQuery.fn.extend({
	      attr: function (name, value) {
	        return access(this, jQuery.attr, name, value, arguments.length > 1);
	      },
	      removeAttr: function (name) {
	        return this.each(function () {
	          jQuery.removeAttr(this, name);
	        });
	      }
	    });
	    jQuery.extend({
	      attr: function (elem, name, value) {
	        var ret,
	          hooks,
	          nType = elem.nodeType;

	        // Don't get/set attributes on text, comment and attribute nodes
	        if (nType === 3 || nType === 8 || nType === 2) {
	          return;
	        }

	        // Fallback to prop when attributes are not supported
	        if (typeof elem.getAttribute === "undefined") {
	          return jQuery.prop(elem, name, value);
	        }

	        // Attribute hooks are determined by the lowercase version
	        // Grab necessary hook if one is defined
	        if (nType !== 1 || !jQuery.isXMLDoc(elem)) {
	          hooks = jQuery.attrHooks[name.toLowerCase()] || (jQuery.expr.match.bool.test(name) ? boolHook : undefined);
	        }
	        if (value !== undefined) {
	          if (value === null) {
	            jQuery.removeAttr(elem, name);
	            return;
	          }
	          if (hooks && "set" in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {
	            return ret;
	          }
	          elem.setAttribute(name, value + "");
	          return value;
	        }
	        if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
	          return ret;
	        }
	        ret = jQuery.find.attr(elem, name);

	        // Non-existent attributes return null, we normalize to undefined
	        return ret == null ? undefined : ret;
	      },
	      attrHooks: {
	        type: {
	          set: function (elem, value) {
	            if (!support.radioValue && value === "radio" && nodeName(elem, "input")) {
	              var val = elem.value;
	              elem.setAttribute("type", value);
	              if (val) {
	                elem.value = val;
	              }
	              return value;
	            }
	          }
	        }
	      },
	      removeAttr: function (elem, value) {
	        var name,
	          i = 0,
	          // Attribute names can contain non-HTML whitespace characters
	          // https://html.spec.whatwg.org/multipage/syntax.html#attributes-2
	          attrNames = value && value.match(rnothtmlwhite);
	        if (attrNames && elem.nodeType === 1) {
	          while (name = attrNames[i++]) {
	            elem.removeAttribute(name);
	          }
	        }
	      }
	    });

	    // Hooks for boolean attributes
	    boolHook = {
	      set: function (elem, value, name) {
	        if (value === false) {
	          // Remove boolean attributes when set to false
	          jQuery.removeAttr(elem, name);
	        } else {
	          elem.setAttribute(name, name);
	        }
	        return name;
	      }
	    };
	    jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g), function (_i, name) {
	      var getter = attrHandle[name] || jQuery.find.attr;
	      attrHandle[name] = function (elem, name, isXML) {
	        var ret,
	          handle,
	          lowercaseName = name.toLowerCase();
	        if (!isXML) {
	          // Avoid an infinite loop by temporarily removing this function from the getter
	          handle = attrHandle[lowercaseName];
	          attrHandle[lowercaseName] = ret;
	          ret = getter(elem, name, isXML) != null ? lowercaseName : null;
	          attrHandle[lowercaseName] = handle;
	        }
	        return ret;
	      };
	    });
	    var rfocusable = /^(?:input|select|textarea|button)$/i,
	      rclickable = /^(?:a|area)$/i;
	    jQuery.fn.extend({
	      prop: function (name, value) {
	        return access(this, jQuery.prop, name, value, arguments.length > 1);
	      },
	      removeProp: function (name) {
	        return this.each(function () {
	          delete this[jQuery.propFix[name] || name];
	        });
	      }
	    });
	    jQuery.extend({
	      prop: function (elem, name, value) {
	        var ret,
	          hooks,
	          nType = elem.nodeType;

	        // Don't get/set properties on text, comment and attribute nodes
	        if (nType === 3 || nType === 8 || nType === 2) {
	          return;
	        }
	        if (nType !== 1 || !jQuery.isXMLDoc(elem)) {
	          // Fix name and attach hooks
	          name = jQuery.propFix[name] || name;
	          hooks = jQuery.propHooks[name];
	        }
	        if (value !== undefined) {
	          if (hooks && "set" in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {
	            return ret;
	          }
	          return elem[name] = value;
	        }
	        if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
	          return ret;
	        }
	        return elem[name];
	      },
	      propHooks: {
	        tabIndex: {
	          get: function (elem) {
	            // Support: IE <=9 - 11 only
	            // elem.tabIndex doesn't always return the
	            // correct value when it hasn't been explicitly set
	            // Use proper attribute retrieval (trac-12072)
	            var tabindex = jQuery.find.attr(elem, "tabindex");
	            if (tabindex) {
	              return parseInt(tabindex, 10);
	            }
	            if (rfocusable.test(elem.nodeName) || rclickable.test(elem.nodeName) && elem.href) {
	              return 0;
	            }
	            return -1;
	          }
	        }
	      },
	      propFix: {
	        "for": "htmlFor",
	        "class": "className"
	      }
	    });

	    // Support: IE <=11 only
	    // Accessing the selectedIndex property
	    // forces the browser to respect setting selected
	    // on the option
	    // The getter ensures a default option is selected
	    // when in an optgroup
	    // eslint rule "no-unused-expressions" is disabled for this code
	    // since it considers such accessions noop
	    if (!support.optSelected) {
	      jQuery.propHooks.selected = {
	        get: function (elem) {
	          /* eslint no-unused-expressions: "off" */

	          var parent = elem.parentNode;
	          if (parent && parent.parentNode) {
	            parent.parentNode.selectedIndex;
	          }
	          return null;
	        },
	        set: function (elem) {
	          /* eslint no-unused-expressions: "off" */

	          var parent = elem.parentNode;
	          if (parent) {
	            parent.selectedIndex;
	            if (parent.parentNode) {
	              parent.parentNode.selectedIndex;
	            }
	          }
	        }
	      };
	    }
	    jQuery.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
	      jQuery.propFix[this.toLowerCase()] = this;
	    });

	    // Strip and collapse whitespace according to HTML spec
	    // https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace
	    function stripAndCollapse(value) {
	      var tokens = value.match(rnothtmlwhite) || [];
	      return tokens.join(" ");
	    }
	    function getClass(elem) {
	      return elem.getAttribute && elem.getAttribute("class") || "";
	    }
	    function classesToArray(value) {
	      if (Array.isArray(value)) {
	        return value;
	      }
	      if (typeof value === "string") {
	        return value.match(rnothtmlwhite) || [];
	      }
	      return [];
	    }
	    jQuery.fn.extend({
	      addClass: function (value) {
	        var classNames, cur, curValue, className, i, finalValue;
	        if (isFunction(value)) {
	          return this.each(function (j) {
	            jQuery(this).addClass(value.call(this, j, getClass(this)));
	          });
	        }
	        classNames = classesToArray(value);
	        if (classNames.length) {
	          return this.each(function () {
	            curValue = getClass(this);
	            cur = this.nodeType === 1 && " " + stripAndCollapse(curValue) + " ";
	            if (cur) {
	              for (i = 0; i < classNames.length; i++) {
	                className = classNames[i];
	                if (cur.indexOf(" " + className + " ") < 0) {
	                  cur += className + " ";
	                }
	              }

	              // Only assign if different to avoid unneeded rendering.
	              finalValue = stripAndCollapse(cur);
	              if (curValue !== finalValue) {
	                this.setAttribute("class", finalValue);
	              }
	            }
	          });
	        }
	        return this;
	      },
	      removeClass: function (value) {
	        var classNames, cur, curValue, className, i, finalValue;
	        if (isFunction(value)) {
	          return this.each(function (j) {
	            jQuery(this).removeClass(value.call(this, j, getClass(this)));
	          });
	        }
	        if (!arguments.length) {
	          return this.attr("class", "");
	        }
	        classNames = classesToArray(value);
	        if (classNames.length) {
	          return this.each(function () {
	            curValue = getClass(this);

	            // This expression is here for better compressibility (see addClass)
	            cur = this.nodeType === 1 && " " + stripAndCollapse(curValue) + " ";
	            if (cur) {
	              for (i = 0; i < classNames.length; i++) {
	                className = classNames[i];

	                // Remove *all* instances
	                while (cur.indexOf(" " + className + " ") > -1) {
	                  cur = cur.replace(" " + className + " ", " ");
	                }
	              }

	              // Only assign if different to avoid unneeded rendering.
	              finalValue = stripAndCollapse(cur);
	              if (curValue !== finalValue) {
	                this.setAttribute("class", finalValue);
	              }
	            }
	          });
	        }
	        return this;
	      },
	      toggleClass: function (value, stateVal) {
	        var classNames,
	          className,
	          i,
	          self,
	          type = typeof value,
	          isValidValue = type === "string" || Array.isArray(value);
	        if (isFunction(value)) {
	          return this.each(function (i) {
	            jQuery(this).toggleClass(value.call(this, i, getClass(this), stateVal), stateVal);
	          });
	        }
	        if (typeof stateVal === "boolean" && isValidValue) {
	          return stateVal ? this.addClass(value) : this.removeClass(value);
	        }
	        classNames = classesToArray(value);
	        return this.each(function () {
	          if (isValidValue) {
	            // Toggle individual class names
	            self = jQuery(this);
	            for (i = 0; i < classNames.length; i++) {
	              className = classNames[i];

	              // Check each className given, space separated list
	              if (self.hasClass(className)) {
	                self.removeClass(className);
	              } else {
	                self.addClass(className);
	              }
	            }

	            // Toggle whole class name
	          } else if (value === undefined || type === "boolean") {
	            className = getClass(this);
	            if (className) {
	              // Store className if set
	              dataPriv.set(this, "__className__", className);
	            }

	            // If the element has a class name or if we're passed `false`,
	            // then remove the whole classname (if there was one, the above saved it).
	            // Otherwise bring back whatever was previously saved (if anything),
	            // falling back to the empty string if nothing was stored.
	            if (this.setAttribute) {
	              this.setAttribute("class", className || value === false ? "" : dataPriv.get(this, "__className__") || "");
	            }
	          }
	        });
	      },
	      hasClass: function (selector) {
	        var className,
	          elem,
	          i = 0;
	        className = " " + selector + " ";
	        while (elem = this[i++]) {
	          if (elem.nodeType === 1 && (" " + stripAndCollapse(getClass(elem)) + " ").indexOf(className) > -1) {
	            return true;
	          }
	        }
	        return false;
	      }
	    });
	    var rreturn = /\r/g;
	    jQuery.fn.extend({
	      val: function (value) {
	        var hooks,
	          ret,
	          valueIsFunction,
	          elem = this[0];
	        if (!arguments.length) {
	          if (elem) {
	            hooks = jQuery.valHooks[elem.type] || jQuery.valHooks[elem.nodeName.toLowerCase()];
	            if (hooks && "get" in hooks && (ret = hooks.get(elem, "value")) !== undefined) {
	              return ret;
	            }
	            ret = elem.value;

	            // Handle most common string cases
	            if (typeof ret === "string") {
	              return ret.replace(rreturn, "");
	            }

	            // Handle cases where value is null/undef or number
	            return ret == null ? "" : ret;
	          }
	          return;
	        }
	        valueIsFunction = isFunction(value);
	        return this.each(function (i) {
	          var val;
	          if (this.nodeType !== 1) {
	            return;
	          }
	          if (valueIsFunction) {
	            val = value.call(this, i, jQuery(this).val());
	          } else {
	            val = value;
	          }

	          // Treat null/undefined as ""; convert numbers to string
	          if (val == null) {
	            val = "";
	          } else if (typeof val === "number") {
	            val += "";
	          } else if (Array.isArray(val)) {
	            val = jQuery.map(val, function (value) {
	              return value == null ? "" : value + "";
	            });
	          }
	          hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()];

	          // If set returns undefined, fall back to normal setting
	          if (!hooks || !("set" in hooks) || hooks.set(this, val, "value") === undefined) {
	            this.value = val;
	          }
	        });
	      }
	    });
	    jQuery.extend({
	      valHooks: {
	        option: {
	          get: function (elem) {
	            var val = jQuery.find.attr(elem, "value");
	            return val != null ? val :
	            // Support: IE <=10 - 11 only
	            // option.text throws exceptions (trac-14686, trac-14858)
	            // Strip and collapse whitespace
	            // https://html.spec.whatwg.org/#strip-and-collapse-whitespace
	            stripAndCollapse(jQuery.text(elem));
	          }
	        },
	        select: {
	          get: function (elem) {
	            var value,
	              option,
	              i,
	              options = elem.options,
	              index = elem.selectedIndex,
	              one = elem.type === "select-one",
	              values = one ? null : [],
	              max = one ? index + 1 : options.length;
	            if (index < 0) {
	              i = max;
	            } else {
	              i = one ? index : 0;
	            }

	            // Loop through all the selected options
	            for (; i < max; i++) {
	              option = options[i];

	              // Support: IE <=9 only
	              // IE8-9 doesn't update selected after form reset (trac-2551)
	              if ((option.selected || i === index) &&
	              // Don't return options that are disabled or in a disabled optgroup
	              !option.disabled && (!option.parentNode.disabled || !nodeName(option.parentNode, "optgroup"))) {
	                // Get the specific value for the option
	                value = jQuery(option).val();

	                // We don't need an array for one selects
	                if (one) {
	                  return value;
	                }

	                // Multi-Selects return an array
	                values.push(value);
	              }
	            }
	            return values;
	          },
	          set: function (elem, value) {
	            var optionSet,
	              option,
	              options = elem.options,
	              values = jQuery.makeArray(value),
	              i = options.length;
	            while (i--) {
	              option = options[i];

	              /* eslint-disable no-cond-assign */

	              if (option.selected = jQuery.inArray(jQuery.valHooks.option.get(option), values) > -1) {
	                optionSet = true;
	              }

	              /* eslint-enable no-cond-assign */
	            }

	            // Force browsers to behave consistently when non-matching value is set
	            if (!optionSet) {
	              elem.selectedIndex = -1;
	            }
	            return values;
	          }
	        }
	      }
	    });

	    // Radios and checkboxes getter/setter
	    jQuery.each(["radio", "checkbox"], function () {
	      jQuery.valHooks[this] = {
	        set: function (elem, value) {
	          if (Array.isArray(value)) {
	            return elem.checked = jQuery.inArray(jQuery(elem).val(), value) > -1;
	          }
	        }
	      };
	      if (!support.checkOn) {
	        jQuery.valHooks[this].get = function (elem) {
	          return elem.getAttribute("value") === null ? "on" : elem.value;
	        };
	      }
	    });

	    // Return jQuery for attributes-only inclusion
	    var location = window.location;
	    var nonce = {
	      guid: Date.now()
	    };
	    var rquery = /\?/;

	    // Cross-browser xml parsing
	    jQuery.parseXML = function (data) {
	      var xml, parserErrorElem;
	      if (!data || typeof data !== "string") {
	        return null;
	      }

	      // Support: IE 9 - 11 only
	      // IE throws on parseFromString with invalid input.
	      try {
	        xml = new window.DOMParser().parseFromString(data, "text/xml");
	      } catch (e) {}
	      parserErrorElem = xml && xml.getElementsByTagName("parsererror")[0];
	      if (!xml || parserErrorElem) {
	        jQuery.error("Invalid XML: " + (parserErrorElem ? jQuery.map(parserErrorElem.childNodes, function (el) {
	          return el.textContent;
	        }).join("\n") : data));
	      }
	      return xml;
	    };
	    var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	      stopPropagationCallback = function (e) {
	        e.stopPropagation();
	      };
	    jQuery.extend(jQuery.event, {
	      trigger: function (event, data, elem, onlyHandlers) {
	        var i,
	          cur,
	          tmp,
	          bubbleType,
	          ontype,
	          handle,
	          special,
	          lastElement,
	          eventPath = [elem || document],
	          type = hasOwn.call(event, "type") ? event.type : event,
	          namespaces = hasOwn.call(event, "namespace") ? event.namespace.split(".") : [];
	        cur = lastElement = tmp = elem = elem || document;

	        // Don't do events on text and comment nodes
	        if (elem.nodeType === 3 || elem.nodeType === 8) {
	          return;
	        }

	        // focus/blur morphs to focusin/out; ensure we're not firing them right now
	        if (rfocusMorph.test(type + jQuery.event.triggered)) {
	          return;
	        }
	        if (type.indexOf(".") > -1) {
	          // Namespaced trigger; create a regexp to match event type in handle()
	          namespaces = type.split(".");
	          type = namespaces.shift();
	          namespaces.sort();
	        }
	        ontype = type.indexOf(":") < 0 && "on" + type;

	        // Caller can pass in a jQuery.Event object, Object, or just an event type string
	        event = event[jQuery.expando] ? event : new jQuery.Event(type, typeof event === "object" && event);

	        // Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
	        event.isTrigger = onlyHandlers ? 2 : 3;
	        event.namespace = namespaces.join(".");
	        event.rnamespace = event.namespace ? new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)") : null;

	        // Clean up the event in case it is being reused
	        event.result = undefined;
	        if (!event.target) {
	          event.target = elem;
	        }

	        // Clone any incoming data and prepend the event, creating the handler arg list
	        data = data == null ? [event] : jQuery.makeArray(data, [event]);

	        // Allow special events to draw outside the lines
	        special = jQuery.event.special[type] || {};
	        if (!onlyHandlers && special.trigger && special.trigger.apply(elem, data) === false) {
	          return;
	        }

	        // Determine event propagation path in advance, per W3C events spec (trac-9951)
	        // Bubble up to document, then to window; watch for a global ownerDocument var (trac-9724)
	        if (!onlyHandlers && !special.noBubble && !isWindow(elem)) {
	          bubbleType = special.delegateType || type;
	          if (!rfocusMorph.test(bubbleType + type)) {
	            cur = cur.parentNode;
	          }
	          for (; cur; cur = cur.parentNode) {
	            eventPath.push(cur);
	            tmp = cur;
	          }

	          // Only add window if we got to document (e.g., not plain obj or detached DOM)
	          if (tmp === (elem.ownerDocument || document)) {
	            eventPath.push(tmp.defaultView || tmp.parentWindow || window);
	          }
	        }

	        // Fire handlers on the event path
	        i = 0;
	        while ((cur = eventPath[i++]) && !event.isPropagationStopped()) {
	          lastElement = cur;
	          event.type = i > 1 ? bubbleType : special.bindType || type;

	          // jQuery handler
	          handle = (dataPriv.get(cur, "events") || Object.create(null))[event.type] && dataPriv.get(cur, "handle");
	          if (handle) {
	            handle.apply(cur, data);
	          }

	          // Native handler
	          handle = ontype && cur[ontype];
	          if (handle && handle.apply && acceptData(cur)) {
	            event.result = handle.apply(cur, data);
	            if (event.result === false) {
	              event.preventDefault();
	            }
	          }
	        }
	        event.type = type;

	        // If nobody prevented the default action, do it now
	        if (!onlyHandlers && !event.isDefaultPrevented()) {
	          if ((!special._default || special._default.apply(eventPath.pop(), data) === false) && acceptData(elem)) {
	            // Call a native DOM method on the target with the same name as the event.
	            // Don't do default actions on window, that's where global variables be (trac-6170)
	            if (ontype && isFunction(elem[type]) && !isWindow(elem)) {
	              // Don't re-trigger an onFOO event when we call its FOO() method
	              tmp = elem[ontype];
	              if (tmp) {
	                elem[ontype] = null;
	              }

	              // Prevent re-triggering of the same event, since we already bubbled it above
	              jQuery.event.triggered = type;
	              if (event.isPropagationStopped()) {
	                lastElement.addEventListener(type, stopPropagationCallback);
	              }
	              elem[type]();
	              if (event.isPropagationStopped()) {
	                lastElement.removeEventListener(type, stopPropagationCallback);
	              }
	              jQuery.event.triggered = undefined;
	              if (tmp) {
	                elem[ontype] = tmp;
	              }
	            }
	          }
	        }
	        return event.result;
	      },
	      // Piggyback on a donor event to simulate a different one
	      // Used only for `focus(in | out)` events
	      simulate: function (type, elem, event) {
	        var e = jQuery.extend(new jQuery.Event(), event, {
	          type: type,
	          isSimulated: true
	        });
	        jQuery.event.trigger(e, null, elem);
	      }
	    });
	    jQuery.fn.extend({
	      trigger: function (type, data) {
	        return this.each(function () {
	          jQuery.event.trigger(type, data, this);
	        });
	      },
	      triggerHandler: function (type, data) {
	        var elem = this[0];
	        if (elem) {
	          return jQuery.event.trigger(type, data, elem, true);
	        }
	      }
	    });
	    var rbracket = /\[\]$/,
	      rCRLF = /\r?\n/g,
	      rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	      rsubmittable = /^(?:input|select|textarea|keygen)/i;
	    function buildParams(prefix, obj, traditional, add) {
	      var name;
	      if (Array.isArray(obj)) {
	        // Serialize array item.
	        jQuery.each(obj, function (i, v) {
	          if (traditional || rbracket.test(prefix)) {
	            // Treat each array item as a scalar.
	            add(prefix, v);
	          } else {
	            // Item is non-scalar (array or object), encode its numeric index.
	            buildParams(prefix + "[" + (typeof v === "object" && v != null ? i : "") + "]", v, traditional, add);
	          }
	        });
	      } else if (!traditional && toType(obj) === "object") {
	        // Serialize object item.
	        for (name in obj) {
	          buildParams(prefix + "[" + name + "]", obj[name], traditional, add);
	        }
	      } else {
	        // Serialize scalar item.
	        add(prefix, obj);
	      }
	    }

	    // Serialize an array of form elements or a set of
	    // key/values into a query string
	    jQuery.param = function (a, traditional) {
	      var prefix,
	        s = [],
	        add = function (key, valueOrFunction) {
	          // If value is a function, invoke it and use its return value
	          var value = isFunction(valueOrFunction) ? valueOrFunction() : valueOrFunction;
	          s[s.length] = encodeURIComponent(key) + "=" + encodeURIComponent(value == null ? "" : value);
	        };
	      if (a == null) {
	        return "";
	      }

	      // If an array was passed in, assume that it is an array of form elements.
	      if (Array.isArray(a) || a.jquery && !jQuery.isPlainObject(a)) {
	        // Serialize the form elements
	        jQuery.each(a, function () {
	          add(this.name, this.value);
	        });
	      } else {
	        // If traditional, encode the "old" way (the way 1.3.2 or older
	        // did it), otherwise encode params recursively.
	        for (prefix in a) {
	          buildParams(prefix, a[prefix], traditional, add);
	        }
	      }

	      // Return the resulting serialization
	      return s.join("&");
	    };
	    jQuery.fn.extend({
	      serialize: function () {
	        return jQuery.param(this.serializeArray());
	      },
	      serializeArray: function () {
	        return this.map(function () {
	          // Can add propHook for "elements" to filter or add form elements
	          var elements = jQuery.prop(this, "elements");
	          return elements ? jQuery.makeArray(elements) : this;
	        }).filter(function () {
	          var type = this.type;

	          // Use .is( ":disabled" ) so that fieldset[disabled] works
	          return this.name && !jQuery(this).is(":disabled") && rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type) && (this.checked || !rcheckableType.test(type));
	        }).map(function (_i, elem) {
	          var val = jQuery(this).val();
	          if (val == null) {
	            return null;
	          }
	          if (Array.isArray(val)) {
	            return jQuery.map(val, function (val) {
	              return {
	                name: elem.name,
	                value: val.replace(rCRLF, "\r\n")
	              };
	            });
	          }
	          return {
	            name: elem.name,
	            value: val.replace(rCRLF, "\r\n")
	          };
	        }).get();
	      }
	    });
	    var r20 = /%20/g,
	      rhash = /#.*$/,
	      rantiCache = /([?&])_=[^&]*/,
	      rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,
	      // trac-7653, trac-8125, trac-8152: local protocol detection
	      rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	      rnoContent = /^(?:GET|HEAD)$/,
	      rprotocol = /^\/\//,
	      /* Prefilters
	       * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	       * 2) These are called:
	       *    - BEFORE asking for a transport
	       *    - AFTER param serialization (s.data is a string if s.processData is true)
	       * 3) key is the dataType
	       * 4) the catchall symbol "*" can be used
	       * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	       */
	      prefilters = {},
	      /* Transports bindings
	       * 1) key is the dataType
	       * 2) the catchall symbol "*" can be used
	       * 3) selection will start with transport dataType and THEN go to "*" if needed
	       */
	      transports = {},
	      // Avoid comment-prolog char sequence (trac-10098); must appease lint and evade compression
	      allTypes = "*/".concat("*"),
	      // Anchor tag for parsing the document origin
	      originAnchor = document.createElement("a");
	    originAnchor.href = location.href;

	    // Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
	    function addToPrefiltersOrTransports(structure) {
	      // dataTypeExpression is optional and defaults to "*"
	      return function (dataTypeExpression, func) {
	        if (typeof dataTypeExpression !== "string") {
	          func = dataTypeExpression;
	          dataTypeExpression = "*";
	        }
	        var dataType,
	          i = 0,
	          dataTypes = dataTypeExpression.toLowerCase().match(rnothtmlwhite) || [];
	        if (isFunction(func)) {
	          // For each dataType in the dataTypeExpression
	          while (dataType = dataTypes[i++]) {
	            // Prepend if requested
	            if (dataType[0] === "+") {
	              dataType = dataType.slice(1) || "*";
	              (structure[dataType] = structure[dataType] || []).unshift(func);

	              // Otherwise append
	            } else {
	              (structure[dataType] = structure[dataType] || []).push(func);
	            }
	          }
	        }
	      };
	    }

	    // Base inspection function for prefilters and transports
	    function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR) {
	      var inspected = {},
	        seekingTransport = structure === transports;
	      function inspect(dataType) {
	        var selected;
	        inspected[dataType] = true;
	        jQuery.each(structure[dataType] || [], function (_, prefilterOrFactory) {
	          var dataTypeOrTransport = prefilterOrFactory(options, originalOptions, jqXHR);
	          if (typeof dataTypeOrTransport === "string" && !seekingTransport && !inspected[dataTypeOrTransport]) {
	            options.dataTypes.unshift(dataTypeOrTransport);
	            inspect(dataTypeOrTransport);
	            return false;
	          } else if (seekingTransport) {
	            return !(selected = dataTypeOrTransport);
	          }
	        });
	        return selected;
	      }
	      return inspect(options.dataTypes[0]) || !inspected["*"] && inspect("*");
	    }

	    // A special extend for ajax options
	    // that takes "flat" options (not to be deep extended)
	    // Fixes trac-9887
	    function ajaxExtend(target, src) {
	      var key,
	        deep,
	        flatOptions = jQuery.ajaxSettings.flatOptions || {};
	      for (key in src) {
	        if (src[key] !== undefined) {
	          (flatOptions[key] ? target : deep || (deep = {}))[key] = src[key];
	        }
	      }
	      if (deep) {
	        jQuery.extend(true, target, deep);
	      }
	      return target;
	    }

	    /* Handles responses to an ajax request:
	     * - finds the right dataType (mediates between content-type and expected dataType)
	     * - returns the corresponding response
	     */
	    function ajaxHandleResponses(s, jqXHR, responses) {
	      var ct,
	        type,
	        finalDataType,
	        firstDataType,
	        contents = s.contents,
	        dataTypes = s.dataTypes;

	      // Remove auto dataType and get content-type in the process
	      while (dataTypes[0] === "*") {
	        dataTypes.shift();
	        if (ct === undefined) {
	          ct = s.mimeType || jqXHR.getResponseHeader("Content-Type");
	        }
	      }

	      // Check if we're dealing with a known content-type
	      if (ct) {
	        for (type in contents) {
	          if (contents[type] && contents[type].test(ct)) {
	            dataTypes.unshift(type);
	            break;
	          }
	        }
	      }

	      // Check to see if we have a response for the expected dataType
	      if (dataTypes[0] in responses) {
	        finalDataType = dataTypes[0];
	      } else {
	        // Try convertible dataTypes
	        for (type in responses) {
	          if (!dataTypes[0] || s.converters[type + " " + dataTypes[0]]) {
	            finalDataType = type;
	            break;
	          }
	          if (!firstDataType) {
	            firstDataType = type;
	          }
	        }

	        // Or just use first one
	        finalDataType = finalDataType || firstDataType;
	      }

	      // If we found a dataType
	      // We add the dataType to the list if needed
	      // and return the corresponding response
	      if (finalDataType) {
	        if (finalDataType !== dataTypes[0]) {
	          dataTypes.unshift(finalDataType);
	        }
	        return responses[finalDataType];
	      }
	    }

	    /* Chain conversions given the request and the original response
	     * Also sets the responseXXX fields on the jqXHR instance
	     */
	    function ajaxConvert(s, response, jqXHR, isSuccess) {
	      var conv2,
	        current,
	        conv,
	        tmp,
	        prev,
	        converters = {},
	        // Work with a copy of dataTypes in case we need to modify it for conversion
	        dataTypes = s.dataTypes.slice();

	      // Create converters map with lowercased keys
	      if (dataTypes[1]) {
	        for (conv in s.converters) {
	          converters[conv.toLowerCase()] = s.converters[conv];
	        }
	      }
	      current = dataTypes.shift();

	      // Convert to each sequential dataType
	      while (current) {
	        if (s.responseFields[current]) {
	          jqXHR[s.responseFields[current]] = response;
	        }

	        // Apply the dataFilter if provided
	        if (!prev && isSuccess && s.dataFilter) {
	          response = s.dataFilter(response, s.dataType);
	        }
	        prev = current;
	        current = dataTypes.shift();
	        if (current) {
	          // There's only work to do if current dataType is non-auto
	          if (current === "*") {
	            current = prev;

	            // Convert response if prev dataType is non-auto and differs from current
	          } else if (prev !== "*" && prev !== current) {
	            // Seek a direct converter
	            conv = converters[prev + " " + current] || converters["* " + current];

	            // If none found, seek a pair
	            if (!conv) {
	              for (conv2 in converters) {
	                // If conv2 outputs current
	                tmp = conv2.split(" ");
	                if (tmp[1] === current) {
	                  // If prev can be converted to accepted input
	                  conv = converters[prev + " " + tmp[0]] || converters["* " + tmp[0]];
	                  if (conv) {
	                    // Condense equivalence converters
	                    if (conv === true) {
	                      conv = converters[conv2];

	                      // Otherwise, insert the intermediate dataType
	                    } else if (converters[conv2] !== true) {
	                      current = tmp[0];
	                      dataTypes.unshift(tmp[1]);
	                    }
	                    break;
	                  }
	                }
	              }
	            }

	            // Apply converter (if not an equivalence)
	            if (conv !== true) {
	              // Unless errors are allowed to bubble, catch and return them
	              if (conv && s.throws) {
	                response = conv(response);
	              } else {
	                try {
	                  response = conv(response);
	                } catch (e) {
	                  return {
	                    state: "parsererror",
	                    error: conv ? e : "No conversion from " + prev + " to " + current
	                  };
	                }
	              }
	            }
	          }
	        }
	      }
	      return {
	        state: "success",
	        data: response
	      };
	    }
	    jQuery.extend({
	      // Counter for holding the number of active queries
	      active: 0,
	      // Last-Modified header cache for next request
	      lastModified: {},
	      etag: {},
	      ajaxSettings: {
	        url: location.href,
	        type: "GET",
	        isLocal: rlocalProtocol.test(location.protocol),
	        global: true,
	        processData: true,
	        async: true,
	        contentType: "application/x-www-form-urlencoded; charset=UTF-8",
	        /*
	        timeout: 0,
	        data: null,
	        dataType: null,
	        username: null,
	        password: null,
	        cache: null,
	        throws: false,
	        traditional: false,
	        headers: {},
	        */

	        accepts: {
	          "*": allTypes,
	          text: "text/plain",
	          html: "text/html",
	          xml: "application/xml, text/xml",
	          json: "application/json, text/javascript"
	        },
	        contents: {
	          xml: /\bxml\b/,
	          html: /\bhtml/,
	          json: /\bjson\b/
	        },
	        responseFields: {
	          xml: "responseXML",
	          text: "responseText",
	          json: "responseJSON"
	        },
	        // Data converters
	        // Keys separate source (or catchall "*") and destination types with a single space
	        converters: {
	          // Convert anything to text
	          "* text": String,
	          // Text to html (true = no transformation)
	          "text html": true,
	          // Evaluate text as a json expression
	          "text json": JSON.parse,
	          // Parse text as xml
	          "text xml": jQuery.parseXML
	        },
	        // For options that shouldn't be deep extended:
	        // you can add your own custom options here if
	        // and when you create one that shouldn't be
	        // deep extended (see ajaxExtend)
	        flatOptions: {
	          url: true,
	          context: true
	        }
	      },
	      // Creates a full fledged settings object into target
	      // with both ajaxSettings and settings fields.
	      // If target is omitted, writes into ajaxSettings.
	      ajaxSetup: function (target, settings) {
	        return settings ?
	        // Building a settings object
	        ajaxExtend(ajaxExtend(target, jQuery.ajaxSettings), settings) :
	        // Extending ajaxSettings
	        ajaxExtend(jQuery.ajaxSettings, target);
	      },
	      ajaxPrefilter: addToPrefiltersOrTransports(prefilters),
	      ajaxTransport: addToPrefiltersOrTransports(transports),
	      // Main method
	      ajax: function (url, options) {
	        // If url is an object, simulate pre-1.5 signature
	        if (typeof url === "object") {
	          options = url;
	          url = undefined;
	        }

	        // Force options to be an object
	        options = options || {};
	        var transport,
	          // URL without anti-cache param
	          cacheURL,
	          // Response headers
	          responseHeadersString,
	          responseHeaders,
	          // timeout handle
	          timeoutTimer,
	          // Url cleanup var
	          urlAnchor,
	          // Request state (becomes false upon send and true upon completion)
	          completed,
	          // To know if global events are to be dispatched
	          fireGlobals,
	          // Loop variable
	          i,
	          // uncached part of the url
	          uncached,
	          // Create the final options object
	          s = jQuery.ajaxSetup({}, options),
	          // Callbacks context
	          callbackContext = s.context || s,
	          // Context for global events is callbackContext if it is a DOM node or jQuery collection
	          globalEventContext = s.context && (callbackContext.nodeType || callbackContext.jquery) ? jQuery(callbackContext) : jQuery.event,
	          // Deferreds
	          deferred = jQuery.Deferred(),
	          completeDeferred = jQuery.Callbacks("once memory"),
	          // Status-dependent callbacks
	          statusCode = s.statusCode || {},
	          // Headers (they are sent all at once)
	          requestHeaders = {},
	          requestHeadersNames = {},
	          // Default abort message
	          strAbort = "canceled",
	          // Fake xhr
	          jqXHR = {
	            readyState: 0,
	            // Builds headers hashtable if needed
	            getResponseHeader: function (key) {
	              var match;
	              if (completed) {
	                if (!responseHeaders) {
	                  responseHeaders = {};
	                  while (match = rheaders.exec(responseHeadersString)) {
	                    responseHeaders[match[1].toLowerCase() + " "] = (responseHeaders[match[1].toLowerCase() + " "] || []).concat(match[2]);
	                  }
	                }
	                match = responseHeaders[key.toLowerCase() + " "];
	              }
	              return match == null ? null : match.join(", ");
	            },
	            // Raw string
	            getAllResponseHeaders: function () {
	              return completed ? responseHeadersString : null;
	            },
	            // Caches the header
	            setRequestHeader: function (name, value) {
	              if (completed == null) {
	                name = requestHeadersNames[name.toLowerCase()] = requestHeadersNames[name.toLowerCase()] || name;
	                requestHeaders[name] = value;
	              }
	              return this;
	            },
	            // Overrides response content-type header
	            overrideMimeType: function (type) {
	              if (completed == null) {
	                s.mimeType = type;
	              }
	              return this;
	            },
	            // Status-dependent callbacks
	            statusCode: function (map) {
	              var code;
	              if (map) {
	                if (completed) {
	                  // Execute the appropriate callbacks
	                  jqXHR.always(map[jqXHR.status]);
	                } else {
	                  // Lazy-add the new callbacks in a way that preserves old ones
	                  for (code in map) {
	                    statusCode[code] = [statusCode[code], map[code]];
	                  }
	                }
	              }
	              return this;
	            },
	            // Cancel the request
	            abort: function (statusText) {
	              var finalText = statusText || strAbort;
	              if (transport) {
	                transport.abort(finalText);
	              }
	              done(0, finalText);
	              return this;
	            }
	          };

	        // Attach deferreds
	        deferred.promise(jqXHR);

	        // Add protocol if not provided (prefilters might expect it)
	        // Handle falsy url in the settings object (trac-10093: consistency with old signature)
	        // We also use the url parameter if available
	        s.url = ((url || s.url || location.href) + "").replace(rprotocol, location.protocol + "//");

	        // Alias method option to type as per ticket trac-12004
	        s.type = options.method || options.type || s.method || s.type;

	        // Extract dataTypes list
	        s.dataTypes = (s.dataType || "*").toLowerCase().match(rnothtmlwhite) || [""];

	        // A cross-domain request is in order when the origin doesn't match the current origin.
	        if (s.crossDomain == null) {
	          urlAnchor = document.createElement("a");

	          // Support: IE <=8 - 11, Edge 12 - 15
	          // IE throws exception on accessing the href property if url is malformed,
	          // e.g. http://example.com:80x/
	          try {
	            urlAnchor.href = s.url;

	            // Support: IE <=8 - 11 only
	            // Anchor's host property isn't correctly set when s.url is relative
	            urlAnchor.href = urlAnchor.href;
	            s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !== urlAnchor.protocol + "//" + urlAnchor.host;
	          } catch (e) {
	            // If there is an error parsing the URL, assume it is crossDomain,
	            // it can be rejected by the transport if it is invalid
	            s.crossDomain = true;
	          }
	        }

	        // Convert data if not already a string
	        if (s.data && s.processData && typeof s.data !== "string") {
	          s.data = jQuery.param(s.data, s.traditional);
	        }

	        // Apply prefilters
	        inspectPrefiltersOrTransports(prefilters, s, options, jqXHR);

	        // If request was aborted inside a prefilter, stop there
	        if (completed) {
	          return jqXHR;
	        }

	        // We can fire global events as of now if asked to
	        // Don't fire events if jQuery.event is undefined in an AMD-usage scenario (trac-15118)
	        fireGlobals = jQuery.event && s.global;

	        // Watch for a new set of requests
	        if (fireGlobals && jQuery.active++ === 0) {
	          jQuery.event.trigger("ajaxStart");
	        }

	        // Uppercase the type
	        s.type = s.type.toUpperCase();

	        // Determine if request has content
	        s.hasContent = !rnoContent.test(s.type);

	        // Save the URL in case we're toying with the If-Modified-Since
	        // and/or If-None-Match header later on
	        // Remove hash to simplify url manipulation
	        cacheURL = s.url.replace(rhash, "");

	        // More options handling for requests with no content
	        if (!s.hasContent) {
	          // Remember the hash so we can put it back
	          uncached = s.url.slice(cacheURL.length);

	          // If data is available and should be processed, append data to url
	          if (s.data && (s.processData || typeof s.data === "string")) {
	            cacheURL += (rquery.test(cacheURL) ? "&" : "?") + s.data;

	            // trac-9682: remove data so that it's not used in an eventual retry
	            delete s.data;
	          }

	          // Add or update anti-cache param if needed
	          if (s.cache === false) {
	            cacheURL = cacheURL.replace(rantiCache, "$1");
	            uncached = (rquery.test(cacheURL) ? "&" : "?") + "_=" + nonce.guid++ + uncached;
	          }

	          // Put hash and anti-cache on the URL that will be requested (gh-1732)
	          s.url = cacheURL + uncached;

	          // Change '%20' to '+' if this is encoded form body content (gh-2658)
	        } else if (s.data && s.processData && (s.contentType || "").indexOf("application/x-www-form-urlencoded") === 0) {
	          s.data = s.data.replace(r20, "+");
	        }

	        // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
	        if (s.ifModified) {
	          if (jQuery.lastModified[cacheURL]) {
	            jqXHR.setRequestHeader("If-Modified-Since", jQuery.lastModified[cacheURL]);
	          }
	          if (jQuery.etag[cacheURL]) {
	            jqXHR.setRequestHeader("If-None-Match", jQuery.etag[cacheURL]);
	          }
	        }

	        // Set the correct header, if data is being sent
	        if (s.data && s.hasContent && s.contentType !== false || options.contentType) {
	          jqXHR.setRequestHeader("Content-Type", s.contentType);
	        }

	        // Set the Accepts header for the server, depending on the dataType
	        jqXHR.setRequestHeader("Accept", s.dataTypes[0] && s.accepts[s.dataTypes[0]] ? s.accepts[s.dataTypes[0]] + (s.dataTypes[0] !== "*" ? ", " + allTypes + "; q=0.01" : "") : s.accepts["*"]);

	        // Check for headers option
	        for (i in s.headers) {
	          jqXHR.setRequestHeader(i, s.headers[i]);
	        }

	        // Allow custom headers/mimetypes and early abort
	        if (s.beforeSend && (s.beforeSend.call(callbackContext, jqXHR, s) === false || completed)) {
	          // Abort if not done already and return
	          return jqXHR.abort();
	        }

	        // Aborting is no longer a cancellation
	        strAbort = "abort";

	        // Install callbacks on deferreds
	        completeDeferred.add(s.complete);
	        jqXHR.done(s.success);
	        jqXHR.fail(s.error);

	        // Get transport
	        transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR);

	        // If no transport, we auto-abort
	        if (!transport) {
	          done(-1, "No Transport");
	        } else {
	          jqXHR.readyState = 1;

	          // Send global event
	          if (fireGlobals) {
	            globalEventContext.trigger("ajaxSend", [jqXHR, s]);
	          }

	          // If request was aborted inside ajaxSend, stop there
	          if (completed) {
	            return jqXHR;
	          }

	          // Timeout
	          if (s.async && s.timeout > 0) {
	            timeoutTimer = window.setTimeout(function () {
	              jqXHR.abort("timeout");
	            }, s.timeout);
	          }
	          try {
	            completed = false;
	            transport.send(requestHeaders, done);
	          } catch (e) {
	            // Rethrow post-completion exceptions
	            if (completed) {
	              throw e;
	            }

	            // Propagate others as results
	            done(-1, e);
	          }
	        }

	        // Callback for when everything is done
	        function done(status, nativeStatusText, responses, headers) {
	          var isSuccess,
	            success,
	            error,
	            response,
	            modified,
	            statusText = nativeStatusText;

	          // Ignore repeat invocations
	          if (completed) {
	            return;
	          }
	          completed = true;

	          // Clear timeout if it exists
	          if (timeoutTimer) {
	            window.clearTimeout(timeoutTimer);
	          }

	          // Dereference transport for early garbage collection
	          // (no matter how long the jqXHR object will be used)
	          transport = undefined;

	          // Cache response headers
	          responseHeadersString = headers || "";

	          // Set readyState
	          jqXHR.readyState = status > 0 ? 4 : 0;

	          // Determine if successful
	          isSuccess = status >= 200 && status < 300 || status === 304;

	          // Get response data
	          if (responses) {
	            response = ajaxHandleResponses(s, jqXHR, responses);
	          }

	          // Use a noop converter for missing script but not if jsonp
	          if (!isSuccess && jQuery.inArray("script", s.dataTypes) > -1 && jQuery.inArray("json", s.dataTypes) < 0) {
	            s.converters["text script"] = function () {};
	          }

	          // Convert no matter what (that way responseXXX fields are always set)
	          response = ajaxConvert(s, response, jqXHR, isSuccess);

	          // If successful, handle type chaining
	          if (isSuccess) {
	            // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
	            if (s.ifModified) {
	              modified = jqXHR.getResponseHeader("Last-Modified");
	              if (modified) {
	                jQuery.lastModified[cacheURL] = modified;
	              }
	              modified = jqXHR.getResponseHeader("etag");
	              if (modified) {
	                jQuery.etag[cacheURL] = modified;
	              }
	            }

	            // if no content
	            if (status === 204 || s.type === "HEAD") {
	              statusText = "nocontent";

	              // if not modified
	            } else if (status === 304) {
	              statusText = "notmodified";

	              // If we have data, let's convert it
	            } else {
	              statusText = response.state;
	              success = response.data;
	              error = response.error;
	              isSuccess = !error;
	            }
	          } else {
	            // Extract error from statusText and normalize for non-aborts
	            error = statusText;
	            if (status || !statusText) {
	              statusText = "error";
	              if (status < 0) {
	                status = 0;
	              }
	            }
	          }

	          // Set data for the fake xhr object
	          jqXHR.status = status;
	          jqXHR.statusText = (nativeStatusText || statusText) + "";

	          // Success/Error
	          if (isSuccess) {
	            deferred.resolveWith(callbackContext, [success, statusText, jqXHR]);
	          } else {
	            deferred.rejectWith(callbackContext, [jqXHR, statusText, error]);
	          }

	          // Status-dependent callbacks
	          jqXHR.statusCode(statusCode);
	          statusCode = undefined;
	          if (fireGlobals) {
	            globalEventContext.trigger(isSuccess ? "ajaxSuccess" : "ajaxError", [jqXHR, s, isSuccess ? success : error]);
	          }

	          // Complete
	          completeDeferred.fireWith(callbackContext, [jqXHR, statusText]);
	          if (fireGlobals) {
	            globalEventContext.trigger("ajaxComplete", [jqXHR, s]);

	            // Handle the global AJAX counter
	            if (! --jQuery.active) {
	              jQuery.event.trigger("ajaxStop");
	            }
	          }
	        }
	        return jqXHR;
	      },
	      getJSON: function (url, data, callback) {
	        return jQuery.get(url, data, callback, "json");
	      },
	      getScript: function (url, callback) {
	        return jQuery.get(url, undefined, callback, "script");
	      }
	    });
	    jQuery.each(["get", "post"], function (_i, method) {
	      jQuery[method] = function (url, data, callback, type) {
	        // Shift arguments if data argument was omitted
	        if (isFunction(data)) {
	          type = type || callback;
	          callback = data;
	          data = undefined;
	        }

	        // The url can be an options object (which then must have .url)
	        return jQuery.ajax(jQuery.extend({
	          url: url,
	          type: method,
	          dataType: type,
	          data: data,
	          success: callback
	        }, jQuery.isPlainObject(url) && url));
	      };
	    });
	    jQuery.ajaxPrefilter(function (s) {
	      var i;
	      for (i in s.headers) {
	        if (i.toLowerCase() === "content-type") {
	          s.contentType = s.headers[i] || "";
	        }
	      }
	    });
	    jQuery._evalUrl = function (url, options, doc) {
	      return jQuery.ajax({
	        url: url,
	        // Make this explicit, since user can override this through ajaxSetup (trac-11264)
	        type: "GET",
	        dataType: "script",
	        cache: true,
	        async: false,
	        global: false,
	        // Only evaluate the response if it is successful (gh-4126)
	        // dataFilter is not invoked for failure responses, so using it instead
	        // of the default converter is kludgy but it works.
	        converters: {
	          "text script": function () {}
	        },
	        dataFilter: function (response) {
	          jQuery.globalEval(response, options, doc);
	        }
	      });
	    };
	    jQuery.fn.extend({
	      wrapAll: function (html) {
	        var wrap;
	        if (this[0]) {
	          if (isFunction(html)) {
	            html = html.call(this[0]);
	          }

	          // The elements to wrap the target around
	          wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);
	          if (this[0].parentNode) {
	            wrap.insertBefore(this[0]);
	          }
	          wrap.map(function () {
	            var elem = this;
	            while (elem.firstElementChild) {
	              elem = elem.firstElementChild;
	            }
	            return elem;
	          }).append(this);
	        }
	        return this;
	      },
	      wrapInner: function (html) {
	        if (isFunction(html)) {
	          return this.each(function (i) {
	            jQuery(this).wrapInner(html.call(this, i));
	          });
	        }
	        return this.each(function () {
	          var self = jQuery(this),
	            contents = self.contents();
	          if (contents.length) {
	            contents.wrapAll(html);
	          } else {
	            self.append(html);
	          }
	        });
	      },
	      wrap: function (html) {
	        var htmlIsFunction = isFunction(html);
	        return this.each(function (i) {
	          jQuery(this).wrapAll(htmlIsFunction ? html.call(this, i) : html);
	        });
	      },
	      unwrap: function (selector) {
	        this.parent(selector).not("body").each(function () {
	          jQuery(this).replaceWith(this.childNodes);
	        });
	        return this;
	      }
	    });
	    jQuery.expr.pseudos.hidden = function (elem) {
	      return !jQuery.expr.pseudos.visible(elem);
	    };
	    jQuery.expr.pseudos.visible = function (elem) {
	      return !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);
	    };
	    jQuery.ajaxSettings.xhr = function () {
	      try {
	        return new window.XMLHttpRequest();
	      } catch (e) {}
	    };
	    var xhrSuccessStatus = {
	        // File protocol always yields status code 0, assume 200
	        0: 200,
	        // Support: IE <=9 only
	        // trac-1450: sometimes IE returns 1223 when it should be 204
	        1223: 204
	      },
	      xhrSupported = jQuery.ajaxSettings.xhr();
	    support.cors = !!xhrSupported && "withCredentials" in xhrSupported;
	    support.ajax = xhrSupported = !!xhrSupported;
	    jQuery.ajaxTransport(function (options) {
	      var callback, errorCallback;

	      // Cross domain only allowed if supported through XMLHttpRequest
	      if (support.cors || xhrSupported && !options.crossDomain) {
	        return {
	          send: function (headers, complete) {
	            var i,
	              xhr = options.xhr();
	            xhr.open(options.type, options.url, options.async, options.username, options.password);

	            // Apply custom fields if provided
	            if (options.xhrFields) {
	              for (i in options.xhrFields) {
	                xhr[i] = options.xhrFields[i];
	              }
	            }

	            // Override mime type if needed
	            if (options.mimeType && xhr.overrideMimeType) {
	              xhr.overrideMimeType(options.mimeType);
	            }

	            // X-Requested-With header
	            // For cross-domain requests, seeing as conditions for a preflight are
	            // akin to a jigsaw puzzle, we simply never set it to be sure.
	            // (it can always be set on a per-request basis or even using ajaxSetup)
	            // For same-domain requests, won't change header if already provided.
	            if (!options.crossDomain && !headers["X-Requested-With"]) {
	              headers["X-Requested-With"] = "XMLHttpRequest";
	            }

	            // Set headers
	            for (i in headers) {
	              xhr.setRequestHeader(i, headers[i]);
	            }

	            // Callback
	            callback = function (type) {
	              return function () {
	                if (callback) {
	                  callback = errorCallback = xhr.onload = xhr.onerror = xhr.onabort = xhr.ontimeout = xhr.onreadystatechange = null;
	                  if (type === "abort") {
	                    xhr.abort();
	                  } else if (type === "error") {
	                    // Support: IE <=9 only
	                    // On a manual native abort, IE9 throws
	                    // errors on any property access that is not readyState
	                    if (typeof xhr.status !== "number") {
	                      complete(0, "error");
	                    } else {
	                      complete(
	                      // File: protocol always yields status 0; see trac-8605, trac-14207
	                      xhr.status, xhr.statusText);
	                    }
	                  } else {
	                    complete(xhrSuccessStatus[xhr.status] || xhr.status, xhr.statusText,
	                    // Support: IE <=9 only
	                    // IE9 has no XHR2 but throws on binary (trac-11426)
	                    // For XHR2 non-text, let the caller handle it (gh-2498)
	                    (xhr.responseType || "text") !== "text" || typeof xhr.responseText !== "string" ? {
	                      binary: xhr.response
	                    } : {
	                      text: xhr.responseText
	                    }, xhr.getAllResponseHeaders());
	                  }
	                }
	              };
	            };

	            // Listen to events
	            xhr.onload = callback();
	            errorCallback = xhr.onerror = xhr.ontimeout = callback("error");

	            // Support: IE 9 only
	            // Use onreadystatechange to replace onabort
	            // to handle uncaught aborts
	            if (xhr.onabort !== undefined) {
	              xhr.onabort = errorCallback;
	            } else {
	              xhr.onreadystatechange = function () {
	                // Check readyState before timeout as it changes
	                if (xhr.readyState === 4) {
	                  // Allow onerror to be called first,
	                  // but that will not handle a native abort
	                  // Also, save errorCallback to a variable
	                  // as xhr.onerror cannot be accessed
	                  window.setTimeout(function () {
	                    if (callback) {
	                      errorCallback();
	                    }
	                  });
	                }
	              };
	            }

	            // Create the abort callback
	            callback = callback("abort");
	            try {
	              // Do send the request (this may raise an exception)
	              xhr.send(options.hasContent && options.data || null);
	            } catch (e) {
	              // trac-14683: Only rethrow if this hasn't been notified as an error yet
	              if (callback) {
	                throw e;
	              }
	            }
	          },
	          abort: function () {
	            if (callback) {
	              callback();
	            }
	          }
	        };
	      }
	    });

	    // Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)
	    jQuery.ajaxPrefilter(function (s) {
	      if (s.crossDomain) {
	        s.contents.script = false;
	      }
	    });

	    // Install script dataType
	    jQuery.ajaxSetup({
	      accepts: {
	        script: "text/javascript, application/javascript, " + "application/ecmascript, application/x-ecmascript"
	      },
	      contents: {
	        script: /\b(?:java|ecma)script\b/
	      },
	      converters: {
	        "text script": function (text) {
	          jQuery.globalEval(text);
	          return text;
	        }
	      }
	    });

	    // Handle cache's special case and crossDomain
	    jQuery.ajaxPrefilter("script", function (s) {
	      if (s.cache === undefined) {
	        s.cache = false;
	      }
	      if (s.crossDomain) {
	        s.type = "GET";
	      }
	    });

	    // Bind script tag hack transport
	    jQuery.ajaxTransport("script", function (s) {
	      // This transport only deals with cross domain or forced-by-attrs requests
	      if (s.crossDomain || s.scriptAttrs) {
	        var script, callback;
	        return {
	          send: function (_, complete) {
	            script = jQuery("<script>").attr(s.scriptAttrs || {}).prop({
	              charset: s.scriptCharset,
	              src: s.url
	            }).on("load error", callback = function (evt) {
	              script.remove();
	              callback = null;
	              if (evt) {
	                complete(evt.type === "error" ? 404 : 200, evt.type);
	              }
	            });

	            // Use native DOM manipulation to avoid our domManip AJAX trickery
	            document.head.appendChild(script[0]);
	          },
	          abort: function () {
	            if (callback) {
	              callback();
	            }
	          }
	        };
	      }
	    });
	    var oldCallbacks = [],
	      rjsonp = /(=)\?(?=&|$)|\?\?/;

	    // Default jsonp settings
	    jQuery.ajaxSetup({
	      jsonp: "callback",
	      jsonpCallback: function () {
	        var callback = oldCallbacks.pop() || jQuery.expando + "_" + nonce.guid++;
	        this[callback] = true;
	        return callback;
	      }
	    });

	    // Detect, normalize options and install callbacks for jsonp requests
	    jQuery.ajaxPrefilter("json jsonp", function (s, originalSettings, jqXHR) {
	      var callbackName,
	        overwritten,
	        responseContainer,
	        jsonProp = s.jsonp !== false && (rjsonp.test(s.url) ? "url" : typeof s.data === "string" && (s.contentType || "").indexOf("application/x-www-form-urlencoded") === 0 && rjsonp.test(s.data) && "data");

	      // Handle iff the expected data type is "jsonp" or we have a parameter to set
	      if (jsonProp || s.dataTypes[0] === "jsonp") {
	        // Get callback name, remembering preexisting value associated with it
	        callbackName = s.jsonpCallback = isFunction(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback;

	        // Insert callback into url or form data
	        if (jsonProp) {
	          s[jsonProp] = s[jsonProp].replace(rjsonp, "$1" + callbackName);
	        } else if (s.jsonp !== false) {
	          s.url += (rquery.test(s.url) ? "&" : "?") + s.jsonp + "=" + callbackName;
	        }

	        // Use data converter to retrieve json after script execution
	        s.converters["script json"] = function () {
	          if (!responseContainer) {
	            jQuery.error(callbackName + " was not called");
	          }
	          return responseContainer[0];
	        };

	        // Force json dataType
	        s.dataTypes[0] = "json";

	        // Install callback
	        overwritten = window[callbackName];
	        window[callbackName] = function () {
	          responseContainer = arguments;
	        };

	        // Clean-up function (fires after converters)
	        jqXHR.always(function () {
	          // If previous value didn't exist - remove it
	          if (overwritten === undefined) {
	            jQuery(window).removeProp(callbackName);

	            // Otherwise restore preexisting value
	          } else {
	            window[callbackName] = overwritten;
	          }

	          // Save back as free
	          if (s[callbackName]) {
	            // Make sure that re-using the options doesn't screw things around
	            s.jsonpCallback = originalSettings.jsonpCallback;

	            // Save the callback name for future use
	            oldCallbacks.push(callbackName);
	          }

	          // Call if it was a function and we have a response
	          if (responseContainer && isFunction(overwritten)) {
	            overwritten(responseContainer[0]);
	          }
	          responseContainer = overwritten = undefined;
	        });

	        // Delegate to script
	        return "script";
	      }
	    });

	    // Support: Safari 8 only
	    // In Safari 8 documents created via document.implementation.createHTMLDocument
	    // collapse sibling forms: the second one becomes a child of the first one.
	    // Because of that, this security measure has to be disabled in Safari 8.
	    // https://bugs.webkit.org/show_bug.cgi?id=137337
	    support.createHTMLDocument = function () {
	      var body = document.implementation.createHTMLDocument("").body;
	      body.innerHTML = "<form></form><form></form>";
	      return body.childNodes.length === 2;
	    }();

	    // Argument "data" should be string of html
	    // context (optional): If specified, the fragment will be created in this context,
	    // defaults to document
	    // keepScripts (optional): If true, will include scripts passed in the html string
	    jQuery.parseHTML = function (data, context, keepScripts) {
	      if (typeof data !== "string") {
	        return [];
	      }
	      if (typeof context === "boolean") {
	        keepScripts = context;
	        context = false;
	      }
	      var base, parsed, scripts;
	      if (!context) {
	        // Stop scripts or inline event handlers from being executed immediately
	        // by using document.implementation
	        if (support.createHTMLDocument) {
	          context = document.implementation.createHTMLDocument("");

	          // Set the base href for the created document
	          // so any parsed elements with URLs
	          // are based on the document's URL (gh-2965)
	          base = context.createElement("base");
	          base.href = document.location.href;
	          context.head.appendChild(base);
	        } else {
	          context = document;
	        }
	      }
	      parsed = rsingleTag.exec(data);
	      scripts = !keepScripts && [];

	      // Single tag
	      if (parsed) {
	        return [context.createElement(parsed[1])];
	      }
	      parsed = buildFragment([data], context, scripts);
	      if (scripts && scripts.length) {
	        jQuery(scripts).remove();
	      }
	      return jQuery.merge([], parsed.childNodes);
	    };

	    /**
	     * Load a url into a page
	     */
	    jQuery.fn.load = function (url, params, callback) {
	      var selector,
	        type,
	        response,
	        self = this,
	        off = url.indexOf(" ");
	      if (off > -1) {
	        selector = stripAndCollapse(url.slice(off));
	        url = url.slice(0, off);
	      }

	      // If it's a function
	      if (isFunction(params)) {
	        // We assume that it's the callback
	        callback = params;
	        params = undefined;

	        // Otherwise, build a param string
	      } else if (params && typeof params === "object") {
	        type = "POST";
	      }

	      // If we have elements to modify, make the request
	      if (self.length > 0) {
	        jQuery.ajax({
	          url: url,
	          // If "type" variable is undefined, then "GET" method will be used.
	          // Make value of this field explicit since
	          // user can override it through ajaxSetup method
	          type: type || "GET",
	          dataType: "html",
	          data: params
	        }).done(function (responseText) {
	          // Save response for use in complete callback
	          response = arguments;
	          self.html(selector ?
	          // If a selector was specified, locate the right elements in a dummy div
	          // Exclude scripts to avoid IE 'Permission Denied' errors
	          jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector) :
	          // Otherwise use the full result
	          responseText);

	          // If the request succeeds, this function gets "data", "status", "jqXHR"
	          // but they are ignored because response was set above.
	          // If it fails, this function gets "jqXHR", "status", "error"
	        }).always(callback && function (jqXHR, status) {
	          self.each(function () {
	            callback.apply(this, response || [jqXHR.responseText, status, jqXHR]);
	          });
	        });
	      }
	      return this;
	    };
	    jQuery.expr.pseudos.animated = function (elem) {
	      return jQuery.grep(jQuery.timers, function (fn) {
	        return elem === fn.elem;
	      }).length;
	    };
	    jQuery.offset = {
	      setOffset: function (elem, options, i) {
	        var curPosition,
	          curLeft,
	          curCSSTop,
	          curTop,
	          curOffset,
	          curCSSLeft,
	          calculatePosition,
	          position = jQuery.css(elem, "position"),
	          curElem = jQuery(elem),
	          props = {};

	        // Set position first, in-case top/left are set even on static elem
	        if (position === "static") {
	          elem.style.position = "relative";
	        }
	        curOffset = curElem.offset();
	        curCSSTop = jQuery.css(elem, "top");
	        curCSSLeft = jQuery.css(elem, "left");
	        calculatePosition = (position === "absolute" || position === "fixed") && (curCSSTop + curCSSLeft).indexOf("auto") > -1;

	        // Need to be able to calculate position if either
	        // top or left is auto and position is either absolute or fixed
	        if (calculatePosition) {
	          curPosition = curElem.position();
	          curTop = curPosition.top;
	          curLeft = curPosition.left;
	        } else {
	          curTop = parseFloat(curCSSTop) || 0;
	          curLeft = parseFloat(curCSSLeft) || 0;
	        }
	        if (isFunction(options)) {
	          // Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
	          options = options.call(elem, i, jQuery.extend({}, curOffset));
	        }
	        if (options.top != null) {
	          props.top = options.top - curOffset.top + curTop;
	        }
	        if (options.left != null) {
	          props.left = options.left - curOffset.left + curLeft;
	        }
	        if ("using" in options) {
	          options.using.call(elem, props);
	        } else {
	          curElem.css(props);
	        }
	      }
	    };
	    jQuery.fn.extend({
	      // offset() relates an element's border box to the document origin
	      offset: function (options) {
	        // Preserve chaining for setter
	        if (arguments.length) {
	          return options === undefined ? this : this.each(function (i) {
	            jQuery.offset.setOffset(this, options, i);
	          });
	        }
	        var rect,
	          win,
	          elem = this[0];
	        if (!elem) {
	          return;
	        }

	        // Return zeros for disconnected and hidden (display: none) elements (gh-2310)
	        // Support: IE <=11 only
	        // Running getBoundingClientRect on a
	        // disconnected node in IE throws an error
	        if (!elem.getClientRects().length) {
	          return {
	            top: 0,
	            left: 0
	          };
	        }

	        // Get document-relative position by adding viewport scroll to viewport-relative gBCR
	        rect = elem.getBoundingClientRect();
	        win = elem.ownerDocument.defaultView;
	        return {
	          top: rect.top + win.pageYOffset,
	          left: rect.left + win.pageXOffset
	        };
	      },
	      // position() relates an element's margin box to its offset parent's padding box
	      // This corresponds to the behavior of CSS absolute positioning
	      position: function () {
	        if (!this[0]) {
	          return;
	        }
	        var offsetParent,
	          offset,
	          doc,
	          elem = this[0],
	          parentOffset = {
	            top: 0,
	            left: 0
	          };

	        // position:fixed elements are offset from the viewport, which itself always has zero offset
	        if (jQuery.css(elem, "position") === "fixed") {
	          // Assume position:fixed implies availability of getBoundingClientRect
	          offset = elem.getBoundingClientRect();
	        } else {
	          offset = this.offset();

	          // Account for the *real* offset parent, which can be the document or its root element
	          // when a statically positioned element is identified
	          doc = elem.ownerDocument;
	          offsetParent = elem.offsetParent || doc.documentElement;
	          while (offsetParent && (offsetParent === doc.body || offsetParent === doc.documentElement) && jQuery.css(offsetParent, "position") === "static") {
	            offsetParent = offsetParent.parentNode;
	          }
	          if (offsetParent && offsetParent !== elem && offsetParent.nodeType === 1) {
	            // Incorporate borders into its offset, since they are outside its content origin
	            parentOffset = jQuery(offsetParent).offset();
	            parentOffset.top += jQuery.css(offsetParent, "borderTopWidth", true);
	            parentOffset.left += jQuery.css(offsetParent, "borderLeftWidth", true);
	          }
	        }

	        // Subtract parent offsets and element margins
	        return {
	          top: offset.top - parentOffset.top - jQuery.css(elem, "marginTop", true),
	          left: offset.left - parentOffset.left - jQuery.css(elem, "marginLeft", true)
	        };
	      },
	      // This method will return documentElement in the following cases:
	      // 1) For the element inside the iframe without offsetParent, this method will return
	      //    documentElement of the parent window
	      // 2) For the hidden or detached element
	      // 3) For body or html element, i.e. in case of the html node - it will return itself
	      //
	      // but those exceptions were never presented as a real life use-cases
	      // and might be considered as more preferable results.
	      //
	      // This logic, however, is not guaranteed and can change at any point in the future
	      offsetParent: function () {
	        return this.map(function () {
	          var offsetParent = this.offsetParent;
	          while (offsetParent && jQuery.css(offsetParent, "position") === "static") {
	            offsetParent = offsetParent.offsetParent;
	          }
	          return offsetParent || documentElement;
	        });
	      }
	    });

	    // Create scrollLeft and scrollTop methods
	    jQuery.each({
	      scrollLeft: "pageXOffset",
	      scrollTop: "pageYOffset"
	    }, function (method, prop) {
	      var top = "pageYOffset" === prop;
	      jQuery.fn[method] = function (val) {
	        return access(this, function (elem, method, val) {
	          // Coalesce documents and windows
	          var win;
	          if (isWindow(elem)) {
	            win = elem;
	          } else if (elem.nodeType === 9) {
	            win = elem.defaultView;
	          }
	          if (val === undefined) {
	            return win ? win[prop] : elem[method];
	          }
	          if (win) {
	            win.scrollTo(!top ? val : win.pageXOffset, top ? val : win.pageYOffset);
	          } else {
	            elem[method] = val;
	          }
	        }, method, val, arguments.length);
	      };
	    });

	    // Support: Safari <=7 - 9.1, Chrome <=37 - 49
	    // Add the top/left cssHooks using jQuery.fn.position
	    // Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
	    // Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347
	    // getComputedStyle returns percent when specified for top/left/bottom/right;
	    // rather than make the css module depend on the offset module, just check for it here
	    jQuery.each(["top", "left"], function (_i, prop) {
	      jQuery.cssHooks[prop] = addGetHookIf(support.pixelPosition, function (elem, computed) {
	        if (computed) {
	          computed = curCSS(elem, prop);

	          // If curCSS returns percentage, fallback to offset
	          return rnumnonpx.test(computed) ? jQuery(elem).position()[prop] + "px" : computed;
	        }
	      });
	    });

	    // Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
	    jQuery.each({
	      Height: "height",
	      Width: "width"
	    }, function (name, type) {
	      jQuery.each({
	        padding: "inner" + name,
	        content: type,
	        "": "outer" + name
	      }, function (defaultExtra, funcName) {
	        // Margin is only for outerHeight, outerWidth
	        jQuery.fn[funcName] = function (margin, value) {
	          var chainable = arguments.length && (defaultExtra || typeof margin !== "boolean"),
	            extra = defaultExtra || (margin === true || value === true ? "margin" : "border");
	          return access(this, function (elem, type, value) {
	            var doc;
	            if (isWindow(elem)) {
	              // $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)
	              return funcName.indexOf("outer") === 0 ? elem["inner" + name] : elem.document.documentElement["client" + name];
	            }

	            // Get document width or height
	            if (elem.nodeType === 9) {
	              doc = elem.documentElement;

	              // Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
	              // whichever is greatest
	              return Math.max(elem.body["scroll" + name], doc["scroll" + name], elem.body["offset" + name], doc["offset" + name], doc["client" + name]);
	            }
	            return value === undefined ?
	            // Get width or height on the element, requesting but not forcing parseFloat
	            jQuery.css(elem, type, extra) :
	            // Set width or height on the element
	            jQuery.style(elem, type, value, extra);
	          }, type, chainable ? margin : undefined, chainable);
	        };
	      });
	    });
	    jQuery.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (_i, type) {
	      jQuery.fn[type] = function (fn) {
	        return this.on(type, fn);
	      };
	    });
	    jQuery.fn.extend({
	      bind: function (types, data, fn) {
	        return this.on(types, null, data, fn);
	      },
	      unbind: function (types, fn) {
	        return this.off(types, null, fn);
	      },
	      delegate: function (selector, types, data, fn) {
	        return this.on(types, selector, data, fn);
	      },
	      undelegate: function (selector, types, fn) {
	        // ( namespace ) or ( selector, types [, fn] )
	        return arguments.length === 1 ? this.off(selector, "**") : this.off(types, selector || "**", fn);
	      },
	      hover: function (fnOver, fnOut) {
	        return this.on("mouseenter", fnOver).on("mouseleave", fnOut || fnOver);
	      }
	    });
	    jQuery.each(("blur focus focusin focusout resize scroll click dblclick " + "mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " + "change select submit keydown keypress keyup contextmenu").split(" "), function (_i, name) {
	      // Handle event binding
	      jQuery.fn[name] = function (data, fn) {
	        return arguments.length > 0 ? this.on(name, null, data, fn) : this.trigger(name);
	      };
	    });

	    // Support: Android <=4.0 only
	    // Make sure we trim BOM and NBSP
	    // Require that the "whitespace run" starts from a non-whitespace
	    // to avoid O(N^2) behavior when the engine would try matching "\s+$" at each space position.
	    var rtrim = /^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;

	    // Bind a function to a context, optionally partially applying any
	    // arguments.
	    // jQuery.proxy is deprecated to promote standards (specifically Function#bind)
	    // However, it is not slated for removal any time soon
	    jQuery.proxy = function (fn, context) {
	      var tmp, args, proxy;
	      if (typeof context === "string") {
	        tmp = fn[context];
	        context = fn;
	        fn = tmp;
	      }

	      // Quick check to determine if target is callable, in the spec
	      // this throws a TypeError, but we will just return undefined.
	      if (!isFunction(fn)) {
	        return undefined;
	      }

	      // Simulated bind
	      args = slice.call(arguments, 2);
	      proxy = function () {
	        return fn.apply(context || this, args.concat(slice.call(arguments)));
	      };

	      // Set the guid of unique handler to the same of original handler, so it can be removed
	      proxy.guid = fn.guid = fn.guid || jQuery.guid++;
	      return proxy;
	    };
	    jQuery.holdReady = function (hold) {
	      if (hold) {
	        jQuery.readyWait++;
	      } else {
	        jQuery.ready(true);
	      }
	    };
	    jQuery.isArray = Array.isArray;
	    jQuery.parseJSON = JSON.parse;
	    jQuery.nodeName = nodeName;
	    jQuery.isFunction = isFunction;
	    jQuery.isWindow = isWindow;
	    jQuery.camelCase = camelCase;
	    jQuery.type = toType;
	    jQuery.now = Date.now;
	    jQuery.isNumeric = function (obj) {
	      // As of jQuery 3.0, isNumeric is limited to
	      // strings and numbers (primitives or objects)
	      // that can be coerced to finite numbers (gh-2662)
	      var type = jQuery.type(obj);
	      return (type === "number" || type === "string") &&
	      // parseFloat NaNs numeric-cast false positives ("")
	      // ...but misinterprets leading-number strings, particularly hex literals ("0x...")
	      // subtraction forces infinities to NaN
	      !isNaN(obj - parseFloat(obj));
	    };
	    jQuery.trim = function (text) {
	      return text == null ? "" : (text + "").replace(rtrim, "$1");
	    };
	    var
	      // Map over jQuery in case of overwrite
	      _jQuery = window.jQuery,
	      // Map over the $ in case of overwrite
	      _$ = window.$;
	    jQuery.noConflict = function (deep) {
	      if (window.$ === jQuery) {
	        window.$ = _$;
	      }
	      if (deep && window.jQuery === jQuery) {
	        window.jQuery = _jQuery;
	      }
	      return jQuery;
	    };

	    // Expose jQuery and $ identifiers, even in AMD
	    // (trac-7102#comment:10, https://github.com/jquery/jquery/pull/557)
	    // and CommonJS for browser emulators (trac-13566)
	    if (typeof noGlobal === "undefined") {
	      window.jQuery = window.$ = jQuery;
	    }
	    return jQuery;
	  });
	})(jquery);
	var jqueryExports = jquery.exports;
	var $ = /*@__PURE__*/getDefaultExportFromCjs(jqueryExports);

	var ESCanvas = function () {
	  var self = null; //self指向ESCanvas类
	  //ESCanvas类私有成员变量
	  var CANVAS = Symbol("CANVAS"); //画布
	  var CONTEXT = Symbol("CONTEXT"); //绘图上下文
	  var SHAPES = Symbol("SHAPES"); //图形数组
	  var DRAWSTATUS = Symbol("DRAWSTATUS"); //是否开启绘图
	  var SHAPETYPE = Symbol("SHAPETYPE"); //图形类型
	  var MAXSHAPENUMSUPPORT = Symbol("MAXSHAPENUMSUPPORT"); //支持最大的图形个数
	  var SHAPESTYLE = Symbol("SHAPESTYLE"); //图形样式
	  var POLYGONDRAWING = Symbol("POLYGONDRAWING"); //正在绘制多边形
	  var CURRENTSHAPEINFO = Symbol("CURRENTSHAPEINFO"); //当前图形id
	  var DRAWSHAPEMULTIONETIME = Symbol("DRAWSHAPEMULTIONETIME"); //一次是否可绘制多个图形
	  var EVENTCALLBACK = Symbol("EVENTCALLBACK");

	  //画布重绘
	  function redraw() {
	    self[CONTEXT].clearRect(0, 0, self.m_iCanvasWidth, self.m_iCanvasHeight);
	    for (var i = 0, len = self[SHAPES].length; i < len; i++) {
	      //遍历图形列表，绘制所有图形
	      self[SHAPES][i].draw();
	    }
	  }
	  //添加图形到列表
	  function addShape(oShape) {
	    var iLen = self[SHAPES].length;
	    if (iLen < self[MAXSHAPENUMSUPPORT]) {
	      self[SHAPES].push(oShape);
	    }
	  }
	  //事件初始化
	  function initEvent() {
	    var bPainting = false;
	    var inCanvas = {}; //鼠标是否还在画布中
	    var iMouseDownX = 0; //mousedown事件点击时的X坐标
	    var iMouseDownY = 0; //mousedown事件点击时的Y坐标
	    var iTouchDownX = 0;
	    var iTouchDownY = 0;
	    var iTouchUpX = 0;
	    var iTouchUpY = 0;
	    var szStatus = "draw"; //draw, drag, stretch
	    var oShape = null;
	    //是否被选中，返回被选中图像索引值
	    function getChooseBoxIndex() {
	      var iIndex = -1;
	      for (var i = 0, iLen = self[SHAPES].length; i < iLen; i++) {
	        if (self[SHAPES][i].m_bChoosed) {
	          iIndex = i;
	          break;
	        }
	      }
	      return iIndex;
	    }
	    //禁止右键菜单
	    self[CANVAS][0].oncontextmenu = function () {
	      return false;
	    };
	    //禁止双击选中
	    self[CANVAS][0].onselectstart = function () {
	      return false;
	    };
	    //鼠标点击事件
	    self[CANVAS].unbind();
	    self[CANVAS].bind("mousedown", function (e) {
	      if (e.button === 2) {
	        //鼠标右键闭合图形
	        if (self[POLYGONDRAWING] && oShape) {
	          //多边形并未闭合
	          if (oShape.m_aPoint.length >= oShape.m_iMinClosed) {
	            oShape.m_bClosed = true;
	            self[POLYGONDRAWING] = false;
	            oShape.setPointInfo(oShape.m_aPoint);
	            addShape(oShape);
	            redraw();
	            bPainting = false;
	            if (!self[DRAWSHAPEMULTIONETIME]) {
	              self[DRAWSTATUS] = false;
	            }
	            window.onDrawShapeEvent && window.onDrawShapeEvent(oShape.m_szType, "onDrawEnd", oShape.m_szId);
	          }
	        }
	      } else if (e.button === 0) {
	        //鼠标左键
	        if (bPainting) {
	          //优化鼠标移出画布的异常情况
	          if (Math.abs(e.offsetX - iMouseDownX) > 2 && Math.abs(e.offsetY - iMouseDownY) > 2) {
	            addShape(oShape);
	            if (!self[DRAWSHAPEMULTIONETIME]) {
	              self[DRAWSTATUS] = false;
	            }
	          }
	          if (self[EVENTCALLBACK]) {
	            var oRECT = {
	              startPos: [],
	              endPos: []
	            };
	            oRECT.startPos = [iMouseDownX, iMouseDownY];
	            oRECT.endPos = [e.offsetX, e.offsetY];
	            self[EVENTCALLBACK] && self[EVENTCALLBACK](oRECT);
	            self.clearAllShape();
	          }
	          oShape = null;
	          bPainting = false;
	          return;
	        }
	        iMouseDownX = e.offsetX;
	        iMouseDownY = e.offsetY;
	        szStatus = "draw";
	        if (!self[POLYGONDRAWING]) {
	          //不在绘制多边形
	          //目前是否已经选中某个图形
	          var iBoxIndex = getChooseBoxIndex();
	          if (iBoxIndex !== -1) {
	            //判断是否在圆点内
	            if (self[SHAPES][iBoxIndex].inArc(e.offsetX, e.offsetY, 5)) {
	              szStatus = "stretch";
	            }
	          }
	          //未选中圆点，则判断是否选中某个图形
	          if (szStatus !== "stretch") {
	            //判断鼠标是否在图形内
	            for (var i = 0, iLen = self[SHAPES].length; i < iLen; i++) {
	              if (self[SHAPES][i].inShape(e.offsetX, e.offsetY) && self[SHAPES][i].m_iEditType !== 2) {
	                self[SHAPES][i].m_bChoosed = true;
	                self[SHAPES][i].getMouseDownPoints(e.offsetX, e.offsetY);
	                szStatus = "drag";
	                window.onDrawShapeEvent && window.onDrawShapeEvent(self[SHAPES][i].m_szType, "onChoose", self[SHAPES][i].m_szId);
	              } else {
	                self[SHAPES][i].m_bChoosed = false;
	              }
	            }
	          }
	          if (szStatus === "drag") {
	            self[CANVAS][0].style.cursor = "move";
	          } else {
	            self[CANVAS][0].style.cursor = "default";
	          }

	          // 重绘模式为自动重绘, 鼠标左键down没有触发drag和stretch时, 就进行重绘
	          if ("draw" === szStatus && 1 === self[SHAPES].length && 1 === self[SHAPES][0].m_iRedrawMode) {
	            // 删除原来保存的多边形, 否则会加两个id一样的
	            self.deleteRepeatPolyonById(self[SHAPES][0].m_szId);
	            self[DRAWSTATUS] = true;
	          }
	          if (self[DRAWSTATUS] && !self[DRAWSHAPEMULTIONETIME]) {
	            szStatus = "draw";
	          }
	        }
	        if (szStatus === "draw") {
	          if (self[DRAWSTATUS]) {
	            if (self[MAXSHAPENUMSUPPORT] <= self[SHAPES].length && self[SHAPETYPE] !== "Grid" && self[SHAPETYPE] !== "Point") {
	              return;
	            }
	            if (self[SHAPETYPE] === "Rect") {
	              oShape = new Rect();
	              oShape.m_szTips = self[CURRENTSHAPEINFO].szTips || "";
	            } else if (self[SHAPETYPE] === "Grid") {
	              if (self[SHAPES].length === 0) {
	                oShape = new MotionGrid();
	                addShape(oShape);
	              }
	            } else if (self[SHAPETYPE] === "Polygon") {
	              if (!self[POLYGONDRAWING]) {
	                self[POLYGONDRAWING] = true;
	                oShape = new Polygon();
	                oShape.m_szId = self[CURRENTSHAPEINFO].szId || "";
	                oShape.m_szTips = self[CURRENTSHAPEINFO].szTips || "";
	                oShape.m_iMinClosed = self[CURRENTSHAPEINFO].iMinClosed || 3;
	                oShape.m_iMaxPointNum = self[CURRENTSHAPEINFO].iMaxPointNum || 11;
	                oShape.m_iPolygonType = self[CURRENTSHAPEINFO].iPolygonType;
	                oShape.m_szDrawColor = self[CURRENTSHAPEINFO].szDrawColor;
	                oShape.m_szFillColor = self[CURRENTSHAPEINFO].szFillColor;
	                oShape.m_iTranslucent = self[CURRENTSHAPEINFO].iTranslucent;
	                oShape.m_iRedrawMode = self[CURRENTSHAPEINFO].iRedrawMode;
	              }
	              if (oShape.m_iPolygonType === 1) {
	                oShape.addPoint(iMouseDownX, iMouseDownY);
	                if (oShape.m_aPoint.length === oShape.m_iMaxPointNum) {
	                  oShape.m_bClosed = true;
	                  self[POLYGONDRAWING] = false;
	                  addShape(oShape);
	                  redraw();
	                  bPainting = false;
	                  if (!self[DRAWSHAPEMULTIONETIME]) {
	                    self[DRAWSTATUS] = false;
	                  }
	                  window.onDrawShapeEvent && window.onDrawShapeEvent(oShape.m_szType, "onDrawEnd", oShape.m_szId);
	                }
	              }
	            } else if (self[SHAPETYPE] === "Point") {
	              self.clearShapeByType("Point");
	              oShape = new Point();
	              oShape.m_szId = self[CURRENTSHAPEINFO].szId || "";
	              oShape.m_szDrawColor = self[CURRENTSHAPEINFO].szDrawColor;
	              oShape.setPointInfo([[iMouseDownX, iMouseDownY]]);
	              addShape(oShape);
	              redraw();
	            }
	          }
	        }
	        bPainting = true;
	      }
	    });
	    //鼠标移入事件
	    self[CANVAS].bind("mouseenter", function (e) {
	      // console.log('mouseenter：', e);
	      inCanvas = {
	        isIn: true,
	        offsetX: e.offsetX,
	        offsetY: e.offsetY
	      };
	      if (self[DRAWSTATUS]) {
	        if (bPainting) {
	          if (self[SHAPETYPE] === "Rect") {
	            oShape.move([[iMouseDownX, iMouseDownY], [e.offsetX, e.offsetY]]);
	          } else if (self[SHAPETYPE] === "Grid") {
	            self[SHAPES][0].move(iMouseDownX, iMouseDownY, e.offsetX, e.offsetY);
	          }
	        }
	      }
	    });
	    //鼠标移出事件
	    self[CANVAS].bind("mouseleave", function (e) {
	      // console.log('mouseleave：', e);
	      inCanvas = {
	        isIn: false,
	        offsetX: e.offsetX,
	        offsetY: e.offsetY
	      };
	    });
	    //鼠标移动事件
	    self[CANVAS].bind("mousemove", function (e) {
	      if (!self[POLYGONDRAWING]) {
	        var iBoxIndex = getChooseBoxIndex();
	        if (iBoxIndex > -1) {
	          //drag, stretch
	          if (bPainting) {
	            if (szStatus === "drag") {
	              self[SHAPES][iBoxIndex].drag(e.offsetX, e.offsetY);
	              window.onDrawShapeEvent && window.onDrawShapeEvent(self[SHAPES][iBoxIndex].m_szType, "onDrag", self[SHAPES][iBoxIndex].m_szId);
	            } else if (szStatus === "stretch") {
	              self[SHAPES][iBoxIndex].stretch(e.offsetX, e.offsetY);
	              window.onDrawShapeEvent && window.onDrawShapeEvent(self[SHAPES][iBoxIndex].m_szType, "onStretch", self[SHAPES][iBoxIndex].m_szId);
	            }
	          }
	        } else {
	          if (self[DRAWSTATUS]) {
	            if (bPainting) {
	              if (inCanvas.isIn) {
	                // console.log('mousemove：', e);
	                if (self[SHAPETYPE] === "Rect") {
	                  oShape.move([[iMouseDownX, iMouseDownY], [e.offsetX, e.offsetY]]);
	                } else if (self[SHAPETYPE] === "Grid") {
	                  self[SHAPES][0].move(iMouseDownX, iMouseDownY, e.offsetX, e.offsetY);
	                }
	              }
	            }
	          }
	        }
	      } else {
	        if (self[DRAWSTATUS]) {
	          if (bPainting) {
	            if (self[SHAPETYPE] === "Polygon" && oShape.m_iPolygonType === 0) {
	              oShape.m_bClosed = true;
	            }
	            redraw();
	            oShape.move(e.offsetX, e.offsetY, iMouseDownX, iMouseDownY);
	          }
	        }
	      }
	    });
	    //鼠标释放事件
	    self[CANVAS].bind("mouseup", function (e) {
	      // console.log('mouseup：', e);
	      self[CANVAS][0].style.cursor = "default";
	      if (oShape !== null && typeof oShape !== 'undefined' && szStatus === "draw") {
	        if (self[SHAPETYPE] === "Rect") {
	          if (Math.abs(e.offsetX - iMouseDownX) > 2 && Math.abs(e.offsetY - iMouseDownY) > 2) {
	            //绘制宽高同时大于2px，则绘制该图形
	            addShape(oShape);
	            if (!self[DRAWSHAPEMULTIONETIME]) {
	              self[DRAWSTATUS] = false;
	            }
	          }
	          if (self[EVENTCALLBACK]) {
	            //事件回调处理
	            var oRECT = {
	              startPos: [],
	              endPos: []
	            };
	            // if (e.offsetX > iMouseDownX && e.offsetY > iMouseDownY) {
	            //     oRECT.startPos = oShape.m_aPoint[0] || [e.offsetX, e.offsetY];
	            //     oRECT.endPos = oShape.m_aPoint[2] || [e.offsetX, e.offsetY];
	            // } else {
	            //     oRECT.startPos = oShape.m_aPoint[2] || [e.offsetX, e.offsetY];
	            //     oRECT.endPos = oShape.m_aPoint[0] || [e.offsetX, e.offsetY];
	            // }
	            oRECT.startPos = [iMouseDownX, iMouseDownY];
	            oRECT.endPos = [e.offsetX, e.offsetY];
	            self[EVENTCALLBACK] && self[EVENTCALLBACK](oRECT);
	            self.clearAllShape();
	          }
	          oShape = null;
	        } else if (self[SHAPETYPE] === "Polygon" && oShape.m_iPolygonType === 0 && self[POLYGONDRAWING]) {
	          if (Math.abs(e.offsetX - iMouseDownX) > 2 && Math.abs(e.offsetY - iMouseDownY) > 2) {
	            //绘制宽高同时大于2px，则绘制该图形
	            addShape(oShape);
	            self[POLYGONDRAWING] = false;
	            if (!self[DRAWSHAPEMULTIONETIME]) {
	              self[DRAWSTATUS] = false;
	            }
	            window.onDrawShapeEvent && window.onDrawShapeEvent(oShape.m_szType, "onDrawEnd", oShape.m_szId);
	          }
	        }
	      }
	      if (!self[POLYGONDRAWING]) {
	        bPainting = false;
	      } else {
	        bPainting = true;
	      }
	      if (!self[POLYGONDRAWING]) {
	        redraw();
	      }
	    });

	    //鼠标双击事件
	    self[CANVAS].bind("dblclick", function () {
	      if (self[DRAWSTATUS]) {
	        if (self[SHAPETYPE] === "Grid") {
	          self[SHAPES][0].m_szGridMap = "fffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffc";
	          redraw();
	        }
	      }
	    });
	    // //鼠标移出事件
	    // self[CANVAS].bind("mouseout", function (/*e*/) {
	    //     self[CANVAS][0].style.cursor = "default";
	    //     if (!self[POLYGONDRAWING]) {
	    //         bPainting = false;
	    //     } else {
	    //         bPainting = true;
	    //     }
	    //     /*if (self[EVENTCALLBACK]) {  //事件回调处理
	    //         let oRECT = {
	    //             startPos: [],
	    //             endPos: []
	    //         };
	    //         if (iMouseDownX > 0 && iMouseDownY > 0) {
	    //             oRECT.startPos = [iMouseDownX, iMouseDownY];
	    //             oRECT.endPos = [e.offsetX, e.offsetY];
	    //             self[EVENTCALLBACK] && self[EVENTCALLBACK](oRECT);
	    //             self.clearAllShape();
	    //         }
	    //     }*/
	    // });

	    self[CANVAS].bind("touchstart", function (e) {
	      var viewRect = e.target.getBoundingClientRect();
	      console.log('开始触摸：', e, viewRect);
	      if (e.touches && e.touches[0]) {
	        iTouchDownX = parseInt(e.touches[0].clientX - viewRect.x) > 0 ? parseInt(e.touches[0].clientX - viewRect.x) : 0;
	        iTouchDownY = parseInt(e.touches[0].clientY - viewRect.y) > 0 ? parseInt(e.touches[0].clientY - viewRect.y) : 0;
	        szStatus = "draw";
	        if (self[DRAWSTATUS]) {
	          if (self[MAXSHAPENUMSUPPORT] <= self[SHAPES].length && self[SHAPETYPE] !== "Grid" && self[SHAPETYPE] !== "Point") {
	            return;
	          }
	          if (self[SHAPETYPE] === "Rect") {
	            oShape = new Rect();
	            oShape.m_szTips = self[CURRENTSHAPEINFO].szTips || "";
	          } else if (self[SHAPETYPE] === "Grid") {
	            if (self[SHAPES].length === 0) {
	              oShape = new MotionGrid();
	              addShape(oShape);
	            }
	          } else if (self[SHAPETYPE] === "Polygon") {
	            if (!self[POLYGONDRAWING]) {
	              self[POLYGONDRAWING] = true;
	              oShape = new Polygon();
	              oShape.m_szId = self[CURRENTSHAPEINFO].szId || "";
	              oShape.m_szTips = self[CURRENTSHAPEINFO].szTips || "";
	              oShape.m_iMinClosed = self[CURRENTSHAPEINFO].iMinClosed || 3;
	              oShape.m_iMaxPointNum = self[CURRENTSHAPEINFO].iMaxPointNum || 11;
	              oShape.m_iPolygonType = self[CURRENTSHAPEINFO].iPolygonType;
	              oShape.m_szDrawColor = self[CURRENTSHAPEINFO].szDrawColor;
	              oShape.m_szFillColor = self[CURRENTSHAPEINFO].szFillColor;
	              oShape.m_iTranslucent = self[CURRENTSHAPEINFO].iTranslucent;
	              oShape.m_iRedrawMode = self[CURRENTSHAPEINFO].iRedrawMode;
	            }
	            if (oShape.m_iPolygonType === 1) {
	              oShape.addPoint(iTouchDownX, iTouchDownY);
	              if (oShape.m_aPoint.length === oShape.m_iMaxPointNum) {
	                oShape.m_bClosed = true;
	                self[POLYGONDRAWING] = false;
	                addShape(oShape);
	                redraw();
	                bPainting = false;
	                if (!self[DRAWSHAPEMULTIONETIME]) {
	                  self[DRAWSTATUS] = false;
	                }
	                window.onDrawShapeEvent && window.onDrawShapeEvent(oShape.m_szType, "onDrawEnd", oShape.m_szId);
	              }
	            }
	          } else if (self[SHAPETYPE] === "Point") {
	            self.clearShapeByType("Point");
	            oShape = new Point();
	            oShape.m_szId = self[CURRENTSHAPEINFO].szId || "";
	            oShape.m_szDrawColor = self[CURRENTSHAPEINFO].szDrawColor;
	            oShape.setPointInfo([[iTouchDownX, iTouchDownY]]);
	            addShape(oShape);
	            redraw();
	          }
	        }
	        bPainting = true;
	      }
	    });
	    self[CANVAS].bind("touchmove", function (e) {
	      var viewRect = e.target.getBoundingClientRect();
	      if (e.touches && e.touches[0]) {
	        iTouchUpX = parseInt(e.touches[0].clientX - viewRect.x) > 0 ? parseInt(e.touches[0].clientX - viewRect.x) : 0;
	        iTouchUpY = parseInt(e.touches[0].clientY - viewRect.y) > 0 ? parseInt(e.touches[0].clientY - viewRect.y) : 0;
	        if (!self[POLYGONDRAWING]) {
	          var iBoxIndex = getChooseBoxIndex();
	          if (iBoxIndex > -1) {
	            //drag, stretch
	            if (bPainting) {
	              if (szStatus === "drag") {
	                self[SHAPES][iBoxIndex].drag(iTouchUpX, iTouchUpY);
	                window.onDrawShapeEvent && window.onDrawShapeEvent(self[SHAPES][iBoxIndex].m_szType, "onDrag", self[SHAPES][iBoxIndex].m_szId);
	              } else if (szStatus === "stretch") {
	                self[SHAPES][iBoxIndex].stretch(iTouchUpX, iTouchUpY);
	                window.onDrawShapeEvent && window.onDrawShapeEvent(self[SHAPES][iBoxIndex].m_szType, "onStretch", self[SHAPES][iBoxIndex].m_szId);
	              }
	            }
	          } else {
	            if (self[DRAWSTATUS]) {
	              if (bPainting) {
	                if (self[SHAPETYPE] === "Rect") {
	                  oShape.move([[iTouchDownX * 2, iTouchDownY * 2], [iTouchUpX * 2, iTouchUpY * 2]]);
	                } else if (self[SHAPETYPE] === "Grid") {
	                  self[SHAPES][0].move(iTouchDownX, iTouchDownY, iTouchUpX, iTouchUpY);
	                }
	              }
	            }
	          }
	        } else {
	          if (self[DRAWSTATUS]) {
	            if (bPainting) {
	              if (self[SHAPETYPE] === "Polygon" && oShape.m_iPolygonType === 0) {
	                oShape.m_bClosed = true;
	              }
	              redraw();
	              oShape.move(e.touches[0].offsetX, e.touches[0].offsetY, iTouchDownX, iTouchDownY);
	            }
	          }
	        }
	      }
	    });
	    self[CANVAS].bind("touchend", function (e) {
	      //当起始点与结束点不为同一个时执行绘制
	      // console.log('起始点坐标：', iTouchDownX, iTouchDownY);
	      // console.log('结束点坐标：', iTouchUpX, iTouchUpY);
	      if (!(iTouchDownX == iTouchUpX && iTouchDownY == iTouchUpY)) {
	        self[CANVAS][0].style.cursor = "default";
	        if (oShape !== null && typeof oShape !== 'undefined' && szStatus === "draw") {
	          if (self[SHAPETYPE] === "Rect") {
	            if (Math.abs(iTouchUpX - iTouchDownX) > 2 && Math.abs(iTouchUpY - iTouchDownY) > 2) {
	              //绘制宽高同时大于2px，则绘制该图形
	              addShape(oShape);
	              if (!self[DRAWSHAPEMULTIONETIME]) {
	                self[DRAWSTATUS] = false;
	              }
	            }
	            if (self[EVENTCALLBACK] && Math.abs(iTouchUpX - iTouchDownX) > 15 && Math.abs(iTouchUpY - iTouchDownY) > 15) {
	              //事件回调处理
	              var oRECT = {
	                startPos: [],
	                endPos: []
	              };
	              oRECT.startPos = [iTouchDownX, iTouchDownY];
	              oRECT.endPos = [iTouchUpX, iTouchUpY];
	              self[EVENTCALLBACK] && self[EVENTCALLBACK](oRECT);
	            }
	            self.clearAllShape();
	            oShape = null;
	          } else if (self[SHAPETYPE] === "Polygon" && oShape.m_iPolygonType === 0 && self[POLYGONDRAWING]) {
	            if (Math.abs(iTouchUpX - iTouchDownX) > 2 && Math.abs(iTouchUpY - iTouchDownY) > 2) {
	              //绘制宽高同时大于2px，则绘制该图形
	              addShape(oShape);
	              self[POLYGONDRAWING] = false;
	              if (!self[DRAWSHAPEMULTIONETIME]) {
	                self[DRAWSTATUS] = false;
	              }
	              window.onDrawShapeEvent && window.onDrawShapeEvent(oShape.m_szType, "onDrawEnd", oShape.m_szId);
	            }
	          }
	        }
	        if (!self[POLYGONDRAWING]) {
	          bPainting = false;
	        } else {
	          bPainting = true;
	        }
	        if (!self[POLYGONDRAWING]) {
	          redraw();
	        }
	      }
	    });
	  }

	  //图形基类
	  var Shape = /*#__PURE__*/function () {
	    //图形基类构造函数
	    function Shape() {
	      _classCallCheck(this, Shape);
	      this.m_szId = ""; //图形id
	      this.m_aPoint = []; //图形所有点的坐标
	      this.m_bChoosed = false; //图形是否被选中
	      this.m_szDrawColor = self[SHAPESTYLE].szDrawColor; //图形中线的颜色
	      this.m_szFillColor = self[SHAPESTYLE].szFillColor; //图形填充颜色
	      this.m_iTranslucent = self[SHAPESTYLE].iTranslucent; //图形填充颜色透明度
	      this.m_iIndexChoosePoint = -1; //判断鼠标点击选中图形上点的索引
	      this.m_iDriftStartX = 0; //drag起始X坐标
	      this.m_iDriftStartY = 0; //drag起始Y坐标
	      this.m_oEdgePoints = {
	        top: {
	          x: 0,
	          y: 0
	        },
	        left: {
	          x: 0,
	          y: 0
	        },
	        right: {
	          x: 0,
	          y: 0
	        },
	        bottom: {
	          x: 0,
	          y: 0
	        }
	      }; //多边形中用于判断边界
	      this.m_szTips = ""; //图形内部显示文字信息
	      this.m_iEditType = 0; //图形是否可编辑, 0-可编辑, 1-只可移动，2-不可编辑

	      /*多边形和线用的属性*/
	      this.m_iMinClosed = 3; //至少几个坐标点可闭合图像
	      this.m_iMaxPointNum = 11; //图形支持的最大坐标点数
	      this.m_bClosed = false; //图形目前是否闭合
	      this.m_iRedrawMode = 0; // 多边形和矩形的重绘方式, 0为不支持重绘, 1为绘制完成后, 鼠标左键按下自动重绘
	    }
	    //绘制图形
	    _createClass(Shape, [{
	      key: "draw",
	      value: function draw() {
	        //do something
	      }
	      //平移图形
	    }, {
	      key: "drag",
	      value: function drag(iPointX, iPointY) {
	        if (this.m_iEditType !== 2) {
	          var iLength = this.m_aPoint.length;
	          var i = 0;
	          for (i = 0; i < iLength; i++) {
	            if (this.m_aPoint[i][0] + iPointX - this.m_iDriftStartX > self.m_iCanvasWidth || this.m_aPoint[i][1] + iPointY - this.m_iDriftStartY > self.m_iCanvasHeight || this.m_aPoint[i][0] + iPointX - this.m_iDriftStartX < 0 || this.m_aPoint[i][1] + iPointY - this.m_iDriftStartY < 0) {
	              this.m_iDriftStartX = iPointX;
	              this.m_iDriftStartY = iPointY;
	              return;
	            }
	          }
	          for (i = 0; i < iLength; i++) {
	            this.m_aPoint[i][0] = this.m_aPoint[i][0] + iPointX - this.m_iDriftStartX;
	            this.m_aPoint[i][1] = this.m_aPoint[i][1] + iPointY - this.m_iDriftStartY;
	          }
	          this.m_iDriftStartX = iPointX;
	          this.m_iDriftStartY = iPointY;
	          this.setPointInfo(this.m_aPoint);
	          redraw();
	        }
	      }
	      //拉伸图形
	    }, {
	      key: "stretch",
	      value: function stretch(iPointX, iPointY) {
	        if (this.m_iEditType === 0) {
	          if (this.m_iIndexChoosePoint !== -1) {
	            this.m_aPoint[this.m_iIndexChoosePoint][0] = iPointX;
	            this.m_aPoint[this.m_iIndexChoosePoint][1] = iPointY;
	          }
	          this.setPointInfo(this.m_aPoint);
	          redraw();
	        }
	      }
	      //判断是否在图形内
	    }, {
	      key: "inShape",
	      value: function inShape(iPointX, iPointY) {
	        var bRet = false;
	        var iLen = this.m_aPoint.length;
	        for (var i = 0, j = iLen - 1; i < iLen; j = i++) {
	          if (this.m_aPoint[i][1] > iPointY !== this.m_aPoint[j][1] > iPointY && iPointX < (this.m_aPoint[j][0] - this.m_aPoint[i][0]) * (iPointY - this.m_aPoint[i][1]) / (this.m_aPoint[j][1] - this.m_aPoint[i][1]) + this.m_aPoint[i][0]) {
	            bRet = !bRet;
	          }
	        }
	        return bRet;
	      }
	      //判断是否在图形边界圆点内
	    }, {
	      key: "inArc",
	      value: function inArc(iPointX, iPointY, iRadius) {
	        var bRet = false;
	        for (var i = 0, iLen = this.m_aPoint.length; i < iLen; i++) {
	          var iDistance = Math.sqrt((iPointX - this.m_aPoint[i][0]) * (iPointX - this.m_aPoint[i][0]) + (iPointY - this.m_aPoint[i][1]) * (iPointY - this.m_aPoint[i][1]));
	          if (iDistance < iRadius) {
	            bRet = true;
	            this.m_iIndexChoosePoint = i;
	            break;
	          }
	        }
	        return bRet;
	      }
	      //鼠标点击选择图形时调用获取坐标偏差
	    }, {
	      key: "getMouseDownPoints",
	      value: function getMouseDownPoints(iMouseDownX, iMouseDownY) {
	        this.m_iDriftStartX = iMouseDownX;
	        this.m_iDriftStartY = iMouseDownY;
	      }
	      //获取坐标信息
	    }, {
	      key: "getPointInfo",
	      value: function getPointInfo() {
	        return this.m_aPoint;
	      }
	      //设置坐标信息
	    }, {
	      key: "setPointInfo",
	      value: function setPointInfo(aPoint) {
	        if (aPoint !== null && typeof aPoint !== 'undefined' && aPoint.length > 0) {
	          this.m_aPoint = aPoint;
	          this.setEdgePoints(aPoint);
	        }
	      }
	      //添加坐标
	    }, {
	      key: "addPoint",
	      value: function addPoint(iMouseDownX, iMouseDownY) {
	        if (this.m_aPoint.length < this.m_iMaxPointNum) {
	          this.m_aPoint.push([iMouseDownX, iMouseDownY]);
	        }
	        if (this.m_aPoint.length === this.m_iMaxPointNum) {
	          this.setPointInfo(this.m_aPoint);
	        }
	      }
	      //计算边缘坐标
	    }, {
	      key: "setEdgePoints",
	      value: function setEdgePoints(aPoint) {
	        for (var i = 0, iLen = aPoint.length; i < iLen; i++) {
	          if (i === 0) {
	            this.m_oEdgePoints.top.x = aPoint[i][0];
	            this.m_oEdgePoints.top.y = aPoint[i][1];
	            this.m_oEdgePoints.left.x = aPoint[i][0];
	            this.m_oEdgePoints.left.y = aPoint[i][1];
	            this.m_oEdgePoints.right.x = aPoint[i][0];
	            this.m_oEdgePoints.right.y = aPoint[i][1];
	            this.m_oEdgePoints.bottom.x = aPoint[i][0];
	            this.m_oEdgePoints.bottom.y = aPoint[i][1];
	          } else {
	            if (aPoint[i][1] < this.m_oEdgePoints.top.y) {
	              this.m_oEdgePoints.top.x = aPoint[i][0];
	              this.m_oEdgePoints.top.y = aPoint[i][1];
	            }
	            if (aPoint[i][0] > this.m_oEdgePoints.right.x) {
	              this.m_oEdgePoints.right.x = aPoint[i][0];
	              this.m_oEdgePoints.right.y = aPoint[i][1];
	            }
	            if (aPoint[i][1] > this.m_oEdgePoints.bottom.y) {
	              this.m_oEdgePoints.bottom.x = aPoint[i][0];
	              this.m_oEdgePoints.bottom.y = aPoint[i][1];
	            }
	            if (aPoint[i][0] < this.m_oEdgePoints.left.x) {
	              this.m_oEdgePoints.left.x = aPoint[i][0];
	              this.m_oEdgePoints.left.y = aPoint[i][1];
	            }
	          }
	        }
	      }
	    }]);
	    return Shape;
	  }(); //矩形类
	  var Rect = /*#__PURE__*/function (_Shape) {
	    _inherits(Rect, _Shape);
	    var _super = _createSuper(Rect);
	    function Rect() {
	      var _this;
	      _classCallCheck(this, Rect);
	      _this = _super.call(this);
	      _this.m_szType = "Rect";
	      return _this;
	    }
	    _createClass(Rect, [{
	      key: "setPointInfo",
	      value: function setPointInfo(aPoint) {
	        if (aPoint !== null && typeof aPoint !== 'undefined') {
	          var iStartX = aPoint[0][0];
	          var iStartY = aPoint[0][1];
	          var iEndX = aPoint[0][0];
	          var iEndY = aPoint[0][1];
	          for (var i = 0, iLen = aPoint.length; i < iLen; i++) {
	            if (iStartX > aPoint[i][0]) {
	              iStartX = aPoint[i][0];
	            }
	            if (iStartY > aPoint[i][1]) {
	              iStartY = aPoint[i][1];
	            }
	            if (iEndX < aPoint[i][0]) {
	              iEndX = aPoint[i][0];
	            }
	            if (iEndY < aPoint[i][1]) {
	              iEndY = aPoint[i][1];
	            }
	          }
	          this.m_aPoint = [[iStartX, iStartY], [iEndX, iStartY], [iEndX, iEndY], [iStartX, iEndY]];
	        }
	      }
	      //绘制矩形
	    }, {
	      key: "draw",
	      value: function draw() {
	        self[CONTEXT].fillStyle = this.m_szFillColor;
	        self[CONTEXT].strokeStyle = this.m_szDrawColor;
	        var iStartX = this.m_aPoint[0][0];
	        var iStartY = this.m_aPoint[0][1];
	        var iWidth = this.m_aPoint[2][0] - iStartX;
	        var iHeight = this.m_aPoint[2][1] - iStartY;
	        self[CONTEXT].globalAlpha = this.m_iTranslucent;
	        self[CONTEXT].fillRect(iStartX, iStartY, iWidth, iHeight);
	        self[CONTEXT].globalAlpha = 1;
	        self[CONTEXT].fillText(this.m_szTips, (iStartX + this.m_aPoint[2][0]) / 2, (iStartY + this.m_aPoint[2][1]) / 2);
	        if (this.m_bChoosed) {
	          var iHalfWidth = Math.round(iWidth / 2);
	          var iHalfHeight = Math.round(iHeight / 2);
	          if (this.m_iEditType === 0) {
	            var aPointX = [iStartX, iStartX + iHalfWidth, iStartX + iWidth, iStartX, iStartX + iWidth, iStartX, iStartX + iHalfWidth, iStartX + iWidth];
	            var aPointY = [iStartY, iStartY, iStartY, iStartY + iHalfHeight, iStartY + iHalfHeight, iStartY + iHeight, iStartY + iHeight, iStartY + iHeight];
	            for (var i = 0; i < 8; i++) {
	              self[CONTEXT].beginPath();
	              self[CONTEXT].arc(aPointX[i], aPointY[i], 3, 0, 360, false);
	              self[CONTEXT].fillStyle = this.m_szDrawColor;
	              self[CONTEXT].closePath();
	              self[CONTEXT].fill();
	            }
	          }
	        }
	        self[CONTEXT].strokeRect(iStartX, iStartY, iWidth, iHeight);
	      }
	      //拉伸矩形
	    }, {
	      key: "stretch",
	      value: function stretch(iPointX, iPointY) {
	        if (this.m_iEditType === 0) {
	          if (this.m_iIndexChoosePoint === 0) {
	            if (iPointX < this.m_aPoint[2][0] && iPointY < this.m_aPoint[2][1]) {
	              this.m_aPoint[0][0] = iPointX;
	              this.m_aPoint[0][1] = iPointY;
	              this.m_aPoint[3][0] = iPointX;
	              this.m_aPoint[1][1] = iPointY;
	            }
	          } else if (this.m_iIndexChoosePoint === 1) {
	            if (iPointY < this.m_aPoint[2][1]) {
	              this.m_aPoint[0][1] = iPointY;
	              this.m_aPoint[1][1] = iPointY;
	            }
	          } else if (this.m_iIndexChoosePoint === 2) {
	            if (iPointX > this.m_aPoint[3][0] && iPointY < this.m_aPoint[3][1]) {
	              this.m_aPoint[1][0] = iPointX;
	              this.m_aPoint[1][1] = iPointY;
	              this.m_aPoint[2][0] = iPointX;
	              this.m_aPoint[0][1] = iPointY;
	            }
	          } else if (this.m_iIndexChoosePoint === 3) {
	            if (iPointX < this.m_aPoint[2][0]) {
	              this.m_aPoint[0][0] = iPointX;
	              this.m_aPoint[3][0] = iPointX;
	            }
	          } else if (this.m_iIndexChoosePoint === 4) {
	            if (iPointX > this.m_aPoint[0][0]) {
	              this.m_aPoint[1][0] = iPointX;
	              this.m_aPoint[2][0] = iPointX;
	            }
	          } else if (this.m_iIndexChoosePoint === 5) {
	            if (iPointX < this.m_aPoint[1][0] && iPointY > this.m_aPoint[1][1]) {
	              this.m_aPoint[3][0] = iPointX;
	              this.m_aPoint[3][1] = iPointY;
	              this.m_aPoint[0][0] = iPointX;
	              this.m_aPoint[2][1] = iPointY;
	            }
	          } else if (this.m_iIndexChoosePoint === 6) {
	            if (iPointY > this.m_aPoint[1][1]) {
	              this.m_aPoint[2][1] = iPointY;
	              this.m_aPoint[3][1] = iPointY;
	            }
	          } else if (this.m_iIndexChoosePoint === 7) {
	            if (iPointX > this.m_aPoint[0][0] && iPointY > this.m_aPoint[0][1]) {
	              this.m_aPoint[2][0] = iPointX;
	              this.m_aPoint[2][1] = iPointY;
	              this.m_aPoint[1][0] = iPointX;
	              this.m_aPoint[3][1] = iPointY;
	            }
	          }
	          redraw();
	        }
	      }
	      //点击后移动鼠标绘制矩形
	    }, {
	      key: "move",
	      value: function move(aPoint) {
	        redraw();
	        this.m_bChoosed = true;
	        var iStartX = aPoint[0][0];
	        var iStartY = aPoint[0][1];
	        var iEndX = aPoint[1][0];
	        var iEndY = aPoint[1][1];
	        this.setPointInfo([[iStartX, iStartY], [iEndX, iStartY], [iEndX, iEndY], [iStartX, iEndY]]);
	        this.draw();
	      }
	      //判断是否在图形边界圆点内
	    }, {
	      key: "inArc",
	      value: function inArc(iPointX, iPointY, iRadius) {
	        var iStartX = this.m_aPoint[0][0];
	        var iStartY = this.m_aPoint[0][1];
	        var iWidth = this.m_aPoint[2][0] - iStartX;
	        var iHeight = this.m_aPoint[2][1] - iStartY;
	        var iHalfWidth = Math.round(iWidth / 2);
	        var iHalfHeight = Math.round(iHeight / 2);
	        var aPointX = [iStartX, iStartX + iHalfWidth, iStartX + iWidth, iStartX, iStartX + iWidth, iStartX, iStartX + iHalfWidth, iStartX + iWidth];
	        var aPointY = [iStartY, iStartY, iStartY, iStartY + iHalfHeight, iStartY + iHalfHeight, iStartY + iHeight, iStartY + iHeight, iStartY + iHeight];
	        //let aCursors = ["nw-resize", "n-resize", "ne-resize", "w-resize", "e-resize", "sw-resize", "s-resize", "se-resize"];
	        for (var i = 0; i < 8; i++) {
	          var iDistance = Math.sqrt((iPointX - aPointX[i]) * (iPointX - aPointX[i]) + (iPointY - aPointY[i]) * (iPointY - aPointY[i]));
	          if (iDistance < iRadius) {
	            this.m_iIndexChoosePoint = i;
	            return true;
	          }
	        }
	        return false;
	      }
	    }]);
	    return Rect;
	  }(Shape); //OSD类
	  var RectOSD = /*#__PURE__*/function (_Shape2) {
	    _inherits(RectOSD, _Shape2);
	    var _super2 = _createSuper(RectOSD);
	    function RectOSD(szText, szEnabled) {
	      var _this2;
	      _classCallCheck(this, RectOSD);
	      _this2 = _super2.call(this);
	      _this2.m_szType = "RectOSD";
	      _this2.m_szOSDType = "overlay-date"; //OSD类型, overlay-date: 日期, overlay-ch: 通道名, overlay-text: 字符叠加
	      _this2.m_szText = szText || "";
	      _this2.m_szEnabled = szEnabled || "";
	      _this2.m_szDateStyle = "";
	      _this2.m_szClockType = "";
	      _this2.m_szDisplayWeek = "";
	      _this2.m_szId = "";
	      _this2.m_szAlignment = "0"; // 对齐方式. 0-自定义, 1-左对齐 2-右对齐
	      return _this2;
	    }
	    _createClass(RectOSD, [{
	      key: "draw",
	      value: function draw() {
	        if (this.m_szEnabled === "true") {
	          var iStartX = this.m_aPoint[0][0];
	          var iStartY = this.m_aPoint[0][1];
	          var iWidth = this.m_aPoint[2][0] - iStartX;
	          var iHeight = this.m_aPoint[2][1] - iStartY;
	          self[CONTEXT].beginPath();
	          self[CONTEXT].strokeStyle = this.m_szDrawColor;
	          self[CONTEXT].globalAlpha = 1;
	          self[CONTEXT].rect(iStartX, iStartY, iWidth, iHeight);
	          self[CONTEXT].font = "15px serif";
	          self[CONTEXT].strokeText(this.m_szText, iStartX, iStartY + 15);
	          self[CONTEXT].stroke();
	        }
	      }
	    }, {
	      key: "drag",
	      value: function drag(iPointX, iPointY) {
	        var iLength = this.m_aPoint.length;
	        var i = 0;
	        if ("0" === this.m_szAlignment) {
	          // 自定义
	          for (i = 0; i < iLength; i++) {
	            if (this.m_aPoint[i][1] + iPointY - this.m_iDriftStartY > self.m_iCanvasHeight || this.m_aPoint[i][0] + iPointX - this.m_iDriftStartX < 0 || this.m_aPoint[i][1] + iPointY - this.m_iDriftStartY < 0) {
	              this.m_iDriftStartX = iPointX;
	              this.m_iDriftStartY = iPointY;
	              return;
	            }
	          }
	          for (i = 0; i < iLength; i++) {
	            this.m_aPoint[i][0] = this.m_aPoint[i][0] + iPointX - this.m_iDriftStartX;
	            this.m_aPoint[i][1] = this.m_aPoint[i][1] + iPointY - this.m_iDriftStartY;
	          }
	        } else if ("1" === this.m_szAlignment || "2" === this.m_szAlignment) {
	          // 左/右对齐
	          for (i = 0; i < iLength; i++) {
	            if (this.m_aPoint[i][1] + iPointY - this.m_iDriftStartY > self.m_iCanvasHeight || this.m_aPoint[i][1] + iPointY - this.m_iDriftStartY < 0) {
	              this.m_iDriftStartX = iPointX;
	              this.m_iDriftStartY = iPointY;
	              return;
	            }
	          }
	          for (i = 0; i < iLength; i++) {
	            // this.m_aPoint[i][0] = this.m_aPoint[i][0] + iPointX - this.m_iDriftStartX;
	            this.m_aPoint[i][1] = this.m_aPoint[i][1] + iPointY - this.m_iDriftStartY;
	          }
	        }
	        this.m_iDriftStartX = iPointX;
	        this.m_iDriftStartY = iPointY;
	        this.setEdgePoints(this.m_aPoint);
	        redraw();
	      }
	      //重写基类的stretch, OSD不支持拉伸
	    }, {
	      key: "stretch",
	      value: function stretch() {
	        //do something
	      }
	    }]);
	    return RectOSD;
	  }(Shape); //移动侦测方格类
	  var MotionGrid = /*#__PURE__*/function (_Shape3) {
	    _inherits(MotionGrid, _Shape3);
	    var _super3 = _createSuper(MotionGrid);
	    function MotionGrid() {
	      var _this3;
	      _classCallCheck(this, MotionGrid);
	      _this3 = _super3.call(this);
	      _this3.m_szType = "Grid";
	      _this3.m_iGridColNum = 22;
	      _this3.m_iGridRowNum = 18;
	      _this3.m_szGridMap = "";
	      _this3.m_aAddGridMap = [];
	      return _this3;
	    }
	    _createClass(MotionGrid, [{
	      key: "draw",
	      value: function draw() {
	        var iWidth = self.m_iCanvasWidth / this.m_iGridColNum;
	        var iHeight = self.m_iCanvasHeight / this.m_iGridRowNum;
	        var szResultGridMap = "";
	        for (var i = 0; i < this.m_iGridRowNum; i++) {
	          var szGridRowMap = this.m_szGridMap.substring(i * 6, i * 6 + 6);
	          var aBinaryMap = parseInt("f" + szGridRowMap, 16).toString(2).split("").slice(4);
	          var szResultGridMapRow = "";
	          for (var j = 0; j < this.m_iGridColNum; j++) {
	            var szResultGridMapRowCol = "";
	            if (aBinaryMap[j] === "1") {
	              self[CONTEXT].strokeStyle = this.m_szDrawColor;
	              self[CONTEXT].globalAlpha = 1;
	              self[CONTEXT].strokeRect(iWidth * j, iHeight * i, iWidth, iHeight);
	              szResultGridMapRowCol = "1";
	            } else {
	              szResultGridMapRowCol = "0";
	            }
	            if (this.m_aAddGridMap.length) {
	              if (this.m_aAddGridMap[i][j] === 1) {
	                self[CONTEXT].strokeStyle = this.m_szDrawColor;
	                self[CONTEXT].strokeRect(iWidth * j, iHeight * i, iWidth, iHeight);
	                szResultGridMapRowCol = "1";
	              }
	            }
	            szResultGridMapRow += szResultGridMapRowCol;
	          }
	          szResultGridMap += parseInt("1111" + szResultGridMapRow + "00", 2).toString(16).substring(1);
	        }
	        this.m_szGridMap = szResultGridMap;
	      }
	    }, {
	      key: "move",
	      value: function move(iMouseDownX, iMouseDownY, iMouseMoveX, iMouseMoveY) {
	        //szGridMap
	        var iWidth = self.m_iCanvasWidth / this.m_iGridColNum;
	        var iHeight = self.m_iCanvasHeight / this.m_iGridRowNum;
	        var iStartX = Math.floor(iMouseDownX / iWidth);
	        var iStartY = Math.floor(iMouseDownY / iHeight);
	        var iRectColNum = Math.floor(Math.abs(iMouseMoveX - iMouseDownX) / iWidth);
	        var iRectRowNum = Math.floor(Math.abs(iMouseMoveY - iMouseDownY) / iHeight);
	        var iCoefficientX = 1; //横坐标系数, 1: 起始坐标小于结束坐标, -1: 起始坐标小于结束坐标
	        var iCoefficientY = 1; //纵坐标系数
	        if (iMouseMoveX - iMouseDownX > 0) {
	          iCoefficientX = 1;
	        } else {
	          iCoefficientX = -1;
	        }
	        if (iMouseMoveY - iMouseDownY > 0) {
	          iCoefficientY = 1;
	        } else {
	          iCoefficientY = -1;
	        }
	        var aAddGridMap = [];
	        for (var i = 0; i < this.m_iGridRowNum; i++) {
	          aAddGridMap[i] = [];
	          for (var j = 0; j < this.m_iGridColNum; j++) {
	            if (iCoefficientX === 1) {
	              if (iCoefficientY === 1) {
	                if (i >= iStartY && i <= iStartY + iRectRowNum && j >= iStartX && j <= iStartX + iRectColNum) {
	                  aAddGridMap[i][j] = 1;
	                } else {
	                  aAddGridMap[i][j] = 0;
	                }
	              } else {
	                if (i <= iStartY && i >= iStartY - iRectRowNum && j >= iStartX && j <= iStartX + iRectColNum) {
	                  aAddGridMap[i][j] = 1;
	                } else {
	                  aAddGridMap[i][j] = 0;
	                }
	              }
	            } else {
	              if (iCoefficientY === 1) {
	                if (i >= iStartY && i <= iStartY + iRectRowNum && j <= iStartX && j >= iStartX - iRectColNum) {
	                  aAddGridMap[i][j] = 1;
	                } else {
	                  aAddGridMap[i][j] = 0;
	                }
	              } else {
	                if (i <= iStartY && i >= iStartY - iRectRowNum && j <= iStartX && j >= iStartX - iRectColNum) {
	                  aAddGridMap[i][j] = 1;
	                } else {
	                  aAddGridMap[i][j] = 0;
	                }
	              }
	            }
	          }
	        }
	        this.m_aAddGridMap = aAddGridMap;
	        this.draw();
	      }
	    }]);
	    return MotionGrid;
	  }(Shape); //线类
	  var Line = /*#__PURE__*/function (_Shape4) {
	    _inherits(Line, _Shape4);
	    var _super4 = _createSuper(Line);
	    function Line() {
	      var _this4;
	      _classCallCheck(this, Line);
	      _this4 = _super4.call(this);
	      _this4.m_szType = "Line";
	      _this4.m_iLineType = 0; //普通线-0, 头上带箭头的线-1, 折线-2, 越界侦测线-3, 分离式过线统计线 -4
	      _this4.m_iDirection = 0;
	      _this4.m_iArrowType = 0; //客流量统计的箭头方向
	      _this4.m_aCrossArrowPoint = []; //过线统计箭头坐标
	      return _this4;
	    }
	    _createClass(Line, [{
	      key: "draw",
	      value: function draw() {
	        if (this.m_iLineType === 0) {
	          this.drawNormalLine();
	        } else if (this.m_iLineType === 1) {
	          this.drawArrowLine();
	        } else if (this.m_iLineType === 3) {
	          this.drawCrossLine();
	        } else if (this.m_iLineType === 4) {
	          this.drawLineCount();
	        }
	      }
	    }, {
	      key: "drawNormalLine",
	      value: function drawNormalLine() {
	        self[CONTEXT].globalAlpha = 1;
	        if (this.m_aPoint.length > 0) {
	          //连线
	          self[CONTEXT].beginPath();
	          self[CONTEXT].strokeStyle = this.m_szDrawColor;
	          self[CONTEXT].lineWidth = 2;
	          self[CONTEXT].moveTo(this.m_aPoint[0][0], this.m_aPoint[0][1]);
	          for (var i = 1, iLen = this.m_aPoint.length; i < iLen; i++) {
	            self[CONTEXT].lineTo(this.m_aPoint[i][0], this.m_aPoint[i][1]);
	          }
	          self[CONTEXT].stroke();
	          //画点
	          if (this.m_bChoosed) {
	            for (var _i = 0, _iLen = this.m_aPoint.length; _i < _iLen; _i++) {
	              self[CONTEXT].beginPath();
	              self[CONTEXT].fillStyle = this.m_szDrawColor;
	              self[CONTEXT].arc(this.m_aPoint[_i][0], this.m_aPoint[_i][1], 3, 0, Math.PI * 2, true);
	              self[CONTEXT].closePath();
	              self[CONTEXT].fill();
	            }
	          }
	          if (this.m_szTips !== "") {
	            self[CONTEXT].strokeStyle = this.m_szDrawColor;
	            self[CONTEXT].fillText(this.m_szTips, this.m_aPoint[0][0] + 10, this.m_aPoint[0][1] + 4);
	          }
	        }
	      }
	      //绘制箭头线
	    }, {
	      key: "drawArrowLine",
	      value: function drawArrowLine(iType, fromX, fromY, toX, toY, theta, headlen, width) {
	        theta = typeof theta !== 'undefined' ? theta : 30; //三角斜边一直线夹角
	        headlen = typeof headlen !== 'undefined' ? headlen : 10; //三角斜边长度
	        width = typeof width !== 'undefined' ? width : 1;
	        var angle = Math.atan2(fromY - toY, fromX - toX) * 180 / Math.PI;
	        var angle1 = (angle + theta) * Math.PI / 180;
	        var angle2 = (angle - theta) * Math.PI / 180;
	        var topX = headlen * Math.cos(angle1);
	        var topY = headlen * Math.sin(angle1);
	        var botX = headlen * Math.cos(angle2);
	        var botY = headlen * Math.sin(angle2);
	        self[CONTEXT].save();
	        self[CONTEXT].beginPath();
	        var arrowX = fromX - topX;
	        var arrowY = fromY - topY;
	        self[CONTEXT].moveTo(arrowX, arrowY);
	        self[CONTEXT].lineTo(fromX, fromY);
	        arrowX = fromX - botX;
	        arrowY = fromY - botY;
	        self[CONTEXT].lineTo(arrowX, arrowY);
	        self[CONTEXT].moveTo(fromX, fromY);
	        self[CONTEXT].lineTo(toX, toY);

	        // Reverse length on the other side
	        if (iType === 1) {
	          arrowX = toX + topX;
	          arrowY = toY + topY;
	          self[CONTEXT].moveTo(arrowX, arrowY);
	          self[CONTEXT].lineTo(toX, toY);
	          arrowX = toX + botX;
	          arrowY = toY + botY;
	          self[CONTEXT].lineTo(arrowX, arrowY);
	        }
	        self[CONTEXT].strokeStyle = this.m_szDrawColor;
	        self[CONTEXT].lineWidth = width;
	        self[CONTEXT].stroke();
	        self[CONTEXT].restore();
	      }
	    }, {
	      key: "drawCrossLine",
	      value: function drawCrossLine() {
	        this.drawNormalLine();
	        var iMiddleX = (this.m_aPoint[0][0] + this.m_aPoint[1][0]) / 2;
	        var iMiddleY = (this.m_aPoint[0][1] + this.m_aPoint[1][1]) / 2;
	        var angle = Math.atan2(iMiddleY - this.m_aPoint[0][1], iMiddleX - this.m_aPoint[0][0]) * 180 / Math.PI;
	        var angle1 = (angle + 90) * Math.PI / 180;
	        var angle2 = (angle - 90) * Math.PI / 180;
	        var topX = 25 * Math.cos(angle1);
	        var topY = 25 * Math.sin(angle1);
	        var botX = 25 * Math.cos(angle2);
	        var botY = 25 * Math.sin(angle2);
	        var arrowX = 0;
	        var arrowY = 0;
	        arrowX = iMiddleX - topX;
	        arrowY = iMiddleY - topY;
	        var iTextPositionA = 0;
	        var iTextPositionB = 0;
	        if (this.m_iDirection === 0) {
	          iTextPositionA = -10;
	          iTextPositionB = -15;
	        } else if (this.m_iDirection === 1) {
	          iTextPositionA = 10;
	          iTextPositionB = 10;
	        } else {
	          iTextPositionA = 10;
	          iTextPositionB = -15;
	        }
	        if (this.m_iDirection !== 0) {
	          this.drawArrowLine(0, arrowX, arrowY, iMiddleX, iMiddleY);
	        }
	        self[CONTEXT].strokeStyle = this.m_szDrawColor;
	        self[CONTEXT].font = "8px";
	        self[CONTEXT].strokeText("A", arrowX + iTextPositionA, arrowY + 4);
	        arrowX = iMiddleX - botX;
	        arrowY = iMiddleY - botY;
	        if (this.m_iDirection !== 1) {
	          this.drawArrowLine(0, arrowX, arrowY, iMiddleX, iMiddleY);
	        }
	        self[CONTEXT].strokeStyle = this.m_szDrawColor;
	        self[CONTEXT].font = "8px";
	        self[CONTEXT].strokeText("B", arrowX + iTextPositionB, arrowY + 4);
	      }
	    }, {
	      key: "drawLineCount",
	      value: function drawLineCount() {
	        this.drawNormalLine();
	        var iMiddleX = (this.m_aPoint[0][0] + this.m_aPoint[1][0]) / 2;
	        var iMiddleY = (this.m_aPoint[0][1] + this.m_aPoint[1][1]) / 2;
	        var angle = Math.atan2(iMiddleY - this.m_aPoint[0][1], iMiddleX - this.m_aPoint[0][0]) * 180 / Math.PI;
	        var angle1 = (angle + 90) * Math.PI / 180;
	        var angle2 = (angle - 90) * Math.PI / 180;
	        var topX = 25 * Math.cos(angle1);
	        var topY = 25 * Math.sin(angle1);
	        var botX = 25 * Math.cos(angle2);
	        var botY = 25 * Math.sin(angle2);
	        var arrowX = 0;
	        var arrowY = 0;
	        arrowX = iMiddleX - topX;
	        arrowY = iMiddleY - topY;
	        if (this.m_iArrowType === 1) {
	          arrowX = iMiddleX - botX;
	          arrowY = iMiddleY - botY;
	          this.drawArrowLine(0, arrowX, arrowY, iMiddleX, iMiddleY);
	        } else if (this.m_iArrowType === 0) {
	          this.drawArrowLine(0, arrowX, arrowY, iMiddleX, iMiddleY);
	        }
	        this.m_aCrossArrowPoint = [[iMiddleX, iMiddleY], [arrowX, arrowY]];
	      }
	      //线的选中判断
	    }, {
	      key: "inShape",
	      value: function inShape(iPointX, iPointY) {
	        var bRet = false;
	        for (var i = 0, iLen = this.m_aPoint.length - 1; i < iLen; i++) {
	          var iLineLen = Math.sqrt((this.m_aPoint[i + 1][0] - this.m_aPoint[i][0]) * (this.m_aPoint[i + 1][0] - this.m_aPoint[i][0]) + (this.m_aPoint[i + 1][1] - this.m_aPoint[i][1]) * (this.m_aPoint[i + 1][1] - this.m_aPoint[i][1]));
	          var iLineLen1 = Math.sqrt((iPointX - this.m_aPoint[i][0]) * (iPointX - this.m_aPoint[i][0]) + (iPointY - this.m_aPoint[i][1]) * (iPointY - this.m_aPoint[i][1]));
	          var iLineLen2 = Math.sqrt((iPointX - this.m_aPoint[i + 1][0]) * (iPointX - this.m_aPoint[i + 1][0]) + (iPointY - this.m_aPoint[i + 1][1]) * (iPointY - this.m_aPoint[i + 1][1]));
	          if (iLineLen1 + iLineLen2 - iLineLen < 1) {
	            bRet = true;
	          }
	        }
	        return bRet;
	      }
	    }]);
	    return Line;
	  }(Shape); //多边形类
	  var Polygon = /*#__PURE__*/function (_Shape5) {
	    _inherits(Polygon, _Shape5);
	    var _super5 = _createSuper(Polygon);
	    function Polygon() {
	      var _this5;
	      _classCallCheck(this, Polygon);
	      _this5 = _super5.call(this);
	      _this5.m_szType = "Polygon";
	      _this5.m_iPolygonType = 1; //0-矩形， 1-多边形
	      return _this5;
	    }
	    _createClass(Polygon, [{
	      key: "setPointInfo",
	      value: function setPointInfo(aPoint) {
	        if (aPoint !== null && typeof aPoint !== 'undefined') {
	          if (this.m_iPolygonType === 0) {
	            var iStartX = aPoint[0][0];
	            var iStartY = aPoint[0][1];
	            var iEndX = aPoint[0][0];
	            var iEndY = aPoint[0][1];
	            for (var i = 0, iLen = aPoint.length; i < iLen; i++) {
	              if (iStartX > aPoint[i][0]) {
	                iStartX = aPoint[i][0];
	              }
	              if (iStartY > aPoint[i][1]) {
	                iStartY = aPoint[i][1];
	              }
	              if (iEndX < aPoint[i][0]) {
	                iEndX = aPoint[i][0];
	              }
	              if (iEndY < aPoint[i][1]) {
	                iEndY = aPoint[i][1];
	              }
	            }
	            this.m_aPoint = [[iStartX, iStartY], [iEndX, iStartY], [iEndX, iEndY], [iStartX, iEndY]];
	          } else if (this.m_iPolygonType === 1) {
	            this.m_aPoint = aPoint;
	          } else {
	            this.m_aPoint = aPoint;
	          }
	          this.setEdgePoints(aPoint);
	        }
	      }
	    }, {
	      key: "draw",
	      value: function draw() {
	        if (this.m_aPoint.length > 0) {
	          self[CONTEXT].fillStyle = this.m_szFillColor;
	          self[CONTEXT].strokeStyle = this.m_szDrawColor;
	          self[CONTEXT].globalAlpha = 1;
	          var i = 0;
	          var iLen = 0;
	          if (this.m_bChoosed) {
	            for (i = 0, iLen = this.m_aPoint.length; i < iLen; i++) {
	              self[CONTEXT].beginPath();
	              self[CONTEXT].arc(this.m_aPoint[i][0], this.m_aPoint[i][1], 3, 0, 360, false);
	              self[CONTEXT].fillStyle = this.m_szDrawColor;
	              self[CONTEXT].closePath();
	              self[CONTEXT].fill();
	            }
	          }
	          self[CONTEXT].beginPath();
	          self[CONTEXT].moveTo(this.m_aPoint[0][0], this.m_aPoint[0][1]);
	          for (i = 0, iLen = this.m_aPoint.length; i < iLen; i++) {
	            if (i !== 0) {
	              self[CONTEXT].lineTo(this.m_aPoint[i][0], this.m_aPoint[i][1]);
	            }
	          }
	          self[CONTEXT].stroke();
	          if (this.m_bClosed) {
	            self[CONTEXT].fillText(this.m_szTips, (this.m_oEdgePoints.left.x + this.m_oEdgePoints.right.x) / 2, (this.m_oEdgePoints.top.y + this.m_oEdgePoints.bottom.y) / 2);
	            self[CONTEXT].closePath();
	            self[CONTEXT].stroke();
	            //填充区域颜色,设置透明度
	            self[CONTEXT].globalAlpha = this.m_iTranslucent;
	            self[CONTEXT].fill();
	          }
	        }
	      }
	    }, {
	      key: "move",
	      value: function move(iMouseMoveX, iMouseMoveY, iMouseDownX, iMouseDownY) {
	        if (this.m_iPolygonType === 1) {
	          if (this.m_aPoint.length < this.m_iMaxPointNum && this.m_aPoint.length > 0) {
	            self[CONTEXT].fillStyle = this.m_szFillColor;
	            self[CONTEXT].strokeStyle = this.m_szDrawColor;
	            self[CONTEXT].globalAlpha = 1;
	            var i = 0;
	            var iLen = 0;
	            for (i = 0, iLen = this.m_aPoint.length; i < iLen; i++) {
	              self[CONTEXT].beginPath();
	              self[CONTEXT].arc(this.m_aPoint[i][0], this.m_aPoint[i][1], 3, 0, 360, false);
	              self[CONTEXT].fillStyle = this.m_szDrawColor;
	              self[CONTEXT].closePath();
	              self[CONTEXT].fill();
	            }
	            self[CONTEXT].beginPath();
	            self[CONTEXT].moveTo(this.m_aPoint[0][0], this.m_aPoint[0][1]);
	            for (i = 0, iLen = this.m_aPoint.length; i < iLen; i++) {
	              if (i !== 0) {
	                self[CONTEXT].lineTo(this.m_aPoint[i][0], this.m_aPoint[i][1]);
	              }
	            }
	            self[CONTEXT].lineTo(iMouseMoveX, iMouseMoveY);
	            self[CONTEXT].closePath();
	            self[CONTEXT].stroke();
	          }
	        } else if (this.m_iPolygonType === 0) {
	          this.m_bChoosed = true;
	          var iStartX = iMouseDownX;
	          var iStartY = iMouseDownY;
	          var iEndX = iMouseMoveX;
	          var iEndY = iMouseMoveY;
	          this.setPointInfo([[iStartX, iStartY], [iEndX, iStartY], [iEndX, iEndY], [iStartX, iEndY]]);
	          this.draw();
	        }
	      }
	    }, {
	      key: "stretch",
	      value: function stretch(iPointX, iPointY) {
	        if (this.m_iEditType === 0) {
	          if (this.m_iPolygonType === 1) {
	            if (this.m_iIndexChoosePoint !== -1) {
	              this.m_aPoint[this.m_iIndexChoosePoint][0] = iPointX;
	              this.m_aPoint[this.m_iIndexChoosePoint][1] = iPointY;
	            }
	          } else {
	            if (this.m_iIndexChoosePoint === 0) {
	              if (iPointX < this.m_aPoint[2][0] && iPointY < this.m_aPoint[2][1]) {
	                this.m_aPoint[0][0] = iPointX;
	                this.m_aPoint[0][1] = iPointY;
	                this.m_aPoint[3][0] = iPointX;
	                this.m_aPoint[1][1] = iPointY;
	              }
	            } else if (this.m_iIndexChoosePoint === 1) {
	              if (iPointX > this.m_aPoint[3][0] && iPointY < this.m_aPoint[3][1]) {
	                this.m_aPoint[1][0] = iPointX;
	                this.m_aPoint[1][1] = iPointY;
	                this.m_aPoint[2][0] = iPointX;
	                this.m_aPoint[0][1] = iPointY;
	              }
	            } else if (this.m_iIndexChoosePoint === 2) {
	              if (iPointX > this.m_aPoint[0][0] && iPointY > this.m_aPoint[0][1]) {
	                this.m_aPoint[2][0] = iPointX;
	                this.m_aPoint[2][1] = iPointY;
	                this.m_aPoint[1][0] = iPointX;
	                this.m_aPoint[3][1] = iPointY;
	              }
	            } else if (this.m_iIndexChoosePoint === 3) {
	              if (iPointX < this.m_aPoint[1][0] && iPointY > this.m_aPoint[1][1]) {
	                this.m_aPoint[3][0] = iPointX;
	                this.m_aPoint[3][1] = iPointY;
	                this.m_aPoint[0][0] = iPointX;
	                this.m_aPoint[2][1] = iPointY;
	              }
	            }
	          }
	          this.setPointInfo(this.m_aPoint);
	          redraw();
	        }
	      }
	    }]);
	    return Polygon;
	  }(Shape); //Point类
	  var Point = /*#__PURE__*/function (_Shape6) {
	    _inherits(Point, _Shape6);
	    var _super6 = _createSuper(Point);
	    function Point() {
	      var _this6;
	      _classCallCheck(this, Point);
	      _this6 = _super6.call(this);
	      _this6.m_szType = "Point";
	      _this6.m_szId = "";
	      return _this6;
	    }
	    _createClass(Point, [{
	      key: "draw",
	      value: function draw() {
	        self[CONTEXT].beginPath();
	        self[CONTEXT].fillStyle = this.m_szDrawColor;
	        self[CONTEXT].globalAlpha = 1;
	        self[CONTEXT].arc(this.m_aPoint[0][0], this.m_aPoint[0][1], 10, 0, Math.PI * 2, true);
	        self[CONTEXT].closePath();
	        self[CONTEXT].fill();
	      }
	    }, {
	      key: "drag",
	      value: function drag( /*iPointX, iPointY*/
	      ) {
	        //do something
	      }
	      //重写基类的stretch, Point不支持拉伸
	    }, {
	      key: "stretch",
	      value: function stretch() {
	        //do something
	      }
	    }]);
	    return Point;
	  }(Shape); //绘图库类
	  var DrawCanvas = /*#__PURE__*/function () {
	    function DrawCanvas(szCanvasId) {
	      _classCallCheck(this, DrawCanvas);
	      self = this;
	      this[CANVAS] = $("#" + szCanvasId); //获取画布对象
	      this[CONTEXT] = this[CANVAS][0].getContext("2d"); //获取画布上下文
	      this[SHAPES] = []; //画布上的图形列表
	      this[DRAWSTATUS] = false; //是否开启手动绘制
	      this[SHAPETYPE] = "Rect"; //图形类型
	      this[MAXSHAPENUMSUPPORT] = 10;
	      this[DRAWSHAPEMULTIONETIME] = true; //一次是否可绘制多个
	      this[CURRENTSHAPEINFO] = {}; //当前图形信息，用于绘制当前图形
	      this[EVENTCALLBACK] = null;
	      this[SHAPESTYLE] = {
	        szDrawColor: "#ff0000",
	        szFillColor: "#343434",
	        iTranslucent: 0.7
	      };
	      this[POLYGONDRAWING] = false; //是否正在绘制多边形
	      this.m_iCanvasWidth = this[CANVAS].width(); //画布宽
	      this.m_iCanvasHeight = this[CANVAS].height(); //画布高
	      this.m_iHorizontalResolution = 0; //视频分辨率
	      this.m_iVerticalResolution = 0; //视频分辨率
	      this.m_szDisplayMode = ""; //视频显示模式
	      this.m_szVideoFormat = ""; //视频制式

	      initEvent(); //事件初始化
	      this[SHAPES].length = 0; //图形列表清空
	    }
	    _createClass(DrawCanvas, [{
	      key: "setDrawMutiShapeOneTime",
	      value: function setDrawMutiShapeOneTime(bDrawMuti) {
	        this[DRAWSHAPEMULTIONETIME] = bDrawMuti;
	      }
	      //设置最大绘制图形个数
	    }, {
	      key: "setMaxShapeSupport",
	      value: function setMaxShapeSupport(iMax) {
	        this[MAXSHAPENUMSUPPORT] = iMax;
	      }
	    }, {
	      key: "getMaxShapeSupport",
	      value: function getMaxShapeSupport() {
	        return this[MAXSHAPENUMSUPPORT];
	      }
	      //是否开启绘制
	    }, {
	      key: "setDrawStatus",
	      value: function setDrawStatus(bDrawStatus, cbCallback) {
	        this[DRAWSTATUS] = bDrawStatus;
	        if (cbCallback && bDrawStatus) {
	          this[EVENTCALLBACK] = cbCallback;
	        }
	        if (!bDrawStatus) {
	          this[EVENTCALLBACK] = null;
	        }
	      }
	      //设置绘图类型
	    }, {
	      key: "setShapeType",
	      value: function setShapeType(szType) {
	        this[SHAPETYPE] = szType;
	        redraw();
	        /*if (szType === "Grid" || szType === "RectOSD") {  //栅格式移动侦测区域绘制不可和其他图形一起绘制
	            this[SHAPES].length = 0;
	            redraw();
	        }*/
	      }
	    }, {
	      key: "setCurrentShapeInfo",
	      value: function setCurrentShapeInfo(oShapeInfo) {
	        this[CURRENTSHAPEINFO] = oShapeInfo || {
	          szId: "",
	          szTips: "",
	          iMinClosed: 3,
	          iMaxPointNum: 11,
	          iPolygonType: 1,
	          iRedrawMode: 0
	        };
	      }
	    }, {
	      key: "getShapeType",
	      value: function getShapeType() {
	        return this[SHAPETYPE];
	      }
	      //获取所有图形信息
	    }, {
	      key: "getAllShapesInfo",
	      value: function getAllShapesInfo() {
	        var aShape = [];
	        for (var i = 0, iLen = this[SHAPES].length; i < iLen; i++) {
	          if (this[SHAPES][i].m_szType === "Grid") {
	            aShape.push({
	              szType: this[SHAPES][i].m_szType,
	              szGridMap: this[SHAPES][i].m_szGridMap,
	              iGridColNum: this[SHAPES][i].m_iGridColNum,
	              iGridRowNum: this[SHAPES][i].m_iGridRowNum
	            });
	          } else if (this[SHAPES][i].m_szType === "RectOSD") {
	            aShape.push({
	              szType: this[SHAPES][i].m_szType,
	              szText: this[SHAPES][i].m_szText,
	              szEnabled: this[SHAPES][i].m_szEnabled,
	              szOSDType: this[SHAPES][i].m_szOSDType,
	              iPositionX: this[SHAPES][i].m_aPoint[0][0],
	              iPositionY: this[SHAPES][i].m_aPoint[0][1],
	              szDateStyle: this[SHAPES][i].m_szDateStyle,
	              szClockType: this[SHAPES][i].m_szClockType,
	              szDisplayWeek: this[SHAPES][i].m_szDisplayWeek,
	              szId: this[SHAPES][i].m_szId,
	              szAlignment: this[SHAPES][i].m_szAlignment
	            });
	          } else {
	            aShape.push({
	              szType: this[SHAPES][i].m_szType,
	              aPoint: this[SHAPES][i].m_aPoint,
	              szId: this[SHAPES][i].m_szId,
	              bChoosed: this[SHAPES][i].m_bChoosed
	            });
	          }
	        }
	        return aShape;
	      }
	    }, {
	      key: "deleteRepeatPolyonById",
	      value: function deleteRepeatPolyonById(id) {
	        var aShapes = this.getAllShapesInfo();
	        var iShapesLen = aShapes.length;
	        if (iShapesLen > 0) {
	          for (var i = 0; i < iShapesLen; i++) {
	            if (aShapes[i].szType === "Polygon") {
	              if (aShapes[i].szId === id) {
	                this.deleteShape(i);
	                // break;
	              }
	            }
	          }
	        }
	      }

	      //根据类型获取图形信息
	    }, {
	      key: "getShapesInfoByType",
	      value: function getShapesInfoByType(szType) {
	        var aShape = [];
	        for (var i = 0, iLen = this[SHAPES].length; i < iLen; i++) {
	          if (this[SHAPES][i].m_szType === szType) {
	            if (this[SHAPES][i].m_szType === "Grid") {
	              aShape.push({
	                szType: this[SHAPES][i].m_szType,
	                szGridMap: this[SHAPES][i].m_szGridMap,
	                iGridColNum: this[SHAPES][i].m_iGridColNum,
	                iGridRowNum: this[SHAPES][i].m_iGridRowNum
	              });
	            } else if (this[SHAPES][i].m_szType === "RectOSD") {
	              aShape.push({
	                szType: this[SHAPES][i].m_szType,
	                szText: this[SHAPES][i].m_szText,
	                szEnabled: this[SHAPES][i].m_szEnabled,
	                szOSDType: this[SHAPES][i].m_szOSDType,
	                iPositionX: this[SHAPES][i].m_aPoint[0][0],
	                iPositionY: this[SHAPES][i].m_aPoint[0][1],
	                szDateStyle: this[SHAPES][i].m_szDateStyle,
	                szClockType: this[SHAPES][i].m_szClockType,
	                szDisplayWeek: this[SHAPES][i].m_szDisplayWeek,
	                szId: this[SHAPES][i].m_szId,
	                szAlignment: this[SHAPES][i].m_szAlignment
	              });
	            } else if (szType === "Polygon") {
	              aShape.push({
	                szType: this[SHAPES][i].m_szType,
	                szId: this[SHAPES][i].m_szId,
	                iPolygonType: this[SHAPES][i].m_iPolygonType,
	                iMinClosed: this[SHAPES][i].m_iMinClosed,
	                iMaxPointNum: this[SHAPES][i].m_iMaxPointNum,
	                iEditType: this[SHAPES][i].m_iEditType,
	                aPoint: this[SHAPES][i].m_aPoint,
	                bClosed: this[SHAPES][i].m_bClosed,
	                szTips: this[SHAPES][i].m_szTips,
	                szDrawColor: this[SHAPES][i].m_szDrawColor,
	                szFillColor: this[SHAPES][i].m_szFillColor,
	                iTranslucent: this[SHAPES][i].m_iTranslucent
	              });
	            } else if (szType === "Line") {
	              aShape.push({
	                szType: this[SHAPES][i].m_szType,
	                szId: this[SHAPES][i].m_szId,
	                aPoint: this[SHAPES][i].m_aPoint,
	                szTips: this[SHAPES][i].m_szTips,
	                iLineType: this[SHAPES][i].m_iLineType,
	                iDirection: this[SHAPES][i].m_iDirection,
	                iArrowType: this[SHAPES][i].m_iArrowType,
	                szDrawColor: this[SHAPES][i].m_szDrawColor,
	                aCrossArrowPoint: this[SHAPES][i].m_aCrossArrowPoint
	              });
	            } else if (szType === "Rect") {
	              aShape.push({
	                szType: this[SHAPES][i].m_szType,
	                iEditType: this[SHAPES][i].m_iEditType,
	                aPoint: this[SHAPES][i].m_aPoint,
	                szTips: this[SHAPES][i].m_szTips,
	                szDrawColor: this[SHAPES][i].m_szDrawColor,
	                szFillColor: this[SHAPES][i].m_szFillColor,
	                iTranslucent: this[SHAPES][i].m_iTranslucent
	              });
	            } else {
	              aShape.push({
	                szType: this[SHAPES][i].m_szType,
	                aPoint: this[SHAPES][i].m_aPoint
	              });
	            }
	          }
	        }
	        return aShape;
	      }
	      //根据类型获取图形信息
	    }, {
	      key: "setShapesInfoByType",
	      value: function setShapesInfoByType(szType, aShapesInfo) {
	        if (!aShapesInfo) {
	          aShapesInfo = [];
	        }
	        var oShape = null;
	        if (szType === "Rect" || szType === "Polygon" || szType === "Line" || szType === "Point") {
	          for (var i = 0, iLen = aShapesInfo.length; i < iLen; i++) {
	            if (szType === "Rect") {
	              oShape = new Rect();
	              oShape.m_iEditType = aShapesInfo[i].iEditType;
	              oShape.m_szTips = aShapesInfo[i].szTips || "";
	              oShape.m_szDrawColor = aShapesInfo[i].szDrawColor;
	              oShape.m_szFillColor = aShapesInfo[i].szFillColor;
	              oShape.m_iTranslucent = aShapesInfo[i].iTranslucent;
	              oShape.m_iRedrawMode = aShapesInfo[i].iRedrawMode;
	            } else if (szType === "Polygon") {
	              oShape = new Polygon();
	              if (aShapesInfo[i].iPolygonType === 0) {
	                oShape.m_bClosed = true;
	              } else {
	                oShape.m_bClosed = aShapesInfo[i].bClosed;
	              }
	              oShape.m_szTips = aShapesInfo[i].szTips || "";
	              oShape.m_szId = aShapesInfo[i].szId || "";
	              oShape.m_iPolygonType = aShapesInfo[i].iPolygonType;
	              oShape.m_iMinClosed = aShapesInfo[i].iMinClosed || 3;
	              oShape.m_iMaxPointNum = aShapesInfo[i].iMaxPointNum || 11;
	              oShape.m_iEditType = aShapesInfo[i].iEditType;
	              oShape.m_szDrawColor = aShapesInfo[i].szDrawColor;
	              oShape.m_szFillColor = aShapesInfo[i].szFillColor;
	              oShape.m_iTranslucent = aShapesInfo[i].iTranslucent;
	              oShape.m_iRedrawMode = aShapesInfo[i].iRedrawMode;
	            } else if (szType === "Line") {
	              oShape = new Line();
	              oShape.m_iLineType = aShapesInfo[i].iLineType;
	              oShape.m_szTips = aShapesInfo[i].szTips || "";
	              oShape.m_szId = aShapesInfo[i].szId;
	              oShape.m_iDirection = aShapesInfo[i].iDirection;
	              oShape.m_iArrowType = aShapesInfo[i].iArrowType;
	              oShape.m_szDrawColor = aShapesInfo[i].szDrawColor;
	              oShape.setPointInfo(aShapesInfo[i].aPoint);
	            } else if (szType === "Point") {
	              oShape = new Point();
	              oShape.m_szId = aShapesInfo[i].szId;
	              oShape.m_szDrawColor = aShapesInfo[i].szDrawColor;
	              oShape.setPointInfo(aShapesInfo[i].aPoint);
	            }
	            oShape.setPointInfo(aShapesInfo[i].aPoint);
	            if (i === 0) {
	              oShape.m_bChoosed = true; //默认选中第一个图形
	            }

	            addShape(oShape);
	          }
	        } else if (szType === "Grid") {
	          oShape = new MotionGrid();
	          oShape.m_szGridMap = aShapesInfo[0].szGridMap || "";
	          oShape.m_iGridColNum = aShapesInfo[0].iGridColNum || 22;
	          oShape.m_iGridRowNum = aShapesInfo[0].iGridRowNum || 18;
	          addShape(oShape);
	        }
	        redraw();
	      }
	      //添加单条OSD
	    }, {
	      key: "addOSDShape",
	      value: function addOSDShape(szText, szEnabled, iStartX, iStartY, oExtend) {
	        if (!iStartX && !iStartY) {
	          iStartX = 0;
	          iStartY = 0;
	        }
	        if (!oExtend) {
	          oExtend = {};
	        }
	        var oRectOSD = new RectOSD(szText, szEnabled);
	        var iWidth = szText.replace(/[^x00-xff]/g, "rr").length * 10; //中文算两个字符
	        oRectOSD.m_szOSDType = oExtend.szOSDType || "";
	        oRectOSD.m_szDateStyle = oExtend.szDateStyle || "";
	        oRectOSD.m_szClockType = oExtend.szClockType || "";
	        oRectOSD.m_szDisplayWeek = oExtend.szDisplayWeek || "";
	        oRectOSD.m_szId = oExtend.szId || "";
	        oRectOSD.m_szAlignment = "" + oExtend.szAlignment || "0";
	        if ("0" === oRectOSD.m_szAlignment) {
	          // 自定义
	          oRectOSD.m_aPoint = [[iStartX, iStartY], [iWidth + iStartX, iStartY], [iWidth + iStartX, iStartY + 20], [iStartX, iStartY + 20]];
	        } else if ("1" === oRectOSD.m_szAlignment) {
	          // 左对齐
	          oRectOSD.m_aPoint = [[0, iStartY], [iWidth, iStartY], [iWidth, iStartY + 20], [0, iStartY + 20]];
	        } else if ("2" === oRectOSD.m_szAlignment) {
	          // 右对齐
	          oRectOSD.m_aPoint = [[this.m_iCanvasWidth - iWidth, iStartY], [this.m_iCanvasWidth, iStartY], [this.m_iCanvasWidth, iStartY + 20], [this.m_iCanvasWidth - iWidth, iStartY + 20]];
	        } else {
	          // 默认还是自定义
	          oRectOSD.m_aPoint = [[iStartX, iStartY], [iWidth + iStartX, iStartY], [iWidth + iStartX, iStartY + 20], [iStartX, iStartY + 20]];
	        }
	        addShape(oRectOSD);
	        redraw();
	      }
	    }, {
	      key: "selectShapeById",
	      value: function selectShapeById(szShapeType, szId) {
	        for (var i = 0, iLen = self[SHAPES].length; i < iLen; i++) {
	          if (szShapeType === self[SHAPES][i].m_szType) {
	            if (szId === self[SHAPES][i].m_szId) {
	              self[SHAPES][i].m_bChoosed = true;
	            } else {
	              self[SHAPES][i].m_bChoosed = false;
	            }
	          }
	        }
	        redraw();
	      }
	      //设置画布宽高
	    }, {
	      key: "setCanvasSize",
	      value: function setCanvasSize(iWidth, iHeight) {
	        if (iWidth > 0 && iHeight > 0) {
	          this.m_iCanvasWidth = iWidth;
	          this.m_iCanvasHeight = iHeight;
	          redraw();
	        }
	      }
	      //设置图形样式
	    }, {
	      key: "setDrawStyle",
	      value: function setDrawStyle(szBorderColor, szFillColor, iTranslucent) {
	        this[SHAPESTYLE] = {
	          szDrawColor: szBorderColor,
	          szFillColor: szFillColor,
	          iTranslucent: iTranslucent
	        };
	      }
	      //清除所有图形
	    }, {
	      key: "clearAllShape",
	      value: function clearAllShape() {
	        this[SHAPES].length = 0;
	        self[POLYGONDRAWING] = false;
	        redraw();
	      }
	      //根据类型清除图形
	    }, {
	      key: "clearShapeByType",
	      value: function clearShapeByType(szType) {
	        var iLen = this[SHAPES].length;
	        for (var i = iLen; i > 0; i--) {
	          if (this[SHAPES][i - 1].m_szType === szType) {
	            if (szType === "Grid") {
	              this[SHAPES][i - 1].m_szGridMap = "";
	              this[SHAPES][i - 1].m_aAddGridMap = [];
	            } else {
	              this[SHAPES].splice(i - 1, 1);
	            }
	          }
	        }
	        if ("Polygon" === szType) {
	          self[POLYGONDRAWING] = false;
	        }
	        redraw();
	      }
	      //删除单个图形
	    }, {
	      key: "deleteShape",
	      value: function deleteShape(iShapeIndex) {
	        if (this[SHAPES].length > iShapeIndex) {
	          this[SHAPES].splice(iShapeIndex, 1);
	        }
	        redraw();
	      }
	    }, {
	      key: "updateCanvas",
	      value: function updateCanvas(szCanvasId) {
	        this[CANVAS] = $("#" + szCanvasId); //获取画布对象
	        this[CONTEXT] = this[CANVAS][0].getContext("2d"); //获取画布上下文
	        this.m_iCanvasWidth = this[CANVAS].width(); //画布宽
	        this.m_iCanvasHeight = this[CANVAS].height(); //画布高
	        initEvent(); //事件初始化
	      }
	    }, {
	      key: "resizeCanvas",
	      value: function resizeCanvas() {
	        this.m_iCanvasWidth = this[CANVAS].width(); //画布宽
	        this.m_iCanvasHeight = this[CANVAS].height(); //画布高
	      }
	    }, {
	      key: "canvasRedraw",
	      value: function canvasRedraw() {
	        redraw();
	      }
	    }]);
	    return DrawCanvas;
	  }();
	  return DrawCanvas;
	}();

	var wasmplayer_min = {exports: {}};

	(function(module,exports){!function(_0x14c39a,_0x2376e3){module['exports']=_0x2376e3();}(self,function(){return (()=>{var _0x59ad37={0x1dd:_0x327836=>{_0x327836['exports']=function(_0x259ca8,_0x283232,_0x4338cf,_0x1746ef){var _0x4ea86c=self||window;try{try{var _0x1fddf5;try{_0x1fddf5=new _0x4ea86c['Blob']([_0x259ca8]);}catch(_0x421332){(_0x1fddf5=new(_0x4ea86c['BlobBuilder']||_0x4ea86c['WebKitBlobBuilder']||_0x4ea86c['MozBlobBuilder']||_0x4ea86c['MSBlobBuilder'])())['append'](_0x259ca8),_0x1fddf5=_0x1fddf5['getBlob']();}var _0x2f988a=_0x4ea86c['URL']||_0x4ea86c['webkitURL'],_0x2f1bbf=_0x2f988a['createObjectURL'](_0x1fddf5),_0x2ecf1f=new _0x4ea86c[_0x283232](_0x2f1bbf,_0x4338cf);return _0x2f988a['revokeObjectURL'](_0x2f1bbf),_0x2ecf1f;}catch(_0x4de2e1){return new _0x4ea86c[_0x283232]('data:application/javascript,'['concat'](encodeURIComponent(_0x259ca8)),_0x4338cf);}}catch(_0x143839){if(!_0x1746ef)throw Error('Inline\x20worker\x20is\x20not\x20supported');return new _0x4ea86c[_0x283232](_0x1746ef,_0x4338cf);}};},0x3d:(_0x128393,_0x53983b,_0x4d7f61)=>{var _0x21d3e0=_0x4d7f61(0x2ba)['default'];function _0x4486e8(){_0x128393['exports']=_0x4486e8=function(){return _0x71748c;},_0x128393['exports']['__esModule']=!0x0,_0x128393['exports']['default']=_0x128393['exports'];var _0x71748c={},_0x5d5ce6=Object['prototype'],_0x12f14d=_0x5d5ce6['hasOwnProperty'],_0x72eab4='function'==typeof Symbol?Symbol:{},_0x40475d=_0x72eab4['iterator']||'@@iterator',_0x46b66a=_0x72eab4['asyncIterator']||'@@asyncIterator',_0x26c88f=_0x72eab4['toStringTag']||'@@toStringTag';function _0x257833(_0x23e6eb,_0x5d4476,_0x132103){return Object['defineProperty'](_0x23e6eb,_0x5d4476,{'value':_0x132103,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}),_0x23e6eb[_0x5d4476];}try{_0x257833({},'');}catch(_0x461812){_0x257833=function(_0x5bb787,_0x3d9e5e,_0x157379){return _0x5bb787[_0x3d9e5e]=_0x157379;};}function _0x1a2258(_0x10a762,_0x1d66fd,_0x30ee0e,_0x5e7144){var _0x45114c=_0x1d66fd&&_0x1d66fd['prototype']instanceof _0x1bb147?_0x1d66fd:_0x1bb147,_0x54eb6d=Object['create'](_0x45114c['prototype']),_0x2d9201=new _0x3ad514(_0x5e7144||[]);return _0x54eb6d['_invoke']=function(_0x5dd3bb,_0x505da5,_0x166149){var _0x49d98a='suspendedStart';return function(_0x54ba77,_0x3a441b){if('executing'===_0x49d98a)throw new Error('Generator\x20is\x20already\x20running');if('completed'===_0x49d98a){if('throw'===_0x54ba77)throw _0x3a441b;return _0x321d7e();}for(_0x166149['method']=_0x54ba77,_0x166149['arg']=_0x3a441b;;){var _0x4aee7b=_0x166149['delegate'];if(_0x4aee7b){var _0x42571d=_0x427d74(_0x4aee7b,_0x166149);if(_0x42571d){if(_0x42571d===_0x2f3119)continue;return _0x42571d;}}if('next'===_0x166149['method'])_0x166149['sent']=_0x166149['_sent']=_0x166149['arg'];else {if('throw'===_0x166149['method']){if('suspendedStart'===_0x49d98a)throw _0x49d98a='completed',_0x166149['arg'];_0x166149['dispatchException'](_0x166149['arg']);}else 'return'===_0x166149['method']&&_0x166149['abrupt']('return',_0x166149['arg']);}_0x49d98a='executing';var _0x2c1201=_0x3f1e45(_0x5dd3bb,_0x505da5,_0x166149);if('normal'===_0x2c1201['type']){if(_0x49d98a=_0x166149['done']?'completed':'suspendedYield',_0x2c1201['arg']===_0x2f3119)continue;return {'value':_0x2c1201['arg'],'done':_0x166149['done']};}'throw'===_0x2c1201['type']&&(_0x49d98a='completed',_0x166149['method']='throw',_0x166149['arg']=_0x2c1201['arg']);}};}(_0x10a762,_0x30ee0e,_0x2d9201),_0x54eb6d;}function _0x3f1e45(_0xd1988c,_0x57f18c,_0x5c2e3b){try{return {'type':'normal','arg':_0xd1988c['call'](_0x57f18c,_0x5c2e3b)};}catch(_0x26ae82){return {'type':'throw','arg':_0x26ae82};}}_0x71748c['wrap']=_0x1a2258;var _0x2f3119={};function _0x1bb147(){}function _0x3e9f96(){}function _0x528426(){}var _0x279f8b={};_0x257833(_0x279f8b,_0x40475d,function(){return this;});var _0x401ce6=Object['getPrototypeOf'],_0x36a00b=_0x401ce6&&_0x401ce6(_0x401ce6(_0x114780([])));_0x36a00b&&_0x36a00b!==_0x5d5ce6&&_0x12f14d['call'](_0x36a00b,_0x40475d)&&(_0x279f8b=_0x36a00b);var _0x3dadc1=_0x528426['prototype']=_0x1bb147['prototype']=Object['create'](_0x279f8b);function _0x55be03(_0x25cbaf){['next','throw','return']['forEach'](function(_0x4c4c5c){_0x257833(_0x25cbaf,_0x4c4c5c,function(_0x5e5f90){return this['_invoke'](_0x4c4c5c,_0x5e5f90);});});}function _0x49e301(_0x1941d6,_0x54b6a1){function _0xb1e3(_0x47de0c,_0x46450f,_0x3993c7,_0x3b7317){var _0x4cbe27=_0x3f1e45(_0x1941d6[_0x47de0c],_0x1941d6,_0x46450f);if('throw'!==_0x4cbe27['type']){var _0x453e4c=_0x4cbe27['arg'],_0x474403=_0x453e4c['value'];return _0x474403&&'object'==_0x21d3e0(_0x474403)&&_0x12f14d['call'](_0x474403,'__await')?_0x54b6a1['resolve'](_0x474403['__await'])['then'](function(_0x55753a){_0xb1e3('next',_0x55753a,_0x3993c7,_0x3b7317);},function(_0x35104a){_0xb1e3('throw',_0x35104a,_0x3993c7,_0x3b7317);}):_0x54b6a1['resolve'](_0x474403)['then'](function(_0x1460de){_0x453e4c['value']=_0x1460de,_0x3993c7(_0x453e4c);},function(_0x46a4cf){return _0xb1e3('throw',_0x46a4cf,_0x3993c7,_0x3b7317);});}_0x3b7317(_0x4cbe27['arg']);}var _0xd988ff;this['_invoke']=function(_0x590a99,_0x30eee8){function _0x104d9b(){return new _0x54b6a1(function(_0x44dab7,_0x4df6bc){_0xb1e3(_0x590a99,_0x30eee8,_0x44dab7,_0x4df6bc);});}return _0xd988ff=_0xd988ff?_0xd988ff['then'](_0x104d9b,_0x104d9b):_0x104d9b();};}function _0x427d74(_0x32e76c,_0x247592){var _0x3fdf81=_0x32e76c['iterator'][_0x247592['method']];if(void 0x0===_0x3fdf81){if(_0x247592['delegate']=null,'throw'===_0x247592['method']){if(_0x32e76c['iterator']['return']&&(_0x247592['method']='return',_0x247592['arg']=void 0x0,_0x427d74(_0x32e76c,_0x247592),'throw'===_0x247592['method']))return _0x2f3119;_0x247592['method']='throw',_0x247592['arg']=new TypeError('The\x20iterator\x20does\x20not\x20provide\x20a\x20\x27throw\x27\x20method');}return _0x2f3119;}var _0x19c63c=_0x3f1e45(_0x3fdf81,_0x32e76c['iterator'],_0x247592['arg']);if('throw'===_0x19c63c['type'])return _0x247592['method']='throw',_0x247592['arg']=_0x19c63c['arg'],_0x247592['delegate']=null,_0x2f3119;var _0x4f88e8=_0x19c63c['arg'];return _0x4f88e8?_0x4f88e8['done']?(_0x247592[_0x32e76c['resultName']]=_0x4f88e8['value'],_0x247592['next']=_0x32e76c['nextLoc'],'return'!==_0x247592['method']&&(_0x247592['method']='next',_0x247592['arg']=void 0x0),_0x247592['delegate']=null,_0x2f3119):_0x4f88e8:(_0x247592['method']='throw',_0x247592['arg']=new TypeError('iterator\x20result\x20is\x20not\x20an\x20object'),_0x247592['delegate']=null,_0x2f3119);}function _0x554879(_0xbcace2){var _0x5dd534={'tryLoc':_0xbcace2[0x0]};0x1 in _0xbcace2&&(_0x5dd534['catchLoc']=_0xbcace2[0x1]),0x2 in _0xbcace2&&(_0x5dd534['finallyLoc']=_0xbcace2[0x2],_0x5dd534['afterLoc']=_0xbcace2[0x3]),this['tryEntries']['push'](_0x5dd534);}function _0xb70264(_0x4c9f4a){var _0x259852=_0x4c9f4a['completion']||{};_0x259852['type']='normal',delete _0x259852['arg'],_0x4c9f4a['completion']=_0x259852;}function _0x3ad514(_0x286e4a){this['tryEntries']=[{'tryLoc':'root'}],_0x286e4a['forEach'](_0x554879,this),this['reset'](!0x0);}function _0x114780(_0x42929a){if(_0x42929a){var _0x443fec=_0x42929a[_0x40475d];if(_0x443fec)return _0x443fec['call'](_0x42929a);if('function'==typeof _0x42929a['next'])return _0x42929a;if(!isNaN(_0x42929a['length'])){var _0x4c1b5=-0x1,_0x197b24=function _0x4c4cf1(){for(;++_0x4c1b5<_0x42929a['length'];)if(_0x12f14d['call'](_0x42929a,_0x4c1b5))return _0x4c4cf1['value']=_0x42929a[_0x4c1b5],_0x4c4cf1['done']=!0x1,_0x4c4cf1;return _0x4c4cf1['value']=void 0x0,_0x4c4cf1['done']=!0x0,_0x4c4cf1;};return _0x197b24['next']=_0x197b24;}}return {'next':_0x321d7e};}function _0x321d7e(){return {'value':void 0x0,'done':!0x0};}return _0x3e9f96['prototype']=_0x528426,_0x257833(_0x3dadc1,'constructor',_0x528426),_0x257833(_0x528426,'constructor',_0x3e9f96),_0x3e9f96['displayName']=_0x257833(_0x528426,_0x26c88f,'GeneratorFunction'),_0x71748c['isGeneratorFunction']=function(_0x53265c){var _0x17ca2b='function'==typeof _0x53265c&&_0x53265c['constructor'];return !!_0x17ca2b&&(_0x17ca2b===_0x3e9f96||'GeneratorFunction'===(_0x17ca2b['displayName']||_0x17ca2b['name']));},_0x71748c['mark']=function(_0x234eea){return Object['setPrototypeOf']?Object['setPrototypeOf'](_0x234eea,_0x528426):(_0x234eea['__proto__']=_0x528426,_0x257833(_0x234eea,_0x26c88f,'GeneratorFunction')),_0x234eea['prototype']=Object['create'](_0x3dadc1),_0x234eea;},_0x71748c['awrap']=function(_0xfdbdc3){return {'__await':_0xfdbdc3};},_0x55be03(_0x49e301['prototype']),_0x257833(_0x49e301['prototype'],_0x46b66a,function(){return this;}),_0x71748c['AsyncIterator']=_0x49e301,_0x71748c['async']=function(_0x11dd59,_0x36a19c,_0x2ffad1,_0x315e98,_0x1247f3){void 0x0===_0x1247f3&&(_0x1247f3=Promise);var _0x1ba147=new _0x49e301(_0x1a2258(_0x11dd59,_0x36a19c,_0x2ffad1,_0x315e98),_0x1247f3);return _0x71748c['isGeneratorFunction'](_0x36a19c)?_0x1ba147:_0x1ba147['next']()['then'](function(_0x7f5c14){return _0x7f5c14['done']?_0x7f5c14['value']:_0x1ba147['next']();});},_0x55be03(_0x3dadc1),_0x257833(_0x3dadc1,_0x26c88f,'Generator'),_0x257833(_0x3dadc1,_0x40475d,function(){return this;}),_0x257833(_0x3dadc1,'toString',function(){return '[object\x20Generator]';}),_0x71748c['keys']=function(_0x5dfe61){var _0x1b1119=[];for(var _0x11b5b2 in _0x5dfe61)_0x1b1119['push'](_0x11b5b2);return _0x1b1119['reverse'](),function _0x17be47(){for(;_0x1b1119['length'];){var _0xeda0a1=_0x1b1119['pop']();if(_0xeda0a1 in _0x5dfe61)return _0x17be47['value']=_0xeda0a1,_0x17be47['done']=!0x1,_0x17be47;}return _0x17be47['done']=!0x0,_0x17be47;};},_0x71748c['values']=_0x114780,_0x3ad514['prototype']={'constructor':_0x3ad514,'reset':function(_0x1a554a){if(this['prev']=0x0,this['next']=0x0,this['sent']=this['_sent']=void 0x0,this['done']=!0x1,this['delegate']=null,this['method']='next',this['arg']=void 0x0,this['tryEntries']['forEach'](_0xb70264),!_0x1a554a){for(var _0x3e51bb in this)'t'===_0x3e51bb['charAt'](0x0)&&_0x12f14d['call'](this,_0x3e51bb)&&!isNaN(+_0x3e51bb['slice'](0x1))&&(this[_0x3e51bb]=void 0x0);}},'stop':function(){this['done']=!0x0;var _0x1652c5=this['tryEntries'][0x0]['completion'];if('throw'===_0x1652c5['type'])throw _0x1652c5['arg'];return this['rval'];},'dispatchException':function(_0x1538b1){if(this['done'])throw _0x1538b1;var _0x639c9f=this;function _0x44a3a4(_0x318e13,_0x360f04){return _0x3f19cc['type']='throw',_0x3f19cc['arg']=_0x1538b1,_0x639c9f['next']=_0x318e13,_0x360f04&&(_0x639c9f['method']='next',_0x639c9f['arg']=void 0x0),!!_0x360f04;}for(var _0x3db296=this['tryEntries']['length']-0x1;_0x3db296>=0x0;--_0x3db296){var _0x401853=this['tryEntries'][_0x3db296],_0x3f19cc=_0x401853['completion'];if('root'===_0x401853['tryLoc'])return _0x44a3a4('end');if(_0x401853['tryLoc']<=this['prev']){var _0x442491=_0x12f14d['call'](_0x401853,'catchLoc'),_0x531067=_0x12f14d['call'](_0x401853,'finallyLoc');if(_0x442491&&_0x531067){if(this['prev']<_0x401853['catchLoc'])return _0x44a3a4(_0x401853['catchLoc'],!0x0);if(this['prev']<_0x401853['finallyLoc'])return _0x44a3a4(_0x401853['finallyLoc']);}else {if(_0x442491){if(this['prev']<_0x401853['catchLoc'])return _0x44a3a4(_0x401853['catchLoc'],!0x0);}else {if(!_0x531067)throw new Error('try\x20statement\x20without\x20catch\x20or\x20finally');if(this['prev']<_0x401853['finallyLoc'])return _0x44a3a4(_0x401853['finallyLoc']);}}}}},'abrupt':function(_0x1ee5ff,_0x52544e){for(var _0x3f140a=this['tryEntries']['length']-0x1;_0x3f140a>=0x0;--_0x3f140a){var _0x56eb6c=this['tryEntries'][_0x3f140a];if(_0x56eb6c['tryLoc']<=this['prev']&&_0x12f14d['call'](_0x56eb6c,'finallyLoc')&&this['prev']<_0x56eb6c['finallyLoc']){var _0x249ef1=_0x56eb6c;break;}}_0x249ef1&&('break'===_0x1ee5ff||'continue'===_0x1ee5ff)&&_0x249ef1['tryLoc']<=_0x52544e&&_0x52544e<=_0x249ef1['finallyLoc']&&(_0x249ef1=null);var _0x41f4d7=_0x249ef1?_0x249ef1['completion']:{};return _0x41f4d7['type']=_0x1ee5ff,_0x41f4d7['arg']=_0x52544e,_0x249ef1?(this['method']='next',this['next']=_0x249ef1['finallyLoc'],_0x2f3119):this['complete'](_0x41f4d7);},'complete':function(_0x14c844,_0x460a91){if('throw'===_0x14c844['type'])throw _0x14c844['arg'];return 'break'===_0x14c844['type']||'continue'===_0x14c844['type']?this['next']=_0x14c844['arg']:'return'===_0x14c844['type']?(this['rval']=this['arg']=_0x14c844['arg'],this['method']='return',this['next']='end'):'normal'===_0x14c844['type']&&_0x460a91&&(this['next']=_0x460a91),_0x2f3119;},'finish':function(_0x5b3d9b){for(var _0x631d51=this['tryEntries']['length']-0x1;_0x631d51>=0x0;--_0x631d51){var _0x55bcfc=this['tryEntries'][_0x631d51];if(_0x55bcfc['finallyLoc']===_0x5b3d9b)return this['complete'](_0x55bcfc['completion'],_0x55bcfc['afterLoc']),_0xb70264(_0x55bcfc),_0x2f3119;}},'catch':function(_0x13e735){for(var _0x30964a=this['tryEntries']['length']-0x1;_0x30964a>=0x0;--_0x30964a){var _0x1cbab3=this['tryEntries'][_0x30964a];if(_0x1cbab3['tryLoc']===_0x13e735){var _0x192b3f=_0x1cbab3['completion'];if('throw'===_0x192b3f['type']){var _0x279863=_0x192b3f['arg'];_0xb70264(_0x1cbab3);}return _0x279863;}}throw new Error('illegal\x20catch\x20attempt');},'delegateYield':function(_0x417625,_0x22229d,_0x26dff2){return this['delegate']={'iterator':_0x114780(_0x417625),'resultName':_0x22229d,'nextLoc':_0x26dff2},'next'===this['method']&&(this['arg']=void 0x0),_0x2f3119;}},_0x71748c;}_0x128393['exports']=_0x4486e8,_0x128393['exports']['__esModule']=!0x0,_0x128393['exports']['default']=_0x128393['exports'];},0x2ba:_0x22f9ff=>{function _0x1f7052(_0x59a0f2){return _0x22f9ff['exports']=_0x1f7052='function'==typeof Symbol&&'symbol'==typeof Symbol['iterator']?function(_0x1970ab){return typeof _0x1970ab;}:function(_0x1b0ad0){return _0x1b0ad0&&'function'==typeof Symbol&&_0x1b0ad0['constructor']===Symbol&&_0x1b0ad0!==Symbol['prototype']?'symbol':typeof _0x1b0ad0;},_0x22f9ff['exports']['__esModule']=!0x0,_0x22f9ff['exports']['default']=_0x22f9ff['exports'],_0x1f7052(_0x59a0f2);}_0x22f9ff['exports']=_0x1f7052,_0x22f9ff['exports']['__esModule']=!0x0,_0x22f9ff['exports']['default']=_0x22f9ff['exports'];},0x2af:(_0x4bbbe8,_0x8efff3,_0x49d674)=>{var _0x2f39a8=_0x49d674(0x3d)();_0x4bbbe8['exports']=_0x2f39a8;try{regeneratorRuntime=_0x2f39a8;}catch(_0x3f2d4f){'object'==typeof globalThis?globalThis['regeneratorRuntime']=_0x2f39a8:Function('r','regeneratorRuntime\x20=\x20r')(_0x2f39a8);}}},_0x3236d0={};function _0x3f5828(_0x4c8103){var _0xce6f79=_0x3236d0[_0x4c8103];if(void 0x0!==_0xce6f79)return _0xce6f79['exports'];var _0x3aa535=_0x3236d0[_0x4c8103]={'exports':{}};return _0x59ad37[_0x4c8103](_0x3aa535,_0x3aa535['exports'],_0x3f5828),_0x3aa535['exports'];}_0x3f5828['n']=_0x1c8cdf=>{var _0x8be88d=_0x1c8cdf&&_0x1c8cdf['__esModule']?()=>_0x1c8cdf['default']:()=>_0x1c8cdf;return _0x3f5828['d'](_0x8be88d,{'a':_0x8be88d}),_0x8be88d;},_0x3f5828['d']=(_0x491068,_0x12672d)=>{for(var _0x248f3f in _0x12672d)_0x3f5828['o'](_0x12672d,_0x248f3f)&&!_0x3f5828['o'](_0x491068,_0x248f3f)&&Object['defineProperty'](_0x491068,_0x248f3f,{'enumerable':!0x0,'get':_0x12672d[_0x248f3f]});},_0x3f5828['o']=(_0x4b6a8b,_0x54ffbb)=>Object['prototype']['hasOwnProperty']['call'](_0x4b6a8b,_0x54ffbb),_0x3f5828['r']=_0x392acd=>{'undefined'!=typeof Symbol&&Symbol['toStringTag']&&Object['defineProperty'](_0x392acd,Symbol['toStringTag'],{'value':'Module'}),Object['defineProperty'](_0x392acd,'__esModule',{'value':!0x0});};var _0x190fe1={};return (()=>{function _0x162c92(_0xe5a216,_0x1d8b04){if(!(_0xe5a216 instanceof _0x1d8b04))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}function _0x4fd676(_0x2eb7ff,_0x3b89a4){for(var _0x4c17fd=0x0;_0x4c17fd<_0x3b89a4['length'];_0x4c17fd++){var _0x518fd3=_0x3b89a4[_0x4c17fd];_0x518fd3['enumerable']=_0x518fd3['enumerable']||!0x1,_0x518fd3['configurable']=!0x0,'value'in _0x518fd3&&(_0x518fd3['writable']=!0x0),Object['defineProperty'](_0x2eb7ff,_0x518fd3['key'],_0x518fd3);}}function _0x5ab2cc(_0x241192,_0x52c41c,_0x2e378b){return _0x52c41c&&_0x4fd676(_0x241192['prototype'],_0x52c41c),_0x2e378b&&_0x4fd676(_0x241192,_0x2e378b),Object['defineProperty'](_0x241192,'prototype',{'writable':!0x1}),_0x241192;}_0x3f5828['r'](_0x190fe1),_0x3f5828['d'](_0x190fe1,{'JSPlayCtrl':()=>_0x4edf92});var _0x1ce992=0x501,_0x416ba2=0x502,_0x2d9b3d=0x505,_0x5c9ed2=0x507,_0xd25aa1=0x508,_0x5921f7=0x509,_0x577a6f=0x512,_0x59cdd1=0x516,_0x532461=0x1,_0x15965e=0x2,_0x425a4f=0x3,_0x3a439c=0x0,_0x817799=0x100,_0x59f1da=0x200,_0x11078b=0x300,_0x374a1a=0x400,_0x18400f=0x500,_0x436ee5=0x600,_0xbc84d5=0x700,_0x1fd508=0x800,_0x692cc7=0x900,_0x341433=0xa00,_0x3340d2=0x1,_0x19d487=0x2,_0x79dfd5=0x4,_0x943383=0x8,_0x39010f=0x10,_0x31a4f6=0x20;function _0x17d16c(_0x41d72b,_0x975547,_0x3f221d,_0x4412ff,_0x3ee84b,_0x7f3c89,_0x1cf037){try{var _0x8b2f9c=_0x41d72b[_0x7f3c89](_0x1cf037),_0x10289e=_0x8b2f9c['value'];}catch(_0x43c1a2){return void _0x3f221d(_0x43c1a2);}_0x8b2f9c['done']?_0x975547(_0x10289e):Promise['resolve'](_0x10289e)['then'](_0x4412ff,_0x3ee84b);}var _0x1d34f6=_0x3f5828(0x2af),_0x46b816=_0x3f5828['n'](_0x1d34f6),_0x2ec062=_0x3f5828(0x1dd),_0x1cc3ba=_0x3f5828['n'](_0x2ec062);function _0x17594c(){return _0x1cc3ba()('((()=>{\x27use\x20strict\x27;function\x20_0x54580d(_0x2b6bad,_0x2d533c){if(!(_0x2b6bad\x20instanceof\x20_0x2d533c))throw\x20new\x20TypeError(\x27Cannot\x5cx20call\x5cx20a\x5cx20class\x5cx20as\x5cx20a\x5cx20function\x27);}function\x20_0xae16d8(_0x51512e,_0x306019){for(var\x20_0x585d8=0x0;_0x585d8<_0x306019[\x27length\x27];_0x585d8++){var\x20_0x34aa33=_0x306019[_0x585d8];_0x34aa33[\x27enumerable\x27]=_0x34aa33[\x27enumerable\x27]||!0x1,_0x34aa33[\x27configurable\x27]=!0x0,\x27value\x27in\x20_0x34aa33&&(_0x34aa33[\x27writable\x27]=!0x0),Object[\x27defineProperty\x27](_0x51512e,_0x34aa33[\x27key\x27],_0x34aa33);}}function\x20_0x4fd085(_0xfb685a,_0x3f4464,_0xc28cb1){return\x20_0x3f4464&&_0xae16d8(_0xfb685a[\x27prototype\x27],_0x3f4464),_0xc28cb1&&_0xae16d8(_0xfb685a,_0xc28cb1),Object[\x27defineProperty\x27](_0xfb685a,\x27prototype\x27,{\x27writable\x27:!0x1}),_0xfb685a;}var\x20_0x599b74=0x501,_0x4b57a2=0x502,_0xa88cb3=0x505,_0x1ee0b0=0x507,_0x31d5c8=0x508,_0x13beae=0x509,_0x41c932=0x512,_0x633153=0x516,_0x2aea6b=0x1,_0x240c92=0x2,_0x1e68ea=0x3,_0x4fbb93=0x0,_0x54a990=0x100,_0x2cb8a2=0x200,_0x4e5968=0x300,_0x30e952=0x400,_0x1837a3=0x500,_0x20b7ae=0x600,_0x443c47=0x700,_0x30ecd9=0x800,_0x39b0d3=0x900,_0x2a01ec=0xa00,_0x16ee77=0x1,_0x3ff4c5=0x2,_0x353221=0x4,_0x2b1528=0x8,_0x1f2582=0x10,_0x160732=0x20,_0x285caf=(function(){function\x20_0x3a5d6f(_0x464baf,_0x1e0a98,_0x5183ee){_0x54580d(this,_0x3a5d6f),this[\x27width\x27]=0x0,this[\x27height\x27]=0x0,this[\x27decoderObj\x27]=null,this[\x27FirstFrame\x27]=!0x0,this[\x27ready_frames\x27]=[],this[\x27underflow\x27]=!0x0,this[\x27sab\x27]=_0x464baf,this[\x27frameRate\x27]=0x1e,this[\x27needSetPreSoft\x27]=!0x1,this[\x27decoderCurStatus\x27]=0x2,this[\x27decoderOutSuccess\x27]=!0x1,this[\x27decoderObjNeedReset\x27]=!0x1,this[\x27oVideoRenderHandle\x27]=_0x1e0a98,this[\x27output\x27]=this[\x27output\x27][\x27bind\x27](this),this[\x27reportError\x27]=this[\x27reportError\x27][\x27bind\x27](this),this[\x27player\x27]=null,null!=_0x5183ee&&(this[\x27player\x27]=_0x5183ee),this[\x27curFrame\x27]=null;}return\x20_0x4fd085(_0x3a5d6f,[{\x27key\x27:\x27initDecoder\x27,\x27value\x27:function(){if(null==this[\x27decoderObj\x27]){var\x20_0x2d79fc={\x27output\x27:this[\x27output\x27],\x27error\x27:this[\x27reportError\x27]};this[\x27decoderObj\x27]=new\x20VideoDecoder(_0x2d79fc);}this[\x27underflow\x27]&&(this[\x27underflow\x27]=!0x1,setTimeout(this[\x27oVideoRenderHandle\x27][\x27RenderFrame\x27](),0x0),this[\x27oVideoRenderHandle\x27][\x27displayRunning\x27]=!0x0),this[\x27decoderCurStatus\x27]=0x2,this[\x27FirstFrame\x27]=!0x0;}},{\x27key\x27:\x27inputData\x27,\x27value\x27:function(_0x14a132,_0x2702c6){null!=this[\x27decoderObj\x27]&&(\x27configured\x27==this[\x27decoderObj\x27][\x27state\x27]||this[\x27FirstFrame\x27])&&this[\x27decodeProcess\x27](_0x14a132,_0x2702c6),_0x2702c6[\x27nStreamEnd\x27]&&this[\x27SetStreamEnd\x27]();}},{\x27key\x27:\x27concatenate\x27,\x27value\x27:function(_0x5e99ee){for(var\x20_0x1d99af=0x0,_0x224806=arguments[\x27length\x27],_0x2c0fc3=new\x20Array(_0x224806>0x1?_0x224806-0x1:0x0),_0xe5bc19=0x1;_0xe5bc19<_0x224806;_0xe5bc19++)_0x2c0fc3[_0xe5bc19-0x1]=arguments[_0xe5bc19];for(var\x20_0x2e36e3=0x0,_0x4839aa=_0x2c0fc3;_0x2e36e3<_0x4839aa[\x27length\x27];_0x2e36e3++){var\x20_0x5b5797=_0x4839aa[_0x2e36e3];_0x1d99af+=_0x5b5797[\x27length\x27];}for(var\x20_0xd7b863=new\x20_0x5e99ee(_0x1d99af),_0x34342b=0x0,_0x467991=0x0,_0x454adf=_0x2c0fc3;_0x467991<_0x454adf[\x27length\x27];_0x467991++){var\x20_0x1d9c81=_0x454adf[_0x467991];_0xd7b863[\x27set\x27](_0x1d9c81,_0x34342b),_0x34342b+=_0x1d9c81[\x27length\x27];}return\x20_0xd7b863;}},{\x27key\x27:\x27processData\x27,\x27value\x27:function(_0x3e77b2){for(var\x20_0x24d282=null,_0x199354=null,_0x7aab92=null,_0x3c4951=!0x1,_0x2f2bac=!0x1,_0x4e9e0c=0x0,_0x7feff9=0x0;_0x7feff9<_0x3e77b2[\x27length\x27]-0x4;_0x7feff9++){if(0x0!=_0x3e77b2[_0x7feff9]||0x0!=_0x3e77b2[_0x7feff9+0x1]||0x0!=_0x3e77b2[_0x7feff9+0x2]||0x1!=_0x3e77b2[_0x7feff9+0x3]||0x67!=_0x3e77b2[_0x7feff9+0x4]&&0x27!=_0x3e77b2[_0x7feff9+0x4]||(0x0!=_0x7feff9?(_0x2f2bac=!0x0,_0x24d282=_0x3e77b2[\x27slice\x27](_0x7feff9),_0x4e9e0c=_0x7feff9):_0x24d282=_0x3e77b2),0x0==_0x3e77b2[_0x7feff9]&&0x0==_0x3e77b2[_0x7feff9+0x1]&&0x0==_0x3e77b2[_0x7feff9+0x2]&&0x1==_0x3e77b2[_0x7feff9+0x3]&&(0x9==_0x3e77b2[_0x7feff9+0x4]||0x6==_0x3e77b2[_0x7feff9+0x4])){if(null==_0x24d282)continue;null==_0x199354&&(_0x199354=_0x3e77b2[\x27slice\x27](_0x4e9e0c,_0x7feff9),_0x3c4951=!0x0);}if(0x0==_0x3e77b2[_0x7feff9]&&0x0==_0x3e77b2[_0x7feff9+0x1]&&0x0==_0x3e77b2[_0x7feff9+0x2]&&0x1==_0x3e77b2[_0x7feff9+0x3]&&(0x65==_0x3e77b2[_0x7feff9+0x4]||0x25==_0x3e77b2[_0x7feff9+0x4])){_0x3c4951&&(_0x7aab92=_0x3e77b2[\x27slice\x27](_0x7feff9));break;}}return\x20_0x3c4951?this[\x27concatenate\x27](Uint8Array,_0x199354,_0x7aab92):_0x2f2bac?_0x24d282:_0x3e77b2;}},{\x27key\x27:\x27processData1\x27,\x27value\x27:function(_0x16bcc1){return\x200x0!=_0x16bcc1[0x0]||0x0!=_0x16bcc1[0x1]||0x0!=_0x16bcc1[0x2]||0x1!=_0x16bcc1[0x3]||0x9!=_0x16bcc1[0x4]&&0x6!=_0x16bcc1[0x4]?_0x16bcc1:_0x16bcc1[\x27slice\x27](0x5);}},{\x27key\x27:\x27formatVideoDecoderConfigure\x27,\x27value\x27:function(_0x54ce8e,_0x196d31,_0x5a1ba3,_0x50f43f){var\x20_0x1ffc78=\x27\x27;if(0x5==_0x196d31)_0x1ffc78=\x27hvc1.1.6.L123.00\x27,console[\x27log\x27](\x27265\x5cx20hard\x5cx20decoder\x27);else{if(0x100==_0x196d31){for(var\x20_0x1ccde6=0x0;_0x1ccde6<_0x54ce8e[\x27length\x27];_0x1ccde6++)if(0x67===_0x54ce8e[_0x1ccde6]||0x27===_0x54ce8e[_0x1ccde6]){var\x20_0x3cd7eb=_0x54ce8e[\x27subarray\x27](_0x1ccde6+0x1,_0x1ccde6+0x4);_0x1ffc78=\x27avc1.\x27;for(var\x20_0x34c212=0x0;_0x34c212<0x3;_0x34c212++){var\x20_0x1ce113=_0x3cd7eb[_0x34c212][\x27toString\x27](0x10);_0x1ce113[\x27length\x27]<0x2&&(_0x1ce113=\x270\x27+_0x1ce113),_0x1ffc78+=_0x1ce113;}break;}console[\x27log\x27](\x27264\x5cx20hard\x5cx20decoder\x27);}else\x20console[\x27log\x27](\x27Support\x5cx20Error:\x5cx20hard\x5cx20decoder\x5cx20only\x5cx20support\x5cx20264\x5cx20and\x5cx20265\x5cx20!!!\x27);}var\x20_0x34eea1={\x27codec\x27:_0x1ffc78,\x27hardwareAcceleration\x27:\x27prefer-hardware\x27,\x27optimizeForLatency\x27:0x1};return\x200x5!=_0x196d31&&this[\x27needSetPreSoft\x27]&&(_0x34eea1[\x27hardwareAcceleration\x27]=\x27prefer-software\x27),_0x34eea1;}},{\x27key\x27:\x27decodeProcess\x27,\x27value\x27:function(_0x39207c,_0x2e1195){var\x20_0x4f64b2=this;this[\x27frameRate\x27]!=_0x2e1195[\x27frameRate\x27]&&(this[\x27frameRate\x27]=_0x2e1195[\x27frameRate\x27]),this[\x27width\x27]!=_0x2e1195[\x27width\x27]&&(this[\x27width\x27]=_0x2e1195[\x27width\x27]),this[\x27height\x27]!=_0x2e1195[\x27height\x27]&&(this[\x27height\x27]=_0x2e1195[\x27height\x27]),_0x2e1195[\x27needSetPreSoft\x27]&&(this[\x27needSetPreSoft\x27]=_0x2e1195[\x27needSetPreSoft\x27]);var\x20_0x1e93e7=_0x39207c;if(0x4!=this[\x27decoderCurStatus\x27]&&null!=this[\x27decoderObj\x27]){if(\x27configured\x27==this[\x27decoderObj\x27][\x27state\x27]){var\x20_0x38e22c=new\x20EncodedVideoChunk({\x27data\x27:_0x1e93e7,\x27timestamp\x27:_0x2e1195[\x27timeStamp\x27],\x27type\x27:_0x2e1195[\x27isKeyFrame\x27]?\x27key\x27:\x27delta\x27});this[\x27decoderObj\x27][\x27decode\x27](_0x38e22c),_0x1e93e7=null,_0x39207c=null,_0x38e22c=null,_0x2e1195[\x27frameType\x27];}else{if(_0x2e1195[\x27isKeyFrame\x27]&&\x27unconfigured\x27==this[\x27decoderObj\x27][\x27state\x27]){var\x20_0x158e69=this[\x27formatVideoDecoderConfigure\x27](_0x39207c,_0x2e1195[\x27codecType\x27],_0x2e1195[\x27width\x27],_0x2e1195[\x27height\x27]);if(\x27\x27==_0x158e69[\x27codec\x27])return-0x1;VideoDecoder[\x27isConfigSupported\x27](_0x158e69)[\x27then\x27](function(_0x5e7fa4){if(_0x5e7fa4[\x27supported\x27]){_0x4f64b2[\x27decoderObj\x27][\x27configure\x27](_0x158e69),_0x1e93e7=_0x4f64b2[\x27processData\x27](_0x39207c),_0x4f64b2[\x27FirstFrame\x27]=!0x1;var\x20_0x3f5221=new\x20EncodedVideoChunk({\x27data\x27:_0x1e93e7,\x27timestamp\x27:_0x2e1195[\x27timeStamp\x27],\x27type\x27:_0x2e1195[\x27isKeyFrame\x27]?\x27key\x27:\x27delta\x27});_0x4f64b2[\x27decoderObj\x27][\x27decode\x27](_0x3f5221),_0x158e69=null,_0x1e93e7=null,_0x39207c=null;}else\x20console[\x27log\x27](\x27%c4>HardDecoder\x5cx20ConfigSupported\x5cx20error,switch\x5cx20hard\x5cx20to\x5cx20soft\x27,\x27color:\x5cx20red\x27),_0x4f64b2[\x27oVideoRenderHandle\x27][\x27HardDecodeError\x27]();})[\x27catch\x27](function(){console[\x27log\x27](\x27VideoDecoder.js\x5cx20isConfigSupported\x5cx20error\x5cx20switch\x5cx20hard\x5cx20to\x5cx20soft\x5cx20\x27),_0x4f64b2[\x27oVideoRenderHandle\x27][\x27HardDecodeError\x27]();});}}}}},{\x27key\x27:\x27output\x27,\x27value\x27:function(_0x206cf6){if(\x27configured\x27==this[\x27decoderObj\x27][\x27state\x27])_0x206cf6[\x27format\x27],_0x206cf6[\x27codedWidth\x27],_0x206cf6[\x27codedHeight\x27],_0x206cf6[\x27displayWidth\x27],_0x206cf6[\x27displayHeight\x27],_0x206cf6[\x27duration\x27],_0x206cf6[\x27timestamp\x27],(this[\x27ready_frames\x27][\x27push\x27](_0x206cf6),this[\x27decoderOutSuccess\x27]||(this[\x27decoderOutSuccess\x27]=!0x0),this[\x27decoderObj\x27][\x27decodeQueueSize\x27]<=0x1&&(this[\x27player\x27]?this[\x27player\x27][\x27JSPlayM4_GetRawData\x27]():postMessage({\x27function\x27:\x27GetRawData\x27})));else\x20_0x206cf6[\x27close\x27]();}},{\x27key\x27:\x27output2\x27,\x27value\x27:function(_0x4be35d){var\x20_0x3a3570=this;_0x4be35d[\x27timestamp\x27],createImageBitmap(_0x4be35d)[\x27then\x27](function(_0x3adf18){_0x4be35d[\x27close\x27](),_0x3a3570[\x27ready_frames\x27][\x27push\x27](_0x3adf18);});}},{\x27key\x27:\x27reportError\x27,\x27value\x27:function(_0x16c406){this[\x27decoderOutSuccess\x27]?this[\x27decoderObjNeedReset\x27]=!0x0:(this[\x27oVideoRenderHandle\x27][\x27HardDecodeError\x27](),console[\x27log\x27](\x27%cswitch\x5cx20hardVideoDecoder\x5cx20to\x5cx20softVideoDecoder\x27,\x27color:\x5cx20red\x27));}},{\x27key\x27:\x27destroyDecoder\x27,\x27value\x27:function(){var\x20_0x450263=this;return\x20new\x20Promise(function(_0x200299,_0x1c35a9){_0x450263[\x27clearDecoderObjBuffer\x27]()[\x27then\x27](function(){null!=_0x450263[\x27decoderObj\x27]&&(\x27closed\x27!=_0x450263[\x27decoderObj\x27][\x27state\x27]&&_0x450263[\x27decoderObj\x27][\x27close\x27](),console[\x27log\x27](\x27>>>JS\x5cx2001\x5cx20destroy\x5cx20decoderObj\x27),_0x450263[\x27decoderObj\x27]=null),_0x450263[\x27decoderCurStatus\x27]=0x4,_0x450263[\x27decoderOutSuccess\x27]=!0x1,_0x450263[\x27FirstFrame\x27]=!0x0,_0x450263[\x27underflow\x27]=!0x0,_0x450263[\x27needSetPreSoft\x27]=!0x1,_0x450263[\x27decoderObjNeedReset\x27]=!0x1,_0x200299();},function(){_0x1c35a9();});});}},{\x27key\x27:\x27resetDecoder\x27,\x27value\x27:function(){var\x20_0x1c7703=this;return\x20new\x20Promise(function(_0x240094,_0x2effac){_0x1c7703[\x27destroyDecoder\x27]()[\x27then\x27](function(){_0x1c7703[\x27initDecoder\x27](),console[\x27log\x27](\x27%c\x5cx20reset\x5cx20hard\x5cx20decoder\x27,\x27color:red\x27),_0x240094();},function(){_0x2effac();});});}},{\x27key\x27:\x27clearDecoderObjBuffer\x27,\x27value\x27:function(){var\x20_0x27b4db=this;return\x20new\x20Promise(function(_0xdf8f82,_0x28479a){for(var\x20_0x5d26a1=_0x27b4db[\x27ready_frames\x27][\x27length\x27],_0x2e9d24=0x0;_0x2e9d24<_0x5d26a1;_0x2e9d24++){_0x27b4db[\x27ready_frames\x27][\x27shift\x27]()[\x27close\x27]();}_0x27b4db[\x27ready_frames\x27][\x27splice\x27](0x0,_0x27b4db[\x27ready_frames\x27][\x27length\x27]),null!=_0x27b4db[\x27decoderObj\x27]&&\x27configured\x27==_0x27b4db[\x27decoderObj\x27][\x27state\x27]&&_0x27b4db[\x27decoderObj\x27][\x27reset\x27](),_0xdf8f82();});}},{\x27key\x27:\x27SetStreamEnd\x27,\x27value\x27:function(){return\x200x0==this[\x27decoderObj\x27][\x27decodeQueueSize\x27]&&0x0==this[\x27ready_frames\x27][\x27length\x27]&&(this[\x27decoderObj\x27][\x27flush\x27](),console[\x27log\x27](\x27flush\x27)),0x1;}},{\x27key\x27:\x27GetFrame\x27,\x27value\x27:function(){var\x20_0x5f11c6=this;return\x20new\x20Promise(function(_0x2ac610,_0x3d6f62){if(null!=_0x5f11c6[\x27curFrame\x27]){var\x20_0x4417cc=_0x5f11c6[\x27ready_frames\x27][\x27shift\x27]();_0x4417cc[\x27close\x27](),_0x4417cc=null,_0x5f11c6[\x27curFrame\x27]=null;}0x0!=_0x5f11c6[\x27ready_frames\x27][\x27length\x27]?(_0x5f11c6[\x27curFrame\x27]=_0x5f11c6[\x27ready_frames\x27][0x0],_0x2ac610(_0x5f11c6[\x27curFrame\x27])):(_0x5f11c6[\x27curFrame\x27]=null,_0x2ac610(null));});}},{\x27key\x27:\x27GetFrameBufferLength\x27,\x27value\x27:function(){return\x20this[\x27ready_frames\x27][\x27length\x27];}},{\x27key\x27:\x27GetImageYUV\x27,\x27value\x27:function(){var\x20_0x58efa4=this;return\x20new\x20Promise(function(_0x80d209,_0x5c516d){var\x20_0x32f011=null;if(null!=_0x58efa4[\x27curFrame\x27]?_0x32f011=_0x58efa4[\x27curFrame\x27]:0x0!=_0x58efa4[\x27ready_frames\x27][\x27length\x27]&&(_0x32f011=_0x58efa4[\x27ready_frames\x27][0x0]),null!=_0x32f011){var\x20_0x586862=_0x32f011[\x27displayWidth\x27],_0x9b681b=_0x32f011[\x27displayHeight\x27],_0x3f3636=_0x586862*_0x9b681b*0x3/0x2,_0x331745=new\x20Uint8Array(_0x3f3636),_0x37d16e=_0x32f011[\x27format\x27];_0x32f011[\x27copyTo\x27](_0x331745)[\x27then\x27](function(){console[\x27log\x27](\x272\x5cx20yuvLength:\x27+_0x3f3636+\x27,displayWidth:\x27+_0x586862),_0x80d209({\x27yuvFrameBuffer\x27:_0x331745,\x27yuvLength\x27:_0x3f3636,\x27displayWidth\x27:_0x586862,\x27displayHeight\x27:_0x9b681b,\x27yuvType\x27:_0x37d16e});});}else\x20_0x80d209({\x27yuvFrameBuffer\x27:-0x1,\x27yuvLength\x27:-0x1,\x27displayWidth\x27:-0x1,\x27displayHeight\x27:-0x1,\x27yuvType\x27:-0x1});});}}]),_0x3a5d6f;}()),_0xa87ede=0x1,_0x86aef9=0x80000001,_0x3d12cf=0x80000003,_0x520965=0x80000004,_0x31ddcf=0x80000005,_0x13126c=0x8000000a,_0x4d26c0=0x8000000d,_0x4fea1b=0x8000000e,_0xe9e464=0x1,_0x206403=0x2,_0x186ff9={\x27SR_DE_NULL\x27:0x0,\x27SR_DE_FISH_ORIGINAL\x27:0x1,\x27SR_DE_FISH_PTZ_CEILING\x27:0x2,\x27SR_DE_FISH_PTZ_FLOOR\x27:0x3,\x27SR_DE_FISH_PTZ_WALL\x27:0x4,\x27SR_DE_FISH_PANORAMA_CEILING_360\x27:0x5,\x27SR_DE_FISH_PANORAMA_CEILING_180\x27:0x6,\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27:0x7,\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27:0x8,\x27SR_DE_FISH_PANORAMA_WALL\x27:0x9,\x27SR_DE_FISH_SEMISPHERE\x27:0xa,\x27SR_DE_EAGLEEYE_SEMISPHERE\x27:0xb,\x27SR_DE_EAGLEEYE_PLANE\x27:0xc,\x27SR_DE_FISH_CYLINDER_CEILING\x27:0xd,\x27SR_DE_FISH_CYLINDER_FLOOR\x27:0xe,\x27SR_DE_FISH_CYLINDER_SPLIT_CEILING\x27:0xf,\x27SR_DE_FISH_CYLINDER_SPLIT_FLOOR\x27:0x10,\x27SR_DE_FISH_PLANET\x27:0x11,\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27:0x12,\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27:0x13,\x27SR_DE_FISH_ANIMATION_SWITCH_CEILING\x27:0x14,\x27SR_DE_FISH_ANIMATION_SWITCH_FLOOR\x27:0x15,\x27SR_DE_PANORAMA_SPHERE\x27:0x16,\x27SR_DE_PANORAMA_PLANET\x27:0x17},_0x343a24=0x0,_0x58bd8b=0x1,_0x532920=0x2,_0x264b64=0x3,_0x2818bf=0x4,_0x3b8155=0x5,_0x3840be=0x6,_0xa01ff6=0x100,_0x392c27=0x1,_0x5ca12e=0x2,_0x378a81=0x3,_0x3be196=0x4,_0x569e7f=0x0,_0x150ab7=0x1,_0x495db0=0x2,_0x394973=0x1,_0x42f4b3=0x2,_0x339c63=0x3,_0x444649=0x0,_0x4f7368=0x1,_0x11cf81=0x1,_0x57ef5a=0x2,_0x46c7b3=0x1,_0x2d33eb=0x2,_0x199c31=0x3,_0x414976=0x4,_0xe529b7=0x5,_0x1f462c=\x27\x5cx0aattribute\x5cx20vec3\x5cx20xy;\x5cx0aattribute\x5cx20vec2\x5cx20uv;\x5cx0auniform\x5cx20int\x5cx20bCapture;\x5cx20\x5cx0a\x5cx0avarying\x5cx20highp\x5cx20vec2\x5cx20v_uv;\x5cx0a\x5cx0avoid\x5cx20main(void)\x5cx20{\x5cx0a\x5cx20\x5cx20if(bCapture\x5cx20==\x5cx201)\x5cx0a\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20gl_Position\x5cx20=\x5cx20vec4(xy.x,\x5cx20-xy.y,\x5cx20xy.z,\x5cx201.0);\x5cx0a\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20else\x5cx0a\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20gl_Position\x5cx20=\x5cx20vec4(xy,\x5cx201.0);\x5cx0a\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20v_uv\x5cx20=\x5cx20uv;\x5cx0a}\x5cx0a\x27,_0x48a033=\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20attribute\x5cx20vec3\x5cx20position;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20attribute\x5cx20vec4\x5cx20\x5cx20\x5cx20color;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20pp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20\x5cx20\x5cx20vec4\x5cx20\x5cx20colorOut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20int\x5cx20bCapture;\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main()\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(bCapture\x5cx20==\x5cx201)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_Position\x5cx20=\x5cx20vec4(position.x,\x5cx20-position.y,\x5cx200.0,\x5cx201.0);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20else\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_Position\x5cx20=\x5cx20vec4(position.x,\x5cx20position.y,\x5cx200.0,\x5cx201.0);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20pp\x5cx20=\x5cx20position.z;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20colorOut\x5cx20=\x5cx20color;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x27,_0x283927=\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20\x5cx20mediump\x5cx20float\x5cx20pp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20\x5cx20lowp\x5cx20vec4\x5cx20\x5cx20colorOut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main()\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20colorOut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20mediump\x5cx20float\x5cx20fx\x5cx20=\x5cx20abs(pp);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if\x5cx20(fx\x5cx20>\x5cx200.2)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor.a\x5cx20=\x5cx20colorOut.a*(1.25\x5cx20-\x5cx201.25*fx);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx20\x5cx0a\x27,_0x2a3c39=\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20attribute\x5cx20vec4\x5cx20position;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20attribute\x5cx20vec4\x5cx20texCoord;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20\x5cx20\x5cx20mat4\x5cx20\x5cx20\x5cx20matRotate;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20vec4\x5cx20pp;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20int\x5cx20bCapture;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main()\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_Position\x5cx20=\x5cx20position;\x5cx20//*\x5cx20matRotate;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(bCapture\x5cx20==\x5cx201)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_Position.y\x5cx20=\x5cx20\x5cx20-position.y;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20pp\x5cx20=\x5cx20texCoord;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx20\x5cx0a\x27,_0x350ff5=\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20precision\x5cx20mediump\x5cx20float;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20sampler2D\x5cx20texture;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20lowp\x5cx20vec4\x5cx20pp;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fAlpha;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main(void)\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20texture2D(texture,\x5cx20pp.st);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor.a\x5cx20*=\x5cx20fAlpha;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx20\x5cx0a\x27,_0x379995=0x20,_0x4b88be=0x400,_0x466865=0.05,_0x4a23c6=0.000001,_0x530a52=3.1415926,_0x49aaae=0.02,_0x26dab3=0x3e8,_0x13b181=0.78539815,_0x40743d=0x28,_0x3cf544=-0x1,_0x44d661=_0x530a52/0x12,_0x5affea=_0x530a52/0x3,_0x438d57=_0x530a52/0x6,_0x2506c4=_0x530a52/0x9,_0x2fd873=0.000001,_0x1d1f9f=\x27undefined\x27!=typeof\x20Float32Array?Float32Array:Array;Math[\x27random\x27],Math[\x27PI\x27],Math[\x27hypot\x27]||(Math[\x27hypot\x27]=function(){for(var\x20_0x1528a6=0x0,_0xb5940b=arguments[\x27length\x27];_0xb5940b--;)_0x1528a6+=arguments[_0xb5940b]*arguments[_0xb5940b];return\x20Math[\x27sqrt\x27](_0x1528a6);});function\x20_0x5d7ee2(){var\x20_0x2c8471=new\x20_0x1d1f9f(0x10);return\x20_0x1d1f9f!=Float32Array&&(_0x2c8471[0x1]=0x0,_0x2c8471[0x2]=0x0,_0x2c8471[0x3]=0x0,_0x2c8471[0x4]=0x0,_0x2c8471[0x6]=0x0,_0x2c8471[0x7]=0x0,_0x2c8471[0x8]=0x0,_0x2c8471[0x9]=0x0,_0x2c8471[0xb]=0x0,_0x2c8471[0xc]=0x0,_0x2c8471[0xd]=0x0,_0x2c8471[0xe]=0x0),_0x2c8471[0x0]=0x1,_0x2c8471[0x5]=0x1,_0x2c8471[0xa]=0x1,_0x2c8471[0xf]=0x1,_0x2c8471;}function\x20_0x5ec25a(_0x3bc3fc,_0x205ca0,_0x1e9eea){var\x20_0x331936=_0x205ca0[0x0],_0x40c3da=_0x205ca0[0x1],_0x37c4cb=_0x205ca0[0x2],_0xa889b6=_0x205ca0[0x3],_0x4c0dbb=_0x205ca0[0x4],_0x52301a=_0x205ca0[0x5],_0x17f559=_0x205ca0[0x6],_0x2c8144=_0x205ca0[0x7],_0x48eb8a=_0x205ca0[0x8],_0x4d2bbd=_0x205ca0[0x9],_0x5a4141=_0x205ca0[0xa],_0x480471=_0x205ca0[0xb],_0x2d955c=_0x205ca0[0xc],_0x5b4064=_0x205ca0[0xd],_0x2f8b5f=_0x205ca0[0xe],_0x227864=_0x205ca0[0xf],_0x5af42b=_0x1e9eea[0x0],_0x2f83a3=_0x1e9eea[0x1],_0x50ee36=_0x1e9eea[0x2],_0xf7a7ad=_0x1e9eea[0x3];return\x20_0x3bc3fc[0x0]=_0x5af42b*_0x331936+_0x2f83a3*_0x4c0dbb+_0x50ee36*_0x48eb8a+_0xf7a7ad*_0x2d955c,_0x3bc3fc[0x1]=_0x5af42b*_0x40c3da+_0x2f83a3*_0x52301a+_0x50ee36*_0x4d2bbd+_0xf7a7ad*_0x5b4064,_0x3bc3fc[0x2]=_0x5af42b*_0x37c4cb+_0x2f83a3*_0x17f559+_0x50ee36*_0x5a4141+_0xf7a7ad*_0x2f8b5f,_0x3bc3fc[0x3]=_0x5af42b*_0xa889b6+_0x2f83a3*_0x2c8144+_0x50ee36*_0x480471+_0xf7a7ad*_0x227864,_0x5af42b=_0x1e9eea[0x4],_0x2f83a3=_0x1e9eea[0x5],_0x50ee36=_0x1e9eea[0x6],_0xf7a7ad=_0x1e9eea[0x7],_0x3bc3fc[0x4]=_0x5af42b*_0x331936+_0x2f83a3*_0x4c0dbb+_0x50ee36*_0x48eb8a+_0xf7a7ad*_0x2d955c,_0x3bc3fc[0x5]=_0x5af42b*_0x40c3da+_0x2f83a3*_0x52301a+_0x50ee36*_0x4d2bbd+_0xf7a7ad*_0x5b4064,_0x3bc3fc[0x6]=_0x5af42b*_0x37c4cb+_0x2f83a3*_0x17f559+_0x50ee36*_0x5a4141+_0xf7a7ad*_0x2f8b5f,_0x3bc3fc[0x7]=_0x5af42b*_0xa889b6+_0x2f83a3*_0x2c8144+_0x50ee36*_0x480471+_0xf7a7ad*_0x227864,_0x5af42b=_0x1e9eea[0x8],_0x2f83a3=_0x1e9eea[0x9],_0x50ee36=_0x1e9eea[0xa],_0xf7a7ad=_0x1e9eea[0xb],_0x3bc3fc[0x8]=_0x5af42b*_0x331936+_0x2f83a3*_0x4c0dbb+_0x50ee36*_0x48eb8a+_0xf7a7ad*_0x2d955c,_0x3bc3fc[0x9]=_0x5af42b*_0x40c3da+_0x2f83a3*_0x52301a+_0x50ee36*_0x4d2bbd+_0xf7a7ad*_0x5b4064,_0x3bc3fc[0xa]=_0x5af42b*_0x37c4cb+_0x2f83a3*_0x17f559+_0x50ee36*_0x5a4141+_0xf7a7ad*_0x2f8b5f,_0x3bc3fc[0xb]=_0x5af42b*_0xa889b6+_0x2f83a3*_0x2c8144+_0x50ee36*_0x480471+_0xf7a7ad*_0x227864,_0x5af42b=_0x1e9eea[0xc],_0x2f83a3=_0x1e9eea[0xd],_0x50ee36=_0x1e9eea[0xe],_0xf7a7ad=_0x1e9eea[0xf],_0x3bc3fc[0xc]=_0x5af42b*_0x331936+_0x2f83a3*_0x4c0dbb+_0x50ee36*_0x48eb8a+_0xf7a7ad*_0x2d955c,_0x3bc3fc[0xd]=_0x5af42b*_0x40c3da+_0x2f83a3*_0x52301a+_0x50ee36*_0x4d2bbd+_0xf7a7ad*_0x5b4064,_0x3bc3fc[0xe]=_0x5af42b*_0x37c4cb+_0x2f83a3*_0x17f559+_0x50ee36*_0x5a4141+_0xf7a7ad*_0x2f8b5f,_0x3bc3fc[0xf]=_0x5af42b*_0xa889b6+_0x2f83a3*_0x2c8144+_0x50ee36*_0x480471+_0xf7a7ad*_0x227864,_0x3bc3fc;}function\x20_0x3405d1(_0xe0081f,_0x1b674b,_0x4ce0fb,_0x151c92){var\x20_0xa104c9,_0x46ae43,_0x26d557,_0x237e66,_0x40ab05,_0x5fd26e,_0x5ae90f,_0x4f396b,_0x5b9f89,_0x1d5853,_0x5beaee,_0xc07032,_0x391691,_0xb7a629,_0x5861cc,_0x3b1ef3,_0x7394b2,_0x2b731b,_0x41f62d,_0x3cc106,_0x3890ac,_0x29cdd9,_0x496a78,_0x197fb4,_0x12c2f9=_0x151c92[0x0],_0x16ab04=_0x151c92[0x1],_0x1fb873=_0x151c92[0x2],_0x4b6fb0=Math[\x27hypot\x27](_0x12c2f9,_0x16ab04,_0x1fb873);return\x20_0x4b6fb0<_0x2fd873?null:(_0x12c2f9*=_0x4b6fb0=0x1/_0x4b6fb0,_0x16ab04*=_0x4b6fb0,_0x1fb873*=_0x4b6fb0,_0xa104c9=Math[\x27sin\x27](_0x4ce0fb),_0x26d557=0x1-(_0x46ae43=Math[\x27cos\x27](_0x4ce0fb)),_0x237e66=_0x1b674b[0x0],_0x40ab05=_0x1b674b[0x1],_0x5fd26e=_0x1b674b[0x2],_0x5ae90f=_0x1b674b[0x3],_0x4f396b=_0x1b674b[0x4],_0x5b9f89=_0x1b674b[0x5],_0x1d5853=_0x1b674b[0x6],_0x5beaee=_0x1b674b[0x7],_0xc07032=_0x1b674b[0x8],_0x391691=_0x1b674b[0x9],_0xb7a629=_0x1b674b[0xa],_0x5861cc=_0x1b674b[0xb],_0x3b1ef3=_0x12c2f9*_0x12c2f9*_0x26d557+_0x46ae43,_0x7394b2=_0x16ab04*_0x12c2f9*_0x26d557+_0x1fb873*_0xa104c9,_0x2b731b=_0x1fb873*_0x12c2f9*_0x26d557-_0x16ab04*_0xa104c9,_0x41f62d=_0x12c2f9*_0x16ab04*_0x26d557-_0x1fb873*_0xa104c9,_0x3cc106=_0x16ab04*_0x16ab04*_0x26d557+_0x46ae43,_0x3890ac=_0x1fb873*_0x16ab04*_0x26d557+_0x12c2f9*_0xa104c9,_0x29cdd9=_0x12c2f9*_0x1fb873*_0x26d557+_0x16ab04*_0xa104c9,_0x496a78=_0x16ab04*_0x1fb873*_0x26d557-_0x12c2f9*_0xa104c9,_0x197fb4=_0x1fb873*_0x1fb873*_0x26d557+_0x46ae43,_0xe0081f[0x0]=_0x237e66*_0x3b1ef3+_0x4f396b*_0x7394b2+_0xc07032*_0x2b731b,_0xe0081f[0x1]=_0x40ab05*_0x3b1ef3+_0x5b9f89*_0x7394b2+_0x391691*_0x2b731b,_0xe0081f[0x2]=_0x5fd26e*_0x3b1ef3+_0x1d5853*_0x7394b2+_0xb7a629*_0x2b731b,_0xe0081f[0x3]=_0x5ae90f*_0x3b1ef3+_0x5beaee*_0x7394b2+_0x5861cc*_0x2b731b,_0xe0081f[0x4]=_0x237e66*_0x41f62d+_0x4f396b*_0x3cc106+_0xc07032*_0x3890ac,_0xe0081f[0x5]=_0x40ab05*_0x41f62d+_0x5b9f89*_0x3cc106+_0x391691*_0x3890ac,_0xe0081f[0x6]=_0x5fd26e*_0x41f62d+_0x1d5853*_0x3cc106+_0xb7a629*_0x3890ac,_0xe0081f[0x7]=_0x5ae90f*_0x41f62d+_0x5beaee*_0x3cc106+_0x5861cc*_0x3890ac,_0xe0081f[0x8]=_0x237e66*_0x29cdd9+_0x4f396b*_0x496a78+_0xc07032*_0x197fb4,_0xe0081f[0x9]=_0x40ab05*_0x29cdd9+_0x5b9f89*_0x496a78+_0x391691*_0x197fb4,_0xe0081f[0xa]=_0x5fd26e*_0x29cdd9+_0x1d5853*_0x496a78+_0xb7a629*_0x197fb4,_0xe0081f[0xb]=_0x5ae90f*_0x29cdd9+_0x5beaee*_0x496a78+_0x5861cc*_0x197fb4,_0x1b674b!==_0xe0081f&&(_0xe0081f[0xc]=_0x1b674b[0xc],_0xe0081f[0xd]=_0x1b674b[0xd],_0xe0081f[0xe]=_0x1b674b[0xe],_0xe0081f[0xf]=_0x1b674b[0xf]),_0xe0081f);}var\x20_0x4ceff8=function(_0x302553,_0xab7b4e,_0x299e09,_0x38ab7f,_0x237322){var\x20_0x3eec8b=0x1/Math[\x27tan\x27](_0xab7b4e/0x2);if(_0x302553[0x0]=_0x3eec8b/_0x299e09,_0x302553[0x1]=0x0,_0x302553[0x2]=0x0,_0x302553[0x3]=0x0,_0x302553[0x4]=0x0,_0x302553[0x5]=_0x3eec8b,_0x302553[0x6]=0x0,_0x302553[0x7]=0x0,_0x302553[0x8]=0x0,_0x302553[0x9]=0x0,_0x302553[0xb]=-0x1,_0x302553[0xc]=0x0,_0x302553[0xd]=0x0,_0x302553[0xf]=0x0,null!=_0x237322&&_0x237322!==0x1/0x0){var\x20_0x2642b3=0x1/(_0x38ab7f-_0x237322);_0x302553[0xa]=(_0x237322+_0x38ab7f)*_0x2642b3,_0x302553[0xe]=0x2*_0x237322*_0x38ab7f*_0x2642b3;}else\x20_0x302553[0xa]=-0x1,_0x302553[0xe]=-0x2*_0x38ab7f;return\x20_0x302553;},_0x504680=function(_0x23342e,_0x5bb1cc,_0x473ea1,_0x29c6e7,_0x5528a9,_0x3833eb,_0x35e8e6){var\x20_0x445103=0x1/(_0x5bb1cc-_0x473ea1),_0x1b3a48=0x1/(_0x29c6e7-_0x5528a9),_0x19b6f6=0x1/(_0x3833eb-_0x35e8e6);return\x20_0x23342e[0x0]=-0x2*_0x445103,_0x23342e[0x1]=0x0,_0x23342e[0x2]=0x0,_0x23342e[0x3]=0x0,_0x23342e[0x4]=0x0,_0x23342e[0x5]=-0x2*_0x1b3a48,_0x23342e[0x6]=0x0,_0x23342e[0x7]=0x0,_0x23342e[0x8]=0x0,_0x23342e[0x9]=0x0,_0x23342e[0xa]=0x2*_0x19b6f6,_0x23342e[0xb]=0x0,_0x23342e[0xc]=(_0x5bb1cc+_0x473ea1)*_0x445103,_0x23342e[0xd]=(_0x5528a9+_0x29c6e7)*_0x1b3a48,_0x23342e[0xe]=(_0x35e8e6+_0x3833eb)*_0x19b6f6,_0x23342e[0xf]=0x1,_0x23342e;};function\x20_0x4d7c69(){var\x20_0x295eb7=new\x20_0x1d1f9f(0x3);return\x20_0x1d1f9f!=Float32Array&&(_0x295eb7[0x0]=0x0,_0x295eb7[0x1]=0x0,_0x295eb7[0x2]=0x0),_0x295eb7;}function\x20_0x21a3b9(_0x558408,_0x34df78,_0x527718){var\x20_0x15b0f4=new\x20_0x1d1f9f(0x3);return\x20_0x15b0f4[0x0]=_0x558408,_0x15b0f4[0x1]=_0x34df78,_0x15b0f4[0x2]=_0x527718,_0x15b0f4;}function\x20_0x1a3314(_0x378744,_0xbd9ba4){return\x20_0x378744[0x0]*_0xbd9ba4[0x0]+_0x378744[0x1]*_0xbd9ba4[0x1]+_0x378744[0x2]*_0xbd9ba4[0x2];}function\x20_0x3d4060(_0x17fee6,_0x4a9566,_0x713dfe){var\x20_0x3fee8d=_0x4a9566[0x0],_0x8cebec=_0x4a9566[0x1],_0x28e065=_0x4a9566[0x2],_0x38339=_0x713dfe[0x0],_0x22f745=_0x713dfe[0x1],_0x5a41a6=_0x713dfe[0x2];return\x20_0x17fee6[0x0]=_0x8cebec*_0x5a41a6-_0x28e065*_0x22f745,_0x17fee6[0x1]=_0x28e065*_0x38339-_0x3fee8d*_0x5a41a6,_0x17fee6[0x2]=_0x3fee8d*_0x22f745-_0x8cebec*_0x38339,_0x17fee6;}var\x20_0x3e3a1f,_0x395623=function(_0x388fd0){var\x20_0x5b9529=_0x388fd0[0x0],_0xd338a0=_0x388fd0[0x1],_0x2aad30=_0x388fd0[0x2];return\x20Math[\x27hypot\x27](_0x5b9529,_0xd338a0,_0x2aad30);};_0x3e3a1f=_0x4d7c69(),!(function(){var\x20_0x582aae,_0x79f026=(_0x582aae=new\x20_0x1d1f9f(0x4),_0x1d1f9f!=Float32Array&&(_0x582aae[0x0]=0x0,_0x582aae[0x1]=0x0,_0x582aae[0x2]=0x0,_0x582aae[0x3]=0x0),_0x582aae);}());function\x20_0x5b294c(){var\x20_0x2c9a14=new\x20_0x1d1f9f(0x4);return\x20_0x1d1f9f!=Float32Array&&(_0x2c9a14[0x0]=0x0,_0x2c9a14[0x1]=0x0,_0x2c9a14[0x2]=0x0),_0x2c9a14[0x3]=0x1,_0x2c9a14;}function\x20_0x600e23(_0x1ab4b1,_0x205eec,_0x3e3ad5,_0x5d3c36){var\x20_0x13db1a,_0x48838a,_0x37104f,_0x20dc1e,_0x32d1b7,_0x11e631=_0x205eec[0x0],_0x41b90d=_0x205eec[0x1],_0x1ba7cf=_0x205eec[0x2],_0x4f337e=_0x205eec[0x3],_0x55bad6=_0x3e3ad5[0x0],_0x5b458b=_0x3e3ad5[0x1],_0x28612f=_0x3e3ad5[0x2],_0x1a2451=_0x3e3ad5[0x3];return(_0x48838a=_0x11e631*_0x55bad6+_0x41b90d*_0x5b458b+_0x1ba7cf*_0x28612f+_0x4f337e*_0x1a2451)<0x0&&(_0x48838a=-_0x48838a,_0x55bad6=-_0x55bad6,_0x5b458b=-_0x5b458b,_0x28612f=-_0x28612f,_0x1a2451=-_0x1a2451),0x1-_0x48838a>_0x2fd873?(_0x13db1a=Math[\x27acos\x27](_0x48838a),_0x37104f=Math[\x27sin\x27](_0x13db1a),_0x20dc1e=Math[\x27sin\x27]((0x1-_0x5d3c36)*_0x13db1a)/_0x37104f,_0x32d1b7=Math[\x27sin\x27](_0x5d3c36*_0x13db1a)/_0x37104f):(_0x20dc1e=0x1-_0x5d3c36,_0x32d1b7=_0x5d3c36),_0x1ab4b1[0x0]=_0x20dc1e*_0x11e631+_0x32d1b7*_0x55bad6,_0x1ab4b1[0x1]=_0x20dc1e*_0x41b90d+_0x32d1b7*_0x5b458b,_0x1ab4b1[0x2]=_0x20dc1e*_0x1ba7cf+_0x32d1b7*_0x28612f,_0x1ab4b1[0x3]=_0x20dc1e*_0x4f337e+_0x32d1b7*_0x1a2451,_0x1ab4b1;}var\x20_0xb87275=function(_0x3b20b1,_0x83271c){var\x20_0x26a808=_0x83271c[0x0],_0x4ed1e4=_0x83271c[0x1],_0x3e9207=_0x83271c[0x2],_0x423be1=_0x83271c[0x3],_0x48404d=_0x26a808*_0x26a808+_0x4ed1e4*_0x4ed1e4+_0x3e9207*_0x3e9207+_0x423be1*_0x423be1;return\x20_0x48404d>0x0&&(_0x48404d=0x1/Math[\x27sqrt\x27](_0x48404d)),_0x3b20b1[0x0]=_0x26a808*_0x48404d,_0x3b20b1[0x1]=_0x4ed1e4*_0x48404d,_0x3b20b1[0x2]=_0x3e9207*_0x48404d,_0x3b20b1[0x3]=_0x423be1*_0x48404d,_0x3b20b1;},_0x45cf39,_0x4265e3,_0x42ab8a,_0x37c073,_0x27f373,_0x464119,_0x1db24d;_0x45cf39=_0x4d7c69(),_0x4265e3=_0x21a3b9(0x1,0x0,0x0),_0x42ab8a=_0x21a3b9(0x0,0x1,0x0),_0x37c073=_0x5b294c(),_0x27f373=_0x5b294c(),_0x464119=new\x20_0x1d1f9f(0x9),_0x1d1f9f!=Float32Array&&(_0x464119[0x1]=0x0,_0x464119[0x2]=0x0,_0x464119[0x3]=0x0,_0x464119[0x5]=0x0,_0x464119[0x6]=0x0,_0x464119[0x7]=0x0),_0x464119[0x0]=0x1,_0x464119[0x4]=0x1,_0x464119[0x8]=0x1,_0x1db24d=_0x464119,!(function(){var\x20_0x5e96d8=(function(){var\x20_0x1f208b=new\x20_0x1d1f9f(0x2);return\x20_0x1d1f9f!=Float32Array&&(_0x1f208b[0x0]=0x0,_0x1f208b[0x1]=0x0),_0x1f208b;}());}());var\x20_0x2e6310,_0x3b657c=(function(){function\x20_0x5ee987(){_0x54580d(this,_0x5ee987),this[\x27fFov\x27]=0.785,this[\x27fAspect\x27]=0x1,this[\x27fNear\x27]=0.02,this[\x27fFar\x27]=0x3e8,this[\x27fTheta\x27]=0x0,this[\x27fAlpha\x27]=0x0,this[\x27fBeta\x27]=0x0,this[\x27fScale\x27]=0x1,this[\x27bOrtho\x27]=!0x1,this[\x27matView\x27]=_0x5d7ee2(),this[\x27matProj\x27]=_0x5d7ee2(),this[\x27vecEye\x27]=_0x21a3b9(0x0,0x0,0x0),this[\x27vecCenter\x27]=_0x21a3b9(0x0,0x0,0x64),this[\x27vecUp\x27]=_0x21a3b9(0x0,0x1,0x0);}return\x20_0x4fd085(_0x5ee987,[{\x27key\x27:\x27SetYaw\x27,\x27value\x27:function(_0x1b1db8){this[\x27fTheta\x27]=_0x1b1db8;}},{\x27key\x27:\x27GetYaw\x27,\x27value\x27:function(){return\x20this[\x27fTheta\x27];}},{\x27key\x27:\x27SetPitch\x27,\x27value\x27:function(_0x23bed8){this[\x27fAlpha\x27]=_0x23bed8;}},{\x27key\x27:\x27GetPitch\x27,\x27value\x27:function(){return\x20this[\x27fAlpha\x27];}},{\x27key\x27:\x27SetRoll\x27,\x27value\x27:function(_0x483c88){this[\x27fBeta\x27]=_0x483c88;}},{\x27key\x27:\x27GetRoll\x27,\x27value\x27:function(){return\x20this[\x27fBeta\x27];}},{\x27key\x27:\x27SetScale\x27,\x27value\x27:function(_0x49b3da){this[\x27fScale\x27]=_0x49b3da;}},{\x27key\x27:\x27GetScale\x27,\x27value\x27:function(){return\x20this[\x27fScale\x27];}},{\x27key\x27:\x27SetFov\x27,\x27value\x27:function(_0x51f792){this[\x27fFov\x27]=_0x51f792;}},{\x27key\x27:\x27SetAspect\x27,\x27value\x27:function(_0x5abf13){this[\x27fAspect\x27]=_0x5abf13;}},{\x27key\x27:\x27SetNear\x27,\x27value\x27:function(_0x54349a){this[\x27fNear\x27]=_0x54349a;}},{\x27key\x27:\x27SetFar\x27,\x27value\x27:function(_0x1e3429){this[\x27fFar\x27]=_0x1e3429;}},{\x27key\x27:\x27SetOrtho\x27,\x27value\x27:function(_0x5f483d){this[\x27bOrtho\x27]=_0x5f483d;}},{\x27key\x27:\x27UpdateCamera\x27,\x27value\x27:function(_0x1bda20,_0x2990c0){if(!(_0x1bda20<=0x0||_0x2990c0<=0x0)){if(0x1==this[\x27bOrtho\x27])_0x504680(this[\x27matProj\x27],0x0,_0x1bda20,_0x2990c0,0x0,this[\x27fNear\x27],this[\x27fFar\x27]);else{var\x20_0x2fa5f4=this[\x27fFov\x27]/_0x530a52*0xb4;_0x4ceff8(this[\x27matProj\x27],_0x2fa5f4,_0x1bda20/_0x2990c0,this[\x27fNear\x27],this[\x27fFar\x27]);}this[\x27vecEye\x27]=_0x21a3b9(0x0,0x0,this[\x27fScale\x27]),this[\x27vecCenter\x27]=_0x21a3b9(0x0,0x0,0x0),this[\x27vecUp\x27]=_0x21a3b9(0x0,0x1,0x0);var\x20_0x5b2a20=_0x21a3b9(0x1,0x0,0x0),_0x2cf9bf=_0x21a3b9(0x0,0x1,0x0),_0x4e957e=_0x21a3b9(0x0,0x0,0x1),_0x48156e=_0x5d7ee2();!function(_0x25ec01,_0x40b862,_0x56ef8c,_0x12ba71){var\x20_0x50ab75,_0x19e466,_0x34f9a4,_0x215482,_0x31dc54,_0x21c876,_0x5e5bc4,_0x5c7e59,_0x573ea3,_0x47e710,_0x5bc565=_0x40b862[0x0],_0x398682=_0x40b862[0x1],_0x2390fd=_0x40b862[0x2],_0x2dc34a=_0x12ba71[0x0],_0x3d1e14=_0x12ba71[0x1],_0x21f20c=_0x12ba71[0x2],_0x9b62d=_0x56ef8c[0x0],_0x420fd0=_0x56ef8c[0x1],_0x3cc1aa=_0x56ef8c[0x2];Math[\x27abs\x27](_0x5bc565-_0x9b62d)<_0x2fd873&&Math[\x27abs\x27](_0x398682-_0x420fd0)<_0x2fd873&&Math[\x27abs\x27](_0x2390fd-_0x3cc1aa)<_0x2fd873?function(_0x26b1cc){_0x26b1cc[0x0]=0x1,_0x26b1cc[0x1]=0x0,_0x26b1cc[0x2]=0x0,_0x26b1cc[0x3]=0x0,_0x26b1cc[0x4]=0x0,_0x26b1cc[0x5]=0x1,_0x26b1cc[0x6]=0x0,_0x26b1cc[0x7]=0x0,_0x26b1cc[0x8]=0x0,_0x26b1cc[0x9]=0x0,_0x26b1cc[0xa]=0x1,_0x26b1cc[0xb]=0x0,_0x26b1cc[0xc]=0x0,_0x26b1cc[0xd]=0x0,_0x26b1cc[0xe]=0x0,_0x26b1cc[0xf]=0x1;}(_0x25ec01):(_0x5e5bc4=_0x5bc565-_0x9b62d,_0x5c7e59=_0x398682-_0x420fd0,_0x573ea3=_0x2390fd-_0x3cc1aa,_0x50ab75=_0x3d1e14*(_0x573ea3*=_0x47e710=0x1/Math[\x27hypot\x27](_0x5e5bc4,_0x5c7e59,_0x573ea3))-_0x21f20c*(_0x5c7e59*=_0x47e710),_0x19e466=_0x21f20c*(_0x5e5bc4*=_0x47e710)-_0x2dc34a*_0x573ea3,_0x34f9a4=_0x2dc34a*_0x5c7e59-_0x3d1e14*_0x5e5bc4,(_0x47e710=Math[\x27hypot\x27](_0x50ab75,_0x19e466,_0x34f9a4))?(_0x50ab75*=_0x47e710=0x1/_0x47e710,_0x19e466*=_0x47e710,_0x34f9a4*=_0x47e710):(_0x50ab75=0x0,_0x19e466=0x0,_0x34f9a4=0x0),_0x215482=_0x5c7e59*_0x34f9a4-_0x573ea3*_0x19e466,_0x31dc54=_0x573ea3*_0x50ab75-_0x5e5bc4*_0x34f9a4,_0x21c876=_0x5e5bc4*_0x19e466-_0x5c7e59*_0x50ab75,(_0x47e710=Math[\x27hypot\x27](_0x215482,_0x31dc54,_0x21c876))?(_0x215482*=_0x47e710=0x1/_0x47e710,_0x31dc54*=_0x47e710,_0x21c876*=_0x47e710):(_0x215482=0x0,_0x31dc54=0x0,_0x21c876=0x0),_0x25ec01[0x0]=_0x50ab75,_0x25ec01[0x1]=_0x215482,_0x25ec01[0x2]=_0x5e5bc4,_0x25ec01[0x3]=0x0,_0x25ec01[0x4]=_0x19e466,_0x25ec01[0x5]=_0x31dc54,_0x25ec01[0x6]=_0x5c7e59,_0x25ec01[0x7]=0x0,_0x25ec01[0x8]=_0x34f9a4,_0x25ec01[0x9]=_0x21c876,_0x25ec01[0xa]=_0x573ea3,_0x25ec01[0xb]=0x0,_0x25ec01[0xc]=-(_0x50ab75*_0x5bc565+_0x19e466*_0x398682+_0x34f9a4*_0x2390fd),_0x25ec01[0xd]=-(_0x215482*_0x5bc565+_0x31dc54*_0x398682+_0x21c876*_0x2390fd),_0x25ec01[0xe]=-(_0x5e5bc4*_0x5bc565+_0x5c7e59*_0x398682+_0x573ea3*_0x2390fd),_0x25ec01[0xf]=0x1);}(_0x48156e,this[\x27vecEye\x27],this[\x27vecCenter\x27],this[\x27vecUp\x27]);var\x20_0x14046d=_0x5d7ee2(),_0x18395f=_0x5d7ee2(),_0x549d74=_0x5d7ee2(),_0x15744a=_0x5d7ee2();_0x3405d1(_0x18395f,_0x14046d,-this[\x27fAlpha\x27],_0x5b2a20),_0x3405d1(_0x549d74,_0x18395f,-this[\x27fTheta\x27],_0x2cf9bf),_0x3405d1(_0x15744a,_0x549d74,-this[\x27fBeta\x27],_0x4e957e),_0x5ec25a(this[\x27matView\x27],_0x48156e,_0x15744a);}}},{\x27key\x27:\x27GetView\x27,\x27value\x27:function(){return\x20this[\x27matView\x27];}},{\x27key\x27:\x27GetProj\x27,\x27value\x27:function(){return\x20this[\x27matProj\x27];}}]),_0x5ee987;}()),_0x453e55=(function(){function\x20_0x2425ba(){_0x54580d(this,_0x2425ba),this[\x27canvas\x27]=null,this[\x27ctx\x27]=null,this[\x27videoShaderProgram\x27]=0x0,this[\x27vertexPosBuffer\x27]=0x0,this[\x27texturePosBuffer\x27]=0x0,this[\x27pFrameData\x27]=null,this[\x27frameDisplayWidth\x27]=0x0,this[\x27frameDisplayHeight\x27]=0x0,this[\x27onlySupportedWebGL1\x27]=!0x1,this[\x27bAntialias\x27]=!0x1,this[\x27bRecreateTex\x27]=!0x0,this[\x27nSurfaceTexture\x27]=[],this[\x27nMaxPointNum\x27]=0x0,this[\x27pLinePosVertices\x27]=null,this[\x27pLineClrVertices\x27]=null,this[\x27glLinePosBuffer\x27]=0x0,this[\x27glLineClrBuffer\x27]=0x0,this[\x27nLineTriangleNum\x27]=0x0,this[\x27nLineShaderProgram\x27]=0x0,this[\x27pFillBlockPosVertices\x27]=null,this[\x27pFillBlockClrVertices\x27]=null,this[\x27nMaxFillBlockTriNum\x27]=0x0,this[\x27glBlockPosBuffer\x27]=0x0,this[\x27glBlockClrBuffer\x27]=0x0,this[\x27nBlockShaderProgram\x27]=0x0,this[\x27nDrawFontWidth\x27]=0x0,this[\x27nDrawFontHeight\x27]=0x0,this[\x27nFontColorTexture\x27]=0x0,this[\x27pFontColorBuffer\x27]=0x0,this[\x27nFontShaderProgram\x27]=0x0,this[\x27nFontBGNum\x27]=0x0,this[\x27pstFontBGLines\x27]=[],this[\x27nImageShaderProgram\x27]=0x0,this[\x27pImagePosVertices\x27]=null,this[\x27pImageClrVertices\x27]=null,this[\x27glImagePosBuffer\x27]=0x0,this[\x27glImageClrBuffer\x27]=0x0,this[\x27nImageColorTexture\x27]=null,this[\x27nDrawImageWidth\x27]=0x0,this[\x27nDrawImageHeight\x27]=0x0,this[\x27nImageColorTextures\x27]=[],this[\x27pFishParamManager\x27]=null,this[\x27enDisplayEffect\x27]=_0x186ff9[\x27SR_DE_NULL\x27],this[\x27nFECPort\x27]=_0x3cf544,this[\x27bIsCapturing\x27]=!0x1,this[\x27pSemiSpherePos\x27]=null,this[\x27pSemiSphereTex\x27]=null,this[\x27nSemiSpherePosNum\x27]=0x0,this[\x27nSemiSpherePosSize\x27]=0x0,this[\x27nSemiSphereTexSize\x27]=0x0,this[\x27pCylinderPos\x27]=null,this[\x27pCylinderTex\x27]=null,this[\x27nCylinderPosNum\x27]=0x0,this[\x27nCylinderPosSize\x27]=0x0,this[\x27nCylinderTexSize\x27]=0x0,this[\x27fCylinderHeight\x27]=0x0,this[\x27fCylinderRadius\x27]=0x0,this[\x27pArcSpherePos\x27]=null,this[\x27pArcSphereTex\x27]=null,this[\x27nArcSpherePosNum\x27]=0x0,this[\x27nArcSpherePosSize\x27]=0x0,this[\x27nArcSphereTexSize\x27]=0x0,this[\x27fImageWidth\x27]=0x1,this[\x27fImageHeight\x27]=0x1,this[\x27fTexCenterX\x27]=0.5,this[\x27fTexCenterY\x27]=0.5,this[\x27fTexRadius\x27]=0.5,this[\x27b3DPort\x27]=!0x1,this[\x27pCamera\x27]=null,this[\x27fRotateX\x27]=0x0,this[\x27fRotateY\x27]=0x0,this[\x27fScale\x27]=0x0,this[\x27fRotateLimitX\x27]=0x0,this[\x27fRotateLimitY\x27]=0x0,this[\x27pfuncCBIn\x27]=null,this[\x27pfuncCBOut\x27]=null,this[\x27pUserIn\x27]=null,this[\x27pUserOut\x27]=null,this[\x27bCullBack\x27]=!0x1,this[\x27fSrcUseLeft\x27]=0x0,this[\x27fSrcUseRight\x27]=0x1,this[\x27fSrcUseTop\x27]=0x0,this[\x27fSrcUseBottom\x27]=0x1,this[\x27fDstUseLeft\x27]=0x0,this[\x27fDstUseRight\x27]=0x1,this[\x27fDstUseTop\x27]=0x0,this[\x27fDstUseBottom\x27]=0x1,this[\x27enPixelFormat\x27]=_0x343a24,this[\x27nTextureNum\x27]=0x0,this[\x27textCanvas\x27]=null,this[\x27textCanvasCtx\x27]=null,this[\x27nCaptureWidth\x27]=0x0,this[\x27nCaptureHeight\x27]=0x0,this[\x27nCaptureRTTex\x27]=0x0,this[\x27nCaptureFBO\x27]=0x0,this[\x27nCaptureFBOWidth\x27]=0x0,this[\x27nCaptureFBOHeight\x27]=0x0,this[\x27nCaptureDepthbuffer\x27]=0x0,this[\x27bCaptureResInit\x27]=!0x1,this[\x27fBrightness\x27]=0x0,this[\x27fHue\x27]=0x0,this[\x27fSaturation\x27]=0x0,this[\x27fContrast\x27]=0x0,this[\x27fSharpness\x27]=0x0,this[\x27nPostProc\x27]=0x0;}return\x20_0x4fd085(_0x2425ba,[{\x27key\x27:\x27CompileProgram\x27,\x27value\x27:function(_0x298713,_0xb12ba2){var\x20_0x593a9b=this[\x27ctx\x27];if(null==_0x593a9b||null==_0x298713||null==_0xb12ba2)return-0x1;var\x20_0x240e10=_0x593a9b[\x27createShader\x27](_0x593a9b[\x27VERTEX_SHADER\x27]);if(_0x593a9b[\x27shaderSource\x27](_0x240e10,_0x298713),_0x593a9b[\x27compileShader\x27](_0x240e10),!_0x593a9b[\x27getShaderParameter\x27](_0x240e10,_0x593a9b[\x27COMPILE_STATUS\x27]))return\x20console[\x27log\x27](\x27Vertex\x5cx20shader\x5cx20failed\x5cx20to\x5cx20compile:\x5cx20\x27+_0x593a9b[\x27getShaderInfoLog\x27](_0x240e10)),-0x1;var\x20_0x4a47df=_0x593a9b[\x27createShader\x27](_0x593a9b[\x27FRAGMENT_SHADER\x27]);if(_0x593a9b[\x27shaderSource\x27](_0x4a47df,_0xb12ba2),_0x593a9b[\x27compileShader\x27](_0x4a47df),!_0x593a9b[\x27getShaderParameter\x27](_0x4a47df,_0x593a9b[\x27COMPILE_STATUS\x27]))return\x20console[\x27log\x27](\x27Fragment\x5cx20shader\x5cx20failed\x5cx20to\x5cx20compile:\x5cx20\x27+_0x593a9b[\x27getShaderInfoLog\x27](_0x4a47df)),-0x1;var\x20_0x213125=_0x593a9b[\x27createProgram\x27]();return\x20_0x593a9b[\x27attachShader\x27](_0x213125,_0x240e10),_0x593a9b[\x27attachShader\x27](_0x213125,_0x4a47df),_0x593a9b[\x27linkProgram\x27](_0x213125),_0x593a9b[\x27getProgramParameter\x27](_0x213125,_0x593a9b[\x27LINK_STATUS\x27])?(_0x593a9b[\x27deleteShader\x27](_0x240e10),_0x593a9b[\x27deleteShader\x27](_0x4a47df),_0x213125):(console[\x27log\x27](\x27Program\x5cx20failed\x5cx20to\x5cx20compile:\x5cx20\x27+_0x593a9b[\x27getProgramInfoLog\x27](_0x213125)),-0x1);}},{\x27key\x27:\x27SR_Init\x27,\x27value\x27:function(_0x446426,_0x117296){if(null==_0x446426)return\x20_0x31ddcf;if(this[\x27canvas\x27]=_0x446426,this[\x27ctx\x27]=this[\x27canvas\x27][\x27getContext\x27](\x27webgl2\x27),this[\x27ctx\x27]||(this[\x27ctx\x27]=this[\x27canvas\x27][\x27getContext\x27](\x27webgl\x27)||this[\x27canvas\x27][\x27getContext\x27](\x27experimental-webgl\x27),this[\x27onlySupportedWebGL1\x27]=!0x0,console[\x27log\x27](\x27only\x5cx20support\x5cx20webgl1\x27)),!this[\x27ctx\x27])return\x20console[\x27log\x27](\x27your\x5cx20browser\x5cx20does\x5cx20not\x5cx20support\x5cx20WebGL\x27),_0x4fea1b;if(_0x117296==_0x532920||_0x117296==_0x3840be)return\x20_0x86aef9;switch(_0x117296){case\x20_0x58bd8b:case\x20_0x264b64:this[\x27nTextureNum\x27]=0x3;break;case\x20_0x532920:case\x20_0x3840be:this[\x27nTextureNum\x27]=0x2;break;case\x20_0xa01ff6:this[\x27nTextureNum\x27]=0x1;break;default:return\x20_0x86aef9;}return\x20this[\x27enPixelFormat\x27]=_0x117296,_0xa87ede;}},{\x27key\x27:\x27SR_Draw\x27,\x27value\x27:function(_0x1eea6a,_0x54c230,_0x533ad6,_0x39828b,_0x130cba){if(null==this[\x27ctx\x27])return\x20_0x520965;var\x20_0x196b60=this[\x27nTextureNum\x27];if(null==_0x1eea6a||_0x54c230<=0x0||_0x533ad6<=0x0)return\x20_0x31ddcf;if(0x0==this[\x27videoShaderProgram\x27]||0x0==this[\x27vertexPosBuffer\x27]||0x0==this[\x27texturePosBuffer\x27])return\x20_0x520965;var\x20_0x570392=_0xa87ede;if(_0xa01ff6==this[\x27enPixelFormat\x27])this[\x27frameDisplayWidth\x27]=_0x54c230,this[\x27frameDisplayHeight\x27]=_0x533ad6;else{if(_0x570392=this[\x27_ResizeFrameData\x27](_0x1eea6a,_0x54c230,_0x533ad6,_0x39828b),_0xa87ede!=_0x570392)return\x20_0x570392;}if(this[\x27ctx\x27][\x27useProgram\x27](this[\x27videoShaderProgram\x27]),0x1==this[\x27bRecreateTex\x27]){if(this[\x27enPixelFormat\x27]==_0xa01ff6){if(0x0!=this[\x27nSurfaceTexture\x27][0x0]){var\x20_0x307c8c=this[\x27nSurfaceTexture\x27][0x0];this[\x27ctx\x27][\x27deleteTexture\x27](_0x307c8c),this[\x27nSurfaceTexture\x27][0x0]=0x0;}var\x20_0xfa0c54=this[\x27ctx\x27][\x27createTexture\x27]();if(_0xfa0c54<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],_0xfa0c54),0x1==this[\x27bAntialias\x27]?this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MIN_FILTER\x27],this[\x27ctx\x27][\x27LINEAR_MIPMAP_NEAREST\x27]):this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MIN_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MAG_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_S\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_T\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),this[\x27nSurfaceTexture\x27][0x0]=_0xfa0c54;}else{if(this[\x27enPixelFormat\x27]==_0x58bd8b||this[\x27enPixelFormat\x27]==_0x264b64)for(var\x20_0x3d8d4b=0x0;_0x3d8d4b<_0x196b60;_0x3d8d4b++){if(0x0!=this[\x27nSurfaceTexture\x27][_0x3d8d4b]){var\x20_0xe89fbf=this[\x27nSurfaceTexture\x27][_0x3d8d4b];this[\x27ctx\x27][\x27deleteTexture\x27](_0xe89fbf),this[\x27nSurfaceTexture\x27][_0x3d8d4b]=0x0;}var\x20_0x44ac7b=this[\x27ctx\x27][\x27createTexture\x27]();if(_0x44ac7b<=0x0)return\x20_0x4d26c0;if(this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],_0x44ac7b),0x1==this[\x27bAntialias\x27]?this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MIN_FILTER\x27],this[\x27ctx\x27][\x27LINEAR_MIPMAP_NEAREST\x27]):this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MIN_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MAG_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_S\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_T\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),0x0==_0x3d8d4b){var\x20_0xef5d37=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27Ytexture\x27);this[\x27ctx\x27][\x27uniform1i\x27](_0xef5d37,0x0);}else{if(0x1==_0x3d8d4b){var\x20_0x5d982f=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27Utexture\x27);this[\x27ctx\x27][\x27uniform1i\x27](_0x5d982f,0x1);}else{if(0x2==_0x3d8d4b){var\x20_0x3ed5dc=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27Vtexture\x27);this[\x27ctx\x27][\x27uniform1i\x27](_0x3ed5dc,0x2);}}}this[\x27nSurfaceTexture\x27][_0x3d8d4b]=_0x44ac7b,this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],null);}}this[\x27bRecreateTex\x27]=!0x1;}this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27vertexPosBuffer\x27]);var\x20_0x1b8d0c=this[\x27ctx\x27][\x27getAttribLocation\x27](this[\x27videoShaderProgram\x27],\x27xy\x27);if(_0x1b8d0c<0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x1b8d0c,0x3,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x1b8d0c),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27texturePosBuffer\x27]);var\x20_0x16bf1a=this[\x27ctx\x27][\x27getAttribLocation\x27](this[\x27videoShaderProgram\x27],\x27uv\x27);if(_0x16bf1a<0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x16bf1a,0x2,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x16bf1a),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null);var\x20_0x2a1b79=this[\x27enDisplayEffect\x27],_0x5377d3=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27bCapture\x27);if(_0x5377d3<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1i\x27](_0x5377d3,0x0);var\x20_0x24e3f9=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27nPostProc\x27);switch(this[\x27ctx\x27][\x27uniform1i\x27](_0x24e3f9,this[\x27nPostProc\x27]),0x1==this[\x27nPostProc\x27]&&(_0x570392=this[\x27_SetImagePostProcess\x27]()),_0x2a1b79){case\x20_0x186ff9[\x27SR_DE_NULL\x27]:break;case\x20_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]:if(null==this[\x27pFishParamManager\x27])return\x20_0x520965;var\x20_0x2bdc46={};if(_0x570392=this[\x27pFishParamManager\x27][\x27GetRenderParam\x27](this[\x27nFECPort\x27],_0x2bdc46),_0xa87ede!=_0x570392)return\x20_0x570392;if(_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27]==_0x2a1b79){var\x20_0x5156fb=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27bBlack\x27);if(_0x5156fb<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1i\x27](_0x5156fb,_0x2bdc46[\x27bBlack\x27]);var\x20_0x314d35=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27bCut\x27);if(_0x314d35<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1i\x27](_0x314d35,_0x2bdc46[\x27bCut\x27]);}if(_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]==_0x2a1b79||_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]==_0x2a1b79||_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]==_0x2a1b79){var\x20_0x124160=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fHAngleCos\x27);if(_0x124160<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x124160,_0x2bdc46[\x27fCosH\x27]);var\x20_0x306b85=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fHAngleSin\x27);if(_0x306b85<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x306b85,_0x2bdc46[\x27fSinH\x27]);var\x20_0x1bc35c=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fVAngleCos\x27);if(_0x1bc35c<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x1bc35c,_0x2bdc46[\x27fCosV\x27]);var\x20_0x4c60dc=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fVAngleSin\x27);if(_0x4c60dc<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x4c60dc,_0x2bdc46[\x27fSinV\x27]);var\x20_0x136f7b=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fZoom\x27);if(_0x136f7b<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x136f7b,_0x2bdc46[\x27fZoom\x27]);}if(_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]==_0x2a1b79||_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]==_0x2a1b79||_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]==_0x2a1b79||_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]==_0x2a1b79){var\x20_0x517882=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fAngle\x27);if(_0x517882<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x517882,_0x2bdc46[\x27fAngle\x27]);}var\x20_0x3d42d7=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fRX1\x27);if(_0x3d42d7<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x3d42d7,_0x2bdc46[\x27fRXLeft\x27]);var\x20_0x5b37ec=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fRX2\x27);if(_0x5b37ec<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x5b37ec,_0x2bdc46[\x27fRXRight\x27]);var\x20_0x407ff2=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fRY1\x27);if(_0x407ff2<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x407ff2,_0x2bdc46[\x27fRYTop\x27]);var\x20_0x1c8e20=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fRY2\x27);if(_0x1c8e20<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x1c8e20,_0x2bdc46[\x27fRYBottom\x27]);break;case\x20_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]:this[\x27pCamera\x27][\x27SetScale\x27](this[\x27fScale\x27]),this[\x27pCamera\x27][\x27SetPitch\x27](3.14-this[\x27fRotateX\x27]),this[\x27pCamera\x27][\x27SetYaw\x27](-this[\x27fRotateY\x27]),this[\x27pCamera\x27][\x27UpdateCamera\x27](this[\x27canvas\x27][\x27width\x27],this[\x27canvas\x27][\x27height\x27]);var\x20_0x489295=this[\x27pCamera\x27][\x27GetView\x27](),_0xac09cc=this[\x27pCamera\x27][\x27GetProj\x27](),_0x5a6fea=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27matView\x27);if(_0x5a6fea<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniformMatrix4fv\x27](_0x5a6fea,!0x1,_0x489295);var\x20_0x37770e=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27matProj\x27);if(_0x37770e<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniformMatrix4fv\x27](_0x37770e,!0x1,_0xac09cc);break;case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]:this[\x27pCamera\x27][\x27SetScale\x27](this[\x27fScale\x27]),this[\x27pCamera\x27][\x27SetPitch\x27](-this[\x27fRotateX\x27]),this[\x27pCamera\x27][\x27SetYaw\x27](-this[\x27fRotateY\x27]),this[\x27pCamera\x27][\x27UpdateCamera\x27](this[\x27canvas\x27][\x27width\x27],this[\x27canvas\x27][\x27height\x27]);var\x20_0x4082e3=this[\x27pCamera\x27][\x27GetView\x27](),_0x24ca6f=this[\x27pCamera\x27][\x27GetProj\x27](),_0x3b3b00=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27matView\x27);if(_0x3b3b00<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniformMatrix4fv\x27](_0x3b3b00,!0x1,_0x4082e3);var\x20_0x87ffb2=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27matProj\x27);if(_0x87ffb2<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniformMatrix4fv\x27](_0x87ffb2,!0x1,_0x24ca6f);break;default:return\x20_0x86aef9;}if(this[\x27canvas\x27][\x27width\x27]<=0x0||this[\x27canvas\x27][\x27height\x27]<=0x0)return\x20_0x4fea1b;if(null!=_0x130cba&&(_0x570392=this[\x27SR_SetDisplayRect\x27](_0x130cba[\x27fx\x27],_0x130cba[\x27fy\x27],_0x130cba[\x27width\x27],_0x130cba[\x27height\x27],_0x206403))!=_0xa87ede)return\x20_0x570392;if(null!=_0x130cba?this[\x27ctx\x27][\x27viewport\x27](this[\x27canvas\x27][\x27width\x27]*this[\x27fDstUseLeft\x27],this[\x27canvas\x27][\x27height\x27]*this[\x27fDstUseTop\x27],this[\x27canvas\x27][\x27width\x27]*this[\x27fDstUseRight\x27],this[\x27canvas\x27][\x27height\x27]*this[\x27fDstUseBottom\x27]):(this[\x27ctx\x27][\x27viewport\x27](0x0,0x0,this[\x27canvas\x27][\x27width\x27],this[\x27canvas\x27][\x27height\x27]),this[\x27ctx\x27][\x27clearColor\x27](0x0,0x0,0x0,0x1),this[\x27ctx\x27][\x27clear\x27](this[\x27ctx\x27][\x27COLOR_BUFFER_BIT\x27]|this[\x27ctx\x27][\x27DEPTH_BUFFER_BIT\x27])),this[\x27b3DPort\x27]&&(this[\x27ctx\x27][\x27enable\x27](this[\x27ctx\x27][\x27DEPTH_TEST\x27]),this[\x27ctx\x27][\x27depthFunc\x27](this[\x27ctx\x27][\x27LESS\x27]),this[\x27ctx\x27][\x27depthMask\x27](!0x0),0x1==this[\x27bCullBack\x27]?this[\x27ctx\x27][\x27enable\x27](this[\x27ctx\x27][\x27CULL_FACE\x27]):this[\x27ctx\x27][\x27disable\x27](this[\x27ctx\x27][\x27CULL_FACE\x27])),this[\x27enPixelFormat\x27]==_0xa01ff6)this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nSurfaceTexture\x27][0x0]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27RGBA\x27],_0x54c230,_0x533ad6,0x0,this[\x27ctx\x27][\x27RGBA\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x1eea6a),0x1==this[\x27bAntialias\x27]&&this[\x27ctx\x27][\x27generateMipmap\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27]);else{if(this[\x27enPixelFormat\x27]==_0x58bd8b){var\x20_0x166fc9=this[\x27pFrameData\x27][\x27subarray\x27](0x0,_0x54c230*_0x533ad6);this[\x27ctx\x27][\x27activeTexture\x27](this[\x27ctx\x27][\x27TEXTURE0\x27]),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nSurfaceTexture\x27][0x0]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],_0x54c230,_0x533ad6,0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x166fc9);var\x20_0x3b1a83=this[\x27pFrameData\x27][\x27subarray\x27](_0x54c230*_0x533ad6+_0x54c230/0x2*_0x533ad6/0x2,_0x54c230*_0x533ad6+_0x54c230/0x2*_0x533ad6/0x2+_0x54c230/0x2*_0x533ad6/0x2);this[\x27ctx\x27][\x27activeTexture\x27](this[\x27ctx\x27][\x27TEXTURE1\x27]),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nSurfaceTexture\x27][0x1]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],_0x54c230/0x2,_0x533ad6/0x2,0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x3b1a83);var\x20_0x402c77=this[\x27pFrameData\x27][\x27subarray\x27](_0x54c230*_0x533ad6,_0x54c230*_0x533ad6+_0x54c230/0x2*_0x533ad6/0x2);this[\x27ctx\x27][\x27activeTexture\x27](this[\x27ctx\x27][\x27TEXTURE2\x27]),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nSurfaceTexture\x27][0x2]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],_0x54c230/0x2,_0x533ad6/0x2,0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x402c77),0x1==this[\x27bAntialias\x27]&&this[\x27ctx\x27][\x27generateMipmap\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27]),_0x166fc9=null,_0x3b1a83=null,_0x402c77=null;}else\x20this[\x27enPixelFormat\x27]==_0x264b64&&(_0x166fc9=this[\x27pFrameData\x27][\x27subarray\x27](0x0,_0x54c230*_0x533ad6),(this[\x27ctx\x27][\x27activeTexture\x27](this[\x27ctx\x27][\x27TEXTURE0\x27]),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nSurfaceTexture\x27][0x0]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],_0x54c230,_0x533ad6,0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x166fc9)),_0x3b1a83=this[\x27pFrameData\x27][\x27subarray\x27](_0x54c230*_0x533ad6,_0x54c230*_0x533ad6+_0x54c230/0x2*_0x533ad6/0x2),(this[\x27ctx\x27][\x27activeTexture\x27](this[\x27ctx\x27][\x27TEXTURE1\x27]),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nSurfaceTexture\x27][0x1]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],_0x54c230/0x2,_0x533ad6/0x2,0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x3b1a83)),_0x402c77=this[\x27pFrameData\x27][\x27subarray\x27](_0x54c230*_0x533ad6+_0x54c230/0x2*_0x533ad6/0x2,_0x54c230*_0x533ad6+_0x54c230/0x2*_0x533ad6/0x2+_0x54c230/0x2*_0x533ad6/0x2),(this[\x27ctx\x27][\x27activeTexture\x27](this[\x27ctx\x27][\x27TEXTURE2\x27]),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nSurfaceTexture\x27][0x2]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],_0x54c230/0x2,_0x533ad6/0x2,0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x402c77),0x1==this[\x27bAntialias\x27]&&this[\x27ctx\x27][\x27generateMipmap\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27]),_0x166fc9=null,_0x3b1a83=null,_0x402c77=null));}if(this[\x27onlySupportedWebGL1\x27]||this[\x27ctx\x27][\x27clearBufferfi\x27](this[\x27ctx\x27][\x27DEPTH_STENCIL\x27],0x0,0x1,0x0),0x0==this[\x27b3DPort\x27])this[\x27ctx\x27][\x27drawArrays\x27](this[\x27ctx\x27][\x27TRIANGLE_FAN\x27],0x0,0x4);else{if(this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]){if(this[\x27nSemiSpherePosNum\x27]<=0x0)return\x20_0x520965;this[\x27ctx\x27][\x27drawArrays\x27](this[\x27ctx\x27][\x27TRIANGLES\x27],0x0,this[\x27nSemiSpherePosNum\x27]);}else{if(this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]||this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]){if(this[\x27nCylinderPosNum\x27]<=0x0)return\x20_0x520965;this[\x27ctx\x27][\x27drawArrays\x27](this[\x27ctx\x27][\x27TRIANGLES\x27],0x0,this[\x27nCylinderPosNum\x27]);}else{if(this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]||this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]){if(this[\x27nArcSpherePosNum\x27]<=0x0)return\x20_0x520965;this[\x27ctx\x27][\x27drawArrays\x27](this[\x27ctx\x27][\x27TRIANGLES\x27],0x0,this[\x27nArcSpherePosNum\x27]);}}}}if(this[\x27ctx\x27][\x27useProgram\x27](null),null!=this[\x27pFishParamManager\x27]){var\x20_0x2c1465=this[\x27pFishParamManager\x27][\x27GetWndPort\x27]();_0x2c1465!=_0x3cf544&&_0x2c1465==this[\x27nFECPort\x27]&&this[\x27DrawPTZLines\x27]();}return\x20null!=this[\x27pfuncCBIn\x27]&&this[\x27pfuncCBIn\x27](this[\x27pUserIn\x27]),null!=this[\x27pfuncCBOut\x27]&&this[\x27pfuncCBOut\x27](this[\x27pUserOut\x27]),_0xa87ede;}},{\x27key\x27:\x27DrawPTZLines\x27,\x27value\x27:function(){if(null==this[\x27pFishParamManager\x27])return\x20_0x520965;var\x20_0xfb6bfe=this[\x27pFishParamManager\x27][\x27GetPTZDisplayMode\x27]();if(_0xfb6bfe==_0x495db0||_0xfb6bfe==_0x150ab7){for(var\x20_0x33b298=0x0,_0x4499b9={\x27fR\x27:0x0,\x27fG\x27:0x0,\x27fB\x27:0x0,\x27fA\x27:0x0},_0x594c33=_0xa87ede,_0x4b01f7=0x0;_0x4b01f7<_0x379995;++_0x4b01f7)if(0x0!=this[\x27pFishParamManager\x27][\x27IsPortAllocated\x27](_0x4b01f7)&&(_0x33b298=0x2,_0x594c33=this[\x27pFishParamManager\x27][\x27GetPTZColor\x27](_0x4b01f7,_0x4499b9),_0xa87ede==_0x594c33)){0x1==this[\x27pFishParamManager\x27][\x27IsPTZSelected\x27](_0x4b01f7)&&(_0x33b298+=0x1);var\x20_0x23fea9=this[\x27pFishParamManager\x27][\x27GetWndPort\x27]();if(_0x4b01f7!=_0x23fea9&&_0x495db0==_0xfb6bfe){if(_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27]==this[\x27pFishParamManager\x27][\x27GetDisplayEffect\x27](_0x23fea9)){var\x20_0x327590={};if(_0x594c33=this[\x27pFishParamManager\x27][\x27GetPTZPoints\x27](_0x4b01f7,_0x327590,_0x495db0),_0xa87ede!=_0x594c33)continue;if(null!=_0x327590[\x27pstPoints\x27]&&0x0!=_0x327590[\x27nPointNum\x27]&&(_0x594c33=this[\x27SR_DrawLines\x27](_0x327590[\x27pstPoints\x27],_0x327590[\x27nPointNum\x27],!0x0,_0x4499b9,_0x33b298,!0x1),_0xa87ede!=_0x594c33))continue;}else{var\x20_0x19796d;if((_0x19796d=this[\x27pFishParamManager\x27][\x27GetPTZFragmentNum\x27](_0x4b01f7))<=0x0)continue;for(var\x20_0x3eeec2=0x0;_0x3eeec2<_0x19796d;_0x3eeec2++){var\x20_0x4ab5d3={};this[\x27pFishParamManager\x27][\x27GetPTZFragmentPoints\x27](_0x4b01f7,_0x4ab5d3,_0x3eeec2),null!=_0x4ab5d3[\x27pstPoints\x27]&&0x0!=_0x4ab5d3[\x27nPointNum\x27]&&this[\x27SR_DrawLines\x27](_0x4ab5d3[\x27pstPoints\x27],_0x4ab5d3[\x27nPointNum\x27],!0x1,_0x4499b9,_0x33b298,!0x1);}}}else{if(_0x4b01f7!=_0x23fea9&&_0x150ab7==_0xfb6bfe){var\x20_0x50bab0={};if(_0x594c33=this[\x27pFishParamManager\x27][\x27GetPTZPoints\x27](_0x4b01f7,_0x50bab0,_0x150ab7),_0xa87ede!=_0x594c33)continue;if(null!=_0x50bab0[\x27pstPoints\x27]&&0x0!=_0x50bab0[\x27nPointNum\x27]&&(_0x594c33=this[\x27SR_DrawLines\x27](_0x50bab0[\x27pstPoints\x27],_0x50bab0[\x27nPointNum\x27],!0x0,_0x4499b9,_0x33b298,!0x1),_0xa87ede!=_0x594c33))continue;}}}}return\x20_0xa87ede;}},{\x27key\x27:\x27DrawFillBlock\x27,\x27value\x27:function(_0x5db47d,_0x17ee38,_0x3a5c7f){if(null==this[\x27ctx\x27])return\x20_0x520965;if(null==_0x5db47d||_0x17ee38<0x1||_0x3a5c7f<0x2)return\x20_0x31ddcf;for(var\x20_0x3175a2=0x0,_0xb41871=0x0;_0xb41871<_0x17ee38;++_0xb41871){if(null==_0x5db47d[_0xb41871][\x27pstPoints\x27]||_0x5db47d[_0xb41871][\x27nPointNum\x27]<0x3||!0x0!==_0x5db47d[_0xb41871][\x27bLoop\x27]||null==_0x5db47d[_0xb41871][\x27pstColor\x27])return\x20_0x31ddcf;_0x3175a2+=_0x5db47d[_0xb41871][\x27nPointNum\x27];}if(_0x3175a2!==_0x3a5c7f)return\x20_0x31ddcf;var\x20_0x55a3ec=_0x3a5c7f-0x2*_0x17ee38;if(_0x55a3ec>this[\x27nMaxFillBlockTriNum\x27]&&(this[\x27pFillBlockPosVertices\x27]=null,this[\x27pFillBlockClrVertices\x27]=null,this[\x27nMaxFillBlockTriNum\x27]=_0x55a3ec),0x0==this[\x27glBlockPosBuffer\x27]&&(this[\x27glBlockPosBuffer\x27]=this[\x27ctx\x27][\x27createBuffer\x27](),0x0==this[\x27glBlockPosBuffer\x27]))return\x20_0x4d26c0;if(0x0==this[\x27glBlockClrBuffer\x27]&&(this[\x27glBlockClrBuffer\x27]=this[\x27ctx\x27][\x27createBuffer\x27](),0x0==this[\x27glBlockClrBuffer\x27]))return\x20_0x4d26c0;if(null==this[\x27pFillBlockPosVertices\x27]){var\x20_0x5a946e=this[\x27nMaxFillBlockTriNum\x27];if(this[\x27pFillBlockPosVertices\x27]=new\x20Float32Array(0x3*_0x5a946e*0x3),null==this[\x27pFillBlockPosVertices\x27])return\x20_0x3d12cf;}if(this[\x27pFillBlockPosVertices\x27][\x27fill\x27](0x0),null==this[\x27pFillBlockClrVertices\x27]){var\x20_0x11b260=this[\x27nMaxFillBlockTriNum\x27];if(this[\x27pFillBlockClrVertices\x27]=new\x20Float32Array(0x4*_0x11b260*0x3),null==this[\x27pFillBlockClrVertices\x27])return\x20_0x3d12cf;}this[\x27pFillBlockClrVertices\x27][\x27fill\x27](0x0);for(var\x20_0x5c54b8=0x0,_0x419f68=0x0,_0x513399=0x0,_0xa7cd13=null,_0x2758c4=null,_0x490836={},_0x5f517a={},_0xabaeff={},_0x5b4ff3=0x0;_0x5b4ff3<_0x17ee38;++_0x5b4ff3){_0x513399=_0x5db47d[_0x5b4ff3][\x27nPointNum\x27],_0xa7cd13=_0x5db47d[_0x5b4ff3][\x27pstPoints\x27],_0x2758c4=_0x5db47d[_0x5b4ff3][\x27pstColor\x27],_0x490836[\x27fX\x27]=(_0xa7cd13[0x0][\x27fX\x27]-this[\x27fSrcUseLeft\x27])/(this[\x27fSrcUseRight\x27]-this[\x27fSrcUseLeft\x27]),_0x490836[\x27fX\x27]=this[\x27fDstUseLeft\x27]+_0x490836[\x27fX\x27]*(this[\x27fDstUseRight\x27]-this[\x27fDstUseLeft\x27]),_0x490836[\x27fX\x27]=0x2*_0x490836[\x27fX\x27]-0x1,_0x490836[\x27fY\x27]=(_0xa7cd13[0x0][\x27fY\x27]-this[\x27fSrcUseTop\x27])/(this[\x27fSrcUseBottom\x27]-this[\x27fSrcUseTop\x27]),_0x490836[\x27fY\x27]=this[\x27fDstUseTop\x27]+_0x490836[\x27fY\x27]*(this[\x27fDstUseBottom\x27]-this[\x27fDstUseTop\x27]),_0x490836[\x27fY\x27]=0x1-0x2*_0x490836[\x27fY\x27];for(var\x20_0x5c8d08=0x1;_0x5c8d08<_0x513399-0x1;_0x5c8d08++)_0x5f517a[\x27fX\x27]=(_0xa7cd13[_0x5c8d08][\x27fX\x27]-this[\x27fSrcUseLeft\x27])/(this[\x27fSrcUseRight\x27]-this[\x27fSrcUseLeft\x27]),_0x5f517a[\x27fX\x27]=this[\x27fDstUseLeft\x27]+_0x5f517a[\x27fX\x27]*(this[\x27fDstUseRight\x27]-this[\x27fDstUseLeft\x27]),_0x5f517a[\x27fX\x27]=0x2*_0x5f517a[\x27fX\x27]-0x1,_0x5f517a[\x27fY\x27]=(_0xa7cd13[_0x5c8d08][\x27fY\x27]-this[\x27fSrcUseTop\x27])/(this[\x27fSrcUseBottom\x27]-this[\x27fSrcUseTop\x27]),_0x5f517a[\x27fY\x27]=this[\x27fDstUseTop\x27]+_0x5f517a[\x27fY\x27]*(this[\x27fDstUseBottom\x27]-this[\x27fDstUseTop\x27]),_0x5f517a[\x27fY\x27]=0x1-0x2*_0x5f517a[\x27fY\x27],_0xabaeff[\x27fX\x27]=(_0xa7cd13[_0x5c8d08+0x1][\x27fX\x27]-this[\x27fSrcUseLeft\x27])/(this[\x27fSrcUseRight\x27]-this[\x27fSrcUseLeft\x27]),_0xabaeff[\x27fX\x27]=this[\x27fDstUseLeft\x27]+_0xabaeff[\x27fX\x27]*(this[\x27fDstUseRight\x27]-this[\x27fDstUseLeft\x27]),_0xabaeff[\x27fX\x27]=0x2*_0xabaeff[\x27fX\x27]-0x1,_0xabaeff[\x27fY\x27]=(_0xa7cd13[_0x5c8d08+0x1][\x27fY\x27]-this[\x27fSrcUseTop\x27])/(this[\x27fSrcUseBottom\x27]-this[\x27fSrcUseTop\x27]),_0xabaeff[\x27fY\x27]=this[\x27fDstUseTop\x27]+_0xabaeff[\x27fY\x27]*(this[\x27fDstUseBottom\x27]-this[\x27fDstUseTop\x27]),_0xabaeff[\x27fY\x27]=0x1-0x2*_0xabaeff[\x27fY\x27],this[\x27pFillBlockPosVertices\x27][_0x5c54b8++]=_0x490836[\x27fX\x27],this[\x27pFillBlockPosVertices\x27][_0x5c54b8++]=_0x490836[\x27fY\x27],this[\x27pFillBlockPosVertices\x27][_0x5c54b8++]=0x0,this[\x27pFillBlockClrVertices\x27][_0x419f68++]=_0x2758c4[\x27fR\x27],this[\x27pFillBlockClrVertices\x27][_0x419f68++]=_0x2758c4[\x27fG\x27],this[\x27pFillBlockClrVertices\x27][_0x419f68++]=_0x2758c4[\x27fB\x27],this[\x27pFillBlockClrVertices\x27][_0x419f68++]=_0x2758c4[\x27fA\x27],this[\x27pFillBlockPosVertices\x27][_0x5c54b8++]=_0x5f517a[\x27fX\x27],this[\x27pFillBlockPosVertices\x27][_0x5c54b8++]=_0x5f517a[\x27fY\x27],this[\x27pFillBlockPosVertices\x27][_0x5c54b8++]=0x0,this[\x27pFillBlockClrVertices\x27][_0x419f68++]=_0x2758c4[\x27fR\x27],this[\x27pFillBlockClrVertices\x27][_0x419f68++]=_0x2758c4[\x27fG\x27],this[\x27pFillBlockClrVertices\x27][_0x419f68++]=_0x2758c4[\x27fB\x27],this[\x27pFillBlockClrVertices\x27][_0x419f68++]=_0x2758c4[\x27fA\x27],this[\x27pFillBlockPosVertices\x27][_0x5c54b8++]=_0xabaeff[\x27fX\x27],this[\x27pFillBlockPosVertices\x27][_0x5c54b8++]=_0xabaeff[\x27fY\x27],this[\x27pFillBlockPosVertices\x27][_0x5c54b8++]=0x0,this[\x27pFillBlockClrVertices\x27][_0x419f68++]=_0x2758c4[\x27fR\x27],this[\x27pFillBlockClrVertices\x27][_0x419f68++]=_0x2758c4[\x27fG\x27],this[\x27pFillBlockClrVertices\x27][_0x419f68++]=_0x2758c4[\x27fB\x27],this[\x27pFillBlockClrVertices\x27][_0x419f68++]=_0x2758c4[\x27fA\x27];}if(0x0==this[\x27nBlockShaderProgram\x27]&&(this[\x27nBlockShaderProgram\x27]=this[\x27CompileProgram\x27](_0x48a033,_0x283927),this[\x27nBlockShaderProgram\x27]<=0x0))return\x20_0x4d26c0;this[\x27ctx\x27][\x27enable\x27](this[\x27ctx\x27][\x27BLEND\x27]),this[\x27ctx\x27][\x27blendFunc\x27](this[\x27ctx\x27][\x27SRC_ALPHA\x27],this[\x27ctx\x27][\x27ONE_MINUS_SRC_ALPHA\x27]),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27glBlockPosBuffer\x27]),this[\x27ctx\x27][\x27bufferData\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27pFillBlockPosVertices\x27],this[\x27ctx\x27][\x27STATIC_DRAW\x27]),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27glBlockClrBuffer\x27]),this[\x27ctx\x27][\x27bufferData\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27pFillBlockClrVertices\x27],this[\x27ctx\x27][\x27STATIC_DRAW\x27]),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null),this[\x27ctx\x27][\x27useProgram\x27](this[\x27nBlockShaderProgram\x27]);var\x20_0x55229f=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27nLineShaderProgram\x27],\x27bCapture\x27);if(_0x55229f<=0x0)return\x20_0x4d26c0;0x1==this[\x27bIsCapturing\x27]?this[\x27ctx\x27][\x27uniform1i\x27](_0x55229f,0x1):this[\x27ctx\x27][\x27uniform1i\x27](_0x55229f,0x0),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27glBlockPosBuffer\x27]);var\x20_0x5d25b6=this[\x27ctx\x27][\x27getAttribLocation\x27](this[\x27nBlockShaderProgram\x27],\x27position\x27);this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x5d25b6),this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x5d25b6,0x3,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27glBlockClrBuffer\x27]);var\x20_0x59f897=this[\x27ctx\x27][\x27getAttribLocation\x27](this[\x27nBlockShaderProgram\x27],\x27color\x27);return\x20this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x59f897),this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x59f897,0x4,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null),this[\x27ctx\x27][\x27drawArrays\x27](this[\x27ctx\x27][\x27TRIANGLES\x27],0x0,0x3*_0x55a3ec),this[\x27ctx\x27][\x27useProgram\x27](null),this[\x27ctx\x27][\x27disable\x27](this[\x27ctx\x27][\x27BLEND\x27]),_0xa87ede;}},{\x27key\x27:\x27ComputeLinePoint\x27,\x27value\x27:function(_0x511066,_0x1d3b6f){if(null==_0x511066||_0x1d3b6f<0x1)return\x20_0x31ddcf;if(null==this[\x27pLinePosVertices\x27]||null==this[\x27pLineClrVertices\x27])return\x20_0x520965;var\x20_0xea88ad=0x0,_0x574a97=0x0;0x1==this[\x27bIsCapturing\x27]?(_0xea88ad=(this[\x27fDstUseRight\x27]-this[\x27fDstUseLeft\x27])*this[\x27nCaptureWidth\x27],_0x574a97=(this[\x27fDstUseBottom\x27]-this[\x27fDstUseTop\x27])*this[\x27nCaptureHeight\x27]):(_0xea88ad=(this[\x27fDstUseRight\x27]-this[\x27fDstUseLeft\x27])*this[\x27canvas\x27][\x27width\x27],_0x574a97=(this[\x27fDstUseBottom\x27]-this[\x27fDstUseTop\x27])*this[\x27canvas\x27][\x27height\x27]);for(var\x20_0x347d33=0x0,_0x2b608b=0x0,_0x47870b=0x0,_0x278ab8=0x0,_0x28d930=0x0,_0x4592f5=0x0,_0x3b9b4c=0x0,_0xd4ce8f=0x0,_0xdb8723=0x0,_0xd5d75a=0x0,_0x3cc192=0x0,_0x59d8e0=0x0;_0x59d8e0<_0x1d3b6f;++_0x59d8e0){var\x20_0x3e11c9=[];if(!((_0x3cc192=_0x511066[_0x59d8e0][\x27nPointNum\x27])<=0x0)){for(var\x20_0x247d88=0x0;_0x247d88<_0x3cc192;++_0x247d88){var\x20_0x3d4d29={};_0x3d4d29[\x27fX\x27]=(_0x511066[_0x59d8e0][\x27pstPoints\x27][_0x247d88][\x27fX\x27]-this[\x27fSrcUseLeft\x27])/(this[\x27fSrcUseRight\x27]-this[\x27fSrcUseLeft\x27]),_0x3d4d29[\x27fX\x27]=this[\x27fDstUseLeft\x27]+_0x3d4d29[\x27fX\x27]*(this[\x27fDstUseRight\x27]-this[\x27fDstUseLeft\x27]),_0x3d4d29[\x27fX\x27]=0x2*_0x3d4d29[\x27fX\x27]-0x1,_0x3d4d29[\x27fY\x27]=(_0x511066[_0x59d8e0][\x27pstPoints\x27][_0x247d88][\x27fY\x27]-this[\x27fSrcUseTop\x27])/(this[\x27fSrcUseBottom\x27]-this[\x27fSrcUseTop\x27]),_0x3d4d29[\x27fY\x27]=this[\x27fDstUseTop\x27]+_0x3d4d29[\x27fY\x27]*(this[\x27fDstUseBottom\x27]-this[\x27fDstUseTop\x27]),_0x3d4d29[\x27fY\x27]=0x1-0x2*_0x3d4d29[\x27fY\x27],_0x3e11c9[\x27push\x27](_0x3d4d29);}if(this[\x27canvas\x27][\x27width\x27]<=0x0||this[\x27canvas\x27][\x27height\x27]<=0x0)return\x20_0x4fea1b;if(_0x4592f5=3.5*_0x511066[_0x59d8e0][\x27nLineWidth\x27]/_0xea88ad,_0x3b9b4c=3.5*_0x511066[_0x59d8e0][\x27nLineWidth\x27]/_0x574a97,_0x4592f5<=0x0||_0x3b9b4c<=0x0)return\x20_0x31ddcf;var\x20_0x419dfa=_0x511066[_0x59d8e0][\x27pstColor\x27];if(null==_0x419dfa||null==_0x419dfa)return\x20_0x31ddcf;for(var\x20_0x2ae122=0x0;_0x2ae122<_0x3cc192-0x1;++_0x2ae122)_0x2b608b=_0x3e11c9[_0x2ae122+0x1][\x27fX\x27]-_0x3e11c9[_0x2ae122][\x27fX\x27],_0x47870b=_0x3e11c9[_0x2ae122+0x1][\x27fY\x27]-_0x3e11c9[_0x2ae122][\x27fY\x27],_0x347d33=Math[\x27sqrt\x27](_0x2b608b*_0x2b608b+_0x47870b*_0x47870b),Math[\x27abs\x27](_0x347d33-0x0)<0.000001||(_0x278ab8=-_0x4592f5*_0x47870b/_0x347d33/0x2,_0x28d930=_0x3b9b4c*_0x2b608b/_0x347d33/0x2,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x2ae122][\x27fX\x27]+_0x278ab8,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x2ae122][\x27fY\x27]+_0x28d930,this[\x27pLinePosVertices\x27][_0xdb8723++]=-0x1,this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fR\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fG\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fB\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fA\x27],this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x2ae122+0x1][\x27fX\x27]-_0x278ab8,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x2ae122+0x1][\x27fY\x27]-_0x28d930,this[\x27pLinePosVertices\x27][_0xdb8723++]=0x1,this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fR\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fG\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fB\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fA\x27],this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x2ae122][\x27fX\x27]-_0x278ab8,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x2ae122][\x27fY\x27]-_0x28d930,this[\x27pLinePosVertices\x27][_0xdb8723++]=0x1,this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fR\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fG\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fB\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fA\x27],this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x2ae122][\x27fX\x27]+_0x278ab8,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x2ae122][\x27fY\x27]+_0x28d930,this[\x27pLinePosVertices\x27][_0xdb8723++]=-0x1,this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fR\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fG\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fB\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fA\x27],this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x2ae122+0x1][\x27fX\x27]+_0x278ab8,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x2ae122+0x1][\x27fY\x27]+_0x28d930,this[\x27pLinePosVertices\x27][_0xdb8723++]=-0x1,this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fR\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fG\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fB\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fA\x27],this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x2ae122+0x1][\x27fX\x27]-_0x278ab8,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x2ae122+0x1][\x27fY\x27]-_0x28d930,this[\x27pLinePosVertices\x27][_0xdb8723++]=0x1,this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fR\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fG\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fB\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fA\x27],_0xd4ce8f+=0x2);0x1==_0x511066[_0x59d8e0][\x27bLoop\x27]&&0x2<_0x3cc192&&(_0x2b608b=_0x3e11c9[_0x3cc192-0x1][\x27fX\x27]-_0x3e11c9[0x0][\x27fX\x27],_0x47870b=_0x3e11c9[_0x3cc192-0x1][\x27fY\x27]-_0x3e11c9[0x0][\x27fY\x27],_0x347d33=Math[\x27sqrt\x27](_0x2b608b*_0x2b608b+_0x47870b*_0x47870b),Math[\x27abs\x27](_0x347d33-0x0)>0.000001&&(_0x278ab8=-_0x4592f5*_0x47870b/_0x347d33/0x2,_0x28d930=_0x3b9b4c*_0x2b608b/_0x347d33/0x2,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[0x0][\x27fX\x27]+_0x278ab8,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[0x0][\x27fY\x27]+_0x28d930,this[\x27pLinePosVertices\x27][_0xdb8723++]=-0x1,this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fR\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fG\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fB\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fA\x27],this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x3cc192-0x1][\x27fX\x27]-_0x278ab8,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x3cc192-0x1][\x27fY\x27]-_0x28d930,this[\x27pLinePosVertices\x27][_0xdb8723++]=0x1,this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fR\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fG\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fB\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fA\x27],this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[0x0][\x27fX\x27]-_0x278ab8,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[0x0][\x27fY\x27]-_0x28d930,this[\x27pLinePosVertices\x27][_0xdb8723++]=0x1,this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fR\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fG\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fB\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fA\x27],this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[0x0][\x27fX\x27]+_0x278ab8,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[0x0][\x27fY\x27]+_0x28d930,this[\x27pLinePosVertices\x27][_0xdb8723++]=-0x1,this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fR\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fG\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fB\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fA\x27],this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x3cc192-0x1][\x27fX\x27]+_0x278ab8,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x3cc192-0x1][\x27fY\x27]+_0x28d930,this[\x27pLinePosVertices\x27][_0xdb8723++]=-0x1,this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fR\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fG\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fB\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fA\x27],this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x3cc192-0x1][\x27fX\x27]-_0x278ab8,this[\x27pLinePosVertices\x27][_0xdb8723++]=_0x3e11c9[_0x3cc192-0x1][\x27fY\x27]-_0x28d930,this[\x27pLinePosVertices\x27][_0xdb8723++]=0x1,this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fR\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fG\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fB\x27],this[\x27pLineClrVertices\x27][_0xd5d75a++]=_0x419dfa[\x27fA\x27],_0xd4ce8f+=0x2));}}return\x200x0==_0xd4ce8f?_0x31ddcf:(this[\x27nLineTriangleNum\x27]=_0xd4ce8f,_0xa87ede);}},{\x27key\x27:\x27SR_DrawLines\x27,\x27value\x27:function(_0xc257fa,_0x5e3a45,_0x5782f2,_0x385965,_0x4f81fe,_0x20842c){var\x20_0x34f8e7=[],_0x36c991={};return\x20_0x36c991[\x27pstPoints\x27]=_0xc257fa,_0x36c991[\x27nPointNum\x27]=_0x5e3a45,_0x36c991[\x27bLoop\x27]=_0x5782f2,_0x36c991[\x27pstColor\x27]=_0x385965,_0x36c991[\x27nLineWidth\x27]=_0x4f81fe,_0x34f8e7[\x27push\x27](_0x36c991),this[\x27SR_DrawLinesEx\x27](_0x34f8e7,0x1,_0x5e3a45,_0x20842c);}},{\x27key\x27:\x27SR_DrawLinesEx\x27,\x27value\x27:function(_0x5a7518,_0x168ef4,_0x387f93,_0x2a560f){if(null==this[\x27ctx\x27])return\x20_0x520965;if(null==_0x5a7518||_0x168ef4<0x1||_0x387f93<0x2)return\x20_0x31ddcf;if(0x0==this[\x27nLineShaderProgram\x27]){var\x20_0x2c6b24=this[\x27CompileProgram\x27](_0x48a033,_0x283927);if(_0x2c6b24<=0x0)return\x20_0x4d26c0;this[\x27nLineShaderProgram\x27]=_0x2c6b24;}if(0x1==_0x2a560f)return\x20this[\x27DrawFillBlock\x27](_0x5a7518,_0x168ef4,_0x387f93);for(var\x20_0x3b9fda=0x0,_0x20df99=0x0;_0x20df99<_0x168ef4;++_0x20df99){if(null==_0x5a7518[_0x20df99][\x27pstPoints\x27]||_0x5a7518[_0x20df99][\x27nPointNum\x27]<=0x1||_0x5a7518[_0x20df99][\x27nPointNum\x27]>=0x400||_0x5a7518[_0x20df99][\x27nLineWidth\x27]<=0x0||null==_0x5a7518[_0x20df99][\x27pstColor\x27])return\x20_0x31ddcf;_0x3b9fda+=_0x5a7518[_0x20df99][\x27nPointNum\x27];}if(_0x3b9fda!=_0x387f93)return\x20_0x31ddcf;if((_0x3b9fda+=_0x168ef4)>this[\x27nMaxPointNum\x27]&&(this[\x27nMaxPointNum\x27]=_0x3b9fda,this[\x27pLinePosVertices\x27]=null,this[\x27pLineClrVertices\x27]=null),null==this[\x27pLinePosVertices\x27]&&(this[\x27pLinePosVertices\x27]=new\x20Float32Array(0x6*this[\x27nMaxPointNum\x27]*0x3),null==this[\x27pLinePosVertices\x27]))return\x20_0x3d12cf;if(this[\x27pLinePosVertices\x27][\x27fill\x27](0x0),null==this[\x27pLineClrVertices\x27]&&(this[\x27pLineClrVertices\x27]=new\x20Float32Array(0x6*this[\x27nMaxPointNum\x27]*0x4),null==this[\x27pLineClrVertices\x27]))return\x20_0x3d12cf;if(this[\x27pLineClrVertices\x27][\x27fill\x27](0x0),0x0==this[\x27glLinePosBuffer\x27]&&(this[\x27glLinePosBuffer\x27]=this[\x27ctx\x27][\x27createBuffer\x27](),0x0==this[\x27glLinePosBuffer\x27]))return\x20_0x4d26c0;if(0x0==this[\x27glLineClrBuffer\x27]&&(this[\x27glLineClrBuffer\x27]=this[\x27ctx\x27][\x27createBuffer\x27](),0x0==this[\x27glLineClrBuffer\x27]))return\x20_0x4d26c0;var\x20_0x2729ac=this[\x27ComputeLinePoint\x27](_0x5a7518,_0x168ef4);if(_0xa87ede!=_0x2729ac)return\x20_0x2729ac;this[\x27ctx\x27][\x27enable\x27](this[\x27ctx\x27][\x27BLEND\x27]),this[\x27ctx\x27][\x27blendFunc\x27](this[\x27ctx\x27][\x27SRC_ALPHA\x27],this[\x27ctx\x27][\x27ONE_MINUS_SRC_ALPHA\x27]);var\x20_0x539ebb=this[\x27nLineShaderProgram\x27];this[\x27ctx\x27][\x27useProgram\x27](_0x539ebb);var\x20_0x45c49a=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27nLineShaderProgram\x27],\x27bCapture\x27);if(_0x45c49a<=0x0)return\x20_0x4d26c0;0x1==this[\x27bIsCapturing\x27]?this[\x27ctx\x27][\x27uniform1i\x27](_0x45c49a,0x1):this[\x27ctx\x27][\x27uniform1i\x27](_0x45c49a,0x0);var\x20_0x3da9fb=this[\x27glLinePosBuffer\x27],_0x53c565=this[\x27glLineClrBuffer\x27],_0x5a1957=this[\x27nLineTriangleNum\x27],_0x3ce2a8=this[\x27pLinePosVertices\x27],_0x20734b=this[\x27pLineClrVertices\x27];this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],_0x3da9fb),this[\x27ctx\x27][\x27bufferData\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],_0x3ce2a8,this[\x27ctx\x27][\x27STATIC_DRAW\x27]);var\x20_0x5a578b=this[\x27ctx\x27][\x27getAttribLocation\x27](_0x539ebb,\x27position\x27);this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x5a578b),this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x5a578b,0x3,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],_0x53c565),this[\x27ctx\x27][\x27bufferData\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],_0x20734b,this[\x27ctx\x27][\x27STATIC_DRAW\x27]);var\x20_0x3afb19=this[\x27ctx\x27][\x27getAttribLocation\x27](_0x539ebb,\x27color\x27);return\x20this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x3afb19),this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x3afb19,0x4,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null),0x1==this[\x27bIsCapturing\x27]?this[\x27ctx\x27][\x27viewport\x27](0x0,0x0,this[\x27nCaptureWidth\x27],this[\x27nCaptureHeight\x27]):this[\x27ctx\x27][\x27viewport\x27](0x0,0x0,this[\x27canvas\x27][\x27width\x27],this[\x27canvas\x27][\x27height\x27]),this[\x27ctx\x27][\x27drawArrays\x27](this[\x27ctx\x27][\x27TRIANGLES\x27],0x0,0x3*_0x5a1957),this[\x27ctx\x27][\x27useProgram\x27](null),this[\x27ctx\x27][\x27disable\x27](this[\x27ctx\x27][\x27BLEND\x27]),_0xa87ede;}},{\x27key\x27:\x27SR_DrawFont\x27,\x27value\x27:function(_0x6eab1a,_0x4143dd,_0x2bbea7,_0x2279ac,_0x152461,_0x2b681e,_0xbd83ec,_0x33f12d,_0x5f236b,_0xf708b7,_0x233741){if(null==_0x6eab1a||null==_0x4143dd||null==_0x2bbea7||_0x2279ac<=0x1||_0x152461<=0x1)return\x20_0x31ddcf;if(0x1==_0x2b681e&&null==_0xbd83ec)return\x20_0x31ddcf;var\x20_0x3b9af0=[],_0x35b6ae={};return\x20_0x35b6ae[\x27bBackground\x27]=_0x2b681e,_0x35b6ae[\x27nFontWidth\x27]=_0x2279ac,_0x35b6ae[\x27nFontHeight\x27]=_0x152461,_0x35b6ae[\x27pstBGColor\x27]=_0xbd83ec,_0x35b6ae[\x27pstFontColor\x27]=_0x2bbea7,_0x35b6ae[\x27pString\x27]=_0x6eab1a,_0x35b6ae[\x27pstStartPos\x27]=_0x4143dd,_0x35b6ae[\x27fRotateAngle\x27]=_0x33f12d,_0x35b6ae[\x27pFontFamily\x27]=_0x5f236b,_0x35b6ae[\x27textAlign\x27]=_0xf708b7,_0x35b6ae[\x27textBaseline\x27]=_0x233741,_0x3b9af0[\x27push\x27](_0x35b6ae),this[\x27SR_DrawFontEx\x27](_0x3b9af0,0x1);}},{\x27key\x27:\x27SR_DrawFontEx\x27,\x27value\x27:function(_0x1ac011,_0x304601){if(null==this[\x27ctx\x27])return\x20_0x520965;if(0x0>_0x304601||null==_0x1ac011)return\x20_0x31ddcf;var\x20_0x1a5d2f,_0x3f4f85,_0x5cc926=0x0,_0x1efaee=0x0;if(0x1==this[\x27bIsCapturing\x27]){if(0x0==this[\x27nCaptureWidth\x27]||0x0==this[\x27nCaptureHeight\x27])return\x20_0x520965;_0x5cc926=Math[\x27round\x27]((this[\x27fDstUseRight\x27]-this[\x27fDstUseLeft\x27])*this[\x27nCaptureWidth\x27]),_0x1efaee=Math[\x27round\x27]((this[\x27fDstUseBottom\x27]-this[\x27fDstUseTop\x27])*this[\x27nCaptureHeight\x27]);}else\x20_0x5cc926=Math[\x27round\x27]((this[\x27fDstUseRight\x27]-this[\x27fDstUseLeft\x27])*this[\x27canvas\x27][\x27width\x27]),_0x1efaee=Math[\x27round\x27]((this[\x27fDstUseBottom\x27]-this[\x27fDstUseTop\x27])*this[\x27canvas\x27][\x27height\x27]);if(_0x5cc926=_0x5cc926+0x4-_0x5cc926%0x4,_0x1efaee=_0x1efaee+0x4-_0x1efaee%0x4,this[\x27nDrawFontWidth\x27]==_0x5cc926&&this[\x27nDrawFontHeight\x27]==_0x1efaee||(this[\x27pFontColorBuffer\x27]=null,this[\x27nFontColorTexture\x27]=0x0,this[\x27nDrawFontWidth\x27]=_0x5cc926,this[\x27nDrawFontHeight\x27]=_0x1efaee,null!=this[\x27textCanvas\x27]&&(this[\x27textCanvas\x27][\x27remove\x27](),this[\x27textCanvas\x27]=null,this[\x27textCanvasCtx\x27]=null)),0x0==this[\x27nFontColorTexture\x27]){if(this[\x27nFontColorTexture\x27]=this[\x27ctx\x27][\x27createTexture\x27](),0x0==this[\x27nFontColorTexture\x27])return\x20_0x4d26c0;this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nFontColorTexture\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MAG_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MIN_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_S\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_T\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]);}if(null==this[\x27textCanvas\x27]){if(this[\x27textCanvas\x27]=document[\x27createElement\x27](\x27canvas\x27),null==this[\x27textCanvas\x27])return\x20_0x13126c;if(this[\x27textCanvasCtx\x27]=this[\x27textCanvas\x27][\x27getContext\x27](\x272d\x27),null==this[\x27textCanvasCtx\x27])return\x20_0x13126c;this[\x27textCanvasCtx\x27][\x27canvas\x27][\x27width\x27]=this[\x27nDrawFontWidth\x27],this[\x27textCanvasCtx\x27][\x27canvas\x27][\x27height\x27]=this[\x27nDrawFontHeight\x27];}this[\x27textCanvasCtx\x27][\x27clearRect\x27](0x0,0x0,this[\x27nDrawFontWidth\x27],this[\x27nDrawFontHeight\x27]);for(var\x20_0x29913c=0x0;_0x29913c<_0x304601;++_0x29913c){var\x20_0x597442=_0x1ac011[_0x29913c][\x27nFontWidth\x27],_0x51713c=_0x1ac011[_0x29913c][\x27nFontHeight\x27];0x1==this[\x27bIsCapturing\x27]&&(_0x597442=Math[\x27round\x27](0.7*this[\x27nCaptureWidth\x27]/this[\x27canvas\x27][\x27width\x27]*_0x597442),_0x51713c=Math[\x27round\x27](0.7*this[\x27nCaptureHeight\x27]/this[\x27canvas\x27][\x27height\x27]*_0x51713c));var\x20_0x20deee=_0x597442<_0x51713c?_0x597442:_0x51713c;this[\x27textCanvasCtx\x27][\x27font\x27]=_0x20deee[\x27toString\x27]()+\x27px\x5cx20\x27+_0x1ac011[_0x29913c][\x27pFontFamily\x27],null==_0x1ac011[_0x29913c][\x27textAlign\x27]||null==_0x1ac011[_0x29913c][\x27textAlign\x27]?this[\x27textCanvasCtx\x27][\x27textAlign\x27]=\x27left\x27:this[\x27textCanvasCtx\x27][\x27textAlign\x27]=_0x1ac011[_0x29913c][\x27textAlign\x27],null==_0x1ac011[_0x29913c][\x27textBaseline\x27]||null==_0x1ac011[_0x29913c][\x27textBaseline\x27]?this[\x27textCanvasCtx\x27][\x27textBaseline\x27]=\x27top\x27:this[\x27textCanvasCtx\x27][\x27textBaseline\x27]=_0x1ac011[_0x29913c][\x27textBaseline\x27];var\x20_0x5823b0=parseInt(0xff*_0x1ac011[_0x29913c][\x27pstFontColor\x27][\x27fR\x27]),_0x6ef32b=parseInt(0xff*_0x1ac011[_0x29913c][\x27pstFontColor\x27][\x27fG\x27]),_0x398c18=parseInt(0xff*_0x1ac011[_0x29913c][\x27pstFontColor\x27][\x27fB\x27]),_0x2437c7=_0x5823b0<0x10?\x270\x27+_0x5823b0[\x27toString\x27](0x10):_0x5823b0[\x27toString\x27](0x10),_0x5becf5=_0x6ef32b<0x10?\x270\x27+_0x6ef32b[\x27toString\x27](0x10):_0x6ef32b[\x27toString\x27](0x10),_0x1ea421=_0x398c18<0x10?\x270\x27+_0x398c18[\x27toString\x27](0x10):_0x398c18[\x27toString\x27](0x10);this[\x27textCanvasCtx\x27][\x27fillStyle\x27]=\x27#\x27+_0x2437c7+_0x5becf5+_0x1ea421,this[\x27textCanvasCtx\x27][\x27globalAlpha\x27]=_0x1ac011[_0x29913c][\x27pstFontColor\x27][\x27fA\x27];var\x20_0x4eff32=_0x1ac011[_0x29913c][\x27pstStartPos\x27][\x27fX\x27]*this[\x27nDrawFontWidth\x27],_0x11c46b=_0x1ac011[_0x29913c][\x27pstStartPos\x27][\x27fY\x27]*this[\x27nDrawFontHeight\x27];this[\x27textCanvasCtx\x27][\x27save\x27](),this[\x27textCanvasCtx\x27][\x27translate\x27](_0x4eff32,_0x11c46b),this[\x27textCanvasCtx\x27][\x27rotate\x27](_0x1ac011[_0x29913c][\x27fRotateAngle\x27]*Math[\x27PI\x27]/0xb4),this[\x27textCanvasCtx\x27][\x27fillText\x27](_0x1ac011[_0x29913c][\x27pString\x27],0x0,0x0),this[\x27textCanvasCtx\x27][\x27restore\x27]();}if(this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nFontColorTexture\x27]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27RGBA\x27],this[\x27ctx\x27][\x27RGBA\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],this[\x27textCanvasCtx\x27][\x27canvas\x27]),0x0==this[\x27nFontShaderProgram\x27]&&(this[\x27nFontShaderProgram\x27]=this[\x27CompileProgram\x27](\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20attribute\x5cx20vec4\x5cx20\x5cx20position;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20attribute\x5cx20vec4\x5cx20\x5cx20texCoord;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20vec4\x5cx20\x5cx20pp;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20int\x5cx20bCapture;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main()\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_Position.x\x5cx20\x5cx20=\x5cx20position.x;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_Position.y\x5cx20\x5cx20=\x5cx20position.y;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(bCapture\x5cx20==\x5cx201)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_Position.y\x5cx20=\x5cx20-position.y;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_Position.z\x5cx20\x5cx20=\x5cx200.1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_Position.w\x5cx20\x5cx20=\x5cx201.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20pp\x5cx20=\x5cx20texCoord;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x27,\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20lowp\x5cx20vec4\x5cx20pp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20sampler2D\x5cx20texture;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main(void)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20texture2D(texture,\x5cx20pp.st);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x27),this[\x27nFontShaderProgram\x27]<=0x0))return\x20_0x4d26c0;0x1==this[\x27bIsCapturing\x27]?(_0x1a5d2f=this[\x27nCaptureWidth\x27]+0x4-this[\x27nCaptureWidth\x27]%0x4,_0x3f4f85=this[\x27nCaptureHeight\x27]+0x4-this[\x27nCaptureHeight\x27]%0x4):(_0x1a5d2f=this[\x27canvas\x27][\x27width\x27]+0x4-this[\x27canvas\x27][\x27width\x27]%0x4,_0x3f4f85=this[\x27canvas\x27][\x27height\x27]+0x4-this[\x27canvas\x27][\x27height\x27]%0x4),this[\x27ctx\x27][\x27viewport\x27](0x0,0x0,_0x1a5d2f,_0x3f4f85),this[\x27ctx\x27][\x27enable\x27](this[\x27ctx\x27][\x27BLEND\x27]),this[\x27ctx\x27][\x27blendFunc\x27](this[\x27ctx\x27][\x27SRC_ALPHA\x27],this[\x27ctx\x27][\x27ONE_MINUS_SRC_ALPHA\x27]),this[\x27ctx\x27][\x27useProgram\x27](this[\x27nFontShaderProgram\x27]);var\x20_0x2103fe=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27nFontShaderProgram\x27],\x27bCapture\x27);if(_0x2103fe<=0x0)return\x20_0x4d26c0;0x1==this[\x27bIsCapturing\x27]?this[\x27ctx\x27][\x27uniform1i\x27](_0x2103fe,0x1):this[\x27ctx\x27][\x27uniform1i\x27](_0x2103fe,0x0),this[\x27ctx\x27][\x27activeTexture\x27](this[\x27ctx\x27][\x27TEXTURE0\x27]),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nFontColorTexture\x27]);var\x20_0x352925=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27nFontShaderProgram\x27],\x27texture\x27);this[\x27ctx\x27][\x27uniform1i\x27](_0x352925,0x0),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27vertexPosBuffer\x27]);var\x20_0x2cf17b=this[\x27ctx\x27][\x27getAttribLocation\x27](this[\x27nFontShaderProgram\x27],\x27position\x27);this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x2cf17b),this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x2cf17b,0x3,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27texturePosBuffer\x27]);var\x20_0x58c4a5=this[\x27ctx\x27][\x27getAttribLocation\x27](this[\x27nFontShaderProgram\x27],\x27texCoord\x27);return\x20this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x58c4a5),this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x58c4a5,0x2,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null),this[\x27ctx\x27][\x27drawArrays\x27](this[\x27ctx\x27][\x27TRIANGLE_FAN\x27],0x0,0x4),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],null),this[\x27ctx\x27][\x27useProgram\x27](null),this[\x27ctx\x27][\x27disable\x27](this[\x27ctx\x27][\x27BLEND\x27]),_0xa87ede;}},{\x27key\x27:\x27SR_DrawImage\x27,\x27value\x27:function(_0x1c393e,_0x3cb83a,_0x19a57a,_0x2b70fe,_0x384884,_0x562e06){if(null==this[\x27ctx\x27])return\x20_0x520965;if(null==_0x1c393e||_0x3cb83a<=0x0||_0x19a57a<=0x0||null==_0x2b70fe||_0x562e06<0x0||_0x562e06>0x1)return\x20_0x31ddcf;if(this[\x27nDrawImageWidth\x27]=_0x3cb83a,this[\x27nDrawImageHeight\x27]=_0x19a57a,0x0==this[\x27glImagePosBuffer\x27]&&(this[\x27glImagePosBuffer\x27]=this[\x27ctx\x27][\x27createBuffer\x27](),0x0==this[\x27glImagePosBuffer\x27]))return\x20_0x4d26c0;if(0x0==this[\x27glImageClrBuffer\x27]&&(this[\x27glImageClrBuffer\x27]=this[\x27ctx\x27][\x27createBuffer\x27](),0x0==this[\x27glImageClrBuffer\x27]))return\x20_0x4d26c0;if(null==this[\x27pImageClrVertices\x27]){if(this[\x27pImageClrVertices\x27]=new\x20Float32Array(0xc),null==this[\x27pImageClrVertices\x27])return\x20_0x3d12cf;this[\x27pImageClrVertices\x27][0x0]=0x0,this[\x27pImageClrVertices\x27][0x1]=0x0,this[\x27pImageClrVertices\x27][0x2]=0x0,this[\x27pImageClrVertices\x27][0x3]=0x1,this[\x27pImageClrVertices\x27][0x4]=0x1,this[\x27pImageClrVertices\x27][0x5]=0x0,this[\x27pImageClrVertices\x27][0x6]=0x1,this[\x27pImageClrVertices\x27][0x7]=0x0,this[\x27pImageClrVertices\x27][0x8]=0x0,this[\x27pImageClrVertices\x27][0x9]=0x1,this[\x27pImageClrVertices\x27][0xa]=0x1,this[\x27pImageClrVertices\x27][0xb]=0x1;}var\x20_0x24a466={},_0x254ae9={};if(_0x24a466[\x27fLeft\x27]=(_0x2b70fe[\x27fLeft\x27]-this[\x27fSrcUseLeft\x27])/(this[\x27fSrcUseRight\x27]-this[\x27fSrcUseLeft\x27]),_0x24a466[\x27fRight\x27]=(_0x2b70fe[\x27fRight\x27]-this[\x27fSrcUseLeft\x27])/(this[\x27fSrcUseRight\x27]-this[\x27fSrcUseLeft\x27]),_0x24a466[\x27fTop\x27]=(_0x2b70fe[\x27fTop\x27]-this[\x27fSrcUseTop\x27])/(this[\x27fSrcUseBottom\x27]-this[\x27fSrcUseTop\x27]),_0x24a466[\x27fBottom\x27]=(_0x2b70fe[\x27fBottom\x27]-this[\x27fSrcUseTop\x27])/(this[\x27fSrcUseBottom\x27]-this[\x27fSrcUseTop\x27]),_0x254ae9[\x27fLeft\x27]=this[\x27fDstUseLeft\x27]+_0x24a466[\x27fLeft\x27]*(this[\x27fDstUseRight\x27]-this[\x27fDstUseLeft\x27]),_0x254ae9[\x27fRight\x27]=this[\x27fDstUseLeft\x27]+_0x24a466[\x27fRight\x27]*(this[\x27fDstUseRight\x27]-this[\x27fDstUseLeft\x27]),_0x254ae9[\x27fTop\x27]=this[\x27fDstUseTop\x27]+_0x24a466[\x27fTop\x27]*(this[\x27fDstUseBottom\x27]-this[\x27fDstUseTop\x27]),_0x254ae9[\x27fBottom\x27]=this[\x27fDstUseTop\x27]+_0x24a466[\x27fBottom\x27]*(this[\x27fDstUseBottom\x27]-this[\x27fDstUseTop\x27]),null==this[\x27pImagePosVertices\x27]&&(this[\x27pImagePosVertices\x27]=new\x20Float32Array(0xc),null==this[\x27pImagePosVertices\x27]))return\x20_0x3d12cf;switch(this[\x27pImagePosVertices\x27][\x27fill\x27](0x0),this[\x27pImagePosVertices\x27][0x0]=0x2*_0x254ae9[\x27fLeft\x27]-0x1,this[\x27pImagePosVertices\x27][0x1]=0x1-0x2*_0x254ae9[\x27fTop\x27],this[\x27pImagePosVertices\x27][0x2]=0x2*_0x254ae9[\x27fLeft\x27]-0x1,this[\x27pImagePosVertices\x27][0x3]=0x1-0x2*_0x254ae9[\x27fBottom\x27],this[\x27pImagePosVertices\x27][0x4]=0x2*_0x254ae9[\x27fRight\x27]-0x1,this[\x27pImagePosVertices\x27][0x5]=0x1-0x2*_0x254ae9[\x27fTop\x27],this[\x27pImagePosVertices\x27][0x6]=0x2*_0x254ae9[\x27fRight\x27]-0x1,this[\x27pImagePosVertices\x27][0x7]=0x1-0x2*_0x254ae9[\x27fTop\x27],this[\x27pImagePosVertices\x27][0x8]=0x2*_0x254ae9[\x27fLeft\x27]-0x1,this[\x27pImagePosVertices\x27][0x9]=0x1-0x2*_0x254ae9[\x27fBottom\x27],this[\x27pImagePosVertices\x27][0xa]=0x2*_0x254ae9[\x27fRight\x27]-0x1,this[\x27pImagePosVertices\x27][0xb]=0x1-0x2*_0x254ae9[\x27fBottom\x27],0x1==this[\x27bIsCapturing\x27]?this[\x27ctx\x27][\x27viewport\x27](0x0,0x0,this[\x27nCaptureWidth\x27],this[\x27nCaptureHeight\x27]):this[\x27ctx\x27][\x27viewport\x27](0x0,0x0,this[\x27canvas\x27][\x27width\x27],this[\x27canvas\x27][\x27height\x27]),this[\x27ctx\x27][\x27enable\x27](this[\x27ctx\x27][\x27BLEND\x27]),this[\x27ctx\x27][\x27blendFunc\x27](this[\x27ctx\x27][\x27SRC_ALPHA\x27],this[\x27ctx\x27][\x27ONE_MINUS_SRC_ALPHA\x27]),_0x384884){case\x20_0x3b8155:if(null==this[\x27nImageColorTexture\x27]){if(this[\x27nImageColorTexture\x27]=this[\x27ctx\x27][\x27createTexture\x27](),0x0==this[\x27nImageColorTexture\x27])return\x20_0x4d26c0;this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nImageColorTexture\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MAG_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MIN_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_S\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_T\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]);}if(this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nImageColorTexture\x27]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27RGBA\x27],this[\x27nDrawImageWidth\x27],this[\x27nDrawImageHeight\x27],0x0,this[\x27ctx\x27][\x27RGBA\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x1c393e),0x0==this[\x27nImageShaderProgram\x27]){var\x20_0x39f044=this[\x27CompileProgram\x27](_0x2a3c39,_0x350ff5);if(_0x39f044<=0x0)return\x20_0x4d26c0;this[\x27nImageShaderProgram\x27]=_0x39f044;}break;case\x20_0x2818bf:if(null==this[\x27nImageColorTexture\x27]){if(this[\x27nImageColorTexture\x27]=this[\x27ctx\x27][\x27createTexture\x27](),0x0==this[\x27nImageColorTexture\x27])return\x20_0x4d26c0;this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nImageColorTexture\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MAG_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MIN_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_S\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_T\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]);}if(this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nImageColorTexture\x27]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27RGB\x27],this[\x27nDrawImageWidth\x27],this[\x27nDrawImageHeight\x27],0x0,this[\x27ctx\x27][\x27RGB\x27],this[\x27ctx\x27][\x27UNSIGNED_SHORT_5_6_5\x27],_0x1c393e),0x0==this[\x27nImageShaderProgram\x27]){var\x20_0x42c057=this[\x27CompileProgram\x27](_0x2a3c39,\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20precision\x5cx20mediump\x5cx20float;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20sampler2D\x5cx20texture;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20lowp\x5cx20vec4\x5cx20pp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fAlpha;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main(void)\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20texture2D(texture,\x5cx20pp.st);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor.a\x5cx20*=\x5cx20fAlpha;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx20\x5cx0a\x27);if(_0x42c057<=0x0)return\x20_0x4d26c0;this[\x27nImageShaderProgram\x27]=_0x42c057;}break;case\x20_0x58bd8b:for(var\x20_0x22b758=0x0;_0x22b758<0x3;_0x22b758++){if(this[\x27nImageColorTextures\x27][_0x22b758]=this[\x27ctx\x27][\x27createTexture\x27](),0x0==this[\x27nImageColorTextures\x27][_0x22b758])return\x20_0x4d26c0;this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nImageColorTextures\x27][_0x22b758]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MAG_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MIN_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_S\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_T\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]);}if(this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nImageColorTextures\x27][0x0]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],this[\x27nDrawImageWidth\x27],this[\x27nDrawImageHeight\x27],0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x1c393e),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nImageColorTextures\x27][0x1]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],this[\x27nDrawImageWidth\x27]/0x2,this[\x27nDrawImageHeight\x27]/0x2,0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x1c393e+this[\x27nDrawImageWidth\x27]*this[\x27nDrawImageHeight\x27]*0x5/0x4),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nImageColorTextures\x27][0x2]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],this[\x27nDrawImageWidth\x27]/0x2,this[\x27nDrawImageHeight\x27]/0x2,0x0,this[\x27ctx\x27][\x27LUMINANCE\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x1c393e+this[\x27nDrawImageWidth\x27]*this[\x27nDrawImageHeight\x27]),0x0==this[\x27nImageShaderProgram\x27]){var\x20_0x826ac7=this[\x27CompileProgram\x27](_0x2a3c39,\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20precision\x5cx20mediump\x5cx20float;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20sampler2D\x5cx20Ytexture;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20sampler2D\x5cx20Utexture;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20sampler2D\x5cx20Vtexture;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fAlpha;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20lowp\x5cx20vec4\x5cx20pp;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main(void)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20r,\x5cx20g,\x5cx20b,\x5cx20y,\x5cx20u,\x5cx20v;\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20y\x5cx20=\x5cx20texture2D(Ytexture,\x5cx20pp.st).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20u\x5cx20=\x5cx20texture2D(Utexture,\x5cx20pp.st).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20v\x5cx20=\x5cx20texture2D(Vtexture,\x5cx20pp.st).r;\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20y\x5cx20=\x5cx201.1643\x5cx20*\x5cx20(y\x5cx20-\x5cx200.0625);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20u\x5cx20=\x5cx20u\x5cx20-\x5cx200.5;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20v\x5cx20=\x5cx20v\x5cx20-\x5cx200.5;\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx20y\x5cx20+\x5cx201.5958\x5cx20*\x5cx20v;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx20y\x5cx20-\x5cx200.39173\x5cx20*\x5cx20u\x5cx20-\x5cx200.81290\x5cx20*\x5cx20v;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx20y\x5cx20+\x5cx202.017\x5cx20*\x5cx20u;\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20vec4(r,\x5cx20g,\x5cx20b,\x5cx20fAlpha);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x27);if(_0x826ac7<=0x0)return\x20_0x4d26c0;this[\x27nImageShaderProgram\x27]=_0x826ac7;}break;case\x20_0xa01ff6:if(null==this[\x27nImageColorTexture\x27]){if(this[\x27nImageColorTexture\x27]=this[\x27ctx\x27][\x27createTexture\x27](),0x0==this[\x27nImageColorTexture\x27])return\x20_0x4d26c0;this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nImageColorTexture\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MAG_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MIN_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_S\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_T\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]);}this[\x27ctx\x27][\x27useProgram\x27](this[\x27videoShaderProgram\x27]),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27vertexPosBuffer\x27]);var\x20_0x23716d=this[\x27ctx\x27][\x27getAttribLocation\x27](this[\x27videoShaderProgram\x27],\x27xy\x27);if(_0x23716d<0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x23716d,0x3,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x23716d),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27texturePosBuffer\x27]);var\x20_0x47a4a9=this[\x27ctx\x27][\x27getAttribLocation\x27](this[\x27videoShaderProgram\x27],\x27uv\x27);if(_0x47a4a9<0x0)return\x20_0x4d26c0;if(this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x47a4a9,0x2,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x47a4a9),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null),this[\x27ctx\x27][\x27useProgram\x27](null),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nImageColorTexture\x27]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27RGBA\x27],this[\x27nDrawImageWidth\x27],this[\x27nDrawImageHeight\x27],0x0,this[\x27ctx\x27][\x27RGBA\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x1c393e),0x0==this[\x27nImageShaderProgram\x27]){var\x20_0x1889b9=this[\x27CompileProgram\x27](_0x2a3c39,_0x350ff5);if(_0x1889b9<=0x0)return\x20_0x4d26c0;this[\x27nImageShaderProgram\x27]=_0x1889b9;}break;default:return\x20_0x86aef9;}var\x20_0x39944f=this[\x27nImageShaderProgram\x27];this[\x27ctx\x27][\x27useProgram\x27](_0x39944f);var\x20_0x35df32=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27nImageShaderProgram\x27],\x27bCapture\x27);if(_0x35df32<=0x0)return\x20_0x4d26c0;0x1==this[\x27bIsCapturing\x27]?this[\x27ctx\x27][\x27uniform1i\x27](_0x35df32,0x1):this[\x27ctx\x27][\x27uniform1i\x27](_0x35df32,0x0),this[\x27ctx\x27][\x27activeTexture\x27](this[\x27ctx\x27][\x27TEXTURE0\x27]),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nImageColorTexture\x27]);var\x20_0x370d63=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27nImageShaderProgram\x27],\x27texture\x27);this[\x27ctx\x27][\x27uniform1i\x27](_0x370d63,0x0),_0x370d63=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27nImageShaderProgram\x27],\x27fAlpha\x27),this[\x27ctx\x27][\x27uniform1f\x27](_0x370d63,_0x562e06),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27glImagePosBuffer\x27]),this[\x27ctx\x27][\x27bufferData\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27pImagePosVertices\x27],this[\x27ctx\x27][\x27STATIC_DRAW\x27]);var\x20_0x3daade=this[\x27ctx\x27][\x27getAttribLocation\x27](this[\x27nImageShaderProgram\x27],\x27position\x27);this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x3daade),this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x3daade,0x2,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27glImageClrBuffer\x27]),this[\x27ctx\x27][\x27bufferData\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27pImageClrVertices\x27],this[\x27ctx\x27][\x27STATIC_DRAW\x27]);var\x20_0x44ee1a=this[\x27ctx\x27][\x27getAttribLocation\x27](this[\x27nImageShaderProgram\x27],\x27texCoord\x27);return\x20this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x44ee1a),this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x44ee1a,0x2,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null),this[\x27ctx\x27][\x27drawArrays\x27](this[\x27ctx\x27][\x27TRIANGLES\x27],0x0,0x6),this[\x27ctx\x27][\x27useProgram\x27](null),this[\x27ctx\x27][\x27disable\x27](this[\x27ctx\x27][\x27BLEND\x27]),_0xa87ede;}},{\x27key\x27:\x27SR_AddSubPort\x27,\x27value\x27:function(_0x1c4dff){var\x20_0x29f273,_0x1303a3,_0x30143d=_0x3cf544;if(null==this[\x27ctx\x27])return\x20_0x30143d;if(null!=this[\x27pFishParamManager\x27]?_0x30143d=this[\x27pFishParamManager\x27][\x27GetFECPort\x27](_0x1c4dff):_0x1c4dff==_0x186ff9[\x27SR_DE_NULL\x27]&&(_0x30143d=0x0),_0x30143d==_0x3cf544)return\x20_0x3cf544;switch(this[\x27nFECPort\x27]=_0x30143d,_0x1c4dff){case\x20_0x186ff9[\x27SR_DE_NULL\x27]:_0x29f273=_0x1f462c,this[\x27enPixelFormat\x27]==_0xa01ff6?_0x1303a3=\x27\x5cx0aprecision\x5cx20mediump\x5cx20float;\x5cx0avarying\x5cx20highp\x5cx20vec2\x5cx20v_uv;\x5cx0auniform\x5cx20sampler2D\x5cx20texture;\x5cx0auniform\x5cx20float\x5cx20fWndWidth;\x5cx0auniform\x5cx20float\x5cx20fWndHeight;\x5cx0auniform\x5cx20float\x5cx20fBrightness;\x5cx0auniform\x5cx20float\x5cx20fHue;\x5cx0auniform\x5cx20float\x5cx20fSaturation;\x5cx0auniform\x5cx20float\x5cx20fContrast;\x5cx0auniform\x5cx20float\x5cx20fSharpness;\x5cx0auniform\x5cx20int\x5cx20nPostProc;\x5cx0avec3\x5cx20rgb2hsv(vec3\x5cx20c)\x5cx20\x5cx0a{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20K\x5cx20=\x5cx20vec4(0.0,\x5cx20-1.0\x5cx20/\x5cx203.0,\x5cx202.0\x5cx20/\x5cx203.0,\x5cx20-1.0);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20p\x5cx20=\x5cx20c.g\x5cx20<\x5cx20c.b\x5cx20?\x5cx20vec4(c.bg,\x5cx20K.wz)\x5cx20:\x5cx20vec4(c.gb,\x5cx20K.xy);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20q\x5cx20=\x5cx20c.r\x5cx20<\x5cx20p.x\x5cx20?\x5cx20vec4(p.xyw,\x5cx20c.r)\x5cx20:\x5cx20vec4(c.r,\x5cx20p.yzx);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20d\x5cx20=\x5cx20q.x\x5cx20-\x5cx20min(q.w,\x5cx20q.y);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20e\x5cx20=\x5cx201.0e-10;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20return\x5cx20vec3(abs(q.z\x5cx20+\x5cx20(q.w\x5cx20-\x5cx20q.y)\x5cx20/\x5cx20(6.0\x5cx20*\x5cx20d\x5cx20+\x5cx20e)),\x5cx20d\x5cx20/\x5cx20(q.x\x5cx20+\x5cx20e),\x5cx20q.x);\x5cx20\x5cx0a}\x5cx20\x5cx0avec3\x5cx20hsv2rgb(vec3\x5cx20c)\x5cx20\x5cx0a{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20K\x5cx20=\x5cx20vec4(1.0,\x5cx202.0\x5cx20/\x5cx203.0,\x5cx201.0\x5cx20/\x5cx203.0,\x5cx203.0);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec3\x5cx20p\x5cx20=\x5cx20abs(fract(c.xxx\x5cx20+\x5cx20K.xyz)\x5cx20*\x5cx206.0\x5cx20-\x5cx20K.www);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20return\x5cx20c.z\x5cx20*\x5cx20mix(K.xxx,\x5cx20clamp(p\x5cx20-\x5cx20K.xxx,\x5cx200.0,\x5cx201.0),\x5cx20c.y);\x5cx20\x5cx0a}\x5cx20\x5cx0avec3\x5cx20sharpen()\x5cx20\x5cx0a{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec3\x5cx20sharpenColor;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20offWidth\x5cx20=\x5cx201.0\x5cx20/\x5cx20fWndWidth;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20offHeight\x5cx20=\x5cx201.0\x5cx20/\x5cx20fWndHeight;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tempSharpness\x5cx20=\x5cx20fSharpness\x5cx20*\x5cx20100.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec2\x5cx20uv\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20=\x5cx20v_uv;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColor\x5cx20\x5cx20=\x5cx20(1.0\x5cx20+\x5cx204.0\x5cx20*\x5cx20tempSharpness)\x5cx20*\x5cx20texture2D(texture,\x5cx20uv).rgb;\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uv\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20=\x5cx20v_uv\x5cx20+\x5cx20vec2(offWidth,\x5cx200);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColor\x5cx20-=\x5cx20tempSharpness\x5cx20*\x5cx20texture2D(texture,\x5cx20uv).rgb;\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uv\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20=\x5cx20v_uv\x5cx20+\x5cx20vec2(-offWidth,\x5cx200);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColor\x5cx20-=\x5cx20tempSharpness\x5cx20*\x5cx20texture2D(texture,\x5cx20uv).rgb;\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uv\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20=\x5cx20v_uv\x5cx20+\x5cx20vec2(0,\x5cx20offHeight);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColor\x5cx20-=\x5cx20tempSharpness\x5cx20*\x5cx20texture2D(texture,\x5cx20uv).rgb;\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uv\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20=\x5cx20v_uv\x5cx20+\x5cx20vec2(0,\x5cx20-offHeight);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColor\x5cx20-=\x5cx20tempSharpness\x5cx20*\x5cx20texture2D(texture,\x5cx20uv).rgb;\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20return\x5cx20sharpenColor;\x5cx20\x5cx0a}\x5cx20\x5cx0avoid\x5cx20main(void)\x5cx20\x5cx0a{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20if(1\x5cx20==\x5cx20nPostProc)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec3\x5cx20fragRGB\x5cx20=\x5cx20sharpen();\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20//sharpen\x5cx20锐度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec3\x5cx20fragHSV\x5cx20=\x5cx20rgb2hsv(fragRGB);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fragHSV.x\x5cx20=\x5cx20fragHSV.x\x5cx20+\x5cx20fHue;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20//hue\x5cx20色度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fragHSV.y\x5cx20=\x5cx20fragHSV.y\x5cx20*\x5cx20(fSaturation\x5cx20+\x5cx201.0);\x5cx20\x5cx20\x5cx20\x5cx20//saturation\x5cx20饱和度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fragRGB\x5cx20=\x5cx20hsv2rgb(fragHSV);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if\x5cx20(fBrightness\x5cx20>\x5cx200.0)\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20//brightness\x5cx20亮度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fragRGB\x5cx20=\x5cx20fragRGB\x5cx20+\x5cx20(1.0\x5cx20-\x5cx20fragRGB)\x5cx20*\x5cx20fBrightness;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20else\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fragRGB\x5cx20=\x5cx20fragRGB\x5cx20+\x5cx20fragRGB\x5cx20*\x5cx20fBrightness;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tempContrast\x5cx20=\x5cx20fContrast\x5cx20>\x5cx200.0\x5cx20?\x5cx20fContrast\x5cx20*\x5cx2010.0\x5cx20:\x5cx20fContrast;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fragRGB\x5cx20=\x5cx20((fragRGB\x5cx20-\x5cx200.5)\x5cx20*\x5cx20max(tempContrast\x5cx20+\x5cx201.0,\x5cx200.0))\x5cx20+\x5cx200.5;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20//contrast\x5cx20对比度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20vec4(fragRGB,\x5cx201.0);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20else\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20texture2D(texture,\x5cx20v_uv);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a}\x5cx0a\x27:this[\x27enPixelFormat\x27]!=_0x58bd8b&&this[\x27enPixelFormat\x27]!=_0x264b64||(_0x1303a3=\x27\x5cx0aprecision\x5cx20mediump\x5cx20float;\x5cx0avarying\x5cx20highp\x5cx20vec2\x5cx20v_uv;\x5cx0auniform\x5cx20sampler2D\x5cx20Ytexture;\x5cx0auniform\x5cx20sampler2D\x5cx20Utexture;\x5cx0auniform\x5cx20sampler2D\x5cx20Vtexture;\x5cx0auniform\x5cx20float\x5cx20fWndWidth;\x5cx0auniform\x5cx20float\x5cx20fWndHeight;\x5cx0auniform\x5cx20float\x5cx20fBrightness;\x5cx0auniform\x5cx20float\x5cx20fHue;\x5cx0auniform\x5cx20float\x5cx20fSaturation;\x5cx0auniform\x5cx20float\x5cx20fContrast;\x5cx0auniform\x5cx20float\x5cx20fSharpness;\x5cx0auniform\x5cx20int\x5cx20nPostProc;\x5cx0avec3\x5cx20rgb;\x5cx0avec3\x5cx20yuv2rgb(float\x5cx20y,\x5cx20float\x5cx20u,\x5cx20float\x5cx20v)\x5cx0a{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20r,g,b;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20y\x5cx20=\x5cx201.1643\x5cx20*\x5cx20(y\x5cx20-\x5cx200.0625);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20u\x5cx20=\x5cx20u\x5cx20-\x5cx200.5;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20v\x5cx20=\x5cx20v\x5cx20-\x5cx200.5;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx20y\x5cx20+\x5cx201.5958\x5cx20*\x5cx20v;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx20y\x5cx20-\x5cx200.39173\x5cx20*\x5cx20u\x5cx20-\x5cx200.81290\x5cx20*\x5cx20v;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx20y\x5cx20+\x5cx202.017\x5cx20*\x5cx20u;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20return\x5cx20vec3(r,\x5cx20g,\x5cx20b);\x5cx0a}\x5cx0avec3\x5cx20rgb2hsv(vec3\x5cx20c)\x5cx20\x5cx0a{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20K\x5cx20=\x5cx20vec4(0.0,\x5cx20-1.0\x5cx20/\x5cx203.0,\x5cx202.0\x5cx20/\x5cx203.0,\x5cx20-1.0);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20p\x5cx20=\x5cx20c.g\x5cx20<\x5cx20c.b\x5cx20?\x5cx20vec4(c.bg,\x5cx20K.wz)\x5cx20:\x5cx20vec4(c.gb,\x5cx20K.xy);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20q\x5cx20=\x5cx20c.r\x5cx20<\x5cx20p.x\x5cx20?\x5cx20vec4(p.xyw,\x5cx20c.r)\x5cx20:\x5cx20vec4(c.r,\x5cx20p.yzx);\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20d\x5cx20=\x5cx20q.x\x5cx20-\x5cx20min(q.w,\x5cx20q.y);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20e\x5cx20=\x5cx201.0e-10;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20return\x5cx20vec3(abs(q.z\x5cx20+\x5cx20(q.w\x5cx20-\x5cx20q.y)\x5cx20/\x5cx20(6.0\x5cx20*\x5cx20d\x5cx20+\x5cx20e)),\x5cx20d\x5cx20/\x5cx20(q.x\x5cx20+\x5cx20e),\x5cx20q.x);\x5cx20\x5cx0a}\x5cx20\x5cx0a\x5cx0avec3\x5cx20hsv2rgb(vec3\x5cx20c)\x5cx20\x5cx0a{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20K\x5cx20=\x5cx20vec4(1.0,\x5cx202.0\x5cx20/\x5cx203.0,\x5cx201.0\x5cx20/\x5cx203.0,\x5cx203.0);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec3\x5cx20p\x5cx20=\x5cx20abs(fract(c.xxx\x5cx20+\x5cx20K.xyz)\x5cx20*\x5cx206.0\x5cx20-\x5cx20K.www);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20return\x5cx20c.z\x5cx20*\x5cx20mix(K.xxx,\x5cx20clamp(p\x5cx20-\x5cx20K.xxx,\x5cx200.0,\x5cx201.0),\x5cx20c.y);\x5cx20\x5cx0a}\x5cx20\x5cx0a\x5cx0avec3\x5cx20sharpen(vec3\x5cx20c)\x5cx20\x5cx0a{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec3\x5cx20sharpenColor;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20sharpenColorY;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20sharpenColorU;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20sharpenColorV;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20offWidth\x5cx20\x5cx20=\x5cx201.0\x5cx20/\x5cx20fWndWidth;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20offHeight\x5cx20=\x5cx201.0\x5cx20/\x5cx20fWndHeight;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tempSharpness\x5cx20=\x5cx20fSharpness\x5cx20*\x5cx20100.0;\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColor\x5cx20=\x5cx20(1.0\x5cx20+\x5cx204.0\x5cx20*\x5cx20tempSharpness)\x5cx20*\x5cx20c;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec2\x5cx20uv\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20=\x5cx20v_uv\x5cx20+\x5cx20vec2(offWidth,\x5cx200);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColorY\x5cx20=\x5cx20texture2D(Ytexture,\x5cx20uv).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColorU\x5cx20=\x5cx20texture2D(Utexture,\x5cx20uv).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColorV\x5cx20=\x5cx20texture2D(Vtexture,\x5cx20uv).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColor\x5cx20-=\x5cx20tempSharpness\x5cx20*\x5cx20\x5cx20yuv2rgb(sharpenColorY,\x5cx20sharpenColorU,\x5cx20sharpenColorV);\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uv\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20=\x5cx20v_uv\x5cx20+\x5cx20vec2(-offWidth,\x5cx200);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColorY\x5cx20=\x5cx20texture2D(Ytexture,\x5cx20uv).r;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColorU\x5cx20=\x5cx20texture2D(Utexture,\x5cx20uv).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColorV\x5cx20=\x5cx20texture2D(Vtexture,\x5cx20uv).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColor\x5cx20-=\x5cx20tempSharpness\x5cx20*\x5cx20\x5cx20yuv2rgb(sharpenColorY,\x5cx20sharpenColorU,\x5cx20sharpenColorV);\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uv\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20=\x5cx20v_uv\x5cx20+\x5cx20vec2(0,\x5cx20offHeight);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColorY\x5cx20=\x5cx20texture2D(Ytexture,\x5cx20uv).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColorU\x5cx20=\x5cx20texture2D(Utexture,\x5cx20uv).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColorV\x5cx20=\x5cx20texture2D(Vtexture,\x5cx20uv).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColor\x5cx20-=\x5cx20tempSharpness\x5cx20*\x5cx20yuv2rgb(sharpenColorY,\x5cx20sharpenColorU,\x5cx20sharpenColorV);\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uv\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20=\x5cx20v_uv\x5cx20+\x5cx20vec2(0,\x5cx20-offHeight);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColorY\x5cx20=\x5cx20texture2D(Ytexture,\x5cx20uv).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColorU\x5cx20=\x5cx20texture2D(Utexture,\x5cx20uv).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColorV\x5cx20=\x5cx20texture2D(Vtexture,\x5cx20uv).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20sharpenColor\x5cx20-=\x5cx20tempSharpness\x5cx20*\x5cx20\x5cx20yuv2rgb(sharpenColorY,\x5cx20sharpenColorU,\x5cx20sharpenColorV);\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20return\x5cx20sharpenColor;\x5cx20\x5cx0a}\x5cx20\x5cx0avoid\x5cx20main(void)\x5cx0a{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20y,\x5cx20u,\x5cx20v;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20y\x5cx20=\x5cx20texture2D(Ytexture,\x5cx20v_uv).r;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20u\x5cx20=\x5cx20texture2D(Utexture,\x5cx20v_uv).r;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20v\x5cx20=\x5cx20texture2D(Vtexture,\x5cx20v_uv).r;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20rgb\x5cx20=\x5cx20yuv2rgb(y,\x5cx20u,\x5cx20v);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20if(1\x5cx20==\x5cx20nPostProc)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec3\x5cx20fragRGB\x5cx20=\x5cx20sharpen(rgb);\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20//sharpen\x5cx20锐度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec3\x5cx20fragHSV\x5cx20=\x5cx20rgb2hsv(fragRGB);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fragHSV.x\x5cx20=\x5cx20fragHSV.x\x5cx20+\x5cx20fHue;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20//hue\x5cx20色度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fragHSV.y\x5cx20=\x5cx20fragHSV.y\x5cx20*\x5cx20(fSaturation\x5cx20+\x5cx201.0);\x5cx20\x5cx20\x5cx20\x5cx20//saturation\x5cx20饱和度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fragRGB\x5cx20=\x5cx20hsv2rgb(fragHSV);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if\x5cx20(fBrightness\x5cx20>\x5cx200.0)\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20//brightness\x5cx20亮度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fragRGB\x5cx20=\x5cx20fragRGB\x5cx20+\x5cx20(1.0\x5cx20-\x5cx20fragRGB)\x5cx20*\x5cx20fBrightness;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20else\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fragRGB\x5cx20=\x5cx20fragRGB\x5cx20+\x5cx20fragRGB\x5cx20*\x5cx20fBrightness;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tempContrast\x5cx20=\x5cx20fContrast\x5cx20>\x5cx200.0\x5cx20?\x5cx20fContrast\x5cx20*\x5cx2010.0\x5cx20:\x5cx20fContrast;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fragRGB\x5cx20=\x5cx20((fragRGB\x5cx20-\x5cx200.5)\x5cx20*\x5cx20max(tempContrast\x5cx20+\x5cx201.0,\x5cx200.0))\x5cx20+\x5cx200.5;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20//contrast\x5cx20对比度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20vec4(fragRGB,\x5cx201.0);\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20else\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20vec4(rgb,\x5cx201.0);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a}\x5cx0a\x27),this[\x27b3DPort\x27]=!0x1;break;case\x20_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27]:_0x29f273=_0x1f462c,_0x1303a3=\x27\x5cx0aprecision\x5cx20mediump\x5cx20float;\x5cx0avarying\x5cx20vec2\x5cx20v_uv;\x5cx0auniform\x5cx20sampler2D\x5cx20texture;\x5cx0auniform\x5cx20float\x5cx20fRX1;\x5cx0auniform\x5cx20float\x5cx20fRX2;\x5cx0auniform\x5cx20float\x5cx20fRY1;\x5cx0auniform\x5cx20float\x5cx20fRY2;\x5cx0auniform\x5cx20int\x5cx20bBlack;\x5cx20\x5cx0auniform\x5cx20int\x5cx20bCut;\x5cx0a\x5cx0avoid\x5cx20main()\x5cx0a{\x5cx20\x5cx0a\x5cx09float\x5cx20r,g,b;\x5cx0a\x5cx09vec4\x5cx20origin;\x5cx0a\x5cx0a\x5cx09float\x5cx20\x5cx20w;\x5cx0a\x5cx09float\x5cx20\x5cx20h;\x5cx0a\x5cx09float\x5cx20\x5cx20fCenterX;\x5cx0a\x5cx09float\x5cx20\x5cx20fCenterY;\x5cx0a\x5cx09float\x5cx20\x5cx20fRadius;\x5cx0a\x5cx09w\x5cx20=\x5cx201.0;\x5cx0a\x5cx09h\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx20(fRY2\x5cx20-\x5cx20fRY1);\x5cx0a\x5cx09fCenterX\x5cx20=\x5cx20(fRX1\x5cx20+\x5cx20fRX2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20///<圆心实际坐标\x5cx0a\x5cx09fCenterY\x5cx20=\x5cx20(fRY1\x5cx20+\x5cx20fRY2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20h;\x5cx0a\x5cx09fRadius\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20///<半径实际长度\x5cx0a\x5cx09float\x5cx20\x5cx20leftCut\x5cx20=\x5cx200.0;\x5cx0a\x5cx09float\x5cx20\x5cx20rightCut\x5cx20=\x5cx201.0;\x5cx0a\x5cx09float\x5cx20\x5cx20topCut\x5cx20=\x5cx200.0;\x5cx0a\x5cx09float\x5cx20\x5cx20bottomCut\x5cx20=\x5cx201.0;\x5cx0a\x5cx09if(bCut\x5cx20==\x5cx201)\x5cx0a\x5cx09{\x5cx0a\x5cx09\x5cx09if(fRX1\x5cx20>\x5cx200.0)\x5cx0a\x5cx09\x5cx09{\x5cx0a\x5cx09\x5cx09\x5cx09leftCut\x5cx20=\x5cx20fRX1;\x5cx0a\x5cx09\x5cx09}\x5cx0a\x5cx09\x5cx09if(fRX2\x5cx20<\x5cx201.0)\x5cx0a\x5cx09\x5cx09{\x5cx0a\x5cx09\x5cx09\x5cx09rightCut\x5cx20=\x5cx20fRX2;\x5cx0a\x5cx09\x5cx09}\x5cx0a\x5cx09\x5cx09if(fRY1\x5cx20>\x5cx200.0)\x5cx0a\x5cx09\x5cx09{\x5cx0a\x5cx09\x5cx09\x5cx09topCut\x5cx20=\x5cx20fRY1;\x5cx0a\x5cx09\x5cx09}\x5cx0a\x5cx09\x5cx09if(fRY2\x5cx20<\x5cx201.0)\x5cx0a\x5cx09\x5cx09{\x5cx0a\x5cx09\x5cx09\x5cx09bottomCut\x5cx20=\x5cx20fRY2;\x5cx0a\x5cx09\x5cx09}\x5cx0a\x5cx09}\x5cx0a\x5cx09origin.s\x5cx20=\x5cx20v_uv.s\x5cx20*\x5cx20(rightCut-leftCut)\x5cx20+\x5cx20leftCut;\x5cx0a\x5cx09origin.t\x5cx20=\x5cx20v_uv.t\x5cx20*\x5cx20(bottomCut-topCut)\x5cx20+\x5cx20topCut;\x5cx0a\x5cx0a\x5cx09r\x5cx20=\x5cx20texture2D(texture,\x5cx20origin.st).r;\x5cx20\x5cx0a\x5cx09g\x5cx20=\x5cx20texture2D(texture,\x5cx20origin.st).g;\x5cx20\x5cx0a\x5cx09b\x5cx20=\x5cx20texture2D(texture,\x5cx20origin.st).b;\x5cx20\x5cx0a\x5cx0a\x5cx09if(bBlack\x5cx20==\x5cx201)\x5cx0a\x5cx09{\x5cx0a\x5cx09\x5cx09float\x5cx20tmpX,\x5cx20tmpY;\x5cx0a\x5cx09\x5cx09tmpX\x5cx20=\x5cx20origin.s\x5cx20*\x5cx20w;\x5cx20\x5cx0a\x5cx09\x5cx09tmpY\x5cx20=\x5cx20origin.t\x5cx20*\x5cx20h;\x5cx20\x5cx0a\x5cx09\x5cx09float\x5cx20d2\x5cx20=\x5cx20(tmpX-fCenterX)*(tmpX-fCenterX)\x5cx20+\x5cx20(tmpY-fCenterY)*(tmpY-fCenterY);\x5cx0a\x5cx09\x5cx09if(d2\x5cx20>\x5cx20fRadius*fRadius)\x5cx0a\x5cx09\x5cx09{\x5cx0a\x5cx09\x5cx09\x5cx09r\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx09\x5cx09\x5cx09g\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx09\x5cx09\x5cx09b\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx09\x5cx09}\x5cx0a\x5cx09}\x5cx0a\x5cx0a\x5cx09gl_FragColor\x5cx20=\x5cx20vec4(r\x5cx20,g\x5cx20,b\x5cx20,\x5cx201.0);\x5cx0a}\x5cx0a\x27,this[\x27b3DPort\x27]=!0x1;break;case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]:_0x29f273=_0x1f462c,_0x1303a3=\x27\x5cx0aprecision\x5cx20mediump\x5cx20float;\x5cx0avarying\x5cx20vec2\x5cx20v_uv;\x5cx0auniform\x5cx20sampler2D\x5cx20texture;\x5cx0auniform\x5cx20float\x5cx20fHAngleCos;\x5cx0auniform\x5cx20float\x5cx20fHAngleSin;\x5cx0auniform\x5cx20float\x5cx20fVAngleCos;\x5cx0auniform\x5cx20float\x5cx20fVAngleSin;\x5cx0auniform\x5cx20float\x5cx20fZoom;\x5cx0a\x5cx0auniform\x5cx20float\x5cx20fRX1;\x5cx20\x5cx0auniform\x5cx20float\x5cx20fRX2;\x5cx20\x5cx0auniform\x5cx20float\x5cx20fRY1;\x5cx20\x5cx0auniform\x5cx20float\x5cx20fRY2;\x5cx20\x5cx0a\x5cx0avoid\x5cx20main()\x5cx0a{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20r,g,b;\x5cx20\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20origin1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20origin2;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20result;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20z1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20z2;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20dnew;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterX;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterY;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fRadius;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20w\x5cx20=\x5cx201.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20h\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx20(fRY2\x5cx20-\x5cx20fRY1);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20fCenterX\x5cx20=\x5cx20(fRX1\x5cx20+\x5cx20fRX2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20fCenterY\x5cx20=\x5cx20(fRY1\x5cx20+\x5cx20fRY2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20fRadius\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin1.s\x5cx20=\x5cx20v_uv.s\x5cx20-\x5cx200.5;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin1.t\x5cx20=\x5cx200.5\x5cx20-\x5cx20v_uv.t;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20z1\x5cx20=\x5cx20fZoom\x5cx20;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin2.s\x5cx20=\x5cx20origin1.s\x5cx20;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin2.t\x5cx20=\x5cx20(origin1.t*fVAngleCos\x5cx20+\x5cx20z1*fVAngleSin);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20z2\x5cx20=\x5cx20z1*fVAngleCos\x5cx20-\x5cx20origin1.t*fVAngleSin;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20dnew\x5cx20=\x5cx20sqrt(origin2.s*origin2.s\x5cx20+\x5cx20origin2.t*origin2.t)\x5cx20;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20d\x5cx20=\x5cx20sqrt(origin2.s*origin2.s\x5cx20+\x5cx20origin2.t*origin2.t\x5cx20+\x5cx20z2*z2);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20theta\x5cx20=\x5cx20asin(dnew/d);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmp\x5cx20=\x5cx20theta\x5cx20/\x5cx201.5707963\x5cx20*\x5cx200.5;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin2.s\x5cx20=\x5cx20tmp*origin2.s\x5cx20/\x5cx20dnew\x5cx20;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin2.t\x5cx20=\x5cx20tmp*origin2.t\x5cx20/\x5cx20dnew\x5cx20;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20result.s\x5cx20=\x5cx20((origin2.s*fHAngleCos\x5cx20-\x5cx20origin2.t*fHAngleSin)*fRadius*2.0+fCenterX)/w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20result.t\x5cx20=\x5cx20(-(origin2.s*fHAngleSin\x5cx20+\x5cx20origin2.t*fHAngleCos)*fRadius*2.0+fCenterY)/h;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).g;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).b;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20if(result.s\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.t\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.s\x5cx20<\x5cx200.0\x5cx20||\x5cx20result.t\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20vec4(r\x5cx20,g\x5cx20,b\x5cx20,\x5cx201.0);\x5cx0a}\x5cx20\x5cx0a\x27,this[\x27b3DPort\x27]=!0x1;break;case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]:_0x29f273=_0x1f462c,_0x1303a3=\x27\x5cx0aprecision\x5cx20mediump\x5cx20float;\x5cx0avarying\x5cx20vec2\x5cx20v_uv;\x5cx0auniform\x5cx20sampler2D\x5cx20texture;\x5cx20\x5cx20\x5cx0auniform\x5cx20float\x5cx20fHAngleCos;\x5cx20\x5cx20\x5cx0auniform\x5cx20float\x5cx20fHAngleSin;\x5cx20\x5cx0auniform\x5cx20float\x5cx20fVAngleCos;\x5cx20\x5cx20\x5cx0auniform\x5cx20float\x5cx20fVAngleSin;\x5cx20\x5cx20\x5cx0auniform\x5cx20float\x5cx20fZoom;\x5cx0a\x5cx0auniform\x5cx20float\x5cx20fRX1;\x5cx20\x5cx0auniform\x5cx20float\x5cx20fRX2;\x5cx20\x5cx0auniform\x5cx20float\x5cx20fRY1;\x5cx20\x5cx0auniform\x5cx20float\x5cx20fRY2;\x5cx20\x5cx0a\x5cx0avoid\x5cx20main()\x5cx0a{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20r,g,b;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20origin1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20origin2;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20result;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20z1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20z2;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20dnew;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterX;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterY;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fRadius;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20w\x5cx20=\x5cx201.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20h\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx20(fRY2\x5cx20-\x5cx20fRY1);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20fCenterX\x5cx20=\x5cx20(fRX1\x5cx20+\x5cx20fRX2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20///<Բ��ʵ������\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20fCenterY\x5cx20=\x5cx20(fRY1\x5cx20+\x5cx20fRY2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20fRadius\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20///<�뾶ʵ�ʳ���\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin1.s\x5cx20=\x5cx20v_uv.s\x5cx20-\x5cx200.5;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin1.t\x5cx20=\x5cx20v_uv.t\x5cx20-\x5cx200.5;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20z1\x5cx20=\x5cx20fZoom\x5cx20;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin2.s\x5cx20=\x5cx20origin1.s\x5cx20;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin2.t\x5cx20=\x5cx20(origin1.t*fVAngleCos\x5cx20+\x5cx20z1*fVAngleSin);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20z2\x5cx20=\x5cx20z1*fVAngleCos\x5cx20-\x5cx20origin1.t*fVAngleSin;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20dnew\x5cx20=\x5cx20sqrt(origin2.s*origin2.s\x5cx20+\x5cx20origin2.t*origin2.t)\x5cx20;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20d\x5cx20=\x5cx20sqrt(origin2.s*origin2.s\x5cx20+\x5cx20origin2.t*origin2.t\x5cx20+\x5cx20z2*z2);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20theta\x5cx20=\x5cx20asin(dnew/d);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmp\x5cx20=\x5cx20theta\x5cx20/\x5cx201.5707963\x5cx20*\x5cx200.5;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin2.s\x5cx20=\x5cx20tmp*origin2.s\x5cx20/\x5cx20dnew\x5cx20;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin2.t\x5cx20=\x5cx20tmp*origin2.t\x5cx20/\x5cx20dnew\x5cx20;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20result.s\x5cx20=\x5cx20((origin2.s*fHAngleCos\x5cx20-\x5cx20origin2.t*fHAngleSin)*fRadius*2.0+fCenterX)/w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20result.t\x5cx20=\x5cx20((origin2.s*fHAngleSin\x5cx20+\x5cx20origin2.t*fHAngleCos)*fRadius*2.0+fCenterY)/h;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).g;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).b;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20if(result.s\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.t\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.s\x5cx20<\x5cx200.0\x5cx20||\x5cx20result.t\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx200.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20vec4(r\x5cx20,g\x5cx20,b\x5cx20,\x5cx201.0);\x5cx0a}\x5cx20\x5cx0a\x27,this[\x27b3DPort\x27]=!0x1;break;case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]:_0x29f273=_0x1f462c,_0x1303a3=\x27\x5cx0aprecision\x5cx20mediump\x5cx20float;\x5cx0avarying\x5cx20vec2\x5cx20v_uv;\x5cx0auniform\x5cx20sampler2D\x5cx20texture;\x5cx0auniform\x5cx20float\x5cx20fHAngleCos;\x5cx0auniform\x5cx20float\x5cx20fHAngleSin;\x5cx20\x5cx20\x5cx0auniform\x5cx20float\x5cx20fVAngleCos;\x5cx20\x5cx20\x5cx0auniform\x5cx20float\x5cx20fVAngleSin;\x5cx20\x5cx20\x5cx0auniform\x5cx20float\x5cx20fZoom;\x5cx0a\x5cx0auniform\x5cx20float\x5cx20fRX1;\x5cx20\x5cx0auniform\x5cx20float\x5cx20fRX2;\x5cx20\x5cx0auniform\x5cx20float\x5cx20fRY1;\x5cx20\x5cx0auniform\x5cx20float\x5cx20fRY2;\x5cx20\x5cx0a\x5cx0avoid\x5cx20main()\x5cx0a{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20r,g,b;\x5cx20\x5cx20\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20origin1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20origin2;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20origin3;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20result;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20z1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20z2;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20z3;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20dnew;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterX;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterY;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fRadius;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20w\x5cx20=\x5cx201.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20h\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx20(fRY2\x5cx20-\x5cx20fRY1);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20fCenterX\x5cx20=\x5cx20(fRX1\x5cx20+\x5cx20fRX2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20///<Բ��ʵ������\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20fCenterY\x5cx20=\x5cx20(fRY1\x5cx20+\x5cx20fRY2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20fRadius\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20///<�뾶ʵ�ʳ���\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin1.s\x5cx20=\x5cx20v_uv.s\x5cx20-\x5cx200.5;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin1.t\x5cx20=\x5cx20v_uv.t\x5cx20-\x5cx200.5;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20z1\x5cx20=\x5cx20fZoom\x5cx20;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin2.s\x5cx20=\x5cx20origin1.s\x5cx20;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin2.t\x5cx20=\x5cx20(origin1.t*fVAngleCos\x5cx20+\x5cx20z1*fVAngleSin);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20z2\x5cx20=\x5cx20z1*fVAngleCos\x5cx20-\x5cx20origin1.t*fVAngleSin;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin3.s\x5cx20=\x5cx20origin2.s*fHAngleCos\x5cx20+\x5cx20z2*fHAngleSin\x5cx20;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20origin3.t\x5cx20=\x5cx20origin2.y;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20z3\x5cx20=\x5cx20z2*fHAngleCos\x5cx20-\x5cx20origin2.x*fHAngleSin;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20dnew\x5cx20=\x5cx20sqrt(origin3.s*origin3.s\x5cx20+\x5cx20origin3.t*origin3.t)\x5cx20;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20d\x5cx20=\x5cx20sqrt(origin3.s*origin3.s\x5cx20+\x5cx20origin3.t*origin3.t\x5cx20+\x5cx20z3*z3);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20theta\x5cx20=\x5cx20asin(dnew/d);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmp\x5cx20=\x5cx20theta\x5cx20/\x5cx201.5707963\x5cx20*\x5cx200.5;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20result.s\x5cx20=\x5cx20(tmp*origin3.s\x5cx20/\x5cx20dnew\x5cx20*\x5cx20fRadius\x5cx20*\x5cx202.0\x5cx20+\x5cx20fCenterX)/w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20result.t\x5cx20=\x5cx20(tmp*origin3.t\x5cx20/\x5cx20dnew\x5cx20*\x5cx20fRadius\x5cx20*\x5cx202.0\x5cx20+\x5cx20fCenterY)/h;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).g;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).b;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20if(result.s\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.t\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.s\x5cx20<\x5cx200.0\x5cx20||\x5cx20result.t\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20vec4(r\x5cx20,g\x5cx20,b\x5cx20,\x5cx201.0);\x5cx0a}\x5cx20\x5cx0a\x27,this[\x27b3DPort\x27]=!0x1;break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]:_0x29f273=_0x1f462c,_0x1303a3=\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20precision\x5cx20highp\x5cx20float;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20vec2\x5cx20v_uv;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20sampler2D\x5cx20texture;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fAngle;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRX1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRX2;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRY1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRY2;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main()\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20r,g,b;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20origin;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20result;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20thetabase;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20d;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterX;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterY;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fRadius;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20w\x5cx20=\x5cx201.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20h\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx20(fRY2\x5cx20-\x5cx20fRY1);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fCenterX\x5cx20=\x5cx20(fRX1\x5cx20+\x5cx20fRX2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20///<圆心实际坐标\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fCenterY\x5cx20=\x5cx20(fRY1\x5cx20+\x5cx20fRY2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fRadius\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20///<半径实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20fMax\x5cx20=\x5cx200.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX2\x5cx20>\x5cx201.0\x5cx20||\x5cx20fRY2\x5cx20>\x5cx201.0\x5cx20||\x5cx20fRX1\x5cx20<\x5cx200.0\x5cx20||\x5cx20fRY1\x5cx20<\x5cx200.0)\x5cx20///<如果不是一个完整的圆\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX1\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20-fRX1\x5cx20*\x5cx20w;\x5cx20///<左边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX2\x5cx20>\x5cx201.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx201.0)\x5cx20*\x5cx20w;\x5cx20///<右边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRY1\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20-fRY1\x5cx20*\x5cx20h;\x5cx20///<上边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRY2\x5cx20>\x5cx201.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20(fRY2\x5cx20-\x5cx201.0)\x5cx20*\x5cx20h;\x5cx20///<下边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20topCut\x5cx20=\x5cx20fMax\x5cx20/\x5cx20fRadius;\x5cx20\x5cx20///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20bottomCut\x5cx20=\x5cx200.8;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20///<为矫正效果,最终矫正图固定切掉下面一部分\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20origin.s\x5cx20=\x5cx20v_uv.s;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20origin.t\x5cx20=\x5cx20(bottomCut\x5cx20-\x5cx20topCut)\x5cx20*\x5cx20v_uv.t\x5cx20+\x5cx20topCut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20thetabase\x5cx20=\x5cx206.2831853\x5cx20*\x5cx20origin.s\x5cx20+\x5cx20fAngle;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20d\x5cx20=\x5cx20fRadius\x5cx20*\x5cx20(1.0\x5cx20-\x5cx20origin.t);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20result.s\x5cx20=\x5cx20(fCenterX\x5cx20-\x5cx20d*sin(thetabase))\x5cx20/\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20result.t\x5cx20=\x5cx20(fCenterY\x5cx20+\x5cx20d*cos(thetabase))\x5cx20/\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).r;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).g;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).b;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(result.s\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.t\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.s\x5cx20<\x5cx200.0\x5cx20||\x5cx20result.t\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx200.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20vec4(r,\x5cx20g,\x5cx20b,\x5cx201.0);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x27,this[\x27b3DPort\x27]=!0x1;break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]:_0x29f273=_0x1f462c,_0x1303a3=\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20precision\x5cx20highp\x5cx20float;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20vec2\x5cx20v_uv;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20sampler2D\x5cx20texture;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fAngle;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRX1;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRX2;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRY1;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRY2;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main()\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20r,g,b;\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20origin;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20result;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20thetabase;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20d;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20newpp;\x5cx20\x5cx20///<180矫正pp纹理坐标的点对应360矫正newpp纹理坐标对应的点\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if\x5cx20(v_uv.t\x5cx20\x5cx20<=\x5cx200.5)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20newpp.s\x5cx20=\x5cx20\x5cx20v_uv.s\x5cx20/\x5cx202.0\x5cx20+\x5cx200.5;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20newpp.t\x5cx20=\x5cx20\x5cx20v_uv.t\x5cx20*\x5cx202.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20else\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20newpp.s\x5cx20=\x5cx20\x5cx20v_uv.s\x5cx20/\x5cx202.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20newpp.t\x5cx20=\x5cx20\x5cx20(v_uv.t\x5cx20-\x5cx200.5)\x5cx20*\x5cx202.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterX;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterY;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fRadius;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20w\x5cx20=\x5cx201.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20h\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx20(fRY2\x5cx20-\x5cx20fRY1);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fCenterX\x5cx20=\x5cx20(fRX1\x5cx20+\x5cx20fRX2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20///<圆心实际坐标\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fCenterY\x5cx20=\x5cx20(fRY1\x5cx20+\x5cx20fRY2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fRadius\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20///<半径实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20fMax\x5cx20=\x5cx200.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX2\x5cx20>\x5cx201.0\x5cx20||\x5cx20fRY2\x5cx20>\x5cx201.0\x5cx20||\x5cx20fRX1\x5cx20<\x5cx200.0\x5cx20||\x5cx20fRY1\x5cx20<\x5cx200.0)\x5cx20///<如果不是一个完整的圆\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX1\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20-fRX1\x5cx20*\x5cx20w;\x5cx20///<左边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX2\x5cx20>\x5cx201.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx201.0)\x5cx20*\x5cx20w;\x5cx20///<右边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRY1\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20-fRY1\x5cx20*\x5cx20h;\x5cx20///<上边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRY2\x5cx20>\x5cx201.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20(fRY2\x5cx20-\x5cx201.0)\x5cx20*\x5cx20h;\x5cx20///<下边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20topCut\x5cx20=\x5cx20fMax\x5cx20/\x5cx20fRadius;\x5cx20\x5cx20\x5cx20///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20bottomCut\x5cx20=\x5cx200.8;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20///<为矫正效果,最终矫正图固定切掉下面一部分\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20origin.s\x5cx20=\x5cx20newpp.s;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20origin.t\x5cx20=\x5cx20(bottomCut\x5cx20-\x5cx20topCut)\x5cx20*\x5cx20newpp.t\x5cx20+\x5cx20topCut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20thetabase\x5cx20=\x5cx206.2831853\x5cx20*\x5cx20origin.s\x5cx20+\x5cx20fAngle;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20d\x5cx20=\x5cx20fRadius\x5cx20*\x5cx20(1.0\x5cx20-\x5cx20origin.t);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20result.s\x5cx20=\x5cx20(fCenterX\x5cx20-\x5cx20d*sin(thetabase))\x5cx20/\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20result.t\x5cx20=\x5cx20(fCenterY\x5cx20+\x5cx20d*cos(thetabase))\x5cx20/\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).r;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).g;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).b;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(result.s\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.t\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.s\x5cx20<\x5cx200.0\x5cx20||\x5cx20result.t\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx200.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx200.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx200.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20vec4(r\x5cx20,g\x5cx20,b\x5cx20,\x5cx201.0);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x27,this[\x27b3DPort\x27]=!0x1;break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]:_0x29f273=_0x1f462c,_0x1303a3=\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20precision\x5cx20highp\x5cx20float;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20vec2\x5cx20v_uv;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20sampler2D\x5cx20texture;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fAngle;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRX1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRX2;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRY1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRY2;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main()\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20r,g,b;\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20origin;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20result;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20thetabase;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20d;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterX;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterY;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fRadius;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20w\x5cx20=\x5cx201.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20h\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx20(fRY2\x5cx20-\x5cx20fRY1);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fCenterX\x5cx20=\x5cx20(fRX1\x5cx20+\x5cx20fRX2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20///<圆心实际坐标\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fCenterY\x5cx20=\x5cx20(fRY1\x5cx20+\x5cx20fRY2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fRadius\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20///<半径实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20fMax\x5cx20=\x5cx200.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX2\x5cx20>\x5cx201.0\x5cx20||\x5cx20fRY2\x5cx20>\x5cx201.0\x5cx20||\x5cx20fRX1\x5cx20<\x5cx200.0\x5cx20||\x5cx20fRY1\x5cx20<\x5cx200.0)\x5cx20///<如果不是一个完整的圆\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX1\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20-fRX1\x5cx20*\x5cx20w;\x5cx20///<左边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX2\x5cx20>\x5cx201.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx201.0)\x5cx20*\x5cx20w;\x5cx20///<右边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRY1\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20-fRY1\x5cx20*\x5cx20h;\x5cx20///<上边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRY2\x5cx20>\x5cx201.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20(fRY2\x5cx20-\x5cx201.0)\x5cx20*\x5cx20h;\x5cx20///<下边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20topCut\x5cx20=\x5cx20fMax\x5cx20/\x5cx20fRadius;\x5cx20\x5cx20\x5cx20///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20bottomCut\x5cx20=\x5cx200.8;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20///<为矫正效果,最终矫正图固定切掉下面一部分\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20origin.s\x5cx20=\x5cx201.0\x5cx20-\x5cx20v_uv.s;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20origin.t\x5cx20=\x5cx20(bottomCut\x5cx20-\x5cx20topCut)\x5cx20*\x5cx20(1.0\x5cx20-\x5cx20v_uv.t)\x5cx20+\x5cx20topCut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20thetabase\x5cx20=\x5cx206.2831853\x5cx20*\x5cx20origin.s\x5cx20+\x5cx20fAngle;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20d\x5cx20=\x5cx20fRadius\x5cx20*\x5cx20(1.0\x5cx20-\x5cx20origin.t);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20result.s\x5cx20=\x5cx20(fCenterX\x5cx20-\x5cx20d*sin(thetabase))\x5cx20/\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20result.t\x5cx20=\x5cx20(fCenterY\x5cx20+\x5cx20d*cos(thetabase))\x5cx20/\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).r;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).g;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).b;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(result.s\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.t\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.s\x5cx20<\x5cx200.0\x5cx20||\x5cx20result.t\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20vec4(r\x5cx20,g\x5cx20,b\x5cx20,\x5cx201.0);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x27,this[\x27b3DPort\x27]=!0x1;break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]:_0x29f273=_0x1f462c,_0x1303a3=\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20precision\x5cx20highp\x5cx20float;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20vec2\x5cx20v_uv;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20sampler2D\x5cx20texture;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fAngle;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRX1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRX2;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRY1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRY2;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main()\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20r,g,b;\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20origin;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20result;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20thetabase;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20d;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20newpp;\x5cx20\x5cx20///<180矫正pp纹理坐标的点对应360矫正newpp纹理坐标对应的点\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if\x5cx20(v_uv.t\x5cx20\x5cx20<=\x5cx200.5)\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20newpp.s\x5cx20=\x5cx20\x5cx20v_uv.s\x5cx20/\x5cx202.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20newpp.t\x5cx20=\x5cx20\x5cx20v_uv.t\x5cx20*\x5cx202.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20else\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20newpp.s\x5cx20=\x5cx20\x5cx20v_uv.s\x5cx20/\x5cx202.0\x5cx20+\x5cx200.5;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20newpp.t\x5cx20=\x5cx20\x5cx20(v_uv.t\x5cx20-\x5cx200.5)\x5cx20*\x5cx202.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterX;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterY;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fRadius;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20w\x5cx20=\x5cx201.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20h\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx20(fRY2\x5cx20-\x5cx20fRY1);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fCenterX\x5cx20=\x5cx20(fRX1\x5cx20+\x5cx20fRX2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20///<圆心实际坐标\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fCenterY\x5cx20=\x5cx20(fRY1\x5cx20+\x5cx20fRY2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fRadius\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20///<半径实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20fMax\x5cx20=\x5cx200.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX2\x5cx20>\x5cx201.0\x5cx20||\x5cx20fRY2\x5cx20>\x5cx201.0\x5cx20||\x5cx20fRX1\x5cx20<\x5cx200.0\x5cx20||\x5cx20fRY1\x5cx20<\x5cx200.0)\x5cx20///<如果不是一个完整的圆\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX1\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20-fRX1\x5cx20*\x5cx20w;\x5cx20///<左边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX2\x5cx20>\x5cx201.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx201.0)\x5cx20*\x5cx20w;\x5cx20///<右边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRY1\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20-fRY1\x5cx20*\x5cx20h;\x5cx20///<上边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRY2\x5cx20>\x5cx201.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20(fRY2\x5cx20-\x5cx201.0)\x5cx20*\x5cx20h;\x5cx20///<下边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20fMax)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fMax\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20topCut\x5cx20=\x5cx20fMax\x5cx20/\x5cx20fRadius;\x5cx20\x5cx20\x5cx20///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20bottomCut\x5cx20=\x5cx200.8;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20///<为矫正效果,最终矫正图固定切掉下面一部分\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20origin.s\x5cx20=\x5cx201.0\x5cx20-\x5cx20newpp.s;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20origin.t\x5cx20=\x5cx20(bottomCut\x5cx20-\x5cx20topCut)\x5cx20*\x5cx20(1.0\x5cx20-\x5cx20newpp.t)\x5cx20+\x5cx20topCut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20thetabase\x5cx20=\x5cx206.2831853\x5cx20*\x5cx20origin.s\x5cx20+\x5cx20fAngle;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20d\x5cx20=\x5cx20fRadius\x5cx20*\x5cx20(1.0\x5cx20-\x5cx20origin.t);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20result.s\x5cx20=\x5cx20(fCenterX\x5cx20-\x5cx20d*sin(thetabase))\x5cx20/\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20result.t\x5cx20=\x5cx20(fCenterY\x5cx20+\x5cx20d*cos(thetabase))\x5cx20/\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).g;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).b;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(result.s\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.t\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.s\x5cx20<\x5cx200.0\x5cx20||\x5cx20result.t\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20vec4(r\x5cx20,g\x5cx20,b\x5cx20,\x5cx201.0);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx20\x5cx0a\x27,this[\x27b3DPort\x27]=!0x1;break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]:_0x29f273=_0x1f462c,_0x1303a3=\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20precision\x5cx20highp\x5cx20float;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20vec2\x5cx20v_uv;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20sampler2D\x5cx20texture;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRX1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRX2;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRY1;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20float\x5cx20fRY2;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main()\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20r,g,b;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20origin;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20vec4\x5cx20result;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20d;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterX;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fCenterY;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20fRadius;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20w\x5cx20=\x5cx201.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20h\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx20(fRY2\x5cx20-\x5cx20fRY1);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fCenterX\x5cx20=\x5cx20(fRX1\x5cx20+\x5cx20fRX2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20///<圆心实际坐标\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fCenterY\x5cx20=\x5cx20(fRY1\x5cx20+\x5cx20fRY2)\x5cx20/\x5cx202.0\x5cx20*\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20fRadius\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx20fRX1)\x5cx20/\x5cx202.0\x5cx20*\x5cx20w;\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20///<半径实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20defaultTopCut\x5cx20=\x5cx200.1;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20defaultBottomCut\x5cx20=\x5cx200.9;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20leftCut\x5cx20=\x5cx200.0;\x5cx20\x5cx20\x5cx20\x5cx20///<当图像中圆不完整时需要切掉无图像部分,即使图像完整,为了效果,也要切掉上下固定的一部分\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20rightCut\x5cx20=\x5cx201.0;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20topCut\x5cx20=\x5cx20defaultTopCut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20\x5cx20bottomCut\x5cx20=\x5cx20defaultBottomCut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX1\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20-fRX1\x5cx20*\x5cx20w;\x5cx20///<左边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20tmp\x5cx20/\x5cx20(2.0*fRadius);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20leftCut\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRX2\x5cx20>\x5cx201.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20(fRX2\x5cx20-\x5cx201.0)\x5cx20*\x5cx20w;\x5cx20///<右边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20tmp\x5cx20/\x5cx20(2.0*fRadius);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20rightCut\x5cx20=\x5cx201.0\x5cx20-\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRY1\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20-fRY1\x5cx20*\x5cx20h;\x5cx20///<上边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20tmp\x5cx20/\x5cx20(2.0*fRadius);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx20defaultTopCut)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20topCut\x5cx20=\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20else\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20topCut\x5cx20=\x5cx20defaultTopCut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(fRY2\x5cx20>\x5cx201.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20(fRY2\x5cx20-\x5cx201.0)\x5cx20*\x5cx20h;\x5cx20///<下边超出图像部分最大实际长度\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20tmp\x5cx20=\x5cx20tmp\x5cx20/\x5cx20(2.0*fRadius);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(tmp\x5cx20>\x5cx201.0\x5cx20-\x5cx20defaultBottomCut)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20bottomCut\x5cx20=\x5cx201.0\x5cx20-\x5cx20tmp;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20else\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20bottomCut\x5cx20=\x5cx20defaultBottomCut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20origin.s\x5cx20=\x5cx20v_uv.s\x5cx20*\x5cx20(rightCut-leftCut)\x5cx20+\x5cx20leftCut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20origin.t\x5cx20=\x5cx20v_uv.t\x5cx20*\x5cx20(bottomCut-topCut)\x5cx20+\x5cx20topCut;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmpx\x5cx20=\x5cx20origin.s\x5cx20*\x5cx202.0\x5cx20*\x5cx20fRadius\x5cx20+\x5cx20fCenterX\x5cx20-\x5cx20fRadius;\x5cx20///<纹理坐标转化为原图上的实际坐标\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20float\x5cx20tmpy\x5cx20=\x5cx20origin.t\x5cx20*\x5cx202.0\x5cx20*\x5cx20fRadius\x5cx20+\x5cx20fCenterY\x5cx20-\x5cx20fRadius;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20d\x5cx20=\x5cx20sqrt(fRadius*fRadius\x5cx20-\x5cx20(tmpy-fCenterY)*(tmpy-fCenterY));\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20result.s\x5cx20=\x5cx20((tmpx-fCenterX)\x5cx20*\x5cx20d\x5cx20/\x5cx20fRadius\x5cx20+\x5cx20fCenterX)\x5cx20/\x5cx20w;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20result.t\x5cx20=\x5cx20tmpy\x5cx20/\x5cx20h;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).r;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).g;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx20texture2D(texture,\x5cx20result.st).b;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(result.s\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.t\x5cx20>\x5cx201.0\x5cx20||\x5cx20result.s\x5cx20<\x5cx200.0\x5cx20||\x5cx20result.t\x5cx20<\x5cx200.0)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20r\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20g\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20b\x5cx20=\x5cx200.0;\x5cx20\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20vec4(r\x5cx20,g\x5cx20,b\x5cx20,\x5cx201.0);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x27,this[\x27b3DPort\x27]=!0x1;break;case\x20_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]:_0x1c4dff==_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]&&(this[\x27bCullBack\x27]=!0x0),_0x29f273=\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20attribute\x5cx20vec4\x5cx20xy;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20attribute\x5cx20vec2\x5cx20uv;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20highp\x5cx20vec2\x5cx20v_uv;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20int\x5cx20bCapture;\x5cx0a\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20mat4\x5cx20matProj;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20mat4\x5cx20matView;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main(void)\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_Position\x5cx20=\x5cx20matProj\x5cx20*\x5cx20matView\x5cx20*\x5cx20xy;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20v_uv\x5cx20=\x5cx20uv;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20if(bCapture\x5cx20==\x5cx201)\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20v_uv.y\x5cx20=\x5cx201.0\x5cx20-\x5cx20uv.y;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x27,_0x1303a3=\x27\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20varying\x5cx20highp\x5cx20vec2\x5cx20v_uv;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20uniform\x5cx20sampler2D\x5cx20texture;\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20void\x5cx20main(void)\x5cx20{\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20\x5cx20gl_FragColor\x5cx20=\x5cx20texture2D(texture,\x5cx20v_uv);\x5cx0a\x5cx20\x5cx20\x5cx20\x5cx20}\x5cx0a\x27,this[\x27b3DPort\x27]=!0x0;break;default:return\x20_0x86aef9;}var\x20_0x4822c4=this[\x27CompileProgram\x27](_0x29f273,_0x1303a3);if(_0x4822c4<=0x0)return\x20_0x4d26c0;this[\x27videoShaderProgram\x27]=_0x4822c4;var\x20_0x2e497f=null,_0x2f9f99=null,_0x2e0613=_0xa87ede;if(0x0==this[\x27b3DPort\x27])_0x2e497f=new\x20Float32Array([-0x1,-0x1,0x0,-0x1,0x1,0x0,0x1,0x1,0x0,0x1,-0x1,0x0]),_0x2f9f99=new\x20Float32Array([0x0,0x1,0x0,0x0,0x1,0x0,0x1,0x1]);else{var\x20_0x21dd60={},_0x8748d5=!0x1;if(null==this[\x27pFishParamManager\x27])return\x20_0x520965;for(var\x20_0x3c7177=0x0;_0x3c7177<_0x379995;++_0x3c7177)if(_0x3c7177!=_0x30143d&&_0xa87ede==this[\x27pFishParamManager\x27][\x27GetRenderParam\x27](_0x3c7177,_0x21dd60)){_0x8748d5=!0x0;break;}var\x20_0x15cab7=0x0,_0x19ebf4=0x1,_0x2e5f56=0x0,_0x4e7ce6=0x1;if(0x1==_0x8748d5&&(_0x15cab7=_0x21dd60[\x27fRXLeft\x27],_0x19ebf4=_0x21dd60[\x27fRXRight\x27],_0x2e5f56=_0x21dd60[\x27fRYTop\x27],_0x4e7ce6=_0x21dd60[\x27fRYBottom\x27]),_0x1c4dff==_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27])_0x2e0613=this[\x27_CreateSemiSphere\x27](_0x15cab7,_0x19ebf4,_0x2e5f56,_0x4e7ce6),_0x2e497f=this[\x27pSemiSpherePos\x27],_0x2f9f99=this[\x27pSemiSphereTex\x27];else{if(_0x1c4dff==_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]||_0x1c4dff==_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27])_0x2e0613=this[\x27_CreateCylinder\x27](_0x1c4dff,_0x15cab7,_0x19ebf4,_0x2e5f56,_0x4e7ce6,0x2,0x2),_0x2e497f=this[\x27pCylinderPos\x27],_0x2f9f99=this[\x27pCylinderTex\x27];else{if(_0x1c4dff!=_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]&&_0x1c4dff!=_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27])return\x20_0x86aef9;0x0==_0x8748d5?_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]==_0x1c4dff?(_0x15cab7=0.05,_0x19ebf4=0.95,_0x2e5f56=-0.3,_0x4e7ce6=1.3):_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]==_0x1c4dff&&(_0x15cab7=-0.16,_0x19ebf4=1.16,_0x2e5f56=0.005,_0x4e7ce6=0.995):_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]==_0x1c4dff?(_0x21dd60[\x27fRYTop\x27]>0x0||_0x21dd60[\x27fRYBottom\x27]<0x1)&&(_0x15cab7=0.05,_0x19ebf4=0.95,_0x2e5f56=-0.3,_0x4e7ce6=1.3):_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]==_0x1c4dff&&(_0x21dd60[\x27fRXLeft\x27]>0x0||_0x21dd60[\x27fRXRight\x27]<0x1)&&(_0x15cab7=-0.16,_0x19ebf4=1.16,_0x2e5f56=0.005,_0x4e7ce6=0.995),_0x2e0613=this[\x27_CreateArcSphere\x27](_0x1c4dff,_0x15cab7,_0x19ebf4,_0x2e5f56,_0x4e7ce6),_0x2e497f=this[\x27pArcSpherePos\x27],_0x2f9f99=this[\x27pArcSphereTex\x27];}}if(_0x2e0613!=_0xa87ede)return\x20_0x2e0613;var\x20_0x20506b={};if((_0x2e0613=this[\x27pFishParamManager\x27][\x27GetFishParam\x27](this[\x27nFECPort\x27],_0x20506b))!=_0xa87ede)return\x20_0x2e0613;if(_0x20506b[\x27nFishParamType\x27]=_0x392c27,_0x20506b[\x27fRXLeft\x27]=_0x15cab7,_0x20506b[\x27fRXRight\x27]=_0x19ebf4,_0x20506b[\x27fRYTop\x27]=_0x2e5f56,_0x20506b[\x27fRYBottom\x27]=_0x4e7ce6,this[\x27pFishParamManager\x27][\x27SetFishParam\x27](this[\x27nFECPort\x27],_0x20506b),_0x2e0613!=_0xa87ede)return\x20_0x2e0613;}if(null==_0x2e497f||null==_0x2f9f99)return\x20_0x86aef9;var\x20_0xc42bb=this[\x27ctx\x27][\x27createBuffer\x27]();this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],_0xc42bb),this[\x27ctx\x27][\x27bufferData\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],_0x2e497f,this[\x27ctx\x27][\x27STATIC_DRAW\x27]),this[\x27vertexPosBuffer\x27]=_0xc42bb;var\x20_0x116e2e=this[\x27ctx\x27][\x27createBuffer\x27]();return\x20this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],_0x116e2e),this[\x27ctx\x27][\x27bufferData\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],_0x2f9f99,this[\x27ctx\x27][\x27STATIC_DRAW\x27]),this[\x27texturePosBuffer\x27]=_0x116e2e,this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null),0x0==this[\x27b3DPort\x27]&&(_0x2e497f=null,_0x2f9f99=null),_0x2e0613=this[\x27InitCamera\x27](_0x1c4dff),_0xa87ede!=_0x2e0613?_0x2e0613:(this[\x27enDisplayEffect\x27]=_0x1c4dff,this[\x27nFECPort\x27]);}},{\x27key\x27:\x27SR_DelSubPort\x27,\x27value\x27:function(_0x431502){return\x20null==this[\x27ctx\x27]?_0x520965:(null!=this[\x27pFishParamManager\x27]&&this[\x27nFECPort\x27]==_0x431502&&this[\x27pFishParamManager\x27][\x27FreeFECPort\x27](this[\x27nFECPort\x27]),this[\x27enDisplayEffect\x27]=_0x186ff9[\x27SR_DE_NULL\x27],0x0!=this[\x27videoShaderProgram\x27]&&null!=this[\x27ctx\x27]&&(this[\x27ctx\x27][\x27deleteProgram\x27](this[\x27videoShaderProgram\x27]),this[\x27videoShaderProgram\x27]=0x0),0x0!=this[\x27vertexPosBuffer\x27]&&null!=this[\x27ctx\x27]&&(this[\x27ctx\x27][\x27deleteBuffer\x27](this[\x27vertexPosBuffer\x27]),this[\x27vertexPosBuffer\x27]=0x0),0x0!=this[\x27texturePosBuffer\x27]&&null!=this[\x27ctx\x27]&&(this[\x27ctx\x27][\x27deleteBuffer\x27](this[\x27texturePosBuffer\x27]),this[\x27texturePosBuffer\x27]=0x0),this[\x27nMaxPointNum\x27]=0x0,this[\x27pLinePosVertices\x27]=null,this[\x27pLineClrVertices\x27]=null,0x0!=this[\x27glLinePosBuffer\x27]&&null!=this[\x27ctx\x27]&&(this[\x27ctx\x27][\x27deleteBuffer\x27](this[\x27glLinePosBuffer\x27]),this[\x27glLinePosBuffer\x27]=0x0),0x0!=this[\x27glLineTexBuffer\x27]&&null!=this[\x27ctx\x27]&&(this[\x27ctx\x27][\x27deleteBuffer\x27](this[\x27glLineTexBuffer\x27]),this[\x27glLineTexBuffer\x27]=0x0),this[\x27nLineTriangleNum\x27]=0x0,0x0!=this[\x27nLineShaderProgram\x27]&&null!=this[\x27ctx\x27]&&(this[\x27ctx\x27][\x27deleteProgram\x27](this[\x27nLineShaderProgram\x27]),this[\x27nLineShaderProgram\x27]=0x0),this[\x27pFillBlockPosVertices\x27]=null,this[\x27pFillBlockClrVertices\x27]=null,this[\x27nMaxFillBlockTriNum\x27]=0x0,0x0!=this[\x27glBlockPosBuffer\x27]&&null!=this[\x27ctx\x27]&&(this[\x27ctx\x27][\x27deleteBuffer\x27](this[\x27glBlockPosBuffer\x27]),this[\x27glBlockPosBuffer\x27]=0x0),0x0!=this[\x27glBlockClrBuffer\x27]&&null!=this[\x27ctx\x27]&&(this[\x27ctx\x27][\x27deleteBuffer\x27](this[\x27glBlockClrBuffer\x27]),this[\x27glBlockClrBuffer\x27]=0x0),0x0!=this[\x27nBlockShaderProgram\x27]&&null!=this[\x27ctx\x27]&&(this[\x27ctx\x27][\x27deleteProgram\x27](this[\x27nBlockShaderProgram\x27]),this[\x27nBlockShaderProgram\x27]=0x0),this[\x27nDrawFontWidth\x27]=0x0,this[\x27nDrawFontHeight\x27]=0x0,0x0!=this[\x27nFontColorTexture\x27]&&null!=this[\x27ctx\x27]&&(this[\x27ctx\x27][\x27deleteTexture\x27](this[\x27nFontColorTexture\x27]),this[\x27nFontColorTexture\x27]=0x0),this[\x27pFontColorBuffer\x27]=0x0,0x0!=this[\x27nFontShaderProgram\x27]&&null!=this[\x27ctx\x27]&&(this[\x27ctx\x27][\x27deleteProgram\x27](this[\x27nFontShaderProgram\x27]),this[\x27nFontShaderProgram\x27]=0x0),0x0!=this[\x27nCaptureRTTex\x27]&&(this[\x27ctx\x27][\x27deleteTexture\x27](this[\x27nCaptureRTTex\x27]),this[\x27nCaptureRTTex\x27]=0x0),0x0!=this[\x27nCaptureFBO\x27]&&(this[\x27ctx\x27][\x27deleteFramebuffer\x27](this[\x27nCaptureFBO\x27]),this[\x27nCaptureFBO\x27]=0x0),0x0!=this[\x27nCaptureDepthbuffer\x27]&&(this[\x27ctx\x27][\x27deleteRenderbuffer\x27](this[\x27nCaptureDepthbuffer\x27]),this[\x27nCaptureDepthbuffer\x27]=0x0),this[\x27bCaptureResInit\x27]=!0x1,this[\x27pSemiSpherePos\x27]=null,this[\x27pSemiSphereTex\x27]=null,this[\x27nSemiSpherePosNum\x27]=0x0,this[\x27nSemiSpherePosSize\x27]=0x0,this[\x27nSemiSphereTexSize\x27]=0x0,this[\x27pCylinderPos\x27]=null,this[\x27pCylinderTex\x27]=null,this[\x27nCylinderPosNum\x27]=0x0,this[\x27nCylinderPosSize\x27]=0x0,this[\x27nCylinderTexSize\x27]=0x0,this[\x27fCylinderHeight\x27]=0x0,this[\x27fCylinderRadius\x27]=0x0,this[\x27pArcSpherePos\x27]=null,this[\x27pArcSphereTex\x27]=null,this[\x27nArcSpherePosNum\x27]=0x0,this[\x27nArcSpherePosSize\x27]=0x0,this[\x27nArcSphereTexSize\x27]=0x0,this[\x27b3DPort\x27]=!0x1,this[\x27pCamera\x27]=null,this[\x27fRotateX\x27]=0x0,this[\x27fRotateY\x27]=0x0,this[\x27fScale\x27]=0x0,this[\x27pfuncCBIn\x27]=null,this[\x27pfuncCBOut\x27]=null,this[\x27pUserIn\x27]=null,this[\x27pUserOut\x27]=null,this[\x27ctx\x27][\x27disable\x27](this[\x27ctx\x27][\x27CULL_FACE\x27]),this[\x27ctx\x27][\x27disable\x27](this[\x27ctx\x27][\x27DEPTH_TEST\x27]),_0xa87ede);}},{\x27key\x27:\x27SR_GetFishParam\x27,\x27value\x27:function(_0x5ba2c1){return\x20null==_0x5ba2c1?_0x31ddcf:null==this[\x27pFishParamManager\x27]?_0x520965:this[\x27pFishParamManager\x27][\x27GetFishParam\x27](this[\x27nFECPort\x27],_0x5ba2c1);}},{\x27key\x27:\x27SR_SetFishParam\x27,\x27value\x27:function(_0x231728){return\x20null==_0x231728?_0x31ddcf:null==this[\x27pFishParamManager\x27]?_0x520965:this[\x27pFishParamManager\x27][\x27SetFishParam\x27](this[\x27nFECPort\x27],_0x231728);}},{\x27key\x27:\x27SR_SetDisplayRect\x27,\x27value\x27:function(_0x55eb5a,_0x1c555c,_0x1e932c,_0x799fda,_0x1b6d8f){if(null==this[\x27ctx\x27])return\x20_0x520965;var\x20_0x41f710=_0x55eb5a,_0x5590bb=_0x1c555c,_0x536b65=_0x55eb5a+_0x1e932c,_0x1e96da=_0x1c555c+_0x799fda,_0x5d50c7=null,_0x135ea7=null;switch(_0x1b6d8f){case\x20_0xe9e464:if(this[\x27frameDisplayWidth\x27]>0x0&&this[\x27frameDisplayHeight\x27]>0x0){if(this[\x27fSrcUseLeft\x27]=_0x41f710/this[\x27frameDisplayWidth\x27],this[\x27fSrcUseLeft\x27]<0x0?this[\x27fSrcUseLeft\x27]=0x0:this[\x27fSrcUseLeft\x27]>0x1&&(this[\x27fSrcUseLeft\x27]=0x1),this[\x27fSrcUseTop\x27]=_0x5590bb/this[\x27frameDisplayHeight\x27],this[\x27fSrcUseTop\x27]<0x0?this[\x27fSrcUseTop\x27]=0x0:this[\x27fSrcUseTop\x27]>0x1&&(this[\x27fSrcUseTop\x27]=0x1),this[\x27fSrcUseRight\x27]=_0x536b65/this[\x27frameDisplayWidth\x27],this[\x27fSrcUseRight\x27]<0x0?this[\x27fSrcUseRight\x27]=0x0:this[\x27fSrcUseRight\x27]>0x1&&(this[\x27fSrcUseRight\x27]=0x1),this[\x27fSrcUseBottom\x27]=_0x1e96da/this[\x27frameDisplayHeight\x27],this[\x27fSrcUseBottom\x27]<0x0?this[\x27fSrcUseBottom\x27]=0x0:this[\x27fSrcUseBottom\x27]>0x1&&(this[\x27fSrcUseBottom\x27]=0x1),this[\x27fSrcUseLeft\x27]>=this[\x27fSrcUseRight\x27]||this[\x27fSrcUseTop\x27]>=this[\x27fSrcUseBottom\x27])return\x20_0x31ddcf;_0x5d50c7=new\x20Float32Array([this[\x27fSrcUseLeft\x27],this[\x27fSrcUseBottom\x27],this[\x27fSrcUseLeft\x27],this[\x27fSrcUseTop\x27],this[\x27fSrcUseRight\x27],this[\x27fSrcUseTop\x27],this[\x27fSrcUseRight\x27],this[\x27fSrcUseBottom\x27]]);}else\x20_0x5d50c7=new\x20Float32Array([0x0,0x1,0x0,0x0,0x1,0x0,0x1,0x1]);this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27texturePosBuffer\x27]),this[\x27ctx\x27][\x27bufferSubData\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],0x0,_0x5d50c7),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null),_0x5d50c7=null;break;case\x20_0x206403:if(this[\x27frameDisplayWidth\x27]>0x0&&this[\x27frameDisplayHeight\x27]>0x0){if(this[\x27fDstUseLeft\x27]=_0x41f710/this[\x27frameDisplayWidth\x27],this[\x27fDstUseLeft\x27]<0x0?this[\x27fDstUseLeft\x27]=0x0:this[\x27fDstUseLeft\x27]>0x1&&(this[\x27fDstUseLeft\x27]=0x1),this[\x27fDstUseTop\x27]=_0x5590bb/this[\x27frameDisplayHeight\x27],this[\x27fDstUseTop\x27]<0x0?this[\x27fDstUseTop\x27]=0x0:this[\x27fDstUseTop\x27]>0x1&&(this[\x27fDstUseTop\x27]=0x1),this[\x27fDstUseRight\x27]=_0x536b65/this[\x27frameDisplayWidth\x27],this[\x27fDstUseRight\x27]<0x0?this[\x27fDstUseRight\x27]=0x0:this[\x27fDstUseRight\x27]>0x1&&(this[\x27fDstUseRight\x27]=0x1),this[\x27fDstUseBottom\x27]=_0x1e96da/this[\x27frameDisplayHeight\x27],this[\x27fDstUseBottom\x27]<0x0?this[\x27fDstUseBottom\x27]=0x0:this[\x27fDstUseBottom\x27]>0x1&&(this[\x27fDstUseBottom\x27]=0x1),this[\x27fDstUseLeft\x27]>=this[\x27fDstUseRight\x27]||this[\x27fDstUseTop\x27]>=this[\x27fDstUseBottom\x27])return\x20_0x31ddcf;(_0x135ea7=new\x20Float32Array(0xc))[0x0]=0x2*this[\x27fDstUseLeft\x27]-0x1,_0x135ea7[0x1]=0x1-0x2*this[\x27fDstUseBottom\x27],_0x135ea7[0x2]=0x0,_0x135ea7[0x3]=0x2*this[\x27fDstUseLeft\x27]-0x1,_0x135ea7[0x4]=0x1-0x2*this[\x27fDstUseTop\x27],_0x135ea7[0x5]=0x0,_0x135ea7[0x6]=0x2*this[\x27fDstUseRight\x27]-0x1,_0x135ea7[0x7]=0x1-0x2*this[\x27fDstUseTop\x27],_0x135ea7[0x8]=0x0,_0x135ea7[0x9]=0x2*this[\x27fDstUseRight\x27]-0x1,_0x135ea7[0xa]=0x1-0x2*this[\x27fDstUseBottom\x27],_0x135ea7[0xb]=0x0,this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27vertexPosBuffer\x27]),this[\x27ctx\x27][\x27bufferSubData\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],0x0,_0x135ea7),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null),_0x135ea7=null;}break;default:return\x20_0x86aef9;}return\x20_0xa87ede;}},{\x27key\x27:\x27SR_Destroy\x27,\x27value\x27:function(){if(null==this[\x27ctx\x27])return\x20_0x520965;this[\x27frameDisplayWidth\x27]=0x0,this[\x27frameDisplayHeight\x27]=0x0,this[\x27pFrameData\x27]=null;for(var\x20_0x45dbcd=0x0;_0x45dbcd<this[\x27nTextureNum\x27];_0x45dbcd++)0x0!=this[\x27nSurfaceTexture\x27][_0x45dbcd]&&null!=this[\x27ctx\x27]&&(this[\x27ctx\x27][\x27deleteTexture\x27](this[\x27nSurfaceTexture\x27][_0x45dbcd]),this[\x27nSurfaceTexture\x27][_0x45dbcd]=0x0);return\x20this[\x27SR_DelSubPort\x27](this[\x27nFECPort\x27]),this[\x27ctx\x27][\x27getExtension\x27](\x27WEBGL_lose_context\x27)[\x27loseContext\x27](),this[\x27ctx\x27]=null,this[\x27onlySupportedWebGL1\x27]=!0x1,this[\x27bAntialias\x27]=!0x1,this[\x27bRecreateTex\x27]=!0x0,this[\x27pFishParamManager\x27]=null,_0xa87ede;}},{\x27key\x27:\x27SR_SetCanvasSize\x27,\x27value\x27:function(_0x270c96,_0x520a5b){return\x20this[\x27canvas\x27][\x27width\x27]=_0x270c96,this[\x27canvas\x27][\x27height\x27]=_0x520a5b,_0xa87ede;}},{\x27key\x27:\x27SR_GetCanvasSize\x27,\x27value\x27:function(){return\x20console[\x27log\x27](\x27canvas\x5cx20width:\x27+this[\x27canvas\x27][\x27width\x27]+\x27,height:\x27+this[\x27canvas\x27][\x27height\x27]),_0xa87ede;}},{\x27key\x27:\x27SR_SetAntialias\x27,\x27value\x27:function(_0x3f93ac){return\x200x1==this[\x27onlySupportedWebGL1\x27]?_0x86aef9:(this[\x27bAntialias\x27]!=_0x3f93ac&&(this[\x27bRecreateTex\x27]=!0x0,this[\x27bAntialias\x27]=_0x3f93ac),_0xa87ede);}},{\x27key\x27:\x27SR_SetPTZDisplayMode\x27,\x27value\x27:function(_0x56d449){return\x20null==this[\x27pFishParamManager\x27]?_0x520965:this[\x27pFishParamManager\x27][\x27SetPTZDisplayMode\x27](_0x56d449);}},{\x27key\x27:\x27SR_SetFishParamManager\x27,\x27value\x27:function(_0x52f915){return\x20null!=this[\x27pFishParamManager\x27]?_0x86aef9:(this[\x27pFishParamManager\x27]=_0x52f915,_0xa87ede);}},{\x27key\x27:\x27_CreateSemiSphere\x27,\x27value\x27:function(_0x13c3d3,_0x3c0eef,_0xfcb7c8,_0x4b4979){if(null!=this[\x27pSemiSpherePos\x27]||null!=this[\x27pSemiSphereTex\x27])return\x20_0x520965;this[\x27pSemiSpherePos\x27]=new\x20Float32Array(0xa8c0),this[\x27pSemiSphereTex\x27]=new\x20Float32Array(0x7080);for(var\x20_0x306be6=(_0x3c0eef-_0x13c3d3)/(_0x4b4979-_0xfcb7c8),_0x115894=(_0x3c0eef-_0x13c3d3)/0x2*0x1,_0x18964f=6.2831852/0x3c,_0x399e01=0.0392699075,_0x29408f=0x0,_0xa1b95a=0x0,_0x190a15=0x0,_0x2823ad=0x0;_0x2823ad<0x3c;++_0x2823ad)for(var\x20_0x305025=0x0;_0x305025<0x28;++_0x305025){var\x20_0x55b496=_0x2823ad*_0x18964f;0x0==_0x2823ad&&(_0x29408f=_0x55b496);var\x20_0x163c07=0x3b==_0x2823ad?_0x29408f:(_0x2823ad+0x1)*_0x18964f,_0x38fa2b=-_0x305025*_0x399e01,_0x33daa7=-(_0x305025+0x1)*_0x399e01,_0x461f11=void\x200x0,_0x4105f8=void\x200x0;this[\x27pSemiSpherePos\x27][_0xa1b95a]=-0x1*Math[\x27cos\x27](_0x38fa2b)*Math[\x27cos\x27](_0x55b496),this[\x27pSemiSpherePos\x27][_0xa1b95a+0x1]=0x1*Math[\x27sin\x27](_0x38fa2b),this[\x27pSemiSpherePos\x27][_0xa1b95a+0x2]=-0x1*Math[\x27cos\x27](_0x38fa2b)*Math[\x27sin\x27](_0x55b496),_0x4105f8=0.5-0.5*(0x1+_0x38fa2b/1.5707963)*Math[\x27sin\x27](_0x55b496),_0x461f11=0.5-0.5*(0x1+_0x38fa2b/1.5707963)*Math[\x27cos\x27](_0x55b496),this[\x27pSemiSphereTex\x27][_0x190a15++]=(0x2*_0x461f11*_0x115894+0x1*_0x13c3d3)/0x1,this[\x27pSemiSphereTex\x27][_0x190a15++]=(0x2*_0x4105f8*_0x115894+_0xfcb7c8*_0x306be6)/_0x306be6,_0xa1b95a+=0x3,this[\x27pSemiSpherePos\x27][_0xa1b95a]=-0x1*Math[\x27cos\x27](_0x33daa7)*Math[\x27cos\x27](_0x55b496),this[\x27pSemiSpherePos\x27][_0xa1b95a+0x1]=0x1*Math[\x27sin\x27](_0x33daa7),this[\x27pSemiSpherePos\x27][_0xa1b95a+0x2]=-0x1*Math[\x27cos\x27](_0x33daa7)*Math[\x27sin\x27](_0x55b496),_0x4105f8=0.5-0.5*(0x1+_0x33daa7/1.5707963)*Math[\x27sin\x27](_0x55b496),_0x461f11=0.5-0.5*(0x1+_0x33daa7/1.5707963)*Math[\x27cos\x27](_0x55b496),this[\x27pSemiSphereTex\x27][_0x190a15++]=(0x2*_0x461f11*_0x115894+0x1*_0x13c3d3)/0x1,this[\x27pSemiSphereTex\x27][_0x190a15++]=(0x2*_0x4105f8*_0x115894+_0xfcb7c8*_0x306be6)/_0x306be6,_0xa1b95a+=0x3,this[\x27pSemiSpherePos\x27][_0xa1b95a]=-0x1*Math[\x27cos\x27](_0x38fa2b)*Math[\x27cos\x27](_0x163c07),this[\x27pSemiSpherePos\x27][_0xa1b95a+0x1]=0x1*Math[\x27sin\x27](_0x38fa2b),this[\x27pSemiSpherePos\x27][_0xa1b95a+0x2]=-0x1*Math[\x27cos\x27](_0x38fa2b)*Math[\x27sin\x27](_0x163c07),_0x4105f8=0.5-0.5*(0x1+_0x38fa2b/1.5707963)*Math[\x27sin\x27](_0x163c07),_0x461f11=0.5-0.5*(0x1+_0x38fa2b/1.5707963)*Math[\x27cos\x27](_0x163c07),this[\x27pSemiSphereTex\x27][_0x190a15++]=(0x2*_0x461f11*_0x115894+0x1*_0x13c3d3)/0x1,this[\x27pSemiSphereTex\x27][_0x190a15++]=(0x2*_0x4105f8*_0x115894+_0xfcb7c8*_0x306be6)/_0x306be6,_0xa1b95a+=0x3,this[\x27pSemiSpherePos\x27][_0xa1b95a]=-0x1*Math[\x27cos\x27](_0x38fa2b)*Math[\x27cos\x27](_0x163c07),this[\x27pSemiSpherePos\x27][_0xa1b95a+0x1]=0x1*Math[\x27sin\x27](_0x38fa2b),this[\x27pSemiSpherePos\x27][_0xa1b95a+0x2]=-0x1*Math[\x27cos\x27](_0x38fa2b)*Math[\x27sin\x27](_0x163c07),_0x4105f8=0.5-0.5*(0x1+_0x38fa2b/1.5707963)*Math[\x27sin\x27](_0x163c07),_0x461f11=0.5-0.5*(0x1+_0x38fa2b/1.5707963)*Math[\x27cos\x27](_0x163c07),this[\x27pSemiSphereTex\x27][_0x190a15++]=(0x2*_0x461f11*_0x115894+0x1*_0x13c3d3)/0x1,this[\x27pSemiSphereTex\x27][_0x190a15++]=(0x2*_0x4105f8*_0x115894+_0xfcb7c8*_0x306be6)/_0x306be6,_0xa1b95a+=0x3,this[\x27pSemiSpherePos\x27][_0xa1b95a]=-0x1*Math[\x27cos\x27](_0x33daa7)*Math[\x27cos\x27](_0x55b496),this[\x27pSemiSpherePos\x27][_0xa1b95a+0x1]=0x1*Math[\x27sin\x27](_0x33daa7),this[\x27pSemiSpherePos\x27][_0xa1b95a+0x2]=-0x1*Math[\x27cos\x27](_0x33daa7)*Math[\x27sin\x27](_0x55b496),_0x4105f8=0.5-0.5*(0x1+_0x33daa7/1.5707963)*Math[\x27sin\x27](_0x55b496),_0x461f11=0.5-0.5*(0x1+_0x33daa7/1.5707963)*Math[\x27cos\x27](_0x55b496),this[\x27pSemiSphereTex\x27][_0x190a15++]=(0x2*_0x461f11*_0x115894+0x1*_0x13c3d3)/0x1,this[\x27pSemiSphereTex\x27][_0x190a15++]=(0x2*_0x4105f8*_0x115894+_0xfcb7c8*_0x306be6)/_0x306be6,_0xa1b95a+=0x3,this[\x27pSemiSpherePos\x27][_0xa1b95a]=-0x1*Math[\x27cos\x27](_0x33daa7)*Math[\x27cos\x27](_0x163c07),this[\x27pSemiSpherePos\x27][_0xa1b95a+0x1]=0x1*Math[\x27sin\x27](_0x33daa7),this[\x27pSemiSpherePos\x27][_0xa1b95a+0x2]=-0x1*Math[\x27cos\x27](_0x33daa7)*Math[\x27sin\x27](_0x163c07),_0x4105f8=0.5-0.5*(0x1+_0x33daa7/1.5707963)*Math[\x27sin\x27](_0x163c07),_0x461f11=0.5-0.5*(0x1+_0x33daa7/1.5707963)*Math[\x27cos\x27](_0x163c07),this[\x27pSemiSphereTex\x27][_0x190a15++]=(0x2*_0x461f11*_0x115894+0x1*_0x13c3d3)/0x1,this[\x27pSemiSphereTex\x27][_0x190a15++]=(0x2*_0x4105f8*_0x115894+_0xfcb7c8*_0x306be6)/_0x306be6,_0xa1b95a+=0x3;}return\x20this[\x27nSemiSpherePosNum\x27]=_0xa1b95a/0x3,this[\x27nSemiSpherePosSize\x27]=0x3,this[\x27nSemiSphereTexSize\x27]=0x2,_0xa87ede;}},{\x27key\x27:\x27_CreateCylinder\x27,\x27value\x27:function(_0x44cf2d,_0x21ffe7,_0x381786,_0x4528b6,_0x2f5aa3,_0x739606,_0x3b790c){if(null!=this[\x27pCylinderPos\x27]||null!=this[\x27pCylinderTex\x27])return\x20_0x520965;if(Math[\x27abs\x27](_0x739606-0x0)<_0x4a23c6)this[\x27fCylinderHeight\x27]=0x2;else{if(_0x739606<0.5||_0x739606>0x6)return\x20_0x31ddcf;this[\x27fCylinderHeight\x27]=_0x739606;}if(Math[\x27abs\x27](_0x3b790c-0x0)<_0x4a23c6)this[\x27fCylinderRadius\x27]=_0x44cf2d==_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]||_0x44cf2d==_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]?0x2:0x1;else{if(_0x3b790c<0.5||_0x3b790c>0x4)return\x20_0x31ddcf;this[\x27fCylinderRadius\x27]=_0x3b790c;}if(this[\x27pCylinderPos\x27]=new\x20Float32Array(0xa8c0),this[\x27pCylinderTex\x27]=new\x20Float32Array(0x7080),null==this[\x27pCylinderPos\x27]||null==this[\x27pCylinderTex\x27])return\x20this[\x27pCylinderPos\x27]=null,this[\x27pCylinderTex\x27]=null,_0x3d12cf;for(var\x20_0xcbf3c9=(_0x381786-_0x21ffe7)/(_0x2f5aa3-_0x4528b6),_0x48eb5f=(_0x381786-_0x21ffe7)/0x2*0x1,_0x5485a5=6.2831852/0x3c,_0x26550d=this[\x27fCylinderHeight\x27]/_0x40743d,_0xc19360=0x0,_0xcec4ef=0x0,_0x48d549=0x0;_0x48d549<0x3c;++_0x48d549)for(var\x20_0x481b39=0x0;_0x481b39<_0x40743d;++_0x481b39){var\x20_0x4f2b3f=_0x48d549*_0x5485a5,_0x788b55=(_0x48d549+0x1)*_0x5485a5,_0x23966a=void\x200x0,_0xda562b=void\x200x0;this[\x27pCylinderPos\x27][_0xc19360]=-this[\x27fCylinderRadius\x27]*Math[\x27sin\x27](_0x4f2b3f),this[\x27pCylinderPos\x27][_0xc19360+0x1]=this[\x27fCylinderHeight\x27]/0x2-_0x481b39*_0x26550d,this[\x27pCylinderPos\x27][_0xc19360+0x2]=-this[\x27fCylinderRadius\x27]*Math[\x27cos\x27](_0x4f2b3f),_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]==_0x44cf2d||_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_FLOOR\x27]==_0x44cf2d?(_0x23966a=0.5+(0.1+0.01*_0x481b39)*Math[\x27sin\x27](_0x4f2b3f),_0xda562b=0.5+(0.1+0.01*_0x481b39)*Math[\x27cos\x27](_0x4f2b3f)):(_0x23966a=0.5-(0.5-0.01*_0x481b39)*Math[\x27sin\x27](_0x4f2b3f),_0xda562b=0.5+(0.5-0.01*_0x481b39)*Math[\x27cos\x27](_0x4f2b3f)),this[\x27pCylinderTex\x27][_0xcec4ef++]=(0x2*_0x23966a*_0x48eb5f+0x1*_0x21ffe7)/0x1,this[\x27pCylinderTex\x27][_0xcec4ef++]=(0x2*_0xda562b*_0x48eb5f+_0x4528b6*_0xcbf3c9)/_0xcbf3c9,_0xc19360+=0x3,this[\x27pCylinderPos\x27][_0xc19360]=-this[\x27fCylinderRadius\x27]*Math[\x27sin\x27](_0x4f2b3f),this[\x27pCylinderPos\x27][_0xc19360+0x1]=this[\x27fCylinderHeight\x27]/0x2-(_0x481b39+0x1)*_0x26550d,this[\x27pCylinderPos\x27][_0xc19360+0x2]=-this[\x27fCylinderRadius\x27]*Math[\x27cos\x27](_0x4f2b3f),_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]==_0x44cf2d||_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_FLOOR\x27]==_0x44cf2d?(_0x23966a=0.5+(0.1+0.01*(_0x481b39+0x1))*Math[\x27sin\x27](_0x4f2b3f),_0xda562b=0.5+(0.1+0.01*(_0x481b39+0x1))*Math[\x27cos\x27](_0x4f2b3f)):(_0x23966a=0.5-(0.5-0.01*(_0x481b39+0x1))*Math[\x27sin\x27](_0x4f2b3f),_0xda562b=0.5+(0.5-0.01*(_0x481b39+0x1))*Math[\x27cos\x27](_0x4f2b3f)),this[\x27pCylinderTex\x27][_0xcec4ef++]=(0x2*_0x23966a*_0x48eb5f+0x1*_0x21ffe7)/0x1,this[\x27pCylinderTex\x27][_0xcec4ef++]=(0x2*_0xda562b*_0x48eb5f+_0x4528b6*_0xcbf3c9)/_0xcbf3c9,_0xc19360+=0x3,this[\x27pCylinderPos\x27][_0xc19360]=-this[\x27fCylinderRadius\x27]*Math[\x27sin\x27](_0x788b55),this[\x27pCylinderPos\x27][_0xc19360+0x1]=this[\x27fCylinderHeight\x27]/0x2-_0x481b39*_0x26550d,this[\x27pCylinderPos\x27][_0xc19360+0x2]=-this[\x27fCylinderRadius\x27]*Math[\x27cos\x27](_0x788b55),_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]==_0x44cf2d||_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_FLOOR\x27]==_0x44cf2d?(_0x23966a=0.5+(0.1+0.01*_0x481b39)*Math[\x27sin\x27](_0x788b55),_0xda562b=0.5+(0.1+0.01*_0x481b39)*Math[\x27cos\x27](_0x788b55)):(_0x23966a=0.5-(0.5-0.01*_0x481b39)*Math[\x27sin\x27](_0x788b55),_0xda562b=0.5+(0.5-0.01*_0x481b39)*Math[\x27cos\x27](_0x788b55)),this[\x27pCylinderTex\x27][_0xcec4ef++]=(0x2*_0x23966a*_0x48eb5f+0x1*_0x21ffe7)/0x1,this[\x27pCylinderTex\x27][_0xcec4ef++]=(0x2*_0xda562b*_0x48eb5f+_0x4528b6*_0xcbf3c9)/_0xcbf3c9,_0xc19360+=0x3,this[\x27pCylinderPos\x27][_0xc19360]=-this[\x27fCylinderRadius\x27]*Math[\x27sin\x27](_0x788b55),this[\x27pCylinderPos\x27][_0xc19360+0x1]=this[\x27fCylinderHeight\x27]/0x2-_0x481b39*_0x26550d,this[\x27pCylinderPos\x27][_0xc19360+0x2]=-this[\x27fCylinderRadius\x27]*Math[\x27cos\x27](_0x788b55),_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]==_0x44cf2d||_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_FLOOR\x27]==_0x44cf2d?(_0x23966a=0.5+(0.1+0.01*_0x481b39)*Math[\x27sin\x27](_0x788b55),_0xda562b=0.5+(0.1+0.01*_0x481b39)*Math[\x27cos\x27](_0x788b55)):(_0x23966a=0.5-(0.5-0.01*_0x481b39)*Math[\x27sin\x27](_0x788b55),_0xda562b=0.5+(0.5-0.01*_0x481b39)*Math[\x27cos\x27](_0x788b55)),this[\x27pCylinderTex\x27][_0xcec4ef++]=(0x2*_0x23966a*_0x48eb5f+0x1*_0x21ffe7)/0x1,this[\x27pCylinderTex\x27][_0xcec4ef++]=(0x2*_0xda562b*_0x48eb5f+_0x4528b6*_0xcbf3c9)/_0xcbf3c9,_0xc19360+=0x3,this[\x27pCylinderPos\x27][_0xc19360]=-this[\x27fCylinderRadius\x27]*Math[\x27sin\x27](_0x4f2b3f),this[\x27pCylinderPos\x27][_0xc19360+0x1]=this[\x27fCylinderHeight\x27]/0x2-(_0x481b39+0x1)*_0x26550d,this[\x27pCylinderPos\x27][_0xc19360+0x2]=-this[\x27fCylinderRadius\x27]*Math[\x27cos\x27](_0x4f2b3f),_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]==_0x44cf2d||_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_FLOOR\x27]==_0x44cf2d?(_0x23966a=0.5+(0.1+0.01*(_0x481b39+0x1))*Math[\x27sin\x27](_0x4f2b3f),_0xda562b=0.5+(0.1+0.01*(_0x481b39+0x1))*Math[\x27cos\x27](_0x4f2b3f)):(_0x23966a=0.5-(0.5-0.01*(_0x481b39+0x1))*Math[\x27sin\x27](_0x4f2b3f),_0xda562b=0.5+(0.5-0.01*(_0x481b39+0x1))*Math[\x27cos\x27](_0x4f2b3f)),this[\x27pCylinderTex\x27][_0xcec4ef++]=(0x2*_0x23966a*_0x48eb5f+0x1*_0x21ffe7)/0x1,this[\x27pCylinderTex\x27][_0xcec4ef++]=(0x2*_0xda562b*_0x48eb5f+_0x4528b6*_0xcbf3c9)/_0xcbf3c9,_0xc19360+=0x3,this[\x27pCylinderPos\x27][_0xc19360]=-this[\x27fCylinderRadius\x27]*Math[\x27sin\x27](_0x788b55),this[\x27pCylinderPos\x27][_0xc19360+0x1]=this[\x27fCylinderHeight\x27]/0x2-(_0x481b39+0x1)*_0x26550d,this[\x27pCylinderPos\x27][_0xc19360+0x2]=-this[\x27fCylinderRadius\x27]*Math[\x27cos\x27](_0x788b55),_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]==_0x44cf2d||_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_FLOOR\x27]==_0x44cf2d?(_0x23966a=0.5+(0.1+0.01*(_0x481b39+0x1))*Math[\x27sin\x27](_0x788b55),_0xda562b=0.5+(0.1+0.01*(_0x481b39+0x1))*Math[\x27cos\x27](_0x788b55)):(_0x23966a=0.5-(0.5-0.01*(_0x481b39+0x1))*Math[\x27sin\x27](_0x788b55),_0xda562b=0.5+(0.5-0.01*(_0x481b39+0x1))*Math[\x27cos\x27](_0x788b55)),this[\x27pCylinderTex\x27][_0xcec4ef++]=(0x2*_0x23966a*_0x48eb5f+0x1*_0x21ffe7)/0x1,this[\x27pCylinderTex\x27][_0xcec4ef++]=(0x2*_0xda562b*_0x48eb5f+_0x4528b6*_0xcbf3c9)/_0xcbf3c9,_0xc19360+=0x3;}return\x20this[\x27nCylinderPosNum\x27]=_0xc19360/0x3,this[\x27nCylinderPosSize\x27]=0x3,this[\x27nCylinderTexSize\x27]=0x2,_0xa87ede;}},{\x27key\x27:\x27_CreateArcSphere\x27,\x27value\x27:function(_0x17b8f4,_0x5a4278,_0x5e025d,_0x4a61b7,_0x3a8181){if(null!=this[\x27pArcSpherePos\x27]||null!=this[\x27pArcSphereTex\x27])return\x20_0x520965;if(_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]){if(_0x4a61b7>0x0||_0x3a8181<0x1)return\x20SR_ERR_PARAM;}else{if(_0x17b8f4!=_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27])return\x20_0x86aef9;if(_0x5a4278>0x0||_0x5e025d<0x1)return\x20SR_ERR_PARAM;}this[\x27fImageWidth\x27]=0x1,this[\x27fImageHeight\x27]=(_0x5e025d-_0x5a4278)/(_0x3a8181-_0x4a61b7),this[\x27fTexCenterX\x27]=(_0x5a4278+_0x5e025d)/0x2*this[\x27fImageWidth\x27],this[\x27fTexCenterY\x27]=(_0x4a61b7+_0x3a8181)/0x2*this[\x27fImageHeight\x27],this[\x27fTexRadius\x27]=(_0x5e025d-_0x5a4278)/0x2*this[\x27fImageWidth\x27];var\x20_0x32c935=0x19;if(null==this[\x27pArcSphereTex\x27]&&(this[\x27pArcSphereTex\x27]=new\x20Float32Array(0x3960),null==this[\x27pArcSphereTex\x27]))return\x20_0x3d12cf;if(null==this[\x27pArcSpherePos\x27]&&(this[\x27pArcSpherePos\x27]=new\x20Float32Array(0x5610),null==this[\x27pArcSpherePos\x27]))return\x20_0x3d12cf;var\x20_0x9aa956=new\x20Float32Array(0x40);if(null==_0x9aa956)return\x20_0x3d12cf;var\x20_0x16db8c=_0xa87ede;if(_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]?_0x16db8c=this[\x27_ComputeLatitudeHorizontal\x27](_0x9aa956,_0x32c935,0x28,0x1):_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]&&(_0x16db8c=this[\x27_ComputeLatitudeVertical\x27](_0x9aa956,_0x32c935,0x28,0x1)),_0xa87ede!=_0x16db8c)return\x20this[\x27pArcSpherePos\x27]=null,this[\x27pArcSphereTex\x27]=null,_0x16db8c;this[\x27fFirstLatitude\x27]=_0x9aa956[0xc],this[\x27fLastLatitude\x27]=_0x9aa956[0x33];var\x20_0x57502c=0x0,_0x5595c4=0x0,_0x5f4e16=new\x20Float32Array(0x5);if(null==_0x5f4e16)return\x20this[\x27pArcSpherePos\x27]=null,this[\x27pArcSphereTex\x27]=null,_0x3d12cf;for(var\x20_0x2de16a=_0x530a52/0x18,_0x4431c2=-0xc;_0x4431c2<0xc;++_0x4431c2)for(var\x20_0x27ba1b=_0x4431c2<0x0?-_0x4431c2:_0x4431c2,_0x2ade6b=_0x4431c2<0x0?_0x27ba1b:_0x27ba1b+0x1,_0x495f79=_0x4431c2<0x0?0x40-0x2*(_0x27ba1b-0x1)-0x2:0x40-0x2*_0x27ba1b-0x2,_0x123bfe=0x0;_0x123bfe<_0x495f79;++_0x123bfe,++_0x2ade6b)_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]?this[\x27_ComputeVertexAndTexturePosHorizontal\x27](0x1,1.5707963-_0x2de16a*_0x4431c2,_0x9aa956[_0x2ade6b],_0x5f4e16):_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]&&this[\x27_ComputeVertexAndTexturePosVertical\x27](0x1,1.5707963-_0x2de16a*_0x4431c2,_0x9aa956[_0x2ade6b],_0x5f4e16),this[\x27pArcSpherePos\x27][_0x57502c]=_0x5f4e16[0x0],this[\x27pArcSpherePos\x27][_0x57502c+0x1]=_0x5f4e16[0x1],this[\x27pArcSpherePos\x27][_0x57502c+0x2]=_0x5f4e16[0x2],this[\x27pArcSphereTex\x27][_0x5595c4++]=_0x5f4e16[0x3],this[\x27pArcSphereTex\x27][_0x5595c4++]=_0x5f4e16[0x4],_0x57502c+=0x3,_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]?this[\x27_ComputeVertexAndTexturePosHorizontal\x27](0x1,1.5707963-_0x2de16a*(_0x4431c2+0x1),_0x9aa956[_0x2ade6b],_0x5f4e16):_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]&&this[\x27_ComputeVertexAndTexturePosVertical\x27](0x1,1.5707963-_0x2de16a*(_0x4431c2+0x1),_0x9aa956[_0x2ade6b],_0x5f4e16),this[\x27pArcSpherePos\x27][_0x57502c]=_0x5f4e16[0x0],this[\x27pArcSpherePos\x27][_0x57502c+0x1]=_0x5f4e16[0x1],this[\x27pArcSpherePos\x27][_0x57502c+0x2]=_0x5f4e16[0x2],this[\x27pArcSphereTex\x27][_0x5595c4++]=_0x5f4e16[0x3],this[\x27pArcSphereTex\x27][_0x5595c4++]=_0x5f4e16[0x4],_0x57502c+=0x3,_0x4431c2>=0x0&&0x0==_0x123bfe?_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]?this[\x27_ComputeVertexAndTexturePosHorizontal\x27](0x1,1.5707963-_0x2de16a*_0x4431c2,_0x9aa956[_0x2ade6b-0x1],_0x5f4e16):_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]&&this[\x27_ComputeVertexAndTexturePosVertical\x27](0x1,1.5707963-_0x2de16a*_0x4431c2,_0x9aa956[_0x2ade6b-0x1],_0x5f4e16):_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]?this[\x27_ComputeVertexAndTexturePosHorizontal\x27](0x1,1.5707963-_0x2de16a*(_0x4431c2+0x1),_0x9aa956[_0x2ade6b-0x1],_0x5f4e16):_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]&&this[\x27_ComputeVertexAndTexturePosVertical\x27](0x1,1.5707963-_0x2de16a*(_0x4431c2+0x1),_0x9aa956[_0x2ade6b-0x1],_0x5f4e16),this[\x27pArcSpherePos\x27][_0x57502c]=_0x5f4e16[0x0],this[\x27pArcSpherePos\x27][_0x57502c+0x1]=_0x5f4e16[0x1],this[\x27pArcSpherePos\x27][_0x57502c+0x2]=_0x5f4e16[0x2],this[\x27pArcSphereTex\x27][_0x5595c4++]=_0x5f4e16[0x3],this[\x27pArcSphereTex\x27][_0x5595c4++]=_0x5f4e16[0x4],_0x57502c+=0x3,_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]?this[\x27_ComputeVertexAndTexturePosHorizontal\x27](0x1,1.5707963-_0x2de16a*(_0x4431c2+0x1),_0x9aa956[_0x2ade6b],_0x5f4e16):_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]&&this[\x27_ComputeVertexAndTexturePosVertical\x27](0x1,1.5707963-_0x2de16a*(_0x4431c2+0x1),_0x9aa956[_0x2ade6b],_0x5f4e16),this[\x27pArcSpherePos\x27][_0x57502c]=_0x5f4e16[0x0],this[\x27pArcSpherePos\x27][_0x57502c+0x1]=_0x5f4e16[0x1],this[\x27pArcSpherePos\x27][_0x57502c+0x2]=_0x5f4e16[0x2],this[\x27pArcSphereTex\x27][_0x5595c4++]=_0x5f4e16[0x3],this[\x27pArcSphereTex\x27][_0x5595c4++]=_0x5f4e16[0x4],_0x57502c+=0x3,_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]?this[\x27_ComputeVertexAndTexturePosHorizontal\x27](0x1,1.5707963-_0x2de16a*_0x4431c2,_0x9aa956[_0x2ade6b],_0x5f4e16):_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]&&this[\x27_ComputeVertexAndTexturePosVertical\x27](0x1,1.5707963-_0x2de16a*_0x4431c2,_0x9aa956[_0x2ade6b],_0x5f4e16),this[\x27pArcSpherePos\x27][_0x57502c]=_0x5f4e16[0x0],this[\x27pArcSpherePos\x27][_0x57502c+0x1]=_0x5f4e16[0x1],this[\x27pArcSpherePos\x27][_0x57502c+0x2]=_0x5f4e16[0x2],this[\x27pArcSphereTex\x27][_0x5595c4++]=_0x5f4e16[0x3],this[\x27pArcSphereTex\x27][_0x5595c4++]=_0x5f4e16[0x4],_0x57502c+=0x3,_0x4431c2<0x0&&_0x123bfe==_0x495f79-0x1?_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]?this[\x27_ComputeVertexAndTexturePosHorizontal\x27](0x1,1.5707963-_0x2de16a*(_0x4431c2+0x1),_0x9aa956[_0x2ade6b+0x1],_0x5f4e16):_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]&&this[\x27_ComputeVertexAndTexturePosVertical\x27](0x1,1.5707963-_0x2de16a*(_0x4431c2+0x1),_0x9aa956[_0x2ade6b+0x1],_0x5f4e16):_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]?this[\x27_ComputeVertexAndTexturePosHorizontal\x27](0x1,1.5707963-_0x2de16a*_0x4431c2,_0x9aa956[_0x2ade6b+0x1],_0x5f4e16):_0x17b8f4==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]&&this[\x27_ComputeVertexAndTexturePosVertical\x27](0x1,1.5707963-_0x2de16a*_0x4431c2,_0x9aa956[_0x2ade6b+0x1],_0x5f4e16),this[\x27pArcSpherePos\x27][_0x57502c]=_0x5f4e16[0x0],this[\x27pArcSpherePos\x27][_0x57502c+0x1]=_0x5f4e16[0x1],this[\x27pArcSpherePos\x27][_0x57502c+0x2]=_0x5f4e16[0x2],this[\x27pArcSphereTex\x27][_0x5595c4++]=_0x5f4e16[0x3],this[\x27pArcSphereTex\x27][_0x5595c4++]=_0x5f4e16[0x4],_0x57502c+=0x3;return\x20this[\x27nArcSpherePosNum\x27]=_0x57502c/0x3,this[\x27nArcSpherePosSize\x27]=0x3,this[\x27nArcSphereTexSize\x27]=0x2,_0x9aa956=null,_0x5f4e16=null,_0xa87ede;}},{\x27key\x27:\x27_ComputeIntersectionOfPlaneAndLongtitude\x27,\x27value\x27:function(_0x45fd53,_0x47d03e,_0x217c54){if(null==_0x45fd53)return\x20_0x31ddcf;var\x20_0x2976b1,_0x4374a3=_0x45fd53[0x1]*_0x217c54,_0x1eff9b=_0x45fd53[0x2]*_0x217c54*Math[\x27sin\x27](_0x47d03e),_0x68ac01=-_0x45fd53[0x3],_0x257e8f=0x0,_0x4a835b=0x0;if(_0x45fd53[0x1]>0x0){var\x20_0x375aae=_0x4374a3*_0x4374a3*_0x68ac01*_0x68ac01-(_0x4374a3*_0x4374a3+_0x1eff9b*_0x1eff9b)*(_0x68ac01*_0x68ac01-_0x1eff9b*_0x1eff9b);_0x257e8f=(-_0x4374a3*_0x68ac01-Math[\x27sqrt\x27](_0x375aae))/(_0x4374a3*_0x4374a3+_0x1eff9b*_0x1eff9b),_0x375aae=_0x1eff9b*_0x1eff9b*_0x68ac01*_0x68ac01-(_0x4374a3*_0x4374a3+_0x1eff9b*_0x1eff9b)*(_0x68ac01*_0x68ac01-_0x4374a3*_0x4374a3),_0x4a835b=(-_0x1eff9b*_0x68ac01+Math[\x27sqrt\x27](_0x375aae))/(_0x4374a3*_0x4374a3+_0x1eff9b*_0x1eff9b);}if(_0x45fd53[0x1]<0x0){var\x20_0x4908e2=_0x4374a3*_0x4374a3*_0x68ac01*_0x68ac01-(_0x4374a3*_0x4374a3+_0x1eff9b*_0x1eff9b)*(_0x68ac01*_0x68ac01-_0x1eff9b*_0x1eff9b);_0x257e8f=(-_0x4374a3*_0x68ac01+Math[\x27sqrt\x27](_0x4908e2))/(_0x4374a3*_0x4374a3+_0x1eff9b*_0x1eff9b),_0x4908e2=_0x1eff9b*_0x1eff9b*_0x68ac01*_0x68ac01-(_0x4374a3*_0x4374a3+_0x1eff9b*_0x1eff9b)*(_0x68ac01*_0x68ac01-_0x4374a3*_0x4374a3),_0x4a835b=(-_0x1eff9b*_0x68ac01+Math[\x27sqrt\x27](_0x4908e2))/(_0x4374a3*_0x4374a3+_0x1eff9b*_0x1eff9b);}return\x20_0x217c54*Math[\x27cos\x27](_0x47d03e)*_0x4a835b,_0x2976b1=-_0x217c54*_0x257e8f,-_0x217c54*Math[\x27sin\x27](_0x47d03e)*_0x4a835b,Math[\x27asin\x27](_0x2976b1/_0x217c54);}},{\x27key\x27:\x27_ComputeLatitudeHorizontal\x27,\x27value\x27:function(_0x1d9035,_0x4201d9,_0x55cdcb,_0x17ff34){if(null==_0x1d9035)return\x20_0x31ddcf;var\x20_0x28b004=0x0,_0x96e209=(this[\x27fTexCenterY\x27],_0x530a52/(_0x4201d9-0x1)),_0x563232=_0x530a52*this[\x27fTexCenterY\x27]/(0x2*this[\x27fTexRadius\x27]),_0x295ce4=Math[\x27asin\x27](this[\x27fTexCenterY\x27]/this[\x27fTexRadius\x27]),_0x1c880c=Math[\x27atan\x27](Math[\x27cos\x27](_0x563232)/(Math[\x27sin\x27](_0x563232)-Math[\x27sin\x27](_0x295ce4))),_0x456365=new\x20Float32Array(0x4);_0x456365[0x0]=0x0,_0x456365[0x1]=Math[\x27sin\x27](_0x1c880c),_0x456365[0x2]=Math[\x27cos\x27](_0x1c880c),_0x456365[0x3]=-_0x17ff34*Math[\x27sin\x27](_0x1c880c)*Math[\x27sin\x27](_0x295ce4),_0x1d9035[_0x28b004++]=_0x563232;for(var\x20_0x27acbc=0x1;_0x27acbc<=(_0x4201d9-0x3)/0x2;++_0x27acbc){var\x20_0x3d819d=this[\x27_ComputeIntersectionOfPlaneAndLongtitude\x27](_0x456365,1.5707963-_0x96e209*_0x27acbc,_0x17ff34);_0x1d9035[_0x28b004++]=_0x3d819d;}for(var\x20_0x416567=-Math[\x27asin\x27]((this[\x27fImageHeight\x27]-this[\x27fTexCenterY\x27])/this[\x27fTexRadius\x27]),_0xfbeb74=_0x295ce4,_0x757933=(_0xfbeb74-_0x416567)/(_0x55cdcb-0x1),_0x2194fe=0x0;_0x2194fe<_0x55cdcb;++_0x2194fe)_0x1d9035[_0x28b004++]=_0xfbeb74-_0x2194fe*_0x757933;var\x20_0x9de884=_0x416567,_0x950ea=_0x530a52*(this[\x27fTexCenterY\x27]-this[\x27fImageHeight\x27])/(0x2*this[\x27fTexRadius\x27]);_0x1c880c=Math[\x27atan\x27](Math[\x27cos\x27](_0x950ea)/(Math[\x27sin\x27](_0x9de884)-Math[\x27sin\x27](_0x950ea)));var\x20_0x5db530=new\x20Float32Array(0x4);_0x5db530[0x0]=0x0,_0x5db530[0x1]=-Math[\x27sin\x27](_0x1c880c),_0x5db530[0x2]=Math[\x27cos\x27](_0x1c880c),_0x5db530[0x3]=_0x17ff34*Math[\x27sin\x27](_0x1c880c)*Math[\x27sin\x27](_0x9de884);for(var\x20_0x4faffc=0x1;_0x4faffc<=(_0x4201d9-0x3)/0x2;++_0x4faffc){var\x20_0x4d8954=this[\x27_ComputeIntersectionOfPlaneAndLongtitude\x27](_0x5db530,_0x96e209*_0x4faffc,_0x17ff34);_0x1d9035[_0x28b004++]=_0x4d8954;}return\x20_0x1d9035[_0x28b004++]=_0x950ea,_0x456365=null,_0x5db530=null,_0xa87ede;}},{\x27key\x27:\x27_ComputeVertexAndTexturePosHorizontal\x27,\x27value\x27:function(_0x237ede,_0x4d0778,_0x13a528,_0x4db42c){if(null==_0x4db42c)return\x20_0x31ddcf;_0x4db42c[0x2]=-_0x237ede*Math[\x27cos\x27](_0x13a528)*Math[\x27sin\x27](_0x4d0778),_0x4db42c[0x0]=_0x237ede*Math[\x27cos\x27](_0x13a528)*Math[\x27cos\x27](_0x4d0778),_0x4db42c[0x1]=_0x237ede*Math[\x27sin\x27](_0x13a528);var\x20_0x202bd0,_0x2a92e7=-Math[\x27asin\x27](-_0x4db42c[0x2]/_0x237ede)/_0x530a52;_0x202bd0=_0x13a528>=0x0?Math[\x27acos\x27](_0x4db42c[0x0]/Math[\x27sqrt\x27](_0x4db42c[0x0]*_0x4db42c[0x0]+_0x4db42c[0x1]*_0x4db42c[0x1])):6.2831852-Math[\x27acos\x27](_0x4db42c[0x0]/Math[\x27sqrt\x27](_0x4db42c[0x0]*_0x4db42c[0x0]+_0x4db42c[0x1]*_0x4db42c[0x1]));var\x20_0x41db05=this[\x27fTexCenterX\x27]-this[\x27fTexRadius\x27],_0x53c029=this[\x27fTexRadius\x27]-this[\x27fTexCenterY\x27];return\x20_0x4db42c[0x3]=(Math[\x27cos\x27](_0x202bd0)*this[\x27fTexRadius\x27]*(0x1+0x2*_0x2a92e7)+this[\x27fTexRadius\x27]+_0x41db05)/this[\x27fImageWidth\x27],_0x4db42c[0x4]=(Math[\x27sin\x27](_0x202bd0)*this[\x27fTexRadius\x27]*(-0x1-0x2*_0x2a92e7)+this[\x27fTexRadius\x27]-_0x53c029)/this[\x27fImageHeight\x27],_0xa87ede;}},{\x27key\x27:\x27_ComputeLatitudeVertical\x27,\x27value\x27:function(_0x34484c,_0xb0c36,_0x2a9bf2,_0x46e820){if(null==_0x34484c)return\x20SR_ERR_PARAM;var\x20_0x59bfbe=0x0,_0x328331=_0x530a52/(_0xb0c36-0x1),_0x44937f=_0x530a52*this[\x27fTexCenterX\x27]/(0x2*this[\x27fTexRadius\x27]),_0x5ed7ac=Math[\x27asin\x27](this[\x27fTexCenterX\x27]/this[\x27fTexRadius\x27]),_0x5524c3=Math[\x27atan\x27](Math[\x27cos\x27](_0x44937f)/(Math[\x27sin\x27](_0x44937f)-Math[\x27sin\x27](_0x5ed7ac))),_0x1969e8=new\x20Float32Array(0x4);_0x1969e8[0x0]=0x0,_0x1969e8[0x1]=Math[\x27sin\x27](_0x5524c3),_0x1969e8[0x2]=Math[\x27cos\x27](_0x5524c3),_0x1969e8[0x3]=-_0x46e820*Math[\x27sin\x27](_0x5524c3)*Math[\x27sin\x27](_0x5ed7ac),_0x34484c[_0x59bfbe++]=_0x44937f;for(var\x20_0x20ee3e=0x1;_0x20ee3e<=(_0xb0c36-0x3)/0x2;++_0x20ee3e){var\x20_0x2386b2=this[\x27_ComputeIntersectionOfPlaneAndLongtitude\x27](_0x1969e8,1.5707963-_0x328331*_0x20ee3e,_0x46e820);_0x34484c[_0x59bfbe++]=_0x2386b2;}for(var\x20_0x2c3055=-Math[\x27asin\x27]((this[\x27fImageWidth\x27]-this[\x27fTexCenterX\x27])/this[\x27fTexRadius\x27]),_0x40c0b8=_0x5ed7ac,_0x39678a=(_0x40c0b8-_0x2c3055)/(_0x2a9bf2-0x1),_0x44e4ac=0x0;_0x44e4ac<_0x2a9bf2;++_0x44e4ac)_0x34484c[_0x59bfbe++]=_0x40c0b8-_0x44e4ac*_0x39678a;var\x20_0x49fb50=_0x2c3055,_0x654a8=_0x530a52*(this[\x27fTexCenterX\x27]-this[\x27fImageWidth\x27])/(0x2*this[\x27fTexRadius\x27]);_0x5524c3=Math[\x27atan\x27](Math[\x27cos\x27](_0x654a8)/(Math[\x27sin\x27](_0x49fb50)-Math[\x27sin\x27](_0x654a8)));var\x20_0xae5f17=new\x20Float32Array(0x4);_0xae5f17[0x0]=0x0,_0xae5f17[0x1]=-Math[\x27sin\x27](_0x5524c3),_0xae5f17[0x2]=Math[\x27cos\x27](_0x5524c3),_0xae5f17[0x3]=_0x46e820*Math[\x27sin\x27](_0x5524c3)*Math[\x27sin\x27](_0x49fb50);for(var\x20_0x2349b8=0x1;_0x2349b8<=(_0xb0c36-0x3)/0x2;++_0x2349b8){var\x20_0x3b0f29=this[\x27_ComputeIntersectionOfPlaneAndLongtitude\x27](_0xae5f17,_0x328331*_0x2349b8,_0x46e820);_0x34484c[_0x59bfbe++]=_0x3b0f29;}return\x20_0x34484c[_0x59bfbe++]=_0x654a8,_0x1969e8=null,_0xae5f17=null,_0xa87ede;}},{\x27key\x27:\x27_ComputeVertexAndTexturePosVertical\x27,\x27value\x27:function(_0x534f39,_0x159869,_0xc2a7c8,_0x17e0da){if(null==_0x17e0da)return\x20SR_ERR_PARAM;_0x17e0da[0x2]=-_0x534f39*Math[\x27cos\x27](_0xc2a7c8)*Math[\x27sin\x27](_0x159869),_0x17e0da[0x1]=_0x534f39*Math[\x27cos\x27](_0xc2a7c8)*Math[\x27cos\x27](_0x159869),_0x17e0da[0x0]=-_0x534f39*Math[\x27sin\x27](_0xc2a7c8);var\x20_0xa5e24d,_0x10e2f0=-Math[\x27asin\x27](-_0x17e0da[0x2]/_0x534f39)/_0x530a52;_0xa5e24d=_0x159869<=1.5707963?Math[\x27acos\x27](_0x17e0da[0x0]/Math[\x27sqrt\x27](_0x17e0da[0x0]*_0x17e0da[0x0]+_0x17e0da[0x1]*_0x17e0da[0x1])):6.2831852-Math[\x27acos\x27](_0x17e0da[0x0]/Math[\x27sqrt\x27](_0x17e0da[0x0]*_0x17e0da[0x0]+_0x17e0da[0x1]*_0x17e0da[0x1]));var\x20_0x4f865f=this[\x27fTexCenterX\x27]-this[\x27fTexRadius\x27],_0x10dbcb=this[\x27fTexRadius\x27]-this[\x27fTexCenterY\x27];return\x20_0x17e0da[0x3]=(Math[\x27cos\x27](_0xa5e24d)*this[\x27fTexRadius\x27]*(0x1+0x2*_0x10e2f0)+this[\x27fTexRadius\x27]+_0x4f865f)/this[\x27fImageWidth\x27],_0x17e0da[0x4]=(Math[\x27sin\x27](_0xa5e24d)*this[\x27fTexRadius\x27]*(-0x1-0x2*_0x10e2f0)+this[\x27fTexRadius\x27]-_0x10dbcb)/this[\x27fImageHeight\x27],_0xa87ede;}},{\x27key\x27:\x27InitCamera\x27,\x27value\x27:function(_0xcc10d5){if(null!=this[\x27pCamera\x27])return\x20SR_ERR_CALL_ORDER;switch(_0xcc10d5){case\x20_0x186ff9[\x27SR_DE_NULL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]:return\x20_0xa87ede;case\x20_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]:if(this[\x27pCamera\x27]=new\x20_0x3b657c(),null==this[\x27pCamera\x27])return\x20_0x3d12cf;this[\x27pCamera\x27][\x27SetFov\x27](_0x13b181),this[\x27pCamera\x27][\x27SetNear\x27](_0x49aaae),this[\x27pCamera\x27][\x27SetFar\x27](_0x26dab3),this[\x27fRotateX\x27]=1.57,this[\x27pCamera\x27][\x27SetPitch\x27](3.14-this[\x27fRotateX\x27]),this[\x27fScale\x27]=0x3,this[\x27pCamera\x27][\x27SetScale\x27](this[\x27fScale\x27]);break;case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]:if(this[\x27pCamera\x27]=new\x20_0x3b657c(),null==this[\x27pCamera\x27])return\x20_0x3d12cf;this[\x27pCamera\x27][\x27SetFov\x27](_0x13b181),this[\x27pCamera\x27][\x27SetNear\x27](_0x49aaae),this[\x27pCamera\x27][\x27SetFar\x27](_0x26dab3),this[\x27fRotateX\x27]=0.785,this[\x27pCamera\x27][\x27SetPitch\x27](-this[\x27fRotateX\x27]),this[\x27fScale\x27]=0x6,this[\x27pCamera\x27][\x27SetScale\x27](this[\x27fScale\x27]);break;case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_CEILING\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_FLOOR\x27]:if(this[\x27pCamera\x27]=new\x20_0x3b657c(),null==this[\x27pCamera\x27])return\x20_0x3d12cf;this[\x27pCamera\x27][\x27SetOrtho\x27](!0x0),this[\x27pCamera\x27][\x27SetNear\x27](_0x49aaae),this[\x27pCamera\x27][\x27SetFar\x27](_0x26dab3),this[\x27fScale\x27]=0x3,this[\x27pCamera\x27][\x27SetScale\x27](this[\x27fScale\x27]);break;case\x20_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]:if(this[\x27pCamera\x27]=new\x20_0x3b657c(),null==this[\x27pCamera\x27])return\x20_0x3d12cf;this[\x27pCamera\x27][\x27SetFov\x27](_0x13b181),this[\x27pCamera\x27][\x27SetNear\x27](_0x49aaae),this[\x27pCamera\x27][\x27SetFar\x27](_0x26dab3),this[\x27fScale\x27]=0x2,this[\x27pCamera\x27][\x27SetScale\x27](this[\x27fScale\x27]),_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]==_0xcc10d5?(this[\x27fRotateLimitX\x27]=_0x44d661,this[\x27fRotateLimitY\x27]=_0x5affea):(this[\x27fRotateLimitX\x27]=_0x438d57,this[\x27fRotateLimitY\x27]=_0x2506c4);break;default:return\x20_0x86aef9;}return\x20_0xa87ede;}},{\x27key\x27:\x27SR_SetViewParam\x27,\x27value\x27:function(_0x46d073,_0x6189a7){if(!this[\x27b3DPort\x27])return\x20_0x86aef9;switch(_0x46d073){case\x20_0x394973:if((this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]||this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27])&&(_0x6189a7>this[\x27fRotateLimitX\x27]||_0x6189a7<-this[\x27fRotateLimitX\x27]))return\x20_0x31ddcf;this[\x27fRotateX\x27]=_0x6189a7;break;case\x20_0x42f4b3:if((this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]||this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27])&&(_0x6189a7>this[\x27fRotateLimitY\x27]||_0x6189a7<-this[\x27fRotateLimitY\x27]))return\x20_0x31ddcf;this[\x27fRotateY\x27]=_0x6189a7;break;case\x20_0x339c63:if(this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]){if(_0x6189a7<-0.8||_0x6189a7>0x384)return\x20_0x31ddcf;}else{if(this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]||this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]){if(_0x6189a7<0x0||_0x6189a7>0x384)return\x20_0x31ddcf;}else{if(this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]||this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]){if(_0x6189a7<-0.3||_0x6189a7>0x5)return\x20_0x31ddcf;this[\x27_ComputeRotateLimits\x27]();}}}this[\x27fScale\x27]=_0x6189a7;break;default:return\x20_0x86aef9;}return\x20_0xa87ede;}},{\x27key\x27:\x27SR_GetViewParam\x27,\x27value\x27:function(_0x52c4fa,_0x205d9b){if(!this[\x27b3DPort\x27])return\x20_0x520965;var\x20_0x50830b=0x0;switch(_0x52c4fa){case\x20_0x394973:_0x50830b=this[\x27fRotateX\x27];break;case\x20_0x42f4b3:_0x50830b=this[\x27fRotateY\x27];break;case\x20_0x339c63:_0x50830b=this[\x27fScale\x27];break;default:return\x20_0x86aef9;}return\x20_0x205d9b[\x27fValue\x27]=_0x50830b,_0xa87ede;}},{\x27key\x27:\x27SR_SetCallBack\x27,\x27value\x27:function(_0x5da1bd,_0x2bbf0b,_0x3e50e3){switch(_0x3e50e3){case\x20_0x444649:this[\x27pfuncCBIn\x27]=_0x5da1bd,this[\x27pUserIn\x27]=_0x2bbf0b;break;case\x20_0x4f7368:this[\x27pfuncCBOut\x27]=_0x5da1bd,this[\x27pUserOut\x27]=_0x2bbf0b;break;default:return\x20_0x86aef9;}return\x20_0xa87ede;}},{\x27key\x27:\x27SR_SetRenderState\x27,\x27value\x27:function(_0x2206d5,_0x3e7889){switch(_0x2206d5){case\x20_0x11cf81:if(this[\x27b3DPort\x27])return\x20_0x86aef9;break;case\x20_0x57ef5a:if(!this[\x27b3DPort\x27])return\x20_0x86aef9;Math[\x27abs\x27](_0x3e7889-0x0)<_0x4a23c6?this[\x27bCullBack\x27]=!0x1:this[\x27bCullBack\x27]=!0x0;break;default:return\x20_0x86aef9;}return\x20_0xa87ede;}},{\x27key\x27:\x27SR_SetPTZColor\x27,\x27value\x27:function(_0x22a340,_0x2d7345){return\x20null==this[\x27pFishParamManager\x27]?_0x520965:this[\x27pFishParamManager\x27][\x27SetPTZColor\x27](_0x22a340,_0x2d7345);}},{\x27key\x27:\x27SR_GetPTZColor\x27,\x27value\x27:function(_0xaeb36f,_0x463679){return\x20null==this[\x27pFishParamManager\x27]?_0x520965:this[\x27pFishParamManager\x27][\x27GetPTZColor\x27](_0xaeb36f,_0x463679);}},{\x27key\x27:\x27SR_SetPTZPort\x27,\x27value\x27:function(_0x5c99b6){return\x20null==this[\x27pFishParamManager\x27]?_0x520965:this[\x27pFishParamManager\x27][\x27SetPTZPort\x27](_0x5c99b6);}},{\x27key\x27:\x27SR_GetPTZPort\x27,\x27value\x27:function(_0x1d4d34,_0x29e620,_0x25da3e){return\x20null==this[\x27pFishParamManager\x27]?_0x520965:null==_0x25da3e?_0x31ddcf:this[\x27pFishParamManager\x27][\x27GetPTZPort\x27](_0x1d4d34,_0x29e620,_0x25da3e);}},{\x27key\x27:\x27SR_GetCaptureSize\x27,\x27value\x27:function(_0x3d6a1f){if(null==_0x3d6a1f)return\x20_0x31ddcf;if(null==this[\x27ctx\x27])return\x20_0x520965;if(null==_0x3d6a1f[\x27nWidth\x27]||null==_0x3d6a1f[\x27nWidth\x27]||null==_0x3d6a1f[\x27nHeight\x27]||null==_0x3d6a1f[\x27nHeight\x27])return\x20_0x31ddcf;var\x20_0x3077f0=0x0,_0x2f261a=0x0;if(0x0==_0x3d6a1f[\x27nWidth\x27]&&0x0==_0x3d6a1f[\x27nHeight\x27])switch(this[\x27enDisplayEffect\x27]){case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]:_0x3077f0=Math[\x27round\x27](0x5*this[\x27frameDisplayHeight\x27]/0x8),_0x2f261a=Math[\x27round\x27](0x3*_0x3077f0/0x4);break;case\x20_0x186ff9[\x27SR_DE_NULL\x27]:_0x3077f0=Math[\x27round\x27]((this[\x27fSrcUseRight\x27]-this[\x27fSrcUseLeft\x27])*this[\x27frameDisplayWidth\x27]),_0x2f261a=Math[\x27round\x27]((this[\x27fSrcUseBottom\x27]-this[\x27fSrcUseTop\x27])*this[\x27frameDisplayHeight\x27]);break;case\x20_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]:_0x3077f0=Math[\x27round\x27](this[\x27frameDisplayWidth\x27]),_0x2f261a=Math[\x27round\x27](this[\x27frameDisplayHeight\x27]);break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]:this[\x27frameDisplayHeight\x27]>=0x800?(_0x3077f0=0x1800,_0x2f261a=0x360):this[\x27frameDisplayHeight\x27]>=0x600&&0x800>this[\x27frameDisplayHeight\x27]?(_0x3077f0=0x1000,_0x2f261a=0x240):(_0x3077f0=Math[\x27round\x27](3.14*this[\x27frameDisplayHeight\x27]/1.6),_0x2f261a=Math[\x27round\x27](0x9*this[\x27frameDisplayWidth\x27]/0x10),_0x3077f0=Math[\x27round\x27](0x2*_0x3077f0),_0x2f261a=Math[\x27round\x27](_0x2f261a/0x2));break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]:this[\x27frameDisplayHeight\x27]>=0xc00?(_0x3077f0=0x1000,_0x2f261a=0x900):this[\x27frameDisplayHeight\x27]>=0x800&&0xc00>this[\x27frameDisplayHeight\x27]?(_0x3077f0=0xc00,_0x2f261a=0x6c0):this[\x27frameDisplayHeight\x27]>=0x600&&0x800>this[\x27frameDisplayHeight\x27]?(_0x3077f0=0x800,_0x2f261a=0x480):(_0x3077f0=Math[\x27round\x27](3.14*this[\x27frameDisplayHeight\x27]/1.6),_0x2f261a=Math[\x27round\x27](0x9*_0x3077f0/0x10));break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]:_0x3077f0=Math[\x27round\x27](this[\x27frameDisplayHeight\x27]),_0x2f261a=Math[\x27round\x27](0x9*_0x3077f0/0x10);break;default:return\x20_0x31ddcf;}else\x20_0x3077f0=Math[\x27round\x27](_0x3d6a1f[\x27nWidth\x27]),_0x2f261a=Math[\x27round\x27](_0x3d6a1f[\x27nHeight\x27]);return\x20_0x3077f0<0x10||_0x2f261a<0x10?_0x31ddcf:(this[\x27nCaptureWidth\x27]=0x4*Math[\x27round\x27](_0x3077f0/0x4),this[\x27nCaptureHeight\x27]=Math[\x27round\x27](_0x2f261a),_0x3d6a1f[\x27nWidth\x27]=this[\x27nCaptureWidth\x27],_0x3d6a1f[\x27nHeight\x27]=this[\x27nCaptureHeight\x27],_0x3d6a1f[\x27nBufferLen\x27]=this[\x27nCaptureWidth\x27]*this[\x27nCaptureHeight\x27]*0x4,_0xa87ede);}},{\x27key\x27:\x27SR_CaptureScreen\x27,\x27value\x27:function(_0x182ed1){var\x20_0x2c8855=_0xa87ede;if(_0x2c8855=this[\x27_BeginCapture\x27](),_0xa87ede!=_0x2c8855)return\x20_0x2c8855;if(0x0==this[\x27videoShaderProgram\x27]||0x0==this[\x27vertexPosBuffer\x27]||0x0==this[\x27texturePosBuffer\x27])return\x20_0x520965;this[\x27ctx\x27][\x27useProgram\x27](this[\x27videoShaderProgram\x27]),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27vertexPosBuffer\x27]);var\x20_0x517ee9=this[\x27ctx\x27][\x27getAttribLocation\x27](this[\x27videoShaderProgram\x27],\x27xy\x27);if(_0x517ee9<0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x517ee9,0x3,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x517ee9),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],this[\x27texturePosBuffer\x27]);var\x20_0x14700d=this[\x27ctx\x27][\x27getAttribLocation\x27](this[\x27videoShaderProgram\x27],\x27uv\x27);if(_0x14700d<0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27vertexAttribPointer\x27](_0x14700d,0x2,this[\x27ctx\x27][\x27FLOAT\x27],!0x1,0x0,0x0),this[\x27ctx\x27][\x27enableVertexAttribArray\x27](_0x14700d),this[\x27ctx\x27][\x27bindBuffer\x27](this[\x27ctx\x27][\x27ARRAY_BUFFER\x27],null);var\x20_0x51a1ec=this[\x27enDisplayEffect\x27],_0x34fe9c=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27bCapture\x27);if(_0x34fe9c<=0x0)return\x20_0x4d26c0;switch(this[\x27ctx\x27][\x27uniform1i\x27](_0x34fe9c,0x1),_0x51a1ec){case\x20_0x186ff9[\x27SR_DE_NULL\x27]:break;case\x20_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]:if(null==this[\x27pFishParamManager\x27])return\x20_0x520965;var\x20_0x1fd457={};if(_0x2c8855=this[\x27pFishParamManager\x27][\x27GetRenderParam\x27](this[\x27nFECPort\x27],_0x1fd457),_0xa87ede!=_0x2c8855)return\x20_0x2c8855;if(_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27]==_0x51a1ec){var\x20_0x5ed42b=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27bBlack\x27);if(_0x5ed42b<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1i\x27](_0x5ed42b,_0x1fd457[\x27bBlack\x27]);var\x20_0x22c412=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27bCut\x27);if(_0x22c412<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1i\x27](_0x22c412,_0x1fd457[\x27bCut\x27]);}if(_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]==_0x51a1ec||_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]==_0x51a1ec||_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]==_0x51a1ec){var\x20_0x1be46e=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fHAngleCos\x27);if(_0x1be46e<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x1be46e,_0x1fd457[\x27fCosH\x27]);var\x20_0x4cee7f=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fHAngleSin\x27);if(_0x4cee7f<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x4cee7f,_0x1fd457[\x27fSinH\x27]);var\x20_0x34ae1c=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fVAngleCos\x27);if(_0x34ae1c<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x34ae1c,_0x1fd457[\x27fCosV\x27]);var\x20_0x300454=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fVAngleSin\x27);if(_0x300454<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x300454,_0x1fd457[\x27fSinV\x27]);var\x20_0x2862f4=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fZoom\x27);if(_0x2862f4<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x2862f4,_0x1fd457[\x27fZoom\x27]);}if(_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]==_0x51a1ec||_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]==_0x51a1ec||_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]==_0x51a1ec||_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]==_0x51a1ec){var\x20_0x11460a=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fAngle\x27);if(_0x11460a<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x11460a,_0x1fd457[\x27fAngle\x27]);}var\x20_0x25ff1c=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fRX1\x27);if(_0x25ff1c<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x25ff1c,_0x1fd457[\x27fRXLeft\x27]);var\x20_0x558e2c=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fRX2\x27);if(_0x558e2c<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x558e2c,_0x1fd457[\x27fRXRight\x27]);var\x20_0x1f7592=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fRY1\x27);if(_0x1f7592<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x1f7592,_0x1fd457[\x27fRYTop\x27]);var\x20_0x4966fe=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fRY2\x27);if(_0x4966fe<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x4966fe,_0x1fd457[\x27fRYBottom\x27]);break;case\x20_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]:this[\x27pCamera\x27][\x27SetScale\x27](this[\x27fScale\x27]),this[\x27pCamera\x27][\x27SetPitch\x27](3.14-this[\x27fRotateX\x27]),this[\x27pCamera\x27][\x27SetYaw\x27](-this[\x27fRotateY\x27]),this[\x27pCamera\x27][\x27UpdateCamera\x27](this[\x27canvas\x27][\x27width\x27],this[\x27canvas\x27][\x27height\x27]);var\x20_0x5e2a11=this[\x27pCamera\x27][\x27GetView\x27](),_0xf45b1a=this[\x27pCamera\x27][\x27GetProj\x27](),_0x3aaee2=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27matView\x27);if(_0x3aaee2<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniformMatrix4fv\x27](_0x3aaee2,!0x1,_0x5e2a11);var\x20_0x51d4ee=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27matProj\x27);if(_0x51d4ee<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniformMatrix4fv\x27](_0x51d4ee,!0x1,_0xf45b1a);break;case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]:this[\x27pCamera\x27][\x27SetScale\x27](this[\x27fScale\x27]),this[\x27pCamera\x27][\x27SetPitch\x27](-this[\x27fRotateX\x27]),this[\x27pCamera\x27][\x27SetYaw\x27](-this[\x27fRotateY\x27]),this[\x27pCamera\x27][\x27UpdateCamera\x27](this[\x27canvas\x27][\x27width\x27],this[\x27canvas\x27][\x27height\x27]);var\x20_0x4ad072=this[\x27pCamera\x27][\x27GetView\x27](),_0x3a7e99=this[\x27pCamera\x27][\x27GetProj\x27](),_0x8e98a2=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27matView\x27);if(_0x8e98a2<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniformMatrix4fv\x27](_0x8e98a2,!0x1,_0x4ad072);var\x20_0x5b3983=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27matProj\x27);if(_0x5b3983<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniformMatrix4fv\x27](_0x5b3983,!0x1,_0x3a7e99);break;default:return\x20_0x86aef9;}if(this[\x27nCaptureWidth\x27]<=0x0||this[\x27nCaptureHeight\x27]<=0x0)return\x20_0x4fea1b;if(this[\x27ctx\x27][\x27viewport\x27](0x0,0x0,this[\x27nCaptureWidth\x27],this[\x27nCaptureHeight\x27]),this[\x27ctx\x27][\x27clearColor\x27](0x0,0x0,0x0,0x1),this[\x27ctx\x27][\x27clear\x27](this[\x27ctx\x27][\x27COLOR_BUFFER_BIT\x27]|this[\x27ctx\x27][\x27DEPTH_BUFFER_BIT\x27]),this[\x27b3DPort\x27]&&(this[\x27ctx\x27][\x27enable\x27](this[\x27ctx\x27][\x27DEPTH_TEST\x27]),this[\x27ctx\x27][\x27depthFunc\x27](this[\x27ctx\x27][\x27LESS\x27]),this[\x27ctx\x27][\x27depthMask\x27](!0x0),0x1==this[\x27bCullBack\x27]?this[\x27ctx\x27][\x27enable\x27](this[\x27ctx\x27][\x27CULL_FACE\x27]):this[\x27ctx\x27][\x27disable\x27](this[\x27ctx\x27][\x27CULL_FACE\x27])),this[\x27enPixelFormat\x27]==_0xa01ff6?this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nSurfaceTexture\x27][0x0]):(this[\x27enPixelFormat\x27]==_0x58bd8b||this[\x27enPixelFormat\x27]==_0x264b64)&&(this[\x27ctx\x27][\x27activeTexture\x27](this[\x27ctx\x27][\x27TEXTURE0\x27]),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nSurfaceTexture\x27][0x0]),this[\x27ctx\x27][\x27activeTexture\x27](this[\x27ctx\x27][\x27TEXTURE1\x27]),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nSurfaceTexture\x27][0x1]),this[\x27ctx\x27][\x27activeTexture\x27](this[\x27ctx\x27][\x27TEXTURE2\x27]),this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nSurfaceTexture\x27][0x2])),this[\x27onlySupportedWebGL1\x27]||this[\x27ctx\x27][\x27clearBufferfi\x27](this[\x27ctx\x27][\x27DEPTH_STENCIL\x27],0x0,0x1,0x0),0x0==this[\x27b3DPort\x27])this[\x27ctx\x27][\x27drawArrays\x27](this[\x27ctx\x27][\x27TRIANGLE_FAN\x27],0x0,0x4);else{if(this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]){if(this[\x27nSemiSpherePosNum\x27]<=0x0)return\x20_0x520965;this[\x27ctx\x27][\x27drawArrays\x27](this[\x27ctx\x27][\x27TRIANGLES\x27],0x0,this[\x27nSemiSpherePosNum\x27]);}else{if(this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]||this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]){if(this[\x27nCylinderPosNum\x27]<=0x0)return\x20_0x520965;this[\x27ctx\x27][\x27drawArrays\x27](this[\x27ctx\x27][\x27TRIANGLES\x27],0x0,this[\x27nCylinderPosNum\x27]);}else{if(this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]||this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]){if(this[\x27nArcSpherePosNum\x27]<=0x0)return\x20_0x520965;this[\x27ctx\x27][\x27drawArrays\x27](this[\x27ctx\x27][\x27TRIANGLES\x27],0x0,this[\x27nArcSpherePosNum\x27]);}}}}return\x20this[\x27ctx\x27][\x27useProgram\x27](null),null!=this[\x27pfuncCBIn\x27]&&this[\x27pfuncCBIn\x27](this[\x27pUserIn\x27]),null!=this[\x27pfuncCBOut\x27]&&this[\x27pfuncCBOut\x27](this[\x27pUserOut\x27]),_0x2c8855=this[\x27_EndCapture\x27](_0x182ed1),_0xa87ede!=_0x2c8855?_0x2c8855:_0xa87ede;}},{\x27key\x27:\x27SR_SetImagePostProcess\x27,\x27value\x27:function(_0x2048cc,_0x1ac4fe){if(null==this[\x27ctx\x27])return\x20_0x520965;if(_0xe529b7==_0x2048cc||_0x2d33eb==_0x2048cc){if(0x0-_0x1ac4fe>_0x4a23c6||_0x1ac4fe-0x1>_0x4a23c6)return\x20_0x31ddcf;}else{if((_0x46c7b3==_0x2048cc||_0x199c31==_0x2048cc||_0x414976==_0x2048cc)&&(-0x1-_0x1ac4fe>_0x4a23c6||_0x1ac4fe-0x1>_0x4a23c6))return\x20_0x31ddcf;}switch(_0x2048cc){case\x20_0x46c7b3:this[\x27fBrightness\x27]=_0x1ac4fe;break;case\x20_0x2d33eb:this[\x27fHue\x27]=_0x1ac4fe;break;case\x20_0x199c31:this[\x27fSaturation\x27]=_0x1ac4fe;break;case\x20_0x414976:this[\x27fContrast\x27]=_0x1ac4fe;break;case\x20_0xe529b7:this[\x27fSharpness\x27]=_0x1ac4fe;break;default:return\x20_0x86aef9;}return\x20Math[\x27abs\x27](this[\x27fBrightness\x27]-0x0)<_0x4a23c6&&Math[\x27abs\x27](this[\x27fHue\x27]-0x0)<_0x4a23c6&&Math[\x27abs\x27](this[\x27fSaturation\x27]-0x0)<_0x4a23c6&&Math[\x27abs\x27](this[\x27fContrast\x27]-0x0)<_0x4a23c6&&Math[\x27abs\x27](this[\x27fSharpness\x27]-0x0)<_0x4a23c6?this[\x27nPostProc\x27]=0x0:this[\x27nPostProc\x27]=0x1,_0xa87ede;}},{\x27key\x27:\x27_BeginCapture\x27,\x27value\x27:function(){var\x20_0x594b67=_0xa87ede;return\x200x0==this[\x27bCaptureResInit\x27]&&(_0x594b67=this[\x27_InitRenderTarget\x27](this[\x27nCaptureWidth\x27],this[\x27nCaptureHeight\x27],!0x1,!0x0),_0xa87ede!=_0x594b67)?_0x594b67:(_0x594b67=this[\x27_Resize\x27](this[\x27nCaptureWidth\x27],this[\x27nCaptureHeight\x27],!0x1,!0x0),_0xa87ede!=_0x594b67?_0x594b67:(this[\x27ctx\x27][\x27bindFramebuffer\x27](this[\x27ctx\x27][\x27FRAMEBUFFER\x27],this[\x27nCaptureFBO\x27]),this[\x27bIsCapturing\x27]=!0x0,_0xa87ede));}},{\x27key\x27:\x27_InitRenderTarget\x27,\x27value\x27:function(_0x5a333c,_0x43881f,_0x249770,_0x2948c0){if(0x0!=this[\x27nCaptureRTTex\x27]||0x0!=this[\x27nCaptureFBO\x27])return\x20_0x520965;if(_0x5a333c<=0x0||_0x43881f<=0x0)return\x20_0x31ddcf;if(this[\x27nCaptureRTTex\x27]=this[\x27ctx\x27][\x27createTexture\x27](),this[\x27nCaptureRTTex\x27]<=0x0)return\x20_0x4d26c0;if(this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nCaptureRTTex\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MAG_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MIN_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_S\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_T\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27RGBA\x27],_0x5a333c,_0x43881f,0x0,this[\x27ctx\x27][\x27RGBA\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],null),0x0==this[\x27nCaptureFBO\x27]&&(this[\x27nCaptureFBO\x27]=this[\x27ctx\x27][\x27createFramebuffer\x27](),this[\x27nCaptureFBO\x27]<=0x0))return\x20_0x4d26c0;if(this[\x27ctx\x27][\x27bindFramebuffer\x27](this[\x27ctx\x27][\x27FRAMEBUFFER\x27],this[\x27nCaptureFBO\x27]),this[\x27ctx\x27][\x27framebufferTexture2D\x27](this[\x27ctx\x27][\x27FRAMEBUFFER\x27],this[\x27ctx\x27][\x27COLOR_ATTACHMENT0\x27],this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nCaptureRTTex\x27],0x0),0x1==_0x2948c0&&0x0==this[\x27nCaptureDepthbuffer\x27]){if(this[\x27nCaptureDepthbuffer\x27]=this[\x27ctx\x27][\x27createRenderbuffer\x27](),this[\x27nCaptureDepthbuffer\x27]<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27bindRenderbuffer\x27](this[\x27ctx\x27][\x27RENDERBUFFER\x27],this[\x27nCaptureDepthbuffer\x27]),this[\x27ctx\x27][\x27renderbufferStorage\x27](this[\x27ctx\x27][\x27RENDERBUFFER\x27],this[\x27ctx\x27][\x27DEPTH_COMPONENT16\x27],_0x5a333c,_0x43881f),this[\x27ctx\x27][\x27framebufferRenderbuffer\x27](this[\x27ctx\x27][\x27FRAMEBUFFER\x27],this[\x27ctx\x27][\x27DEPTH_ATTACHMENT\x27],this[\x27ctx\x27][\x27RENDERBUFFER\x27],this[\x27nCaptureDepthbuffer\x27]);}return\x20this[\x27ctx\x27][\x27bindFramebuffer\x27](this[\x27ctx\x27][\x27FRAMEBUFFER\x27],null),this[\x27nCaptureFBOWidth\x27]=_0x5a333c,this[\x27nCaptureFBOHeight\x27]=_0x43881f,this[\x27bCaptureResInit\x27]=!0x0,_0xa87ede;}},{\x27key\x27:\x27_Resize\x27,\x27value\x27:function(_0xcfe8c4,_0x52f7d1,_0x42dc08,_0x357e6b){if(this[\x27nCaptureFBOWidth\x27]!=_0xcfe8c4||this[\x27nCaptureFBOHeight\x27]!=_0x52f7d1){if(this[\x27nCaptureFBOWidth\x27]=_0xcfe8c4,this[\x27nCaptureFBOHeight\x27]=_0x52f7d1,0x0!=this[\x27nCaptureRTTex\x27]&&(this[\x27ctx\x27][\x27deleteTexture\x27](this[\x27nCaptureRTTex\x27]),this[\x27nCaptureRTTex\x27]=0x0),0x0!=this[\x27nCaptureDepthbuffer\x27]&&(this[\x27ctx\x27][\x27deleteRenderbuffer\x27](this[\x27nCaptureDepthbuffer\x27]),this[\x27nCaptureDepthbuffer\x27]=0x0),0x0==this[\x27nCaptureRTTex\x27]&&(this[\x27nCaptureRTTex\x27]=this[\x27ctx\x27][\x27createTexture\x27](),this[\x27nCaptureRTTex\x27]<=0x0))return\x20_0x4d26c0;if(this[\x27ctx\x27][\x27bindTexture\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nCaptureRTTex\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MAG_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_MIN_FILTER\x27],this[\x27ctx\x27][\x27LINEAR\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_S\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),this[\x27ctx\x27][\x27texParameteri\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27ctx\x27][\x27TEXTURE_WRAP_T\x27],this[\x27ctx\x27][\x27CLAMP_TO_EDGE\x27]),this[\x27ctx\x27][\x27texImage2D\x27](this[\x27ctx\x27][\x27TEXTURE_2D\x27],0x0,this[\x27ctx\x27][\x27RGBA\x27],this[\x27nCaptureFBOWidth\x27],this[\x27nCaptureFBOHeight\x27],0x0,this[\x27ctx\x27][\x27RGBA\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],null),this[\x27ctx\x27][\x27bindFramebuffer\x27](this[\x27ctx\x27][\x27FRAMEBUFFER\x27],this[\x27nCaptureFBO\x27]),this[\x27ctx\x27][\x27framebufferTexture2D\x27](this[\x27ctx\x27][\x27FRAMEBUFFER\x27],this[\x27ctx\x27][\x27COLOR_ATTACHMENT0\x27],this[\x27ctx\x27][\x27TEXTURE_2D\x27],this[\x27nCaptureRTTex\x27],0x0),0x1==_0x357e6b&&0x0==this[\x27nCaptureDepthbuffer\x27]){if(this[\x27nCaptureDepthbuffer\x27]=this[\x27ctx\x27][\x27createRenderbuffer\x27](),this[\x27nCaptureDepthbuffer\x27]<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27bindRenderbuffer\x27](this[\x27ctx\x27][\x27RENDERBUFFER\x27],this[\x27nCaptureDepthbuffer\x27]),this[\x27ctx\x27][\x27renderbufferStorage\x27](this[\x27ctx\x27][\x27RENDERBUFFER\x27],this[\x27ctx\x27][\x27DEPTH_COMPONENT16\x27],_0xcfe8c4,_0x52f7d1),this[\x27ctx\x27][\x27framebufferRenderbuffer\x27](this[\x27ctx\x27][\x27FRAMEBUFFER\x27],this[\x27ctx\x27][\x27DEPTH_ATTACHMENT\x27],this[\x27ctx\x27][\x27RENDERBUFFER\x27],this[\x27nCaptureDepthbuffer\x27]);}this[\x27ctx\x27][\x27bindFramebuffer\x27](this[\x27ctx\x27][\x27FRAMEBUFFER\x27],null);}return\x20_0xa87ede;}},{\x27key\x27:\x27_EndCapture\x27,\x27value\x27:function(_0x4c1472){return\x20null==this[\x27ctx\x27]?_0x520965:null==_0x4c1472[\x27pBuffer\x27]||null==_0x4c1472[\x27pBuffer\x27]?_0x31ddcf:(this[\x27ctx\x27][\x27readPixels\x27](0x0,0x0,this[\x27nCaptureWidth\x27],this[\x27nCaptureHeight\x27],this[\x27ctx\x27][\x27RGBA\x27],this[\x27ctx\x27][\x27UNSIGNED_BYTE\x27],_0x4c1472[\x27pBuffer\x27]),this[\x27ctx\x27][\x27bindFramebuffer\x27](this[\x27ctx\x27][\x27FRAMEBUFFER\x27],null),this[\x27bIsCapturing\x27]=!0x1,_0xa87ede);}},{\x27key\x27:\x27_ResizeFrameData\x27,\x27value\x27:function(_0x5bdf2c,_0xb05249,_0x32fafb,_0x14166a){if(0x0==_0xb05249%0x8&&null==_0x14166a)return\x20this[\x27frameDisplayWidth\x27]=Math[\x27round\x27](_0xb05249),this[\x27frameDisplayHeight\x27]=Math[\x27round\x27](_0x32fafb),this[\x27pFrameData\x27]=_0x5bdf2c,_0xa87ede;if(null!=_0x14166a&&0x0==_0x14166a[\x27nCropBottom\x27]&&0x0==_0x14166a[\x27nCropLeft\x27]&&0x0==_0x14166a[\x27nCropRight\x27]&&0x0==_0x14166a[\x27nCropTop\x27]&&0x0==_0xb05249%0x8)return\x20this[\x27frameDisplayWidth\x27]=Math[\x27round\x27](_0xb05249),this[\x27frameDisplayHeight\x27]=Math[\x27round\x27](_0x32fafb),this[\x27pFrameData\x27]=_0x5bdf2c,_0xa87ede;if((null==this[\x27pFrameData\x27]||this[\x27frameDisplayWidth\x27]!=_0xb05249/0x8*0x8||this[\x27frameDisplayHeight\x27]!=_0x32fafb)&&(this[\x27frameDisplayWidth\x27]=0x8*Math[\x27round\x27](_0xb05249/0x8),this[\x27frameDisplayHeight\x27]=Math[\x27round\x27](_0x32fafb),this[\x27pFrameData\x27]=null,this[\x27pFrameData\x27]=new\x20Uint8Array(this[\x27frameDisplayWidth\x27]*this[\x27frameDisplayHeight\x27]*0x3/0x2),null==this[\x27pFrameData\x27]))return\x20_0x3d12cf;var\x20_0x28d502=0x0,_0x14e706=0x0,_0x5dba3f=Math[\x27round\x27](_0x14166a[\x27nCodeWidth\x27]),_0x529996=Math[\x27round\x27](_0x14166a[\x27nCodeHeight\x27]),_0x51b8fc=0x0;if(_0x58bd8b==this[\x27enPixelFormat\x27]||_0x264b64==this[\x27enPixelFormat\x27]){var\x20_0x267b16,_0x2b423f,_0x3428fd;null!=_0x14166a?(_0x28d502=Math[\x27round\x27](_0x14166a[\x27nCropLeft\x27]),_0x14e706=Math[\x27round\x27](_0x14166a[\x27nCropTop\x27]),_0x267b16=_0x5bdf2c[\x27subarray\x27](_0x28d502*_0x5dba3f+_0x14e706,_0x5dba3f*_0x529996),_0x2b423f=_0x5bdf2c[\x27subarray\x27](_0x5dba3f*_0x529996+_0x14e706*_0x5dba3f/0x4+_0x28d502/0x2,_0x5dba3f*_0x529996*0x5/0x4),_0x3428fd=_0x5bdf2c[\x27subarray\x27](_0x5dba3f*_0x529996*0x5/0x4+_0x14e706*_0x5dba3f/0x4+_0x28d502/0x2,_0x5dba3f*_0x529996*0x3/0x2),_0x51b8fc=_0x5dba3f):(_0x267b16=_0x5bdf2c[\x27subarray\x27](0x0,_0xb05249*_0x32fafb),_0x2b423f=_0x5bdf2c[\x27subarray\x27](_0xb05249*_0x32fafb,_0xb05249*_0x32fafb*0x5/0x4),_0x3428fd=_0x5bdf2c[\x27subarray\x27](_0xb05249*_0x32fafb*0x5/0x4,_0xb05249*_0x32fafb*0x3/0x2),_0x51b8fc=this[\x27frameDisplayWidth\x27]);for(var\x20_0x13336c=null,_0x4b9afa=0x0;_0x4b9afa<this[\x27frameDisplayHeight\x27];++_0x4b9afa){var\x20_0x3781f7=Math[\x27round\x27](_0x4b9afa*_0x51b8fc),_0x327116=Math[\x27round\x27](_0x4b9afa*_0x51b8fc+this[\x27frameDisplayWidth\x27]);_0x13336c=_0x267b16[\x27slice\x27](_0x3781f7,_0x327116);var\x20_0x141fa6=Math[\x27round\x27](_0x4b9afa*this[\x27frameDisplayWidth\x27]);this[\x27pFrameData\x27][\x27set\x27](_0x13336c,_0x141fa6);}for(var\x20_0x477bdd=0x0;_0x477bdd<this[\x27frameDisplayHeight\x27]/0x2;++_0x477bdd){var\x20_0x50edd6=Math[\x27round\x27](_0x477bdd*_0x51b8fc/0x2),_0x503319=Math[\x27round\x27](_0x477bdd*_0x51b8fc/0x2+this[\x27frameDisplayWidth\x27]/0x2);_0x13336c=_0x2b423f[\x27slice\x27](_0x50edd6,_0x503319);var\x20_0x22f9fb=Math[\x27round\x27](this[\x27frameDisplayWidth\x27]*this[\x27frameDisplayHeight\x27]+_0x477bdd*this[\x27frameDisplayWidth\x27]/0x2);this[\x27pFrameData\x27][\x27set\x27](_0x13336c,_0x22f9fb);}for(var\x20_0xb58ce5=0x0;_0xb58ce5<this[\x27frameDisplayHeight\x27]/0x2;++_0xb58ce5){var\x20_0x47cd2f=Math[\x27round\x27](_0xb58ce5*_0x51b8fc/0x2),_0x1244ce=Math[\x27round\x27](_0xb58ce5*_0x51b8fc/0x2+this[\x27frameDisplayWidth\x27]/0x2);_0x13336c=_0x3428fd[\x27slice\x27](_0x47cd2f,_0x1244ce);var\x20_0x25a663=Math[\x27round\x27](this[\x27frameDisplayWidth\x27]*this[\x27frameDisplayHeight\x27]*0x5/0x4+_0xb58ce5*this[\x27frameDisplayWidth\x27]/0x2);this[\x27pFrameData\x27][\x27set\x27](_0x13336c,_0x25a663);}_0x267b16=null,_0x2b423f=null,_0x3428fd=null,_0x13336c=null;}else{if(_0x532920==this[\x27enPixelFormat\x27]){var\x20_0x372b86,_0x4951e3,_0x174e12;null!=_0x14166a?(_0x28d502=Math[\x27round\x27](_0x14166a[\x27nCropLeft\x27]),_0x14e706=Math[\x27round\x27](_0x14166a[\x27nCropTop\x27]),_0x372b86=_0x5bdf2c[\x27subarray\x27](_0x14e706*_0x5dba3f+_0x28d502,_0x5dba3f*_0x529996),_0x4951e3=_0x5bdf2c[\x27subarray\x27](_0x5dba3f*_0x529996+_0x14e706*_0x5dba3f/0x4+_0x28d502/0x2,_0x5dba3f*_0x529996*0x3/0x2),_0x51b8fc=Math[\x27round\x27](_0x14166a[\x27nCodeWidth\x27])):(_0x372b86=_0x5bdf2c[\x27subarray\x27](0x0,_0x5dba3f*_0x529996),_0x4951e3=_0x5bdf2c[\x27subarray\x27](_0x5dba3f*_0x529996,_0x5dba3f*_0x529996*0x3/0x2),_0x51b8fc=this[\x27frameDisplayWidth\x27]);for(var\x20_0x2c9864=0x0;_0x2c9864<this[\x27frameDisplayHeight\x27];++_0x2c9864){var\x20_0x337f86=Math[\x27round\x27](_0x2c9864*_0x51b8fc),_0x50a9ce=Math[\x27round\x27](_0x2c9864*_0x51b8fc+this[\x27frameDisplayWidth\x27]);_0x174e12=_0x372b86[\x27slice\x27](_0x337f86,_0x50a9ce);var\x20_0x638927=Math[\x27round\x27](_0x2c9864*this[\x27frameDisplayWidth\x27]);this[\x27pFrameData\x27][\x27set\x27](_0x174e12,_0x638927);}for(var\x20_0x29fc18=0x0;_0x29fc18<this[\x27frameDisplayHeight\x27]/0x2;++_0x29fc18){var\x20_0x214b42=Math[\x27round\x27](_0x29fc18*_0x51b8fc),_0x3b1a87=Math[\x27round\x27](_0x29fc18*_0x51b8fc+this[\x27frameDisplayWidth\x27]);_0x174e12=_0x4951e3[\x27slice\x27](_0x214b42,_0x3b1a87);var\x20_0x2c17e5=Math[\x27round\x27](this[\x27frameDisplayWidth\x27]*this[\x27frameDisplayHeight\x27]+_0x29fc18*this[\x27frameDisplayWidth\x27]);this[\x27pFrameData\x27][\x27set\x27](_0x174e12,_0x2c17e5);}_0x372b86=null,_0x4951e3=null,_0x174e12=null;}}return\x20_0xa87ede;}},{\x27key\x27:\x27_SetImagePostProcess\x27,\x27value\x27:function(){var\x20_0x30cf7b=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fBrightness\x27);if(_0x30cf7b<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x30cf7b,this[\x27fBrightness\x27]);var\x20_0x5553d2=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fHue\x27);if(_0x5553d2<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x5553d2,this[\x27fHue\x27]);var\x20_0x42c592=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fSaturation\x27);if(_0x42c592<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x42c592,this[\x27fSaturation\x27]);var\x20_0x3629e8=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fContrast\x27);if(_0x3629e8<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x3629e8,this[\x27fContrast\x27]);var\x20_0x1c53e9=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fSharpness\x27);if(_0x1c53e9<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x1c53e9,this[\x27fSharpness\x27]);var\x20_0x5733f8=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fWndWidth\x27);if(_0x5733f8<=0x0)return\x20_0x4d26c0;this[\x27ctx\x27][\x27uniform1f\x27](_0x5733f8,this[\x27frameDisplayWidth\x27]);var\x20_0x2dad49=this[\x27ctx\x27][\x27getUniformLocation\x27](this[\x27videoShaderProgram\x27],\x27fWndHeight\x27);return\x20_0x2dad49<=0x0?_0x4d26c0:(this[\x27ctx\x27][\x27uniform1f\x27](_0x2dad49,this[\x27frameDisplayHeight\x27]),_0xa87ede);}},{\x27key\x27:\x27_ComputeRotateLimits\x27,\x27value\x27:function(){if(this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]||this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]){var\x20_0x31467d,_0x35837a;if(this[\x27enDisplayEffect\x27]==_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]?(_0x31467d=_0x44d661,_0x35837a=_0x5affea):(_0x31467d=_0x438d57,_0x35837a=_0x2506c4),0x0==this[\x27canvas\x27][\x27width\x27]||0x0==this[\x27canvas\x27][\x27height\x27])this[\x27fRotateLimitX\x27]=_0x31467d,this[\x27fRotateLimitY\x27]=_0x35837a;else{var\x20_0x4a5e79=Math[\x27tan\x27](2.748893525);if(Math[\x27abs\x27](_0x4a5e79*this[\x27fScale\x27])<0x1){var\x20_0x50f721=_0x4a5e79*_0x4a5e79+0x1,_0x185702=-0x2*_0x4a5e79*_0x4a5e79*this[\x27fScale\x27],_0x571130=_0x4a5e79*_0x4a5e79*this[\x27fScale\x27]*this[\x27fScale\x27]-0x1,_0x3fa40c=(-_0x185702-Math[\x27sqrt\x27](_0x185702*_0x185702-0x4*_0x50f721*_0x571130))/(0x2*_0x50f721),_0x429003=_0x4a5e79*(_0x3fa40c-this[\x27fScale\x27]);this[\x27fRotateLimitX\x27]=Math[\x27acos\x27](_0x429003/Math[\x27sqrt\x27](_0x3fa40c*_0x3fa40c+_0x429003*_0x429003)),this[\x27fRotateLimitX\x27]<_0x31467d&&(this[\x27fRotateLimitX\x27]=_0x31467d);}else\x20this[\x27fRotateLimitX\x27]=_0x31467d;var\x20_0x536723=Math[\x27atan\x27](this[\x27canvas\x27][\x27width\x27]/this[\x27canvas\x27][\x27height\x27]*Math[\x27tan\x27](_0x13b181/0x2));if(_0x4a5e79=Math[\x27tan\x27](_0x530a52-_0x536723),Math[\x27abs\x27](_0x4a5e79*this[\x27fScale\x27])<0x1){var\x20_0x3a1ac0=_0x4a5e79*_0x4a5e79+0x1,_0x2c4813=-0x2*_0x4a5e79*_0x4a5e79*this[\x27fScale\x27],_0x2b2259=_0x4a5e79*_0x4a5e79*this[\x27fScale\x27]*this[\x27fScale\x27]-0x1,_0x1484df=(-_0x2c4813-Math[\x27sqrt\x27](_0x2c4813*_0x2c4813-0x4*_0x3a1ac0*_0x2b2259))/(0x2*_0x3a1ac0),_0x2c89d0=_0x4a5e79*(_0x1484df-this[\x27fScale\x27]);this[\x27fRotateLimitY\x27]=Math[\x27acos\x27](_0x2c89d0/Math[\x27sqrt\x27](_0x1484df*_0x1484df+_0x2c89d0*_0x2c89d0)),this[\x27fRotateLimitY\x27]<_0x35837a&&(this[\x27fRotateLimitY\x27]=_0x35837a);}else\x20this[\x27fRotateLimitY\x27]=_0x35837a;}this[\x27fRotateX\x27]>this[\x27fRotateLimitX\x27]&&(this[\x27fRotateX\x27]=this[\x27fRotateLimitX\x27]),this[\x27fRotateX\x27]<-this[\x27fRotateLimitX\x27]&&(this[\x27fRotateX\x27]=-this[\x27fRotateLimitX\x27]),this[\x27fRotateY\x27]>this[\x27fRotateLimitY\x27]&&(this[\x27fRotateY\x27]=this[\x27fRotateLimitX\x27]),this[\x27fRotateY\x27]<-this[\x27fRotateLimitX\x27]&&(this[\x27fRotateY\x27]=-this[\x27fRotateLimitX\x27]);}return\x20_0xa87ede;}}]),_0x2425ba;}()),_0x47e209=(function(){function\x20_0x142b4f(){_0x54580d(this,_0x142b4f),this[\x27canvas\x27]=null,this[\x27ctx\x27]=null,this[\x27regionSx\x27]=0x0,this[\x27regionSy\x27]=0x0,this[\x27regionSw\x27]=0x0,this[\x27regionSh\x27]=0x0,this[\x27needRect\x27]=!0x1,this[\x27bAntialias\x27]=!0x1,this[\x27bRecreateAntia\x27]=!0x1,this[\x27pfuncCBIn\x27]=null,this[\x27pUserIn\x27]=null,this[\x27pfuncCBOut\x27]=null,this[\x27pUserOut\x27]=null;}return\x20_0x4fd085(_0x142b4f,[{\x27key\x27:\x27SR_Init\x27,\x27value\x27:function(_0x5ecf9e){this[\x27canvas\x27]=_0x5ecf9e,this[\x27ctx\x27]=this[\x27canvas\x27][\x27getContext\x27](\x272d\x27),this[\x27ctx\x27]||console[\x27log\x27](\x27your\x5cx20browser\x5cx20does\x5cx20not\x5cx20support\x5cx202d\x5cx20render\x27);}},{\x27key\x27:\x27SR_Draw\x27,\x27value\x27:function(_0x2b71ee){return\x20this[\x27needRect\x27]?this[\x27ctx\x27][\x27drawImage\x27](_0x2b71ee,this[\x27regionSx\x27],this[\x27regionSy\x27],this[\x27regionSw\x27],this[\x27regionSh\x27],0x0,0x0,this[\x27canvas\x27][\x27width\x27],this[\x27canvas\x27][\x27height\x27]):this[\x27ctx\x27][\x27drawImage\x27](_0x2b71ee,0x0,0x0,_0x2b71ee[\x27displayWidth\x27],_0x2b71ee[\x27displayHeight\x27],0x0,0x0,this[\x27canvas\x27][\x27width\x27],this[\x27canvas\x27][\x27height\x27]),null!=this[\x27pfuncCBIn\x27]&&this[\x27pfuncCBIn\x27](this[\x27pUserIn\x27]),0x1;}},{\x27key\x27:\x27GetCanvasData\x27,\x27value\x27:function(_0x25230b){console[\x27log\x27](\x27%c\x5cx20start\x5cx20time:\x27+new\x20Date()[\x27getMinutes\x27]()+\x27:\x27+new\x20Date()[\x27getSeconds\x27]()+\x27.\x27+new\x20Date()[\x27getMilliseconds\x27](),\x27color:\x5cx20blue\x27);var\x20_0x574217=this[\x27ctx\x27][\x27getImageData\x27](0x0,0x0,this[\x27canvas\x27][\x27width\x27],this[\x27canvas\x27][\x27height\x27]);console[\x27log\x27](\x27%c\x5cx202\x5cx20time:\x27+new\x20Date()[\x27getMinutes\x27]()+\x27:\x27+new\x20Date()[\x27getSeconds\x27]()+\x27.\x27+new\x20Date()[\x27getMilliseconds\x27](),\x27color:\x5cx20blue\x27);var\x20_0x2d10bb=\x27jpeg\x27,_0x5a684e=\x27image/jpeg\x27,_0x6b5089=document[\x27createElement\x27](\x27canvas\x27),_0x5315a3=_0x6b5089[\x27getContext\x27](\x272d\x27);_0x6b5089[\x27width\x27]=this[\x27canvas\x27][\x27width\x27],_0x6b5089[\x27height\x27]=this[\x27canvas\x27][\x27height\x27],_0x5315a3[\x27putImageData\x27](_0x574217,0x0,0x0);var\x20_0x24024d=_0x6b5089[\x27toDataURL\x27](),_0x26efe5=document[\x27createElement\x27](\x27a\x27);_0x26efe5[\x27download\x27]=new\x20Date()[\x27getTime\x27]()+\x27.\x27+_0x2d10bb,_0x26efe5[\x27href\x27]=_0x24024d,_0x26efe5[\x27dataset\x27][\x27downloadurl\x27]=[_0x5a684e,_0x26efe5[\x27download\x27],_0x26efe5[\x27href\x27]][\x27join\x27](\x27:\x27),document[\x27body\x27][\x27appendChild\x27](_0x26efe5),_0x26efe5[\x27click\x27](),document[\x27body\x27][\x27removeChild\x27](_0x26efe5),console[\x27log\x27](\x27%c\x5cx20end\x5cx20time:\x27+new\x20Date()[\x27getMinutes\x27]()+\x27:\x27+new\x20Date()[\x27getSeconds\x27]()+\x27.\x27+new\x20Date()[\x27getMilliseconds\x27](),\x27color:\x5cx20blue\x27);}},{\x27key\x27:\x27SR_DelSubPort\x27,\x27value\x27:function(_0x57fda8){return\x200x0;}},{\x27key\x27:\x27SR_AddSubPort\x27,\x27value\x27:function(_0x36c54a){return\x200x0;}},{\x27key\x27:\x27SR_SetDisplayRect\x27,\x27value\x27:function(_0x115279,_0xd4deec,_0x5a44bc,_0x341c14){this[\x27regionSx\x27]=_0x115279,this[\x27regionSy\x27]=_0xd4deec,this[\x27regionSw\x27]=_0x5a44bc,this[\x27regionSh\x27]=_0x341c14,this[\x27needRect\x27]=!0x0;}},{\x27key\x27:\x27SR_Destroy\x27,\x27value\x27:function(){this[\x27canvas\x27]=null,this[\x27ctx\x27]=null,this[\x27regionSx\x27]=0x0,this[\x27regionSy\x27]=0x0,this[\x27regionSw\x27]=0x0,this[\x27regionSh\x27]=0x0,this[\x27needRect\x27]=!0x1;}},{\x27key\x27:\x27SR_SetCanvasSize\x27,\x27value\x27:function(_0x585c32,_0x3f5351){this[\x27canvas\x27][\x27width\x27]=_0x585c32,this[\x27canvas\x27][\x27height\x27]=_0x3f5351;}},{\x27key\x27:\x27SR_GetCanvasSize\x27,\x27value\x27:function(){console[\x27log\x27](\x27canvas\x5cx20width:\x27+this[\x27canvas\x27][\x27width\x27]+\x27,height:\x27+this[\x27canvas\x27][\x27height\x27]);}},{\x27key\x27:\x27SR_SetAntialias\x27,\x27value\x27:function(_0x41dd55){return\x20_0x41dd55!=this[\x27bAntialias\x27]?(this[\x27bAntialias\x27]=_0x41dd55,this[\x27bRecreateAntia\x27]=!0x0):this[\x27bRecreateAntia\x27]=!0x1,this[\x27bRecreateAntia\x27]&&(this[\x27bAntialias\x27]?(this[\x27canvas\x27][\x27width\x27]=0x5*this[\x27canvas\x27][\x27width\x27],this[\x27canvas\x27][\x27height\x27]=0x5*this[\x27canvas\x27][\x27height\x27],this[\x27canvas\x27][\x27style\x27][\x27transform\x27]=\x27scale(0.2)\x27,this[\x27canvas\x27][\x27style\x27][\x27transformOrigin\x27]=\x270\x5cx200\x27):(this[\x27canvas\x27][\x27width\x27]=this[\x27canvas\x27][\x27width\x27]/0x5,this[\x27canvas\x27][\x27height\x27]=this[\x27canvas\x27][\x27height\x27]/0x5,this[\x27canvas\x27][\x27style\x27][\x27transform\x27]=\x27scale(1)\x27,this[\x27canvas\x27][\x27style\x27][\x27transformOrigin\x27]=\x270\x5cx200\x27)),0x1;}},{\x27key\x27:\x27SR_SetCallBack\x27,\x27value\x27:function(_0x4d1e6d,_0x1f07ee,_0x3d33ea){switch(_0x3d33ea){case\x20_0x444649:this[\x27pfuncCBIn\x27]=_0x4d1e6d,this[\x27pUserIn\x27]=_0x1f07ee;break;case\x20_0x4f7368:this[\x27pfuncCBOut\x27]=_0x4d1e6d,this[\x27pUserOut\x27]=_0x1f07ee;break;default:return\x200x0;}return\x200x1;}},{\x27key\x27:\x27SR_DrawFont\x27,\x27value\x27:function(_0x2963cc,_0x4b046e,_0x516b83,_0x38303f,_0x31842a,_0x353830,_0x1a9008,_0x36e714,_0x39a389){var\x20_0x27d4e5=[],_0x15ef3d={};return\x20_0x15ef3d[\x27bBackground\x27]=_0x353830,_0x15ef3d[\x27nFontWidth\x27]=_0x38303f,_0x15ef3d[\x27nFontHeight\x27]=_0x31842a,_0x15ef3d[\x27pstBGColor\x27]=_0x1a9008,_0x15ef3d[\x27pstFontColor\x27]=_0x516b83,_0x15ef3d[\x27pString\x27]=_0x2963cc,_0x15ef3d[\x27pstStartPos\x27]=_0x4b046e,_0x15ef3d[\x27fRotateAngle\x27]=_0x36e714,_0x15ef3d[\x27pFontFamily\x27]=_0x39a389,_0x27d4e5[\x27push\x27](_0x15ef3d),this[\x27SR_DrawFontEx\x27](_0x27d4e5,0x1),0x1;}},{\x27key\x27:\x27SR_DrawFontEx\x27,\x27value\x27:function(_0x57d469,_0x12c5ae){for(var\x20_0x2b5ed6=0x0;_0x2b5ed6<_0x12c5ae;_0x2b5ed6++){this[\x27ctx\x27][\x27textBaseline\x27]=\x27top\x27;var\x20_0x350f8f=_0x57d469[_0x2b5ed6][\x27nFontWidth\x27],_0x46fd6d=_0x57d469[_0x2b5ed6][\x27nFontHeight\x27],_0x2d8f2f=(_0x350f8f=Math[\x27round\x27](_0x350f8f))<(_0x46fd6d=Math[\x27round\x27](_0x46fd6d))?_0x350f8f:_0x46fd6d;this[\x27ctx\x27][\x27font\x27]=_0x2d8f2f[\x27toString\x27]()+\x27px\x5cx20\x27+_0x57d469[_0x2b5ed6][\x27pFontFamily\x27];var\x20_0x3e589a=parseInt(0xff*_0x57d469[_0x2b5ed6][\x27pstFontColor\x27][\x27fR\x27]),_0x4fd711=parseInt(0xff*_0x57d469[_0x2b5ed6][\x27pstFontColor\x27][\x27fG\x27]),_0x4755ae=parseInt(0xff*_0x57d469[_0x2b5ed6][\x27pstFontColor\x27][\x27fB\x27]),_0x43ec1f=_0x3e589a<0x10?\x270\x27+_0x3e589a[\x27toString\x27](0x10):_0x3e589a[\x27toString\x27](0x10),_0x25bbfd=_0x4fd711<0x10?\x270\x27+_0x4fd711[\x27toString\x27](0x10):_0x4fd711[\x27toString\x27](0x10),_0x1dead4=_0x4755ae<0x10?\x270\x27+_0x4755ae[\x27toString\x27](0x10):_0x4755ae[\x27toString\x27](0x10);this[\x27ctx\x27][\x27fillStyle\x27]=\x27#\x27+_0x43ec1f+_0x25bbfd+_0x1dead4,this[\x27ctx\x27][\x27globalAlpha\x27]=_0x57d469[_0x2b5ed6][\x27pstFontColor\x27][\x27fA\x27],this[\x27ctx\x27][\x27fillText\x27](_0x57d469[_0x2b5ed6][\x27pString\x27],_0x57d469[_0x2b5ed6][\x27pstStartPos\x27][\x27fX\x27]*this[\x27canvas\x27][\x27width\x27],_0x57d469[_0x2b5ed6][\x27pstStartPos\x27][\x27fY\x27]*this[\x27canvas\x27][\x27height\x27]);}return\x200x1;}},{\x27key\x27:\x27SR_DrawImage\x27,\x27value\x27:function(_0x5e1584,_0x4fe178,_0x4811b5,_0xa8f872,_0x15dd02,_0x226fc5){return\x200x1;}},{\x27key\x27:\x27SR_DrawLinesEx\x27,\x27value\x27:function(_0x564439,_0x1a98fd,_0x33d077,_0xaa2fdd){return\x200x1;}}]),_0x142b4f;}()),_0x30cc90=(function(){function\x20_0x132b86(){_0x54580d(this,_0x132b86),this[\x27bPortAllocated\x27]=[],this[\x27pRenderParam\x27]=[],this[\x27pFishParam\x27]=[],this[\x27stPTZColor\x27]=[],this[\x27pPTZSetColor\x27]=null,this[\x27nBasePTZPointNum\x27]=[],this[\x27nOriPTZPointNum\x27]=[],this[\x27nPanoPTZPointNum\x27]=[],this[\x27nPTZFragmentNum\x27]=[],this[\x27pBasePTZPoints\x27]=[],this[\x27pPanoPTZPoints\x27]=[],this[\x27pRectPoints\x27]=[],this[\x27nPTZRectNum\x27]=[],this[\x27nPTZDisplayMode\x27]=_0x569e7f,this[\x27fRX1\x27]=0x0,this[\x27fRX2\x27]=0x1,this[\x27fRY1\x27]=0x0,this[\x27fRY2\x27]=0x1,this[\x27bBlack\x27]=!0x1,this[\x27pOriPTZPoints\x27]=[],this[\x27nWndPort\x27]=_0x3cf544,this[\x27nPlaceType\x27]=0x0,this[\x27nPTZFragmentNode\x27]=[],this[\x27bPTZSelected\x27]=[],this[\x27nPTZDisplayMode\x27]=_0x495db0;for(var\x20_0x26ae66=0x0;_0x26ae66<_0x379995;++_0x26ae66){this[\x27bPortAllocated\x27][_0x26ae66]=!0x1,this[\x27bPTZSelected\x27][_0x26ae66]=!0x1,this[\x27pRenderParam\x27][_0x26ae66]=null,this[\x27pFishParam\x27][_0x26ae66]=null,this[\x27stPTZColor\x27][_0x26ae66]={},this[\x27stPTZColor\x27][_0x26ae66][\x27fR\x27]=0x0,this[\x27stPTZColor\x27][_0x26ae66][\x27fG\x27]=0x0,this[\x27stPTZColor\x27][_0x26ae66][\x27fB\x27]=0x0,this[\x27stPTZColor\x27][_0x26ae66][\x27fA\x27]=0x0,this[\x27nBasePTZPointNum\x27][_0x26ae66]=0x0,this[\x27nOriPTZPointNum\x27][_0x26ae66]=0x0,this[\x27nPanoPTZPointNum\x27][_0x26ae66]=0x0,this[\x27nPTZRectNum\x27][_0x26ae66]=0x0,this[\x27pPanoPTZPoints\x27][_0x26ae66]=[],this[\x27pRectPoints\x27][_0x26ae66]=[],this[\x27pBasePTZPoints\x27][_0x26ae66]=[],this[\x27pOriPTZPoints\x27][_0x26ae66]=[];for(var\x20_0x4e780f=0x0;_0x4e780f<0x4;++_0x4e780f)this[\x27pRectPoints\x27][_0x26ae66][_0x4e780f]={},this[\x27pRectPoints\x27][_0x26ae66][_0x4e780f][\x27fX\x27]=0x0,this[\x27pRectPoints\x27][_0x26ae66][_0x4e780f][\x27fY\x27]=0x0;for(var\x20_0x1fa045=0x0;_0x1fa045<_0x4b88be;++_0x1fa045)this[\x27pBasePTZPoints\x27][_0x26ae66][_0x1fa045]={},this[\x27pBasePTZPoints\x27][_0x26ae66][_0x1fa045][\x27fX\x27]=0x0,this[\x27pBasePTZPoints\x27][_0x26ae66][_0x1fa045][\x27fY\x27]=0x0,this[\x27pOriPTZPoints\x27][_0x26ae66][_0x1fa045]={},this[\x27pOriPTZPoints\x27][_0x26ae66][_0x1fa045][\x27fX\x27]=0x0,this[\x27pOriPTZPoints\x27][_0x26ae66][_0x1fa045][\x27fY\x27]=0x0,this[\x27pPanoPTZPoints\x27][_0x26ae66][_0x1fa045]={},this[\x27pPanoPTZPoints\x27][_0x26ae66][_0x1fa045][\x27fX\x27]=0x0,this[\x27pPanoPTZPoints\x27][_0x26ae66][_0x1fa045][\x27fY\x27]=0x0;this[\x27nPTZFragmentNum\x27][_0x26ae66]=0x0,this[\x27nPTZFragmentNode\x27][_0x26ae66]=[];for(var\x20_0x5716c7=0x0;_0x5716c7<0x64;++_0x5716c7)this[\x27nPTZFragmentNode\x27][_0x26ae66][_0x5716c7]=0x0;}this[\x27InitColorList\x27]();}return\x20_0x4fd085(_0x132b86,[{\x27key\x27:\x27GetFECPort\x27,\x27value\x27:function(_0x422de9){for(var\x20_0xeda2cb=_0x3cf544,_0x5a74b9=0x0;_0x5a74b9<_0x379995;++_0x5a74b9)if(0x0==this[\x27bPortAllocated\x27][_0x5a74b9]){_0xeda2cb=_0x5a74b9;break;}if(_0xeda2cb==_0x3cf544)return\x20_0xeda2cb;if(_0x422de9==_0x186ff9[\x27SR_DE_NULL\x27])return\x20_0xeda2cb;var\x20_0xb974d1=this[\x27JudgeDisplayEffect\x27](_0x422de9);if(_0xa87ede!=_0xb974d1)return\x20this[\x27FreeFECPort\x27](_0xeda2cb),_0xeda2cb=_0x3cf544;if(_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]==_0x422de9||_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]==_0x422de9||_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]==_0x422de9||_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]==_0x422de9||_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]==_0x422de9||_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27]==_0x422de9){if(_0x3cf544!=this[\x27nWndPort\x27])return\x20this[\x27FreeFECPort\x27](_0xeda2cb),_0xeda2cb=_0x3cf544;this[\x27nWndPort\x27]=_0xeda2cb;}if(!(_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]!=_0x422de9&&_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]!=_0x422de9&&_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]!=_0x422de9||_0x3cf544==this[\x27nWndPort\x27]||null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]]||_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]!=this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27nDisplayEffect\x27]&&_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]!=this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27nDisplayEffect\x27]))return\x20this[\x27FreeFECPort\x27](_0xeda2cb),_0xeda2cb=_0x3cf544;if(_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]==_0x422de9||_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]==_0x422de9){for(var\x20_0x183f86=0x0;_0x183f86<_0x379995;++_0x183f86)if(null!=this[\x27pRenderParam\x27][_0x183f86]&&(_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]==this[\x27pRenderParam\x27][_0x183f86][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]==this[\x27pRenderParam\x27][_0x183f86][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]==this[\x27pRenderParam\x27][_0x183f86][\x27nDisplayEffect\x27]))return\x20this[\x27FreeFECPort\x27](_0xeda2cb),_0xeda2cb=_0x3cf544;}if(_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]==_0x422de9){for(var\x20_0xde2840=0x0;_0xde2840<_0x379995;++_0xde2840)if(null!=this[\x27pRenderParam\x27][_0xde2840]&&_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]==this[\x27pRenderParam\x27][_0xde2840][\x27nDisplayEffect\x27])return\x20this[\x27FreeFECPort\x27](_0xeda2cb),_0xeda2cb=_0x3cf544;}if(_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]==_0x422de9){for(var\x20_0x2ddcba=0x0;_0x2ddcba<_0x379995;++_0x2ddcba)if(null!=this[\x27pRenderParam\x27][_0x2ddcba]&&_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]==this[\x27pRenderParam\x27][_0x2ddcba][\x27nDisplayEffect\x27])return\x20this[\x27FreeFECPort\x27](_0xeda2cb),_0xeda2cb=_0x3cf544;}return\x20this[\x27pRenderParam\x27][_0xeda2cb]={},this[\x27pRenderParam\x27][_0xeda2cb][\x27fCosH\x27]=0x1,this[\x27pRenderParam\x27][_0xeda2cb][\x27fSinH\x27]=0x0,this[\x27pRenderParam\x27][_0xeda2cb][\x27fCosV\x27]=0x1,this[\x27pRenderParam\x27][_0xeda2cb][\x27fSinV\x27]=0x0,this[\x27pRenderParam\x27][_0xeda2cb][\x27fAngle\x27]=0x0,this[\x27pRenderParam\x27][_0xeda2cb][\x27fRX1\x27]=this[\x27fRX1\x27],this[\x27pRenderParam\x27][_0xeda2cb][\x27fRX2\x27]=this[\x27fRX2\x27],this[\x27pRenderParam\x27][_0xeda2cb][\x27fRY1\x27]=this[\x27fRY1\x27],this[\x27pRenderParam\x27][_0xeda2cb][\x27fRY2\x27]=this[\x27fRY2\x27],this[\x27pRenderParam\x27][_0xeda2cb][\x27bBlack\x27]=this[\x27bBlack\x27],this[\x27pRenderParam\x27][_0xeda2cb][\x27fZoom\x27]=0.035+0.8,this[\x27pRenderParam\x27][_0xeda2cb][\x27nDisplayEffect\x27]=_0x422de9,this[\x27pRenderParam\x27][_0xeda2cb][\x27bBlack\x27]=!0x1,this[\x27pRenderParam\x27][_0xeda2cb][\x27bCut\x27]=!0x1,this[\x27pFishParam\x27][_0xeda2cb]={},this[\x27pFishParam\x27][_0xeda2cb][\x27nFishParamType\x27]=0x0,this[\x27pFishParam\x27][_0xeda2cb][\x27bCut\x27]=!0x1,this[\x27pFishParam\x27][_0xeda2cb][\x27fAngle\x27]=this[\x27pRenderParam\x27][_0xeda2cb][\x27fAngle\x27],this[\x27pFishParam\x27][_0xeda2cb][\x27fPTZX\x27]=0.5,this[\x27pFishParam\x27][_0xeda2cb][\x27fPTZY\x27]=0.5,this[\x27pFishParam\x27][_0xeda2cb][\x27fRXLeft\x27]=this[\x27pRenderParam\x27][_0xeda2cb][\x27fRX1\x27],this[\x27pFishParam\x27][_0xeda2cb][\x27fRXRight\x27]=this[\x27pRenderParam\x27][_0xeda2cb][\x27fRX2\x27],this[\x27pFishParam\x27][_0xeda2cb][\x27fRYTop\x27]=this[\x27pRenderParam\x27][_0xeda2cb][\x27fRY1\x27],this[\x27pFishParam\x27][_0xeda2cb][\x27fRYBottom\x27]=this[\x27pRenderParam\x27][_0xeda2cb][\x27fRY2\x27],this[\x27pFishParam\x27][_0xeda2cb][\x27bBlack\x27]=this[\x27pRenderParam\x27][_0xeda2cb][\x27bBlack\x27],this[\x27pFishParam\x27][_0xeda2cb][\x27fZoom\x27]=(this[\x27pRenderParam\x27][_0xeda2cb][\x27fZoom\x27]-0.8)/0x7,this[\x27bPortAllocated\x27][_0xeda2cb]=!0x0,_0xeda2cb;}},{\x27key\x27:\x27FreeFECPort\x27,\x27value\x27:function(_0x450324){if(_0x450324<0x0||_0x450324>=_0x379995)return\x20_0x31ddcf;this[\x27nWndPort\x27]==_0x450324&&(this[\x27nWndPort\x27]=_0x3cf544),null!=this[\x27pRenderParam\x27][_0x450324]&&(this[\x27pRenderParam\x27][_0x450324][\x27fCosH\x27]=0x1,this[\x27pRenderParam\x27][_0x450324][\x27fSinH\x27]=0x0,this[\x27pRenderParam\x27][_0x450324][\x27fCosV\x27]=0x1,this[\x27pRenderParam\x27][_0x450324][\x27fSinV\x27]=0x0,this[\x27pRenderParam\x27][_0x450324][\x27fAngle\x27]=0x0,this[\x27pRenderParam\x27][_0x450324][\x27fZoom\x27]=0x0,this[\x27pRenderParam\x27][_0x450324][\x27fRX1\x27]=0x0,this[\x27pRenderParam\x27][_0x450324][\x27fRX2\x27]=0x1,this[\x27pRenderParam\x27][_0x450324][\x27fRY1\x27]=0x0,this[\x27pRenderParam\x27][_0x450324][\x27fRY2\x27]=0x1,this[\x27pRenderParam\x27][_0x450324][\x27nDisplayEffect\x27]=0x0,this[\x27pRenderParam\x27][_0x450324][\x27bBlack\x27]=!0x1,this[\x27pRenderParam\x27][_0x450324][\x27bCut\x27]=!0x1),null!=this[\x27pFishParam\x27][_0x450324]&&(this[\x27pFishParam\x27][_0x450324][\x27nFishParamType\x27]=0x0,this[\x27pFishParam\x27][_0x450324][\x27fRXLeft\x27]=0x0,this[\x27pFishParam\x27][_0x450324][\x27fRXRight\x27]=0x1,this[\x27pFishParam\x27][_0x450324][\x27fRYTop\x27]=0x0,this[\x27pFishParam\x27][_0x450324][\x27fRYBottom\x27]=0x1,this[\x27pFishParam\x27][_0x450324][\x27bBlack\x27]=!0x1,this[\x27pFishParam\x27][_0x450324][\x27bCut\x27]=!0x1,this[\x27pFishParam\x27][_0x450324][\x27fAngle\x27]=0x0,this[\x27pFishParam\x27][_0x450324][\x27fZoom\x27]=0x0,this[\x27pFishParam\x27][_0x450324][\x27fPTZX\x27]=0.5,this[\x27pFishParam\x27][_0x450324][\x27fPTZY\x27]=0.5),this[\x27nBasePTZPointNum\x27][_0x450324]=0x0,this[\x27nOriPTZPointNum\x27][_0x450324]=0x0,this[\x27nPanoPTZPointNum\x27][_0x450324]=0x0,this[\x27nPTZRectNum\x27][_0x450324]=0x0;for(var\x20_0x5851aa=0x0;_0x5851aa<0x4;++_0x5851aa)this[\x27pRectPoints\x27][_0x450324][_0x5851aa][\x27fX\x27]=0x0,this[\x27pRectPoints\x27][_0x450324][_0x5851aa][\x27fY\x27]=0x0;for(var\x20_0x509c4c=0x0;_0x509c4c<_0x4b88be;++_0x509c4c)this[\x27pBasePTZPoints\x27][_0x450324][_0x509c4c][\x27fX\x27]=0x0,this[\x27pBasePTZPoints\x27][_0x450324][_0x509c4c][\x27fY\x27]=0x0,this[\x27pOriPTZPoints\x27][_0x450324][_0x509c4c][\x27fX\x27]=0x0,this[\x27pOriPTZPoints\x27][_0x450324][_0x509c4c][\x27fY\x27]=0x0,this[\x27pPanoPTZPoints\x27][_0x450324][_0x509c4c][\x27fX\x27]=0x0,this[\x27pPanoPTZPoints\x27][_0x450324][_0x509c4c][\x27fY\x27]=0x0;if(null!=this[\x27pPTZSetColor\x27]&&(this[\x27pPTZSetColor\x27][_0x450324][\x27fA\x27]=0x0,this[\x27pPTZSetColor\x27][_0x450324][\x27fR\x27]=0x0,this[\x27pPTZSetColor\x27][_0x450324][\x27fG\x27]=0x0,this[\x27pPTZSetColor\x27][_0x450324][\x27fB\x27]=0x0),this[\x27bPTZSelected\x27][_0x450324]=!0x1,0x0!=this[\x27nPlaceType\x27]){var\x20_0x46235e=!0x1;if(null!=this[\x27pRenderParam\x27][i]){for(var\x20_0x61e3ec=0x0;_0x61e3ec<_0x379995;++_0x61e3ec)if(null!=this[\x27pRenderParam\x27][_0x61e3ec]&&(_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_CEILING\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_FLOOR\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]==this[\x27pRenderParam\x27][_0x61e3ec][\x27nDisplayEffect\x27])){_0x46235e=!0x0;break;}}_0x46235e||(this[\x27nPlaceType\x27]=0x0);}for(var\x20_0x308bbb=!0x1,_0x30bc0d=0x0;_0x30bc0d<_0x379995;++_0x30bc0d)if(null!=this[\x27pRenderParam\x27][_0x30bc0d]){_0x308bbb=!0x0;break;}_0x308bbb||(this[\x27fRX1\x27]=0x0,this[\x27fRX2\x27]=0x1,this[\x27fRY1\x27]=0x0,this[\x27fRY2\x27]=0x1,this[\x27bBlack\x27]=!0x1),this[\x27nPTZFragmentNum\x27][_0x450324]=0x0;for(var\x20_0x59d008=0x0;_0x59d008<0x64;++_0x59d008)this[\x27nPTZFragmentNode\x27][_0x450324][_0x59d008]=0x0;return\x20this[\x27bPortAllocated\x27][_0x450324]=!0x1,_0xa87ede;}},{\x27key\x27:\x27DeInit\x27,\x27value\x27:function(){for(var\x20_0x2a6913=0x0;_0x2a6913<_0x379995;++_0x2a6913){for(var\x20_0x5c283e=0x0;_0x5c283e<0x4;++_0x5c283e)this[\x27pRectPoints\x27][_0x2a6913][_0x5c283e]=null;for(var\x20_0x164210=0x0;_0x164210<_0x4b88be;++_0x164210)this[\x27pBasePTZPoints\x27][_0x2a6913][_0x164210]=null,this[\x27pOriPTZPoints\x27][_0x2a6913][_0x164210]=null,this[\x27pPanoPTZPoints\x27][_0x2a6913][_0x164210]=null;this[\x27nPTZFragmentNum\x27][_0x2a6913]=0x0,this[\x27nPTZFragmentNode\x27][_0x2a6913]=null,this[\x27bPortAllocated\x27][_0x2a6913]=!0x1,this[\x27bPTZSelected\x27][_0x2a6913]=!0x1,this[\x27pRenderParam\x27][_0x2a6913]=null,this[\x27pFishParam\x27][_0x2a6913]=null,this[\x27stPTZColor\x27][_0x2a6913]=null,this[\x27nBasePTZPointNum\x27][_0x2a6913]=0x0,this[\x27nOriPTZPointNum\x27][_0x2a6913]=0x0,this[\x27nPanoPTZPointNum\x27][_0x2a6913]=0x0,this[\x27nPTZRectNum\x27][_0x2a6913]=0x0,this[\x27pPanoPTZPoints\x27][_0x2a6913]=null,this[\x27pRectPoints\x27][_0x2a6913]=null,this[\x27pBasePTZPoints\x27][_0x2a6913]=null,this[\x27pOriPTZPoints\x27][_0x2a6913]=null;}return\x20this[\x27bPortAllocated\x27]=null,this[\x27pRenderParam\x27]=null,this[\x27pFishParam\x27]=null,this[\x27stPTZColor\x27]=null,this[\x27pPTZSetColor\x27]=null,this[\x27nBasePTZPointNum\x27]=null,this[\x27nOriPTZPointNum\x27]=null,this[\x27nPanoPTZPointNum\x27]=null,this[\x27nPTZFragmentNum\x27]=null,this[\x27pBasePTZPoints\x27]=null,this[\x27pPanoPTZPoints\x27]=null,this[\x27pRectPoints\x27]=null,this[\x27nPTZRectNum\x27]=null,this[\x27nPTZDisplayMode\x27]=_0x569e7f,this[\x27fRX1\x27]=0x0,this[\x27fRX2\x27]=0x1,this[\x27fRY1\x27]=0x0,this[\x27fRY2\x27]=0x1,this[\x27bBlack\x27]=!0x1,this[\x27pOriPTZPoints\x27]=null,this[\x27pBasePTZPoints\x27]=null,this[\x27nWndPort\x27]=_0x3cf544,this[\x27nPlaceType\x27]=0x0,this[\x27nPTZFragmentNode\x27]=null,this[\x27bPTZSelected\x27]=null,this[\x27nPTZDisplayMode\x27]=_0x495db0,_0xa87ede;}},{\x27key\x27:\x27InitColorList\x27,\x27value\x27:function(){this[\x27stPTZColor\x27][0x0][\x27fR\x27]=0.5,this[\x27stPTZColor\x27][0x0][\x27fG\x27]=0.5,this[\x27stPTZColor\x27][0x0][\x27fB\x27]=0x0,this[\x27stPTZColor\x27][0x0][\x27fA\x27]=0x1,this[\x27stPTZColor\x27][0x1][\x27fR\x27]=0x1,this[\x27stPTZColor\x27][0x1][\x27fG\x27]=0x0,this[\x27stPTZColor\x27][0x1][\x27fB\x27]=0x0,this[\x27stPTZColor\x27][0x1][\x27fA\x27]=0x1,this[\x27stPTZColor\x27][0x2][\x27fR\x27]=0x0,this[\x27stPTZColor\x27][0x2][\x27fG\x27]=0x1,this[\x27stPTZColor\x27][0x2][\x27fB\x27]=0x0,this[\x27stPTZColor\x27][0x2][\x27fA\x27]=0x1,this[\x27stPTZColor\x27][0x3][\x27fR\x27]=0x0,this[\x27stPTZColor\x27][0x3][\x27fG\x27]=0x0,this[\x27stPTZColor\x27][0x3][\x27fB\x27]=0x1,this[\x27stPTZColor\x27][0x3][\x27fA\x27]=0x1,this[\x27stPTZColor\x27][0x4][\x27fR\x27]=0x1,this[\x27stPTZColor\x27][0x4][\x27fG\x27]=0x1,this[\x27stPTZColor\x27][0x4][\x27fB\x27]=0x0,this[\x27stPTZColor\x27][0x4][\x27fA\x27]=0x1,this[\x27stPTZColor\x27][0x5][\x27fR\x27]=0.5,this[\x27stPTZColor\x27][0x5][\x27fG\x27]=0x0,this[\x27stPTZColor\x27][0x5][\x27fB\x27]=0x1,this[\x27stPTZColor\x27][0x5][\x27fA\x27]=0x1,this[\x27stPTZColor\x27][0x6][\x27fR\x27]=0x0,this[\x27stPTZColor\x27][0x6][\x27fG\x27]=0x1,this[\x27stPTZColor\x27][0x6][\x27fB\x27]=0x1,this[\x27stPTZColor\x27][0x6][\x27fA\x27]=0x1,this[\x27stPTZColor\x27][0x7][\x27fR\x27]=0x1,this[\x27stPTZColor\x27][0x7][\x27fG\x27]=0.5,this[\x27stPTZColor\x27][0x7][\x27fB\x27]=0x0,this[\x27stPTZColor\x27][0x7][\x27fA\x27]=0x1,this[\x27stPTZColor\x27][0x8][\x27fR\x27]=0x0,this[\x27stPTZColor\x27][0x8][\x27fG\x27]=0.5,this[\x27stPTZColor\x27][0x8][\x27fB\x27]=0.5,this[\x27stPTZColor\x27][0x8][\x27fA\x27]=0x1;for(var\x20_0x4a606d=0x9;_0x4a606d<_0x379995;_0x4a606d++)this[\x27stPTZColor\x27][_0x4a606d][\x27fR\x27]=0x1*_0x4a606d/_0x379995,this[\x27stPTZColor\x27][_0x4a606d][\x27fG\x27]=0x1*_0x4a606d/_0x379995,this[\x27stPTZColor\x27][_0x4a606d][\x27fB\x27]=0x1*_0x4a606d/_0x379995,this[\x27stPTZColor\x27][_0x4a606d][\x27fA\x27]=0x1;return\x20_0xa87ede;}},{\x27key\x27:\x27GetRangePoints\x27,\x27value\x27:function(_0x25d84b){if(_0x25d84b<0x0||_0x25d84b>=_0x379995)return\x20_0x31ddcf;if(null==this[\x27pRenderParam\x27][_0x25d84b])return\x20_0x520965;var\x20_0x547759=0x0,_0x13094f=0x0;switch(this[\x27nOriPTZPointNum\x27][_0x25d84b]=0x0,this[\x27nBasePTZPointNum\x27][_0x25d84b]=0x0,this[\x27pRenderParam\x27][_0x25d84b][\x27nDisplayEffect\x27]){case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]:for(_0x13094f=0x0;_0x13094f<0x1;_0x13094f+=0.01)this[\x27GetFishPTZCeiling\x27](_0x547759,_0x13094f,_0x25d84b);for(_0x13094f=0.9995,_0x547759=0x0;_0x547759<0x1;_0x547759+=0.02)this[\x27GetFishPTZCeiling\x27](_0x547759,_0x13094f,_0x25d84b);for(_0x547759=0.999,_0x13094f=0.9995;_0x13094f>=0x0;_0x13094f-=0.01)this[\x27GetFishPTZCeiling\x27](_0x547759,_0x13094f,_0x25d84b);for(_0x13094f=0x0,_0x547759=0.999;_0x547759>=0x0;_0x547759-=0.02)this[\x27GetFishPTZCeiling\x27](_0x547759,_0x13094f,_0x25d84b);break;case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]:for(_0x13094f=0x0;_0x13094f<0x1;_0x13094f+=0.01)this[\x27GetFishPTZFloor\x27](_0x547759,_0x13094f,_0x25d84b);for(_0x13094f=0.9995,_0x547759=0x0;_0x547759<0x1;_0x547759+=0.02)this[\x27GetFishPTZFloor\x27](_0x547759,_0x13094f,_0x25d84b);for(_0x547759=0.999,_0x13094f=0.9995;_0x13094f>=0x0;_0x13094f-=0.01)this[\x27GetFishPTZFloor\x27](_0x547759,_0x13094f,_0x25d84b);for(_0x13094f=0x0,_0x547759=0.999;_0x547759>=0x0;_0x547759-=0.02)this[\x27GetFishPTZFloor\x27](_0x547759,_0x13094f,_0x25d84b);break;case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]:for(_0x13094f=0x0;_0x13094f<0x1;_0x13094f+=0.01)this[\x27GetFishPTZWALL\x27](_0x547759,_0x13094f,_0x25d84b);for(_0x13094f=0.9995,_0x547759=0x0;_0x547759<0x1;_0x547759+=0.02)this[\x27GetFishPTZWALL\x27](_0x547759,_0x13094f,_0x25d84b);for(_0x547759=0.999,_0x13094f=0.9995;_0x13094f>=0x0;_0x13094f-=0.01)this[\x27GetFishPTZWALL\x27](_0x547759,_0x13094f,_0x25d84b);for(_0x13094f=0x0,_0x547759=0.999;_0x547759>=0x0;_0x547759-=0.02)this[\x27GetFishPTZWALL\x27](_0x547759,_0x13094f,_0x25d84b);break;default:return\x20_0x86aef9;}return\x20_0xa87ede;}},{\x27key\x27:\x27TransformPTZRangePoints\x27,\x27value\x27:function(_0x2f3cac){if(_0x3cf544==this[\x27nWndPort\x27])return\x20_0x520965;if(null==this[\x27pBasePTZPoints\x27][_0x2f3cac]||null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]])return\x20_0x520965;this[\x27nPanoPTZPointNum\x27][_0x2f3cac]=0x0;var\x20_0x3c706a=_0xa87ede,_0x2be664=this[\x27nWndPort\x27];switch(this[\x27pRenderParam\x27][_0x2be664][\x27nDisplayEffect\x27]){case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]:if(_0x3c706a=this[\x27GetPanoPTZWall\x27](_0x2f3cac),_0xa87ede!=_0x3c706a)return\x20_0x3c706a;break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]:if(_0x3c706a=this[\x27GetPanoPTZFloor\x27](_0x2f3cac),_0xa87ede!=_0x3c706a)return\x20_0x3c706a;break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]:if(_0x3c706a=this[\x27GetPanoPTZCeiling\x27](_0x2f3cac),_0xa87ede!=_0x3c706a)return\x20_0x3c706a;}return\x20this[\x27CalcPTZFragmentPoints\x27](_0x2f3cac),_0xa87ede;}},{\x27key\x27:\x27GetRectPoints\x27,\x27value\x27:function(_0x5e6c1c){if(_0x5e6c1c<0x0||_0x5e6c1c>=_0x379995)return\x20_0x31ddcf;if(this[\x27nWndPort\x27]==_0x3cf544)return\x20_0x520965;if(null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]]||null==this[\x27pFishParam\x27][_0x5e6c1c])return\x20_0x520965;var\x20_0x1f9178=this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27nDisplayEffect\x27],_0x392ce2=_0xa87ede,_0x399f52={\x27fX\x27:0x0,\x27fY\x27:0x0};switch(_0x1f9178){case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]:if(_0x392ce2=this[\x27GetPointFish2PanoWall\x27](_0x399f52,this[\x27pFishParam\x27][_0x5e6c1c][\x27fPTZX\x27],this[\x27pFishParam\x27][_0x5e6c1c][\x27fPTZY\x27]),_0xa87ede!=_0x392ce2)return\x20_0x392ce2;break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]:if(_0x392ce2=this[\x27GetPointFish2PanoFloor\x27](_0x399f52,this[\x27pFishParam\x27][_0x5e6c1c][\x27fPTZX\x27],this[\x27pFishParam\x27][_0x5e6c1c][\x27fPTZY\x27]),_0xa87ede!=_0x392ce2)return\x20_0x86aef9==_0x392ce2&&(this[\x27pRectPoints\x27][_0x5e6c1c]=null),_0x392ce2;break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]:if(_0x392ce2=this[\x27GetPointFish2PanoCeiling\x27](_0x399f52,this[\x27pFishParam\x27][_0x5e6c1c][\x27fPTZX\x27],this[\x27pFishParam\x27][_0x5e6c1c][\x27fPTZY\x27]),_0xa87ede!=_0x392ce2)return\x20_0x86aef9==_0x392ce2&&(this[\x27pRectPoints\x27][_0x5e6c1c]=null),_0x392ce2;break;case\x20_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27]:_0x399f52[\x27fX\x27]=this[\x27pFishParam\x27][_0x5e6c1c][\x27fPTZX\x27],_0x399f52[\x27fY\x27]=this[\x27pFishParam\x27][_0x5e6c1c][\x27fPTZY\x27];}if(null==this[\x27pRectPoints\x27][_0x5e6c1c]){this[\x27pRectPoints\x27][_0x5e6c1c]=[];for(var\x20_0x1698af=0x0;_0x1698af<0x4;++_0x1698af)this[\x27pRectPoints\x27][_0x5e6c1c][_0x1698af]={},this[\x27pRectPoints\x27][_0x5e6c1c][_0x1698af][\x27fX\x27]=0x0,this[\x27pRectPoints\x27][_0x5e6c1c][_0x1698af][\x27fY\x27]=0x0;}return\x20this[\x27pRectPoints\x27][_0x5e6c1c][0x0][\x27fX\x27]=_0x399f52[\x27fX\x27]-_0x466865,this[\x27pRectPoints\x27][_0x5e6c1c][0x0][\x27fY\x27]=_0x399f52[\x27fY\x27]-_0x466865,this[\x27pRectPoints\x27][_0x5e6c1c][0x1][\x27fX\x27]=_0x399f52[\x27fX\x27]+_0x466865,this[\x27pRectPoints\x27][_0x5e6c1c][0x1][\x27fY\x27]=_0x399f52[\x27fY\x27]-_0x466865,this[\x27pRectPoints\x27][_0x5e6c1c][0x2][\x27fX\x27]=_0x399f52[\x27fX\x27]+_0x466865,this[\x27pRectPoints\x27][_0x5e6c1c][0x2][\x27fY\x27]=_0x399f52[\x27fY\x27]+_0x466865,this[\x27pRectPoints\x27][_0x5e6c1c][0x3][\x27fX\x27]=_0x399f52[\x27fX\x27]-_0x466865,this[\x27pRectPoints\x27][_0x5e6c1c][0x3][\x27fY\x27]=_0x399f52[\x27fY\x27]+_0x466865,this[\x27nPTZRectNum\x27][_0x5e6c1c]=0x4,_0xa87ede;}},{\x27key\x27:\x27GetFishPTZCeiling\x27,\x27value\x27:function(_0x517b14,_0x2ce55a,_0x2434b6){var\x20_0xf3955c,_0x3a92e4,_0x1cd7f2,_0x198938,_0x2f97b3,_0x108ac4,_0x49eb1e,_0x36d97d={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x22b255={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x5daa5e={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x4af31d={};_0x198938=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/(this[\x27fRY2\x27]-this[\x27fRY1\x27]),_0x2f97b3=(this[\x27fRX1\x27]+this[\x27fRX2\x27])/0x2*0x1,_0x108ac4=(this[\x27fRY1\x27]+this[\x27fRY2\x27])/0x2*_0x198938,_0x49eb1e=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/0x2*0x1,_0x36d97d[\x27fX\x27]=_0x2ce55a-0.5,_0x36d97d[\x27fY\x27]=0.5-_0x517b14,_0xf3955c=this[\x27pRenderParam\x27][_0x2434b6][\x27fZoom\x27],_0x22b255[\x27fX\x27]=_0x36d97d[\x27fX\x27],_0x22b255[\x27fY\x27]=_0x36d97d[\x27fY\x27]*this[\x27pRenderParam\x27][_0x2434b6][\x27fCosV\x27]+_0xf3955c*this[\x27pRenderParam\x27][_0x2434b6][\x27fSinV\x27],_0x3a92e4=_0xf3955c*this[\x27pRenderParam\x27][_0x2434b6][\x27fCosV\x27]-_0x36d97d[\x27fY\x27]*this[\x27pRenderParam\x27][_0x2434b6][\x27fSinV\x27],_0x1cd7f2=Math[\x27sqrt\x27](_0x22b255[\x27fX\x27]*_0x22b255[\x27fX\x27]+_0x22b255[\x27fY\x27]*_0x22b255[\x27fY\x27]);var\x20_0x1ce234=Math[\x27sqrt\x27](_0x22b255[\x27fX\x27]*_0x22b255[\x27fX\x27]+_0x22b255[\x27fY\x27]*_0x22b255[\x27fY\x27]+_0x3a92e4*_0x3a92e4),_0x1e49ba=Math[\x27asin\x27](_0x1cd7f2/_0x1ce234)/1.5707963*0.5;_0x22b255[\x27fX\x27]=_0x1e49ba*_0x22b255[\x27fX\x27]/_0x1cd7f2,_0x22b255[\x27fY\x27]=_0x1e49ba*_0x22b255[\x27fY\x27]/_0x1cd7f2,_0x5daa5e[\x27fX\x27]=_0x22b255[\x27fX\x27]*this[\x27pRenderParam\x27][_0x2434b6][\x27fCosH\x27]-_0x22b255[\x27fY\x27]*this[\x27pRenderParam\x27][_0x2434b6][\x27fSinH\x27],_0x5daa5e[\x27fY\x27]=_0x22b255[\x27fX\x27]*this[\x27pRenderParam\x27][_0x2434b6][\x27fSinH\x27]+_0x22b255[\x27fY\x27]*this[\x27pRenderParam\x27][_0x2434b6][\x27fCosH\x27],_0x4af31d[\x27fX\x27]=0x2*_0x5daa5e[\x27fX\x27]*_0x49eb1e+_0x2f97b3,_0x4af31d[\x27fY\x27]=0x2*-_0x5daa5e[\x27fY\x27]*_0x49eb1e+_0x108ac4;var\x20_0x2433b8=this[\x27nBasePTZPointNum\x27][_0x2434b6];this[\x27pBasePTZPoints\x27][_0x2434b6][_0x2433b8][\x27fX\x27]=_0x5daa5e[\x27fX\x27]+0.5,this[\x27pBasePTZPoints\x27][_0x2434b6][_0x2433b8][\x27fY\x27]=0.5-_0x5daa5e[\x27fY\x27],this[\x27nBasePTZPointNum\x27][_0x2434b6]=this[\x27nBasePTZPointNum\x27][_0x2434b6]+0x1;var\x20_0x308ac9=this[\x27fRX1\x27]<=0x0?0x0:0x1*this[\x27fRX1\x27],_0x4efb75=this[\x27fRY1\x27]<=0x0?0x0:this[\x27fRY1\x27]*_0x198938,_0x17a5c7=this[\x27fRX2\x27]>=0x1?0x1-_0x308ac9:0x1*this[\x27fRX2\x27]-_0x308ac9,_0x5f1e62=this[\x27fRY2\x27]>=0x1?_0x198938-_0x4efb75:this[\x27fRY2\x27]*_0x198938-_0x4efb75;if(_0x4af31d[\x27fX\x27]=(_0x4af31d[\x27fX\x27]-_0x308ac9)/_0x17a5c7,_0x4af31d[\x27fY\x27]=(_0x4af31d[\x27fY\x27]-_0x4efb75)/_0x5f1e62,_0x4af31d[\x27fX\x27]<=0x1&&_0x4af31d[\x27fY\x27]<=0x1&&_0x4af31d[\x27fX\x27]>=0x0&&_0x4af31d[\x27fY\x27]>=0x0){var\x20_0x37b5f2=this[\x27nOriPTZPointNum\x27][_0x2434b6];this[\x27pOriPTZPoints\x27][_0x2434b6][_0x37b5f2][\x27fX\x27]=_0x4af31d[\x27fX\x27],this[\x27pOriPTZPoints\x27][_0x2434b6][_0x37b5f2][\x27fY\x27]=_0x4af31d[\x27fY\x27],this[\x27nOriPTZPointNum\x27][_0x2434b6]=this[\x27nOriPTZPointNum\x27][_0x2434b6]+0x1;}return\x20_0xa87ede;}},{\x27key\x27:\x27GetFishPTZFloor\x27,\x27value\x27:function(_0x5d64c8,_0x230377,_0x20b682){var\x20_0x2402ff,_0x2bb293,_0x51bf0f,_0x1f4a36,_0x11cb3a,_0x7fb709,_0x1491eb,_0x598378={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x737f5e={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x185f6e={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x243ac0={};_0x1f4a36=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/(this[\x27fRY2\x27]-this[\x27fRY1\x27]),_0x11cb3a=(this[\x27fRX1\x27]+this[\x27fRX2\x27])/0x2*0x1,_0x7fb709=(this[\x27fRY1\x27]+this[\x27fRY2\x27])/0x2*_0x1f4a36,_0x1491eb=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/0x2*0x1,_0x598378[\x27fX\x27]=_0x5d64c8-0.5,_0x598378[\x27fY\x27]=_0x230377-0.5,_0x2402ff=this[\x27pRenderParam\x27][_0x20b682][\x27fZoom\x27],_0x737f5e[\x27fX\x27]=_0x598378[\x27fX\x27],_0x737f5e[\x27fY\x27]=_0x598378[\x27fY\x27]*this[\x27pRenderParam\x27][_0x20b682][\x27fCosV\x27]+_0x2402ff*this[\x27pRenderParam\x27][_0x20b682][\x27fSinV\x27],_0x2bb293=_0x2402ff*this[\x27pRenderParam\x27][_0x20b682][\x27fCosV\x27]-_0x598378[\x27fY\x27]*this[\x27pRenderParam\x27][_0x20b682][\x27fSinV\x27],_0x51bf0f=Math[\x27sqrt\x27](_0x737f5e[\x27fX\x27]*_0x737f5e[\x27fX\x27]+_0x737f5e[\x27fY\x27]*_0x737f5e[\x27fY\x27]);var\x20_0x441996=Math[\x27sqrt\x27](_0x737f5e[\x27fX\x27]*_0x737f5e[\x27fX\x27]+_0x737f5e[\x27fY\x27]*_0x737f5e[\x27fY\x27]+_0x2bb293*_0x2bb293),_0x3be58c=Math[\x27asin\x27](_0x51bf0f/_0x441996)/1.5707963*0.5;_0x737f5e[\x27fX\x27]=_0x3be58c*_0x737f5e[\x27fX\x27]/_0x51bf0f,_0x737f5e[\x27fY\x27]=_0x3be58c*_0x737f5e[\x27fY\x27]/_0x51bf0f,_0x185f6e[\x27fX\x27]=_0x737f5e[\x27fX\x27]*this[\x27pRenderParam\x27][_0x20b682][\x27fCosH\x27]-_0x737f5e[\x27fY\x27]*this[\x27pRenderParam\x27][_0x20b682][\x27fSinH\x27],_0x185f6e[\x27fY\x27]=_0x737f5e[\x27fX\x27]*this[\x27pRenderParam\x27][_0x20b682][\x27fSinH\x27]+_0x737f5e[\x27fY\x27]*this[\x27pRenderParam\x27][_0x20b682][\x27fCosH\x27],_0x243ac0[\x27fX\x27]=0x2*_0x185f6e[\x27fX\x27]*_0x1491eb+_0x11cb3a,_0x243ac0[\x27fY\x27]=0x2*_0x185f6e[\x27fY\x27]*_0x1491eb+_0x7fb709;var\x20_0x15bcf5=this[\x27nBasePTZPointNum\x27][_0x20b682];this[\x27pBasePTZPoints\x27][_0x20b682][_0x15bcf5][\x27fX\x27]=_0x185f6e[\x27fX\x27]+0.5,this[\x27pBasePTZPoints\x27][_0x20b682][_0x15bcf5][\x27fY\x27]=_0x185f6e[\x27fY\x27]+0.5,this[\x27nBasePTZPointNum\x27][_0x20b682]=this[\x27nBasePTZPointNum\x27][_0x20b682]+0x1;var\x20_0x1e561a=this[\x27fRX1\x27]<=0x0?0x0:0x1*this[\x27fRX1\x27],_0x19a04e=this[\x27fRY1\x27]<=0x0?0x0:this[\x27fRY1\x27]*_0x1f4a36,_0x470745=this[\x27fRX2\x27]>=0x1?0x1-_0x1e561a:0x1*this[\x27fRX2\x27]-_0x1e561a,_0x3ffe59=this[\x27fRY2\x27]>=0x1?_0x1f4a36-_0x19a04e:this[\x27fRY2\x27]*_0x1f4a36-_0x19a04e;if(_0x243ac0[\x27fX\x27]=(_0x243ac0[\x27fX\x27]-_0x1e561a)/_0x470745,_0x243ac0[\x27fY\x27]=(_0x243ac0[\x27fY\x27]-_0x19a04e)/_0x3ffe59,_0x243ac0[\x27fX\x27]<=0x1&&_0x243ac0[\x27fY\x27]<=0x1&&_0x243ac0[\x27fX\x27]>=0x0&&_0x243ac0[\x27fY\x27]>=0x0){var\x20_0xf69c5b=this[\x27nOriPTZPointNum\x27][_0x20b682];this[\x27pOriPTZPoints\x27][_0x20b682][_0xf69c5b][\x27fX\x27]=_0x243ac0[\x27fX\x27],this[\x27pOriPTZPoints\x27][_0x20b682][_0xf69c5b][\x27fY\x27]=_0x243ac0[\x27fY\x27],this[\x27nOriPTZPointNum\x27][_0x20b682]=this[\x27nOriPTZPointNum\x27][_0x20b682]+0x1;}return\x20_0xa87ede;}},{\x27key\x27:\x27GetFishPTZWALL\x27,\x27value\x27:function(_0x38c74c,_0x5d9e53,_0x98f087){var\x20_0x596ea3,_0x51bf3e,_0x5780c4,_0x3e49f7,_0x30dad9,_0x10ea85,_0x27a63e,_0x51e487,_0x31152b={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x4df952={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x5e7e33={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x44bf25={};_0x30dad9=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/(this[\x27fRY2\x27]-this[\x27fRY1\x27]),_0x10ea85=(this[\x27fRX1\x27]+this[\x27fRX2\x27])/0x2*0x1,_0x27a63e=(this[\x27fRY1\x27]+this[\x27fRY2\x27])/0x2*_0x30dad9,_0x51e487=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/0x2*0x1,_0x31152b[\x27fX\x27]=_0x5d9e53-0.5,_0x31152b[\x27fY\x27]=_0x38c74c-0.5,_0x596ea3=this[\x27pRenderParam\x27][_0x98f087][\x27fZoom\x27],_0x4df952[\x27fX\x27]=_0x31152b[\x27fX\x27],_0x4df952[\x27fY\x27]=_0x31152b[\x27fY\x27]*this[\x27pRenderParam\x27][_0x98f087][\x27fCosV\x27]+_0x596ea3*this[\x27pRenderParam\x27][_0x98f087][\x27fSinV\x27],_0x51bf3e=_0x596ea3*this[\x27pRenderParam\x27][_0x98f087][\x27fCosV\x27]-_0x31152b[\x27fY\x27]*this[\x27pRenderParam\x27][_0x98f087][\x27fSinV\x27],_0x5e7e33[\x27fX\x27]=_0x4df952[\x27fX\x27]*this[\x27pRenderParam\x27][_0x98f087][\x27fCosH\x27]+_0x51bf3e*this[\x27pRenderParam\x27][_0x98f087][\x27fSinH\x27],_0x5e7e33[\x27fY\x27]=_0x4df952[\x27fY\x27],_0x5780c4=_0x51bf3e*this[\x27pRenderParam\x27][_0x98f087][\x27fCosH\x27]-_0x4df952[\x27fX\x27]*this[\x27pRenderParam\x27][_0x98f087][\x27fSinH\x27],_0x3e49f7=Math[\x27sqrt\x27](_0x5e7e33[\x27fX\x27]*_0x5e7e33[\x27fX\x27]+_0x5e7e33[\x27fY\x27]*_0x5e7e33[\x27fY\x27]);var\x20_0x9e123=Math[\x27sqrt\x27](_0x5e7e33[\x27fX\x27]*_0x5e7e33[\x27fX\x27]+_0x5e7e33[\x27fY\x27]*_0x5e7e33[\x27fY\x27]+_0x5780c4*_0x5780c4),_0x14461f=Math[\x27asin\x27](_0x3e49f7/_0x9e123)/1.5707963*0.5;_0x44bf25[\x27fX\x27]=_0x14461f*_0x5e7e33[\x27fX\x27]/_0x3e49f7*_0x51e487*0x2+_0x10ea85,_0x44bf25[\x27fY\x27]=_0x14461f*_0x5e7e33[\x27fY\x27]/_0x3e49f7*_0x51e487*0x2+_0x27a63e;var\x20_0x18649b=this[\x27nBasePTZPointNum\x27][_0x98f087];this[\x27pBasePTZPoints\x27][_0x98f087][_0x18649b][\x27fX\x27]=_0x14461f*_0x5e7e33[\x27fX\x27]/_0x3e49f7+0.5,this[\x27pBasePTZPoints\x27][_0x98f087][_0x18649b][\x27fY\x27]=_0x14461f*_0x5e7e33[\x27fY\x27]/_0x3e49f7+0.5,this[\x27nBasePTZPointNum\x27][_0x98f087]=this[\x27nBasePTZPointNum\x27][_0x98f087]+0x1;var\x20_0x240ce4=this[\x27fRX1\x27]<=0x0?0x0:0x1*this[\x27fRX1\x27],_0x5017ea=this[\x27fRY1\x27]<=0x0?0x0:this[\x27fRY1\x27]*_0x30dad9,_0x22234a=this[\x27fRX2\x27]>=0x1?0x1-_0x240ce4:0x1*this[\x27fRX2\x27]-_0x240ce4,_0x1a56a0=this[\x27fRY2\x27]>=0x1?_0x30dad9-_0x5017ea:this[\x27fRY2\x27]*_0x30dad9-_0x5017ea;if(_0x44bf25[\x27fX\x27]=(_0x44bf25[\x27fX\x27]-_0x240ce4)/_0x22234a,_0x44bf25[\x27fY\x27]=(_0x44bf25[\x27fY\x27]-_0x5017ea)/_0x1a56a0,_0x44bf25[\x27fX\x27]<=0x1&&_0x44bf25[\x27fY\x27]<=0x1&&_0x44bf25[\x27fX\x27]>=0x0&&_0x44bf25[\x27fY\x27]>=0x0){var\x20_0x19cc2f=this[\x27nOriPTZPointNum\x27][_0x98f087];this[\x27pOriPTZPoints\x27][_0x98f087][_0x19cc2f][\x27fX\x27]=_0x44bf25[\x27fX\x27],this[\x27pOriPTZPoints\x27][_0x98f087][_0x19cc2f][\x27fY\x27]=_0x44bf25[\x27fY\x27],this[\x27nOriPTZPointNum\x27][_0x98f087]=this[\x27nOriPTZPointNum\x27][_0x98f087]+0x1;}return\x20_0xa87ede;}},{\x27key\x27:\x27GetPanoPTZCeiling\x27,\x27value\x27:function(_0x263f7b){if(null==this[\x27pRenderParam\x27][_0x263f7b]||null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]])return\x20_0x520965;if(null==this[\x27pBasePTZPoints\x27][_0x263f7b])return\x20_0x520965;var\x20_0x22ec24,_0x2ebe10,_0x186506=this[\x27nBasePTZPointNum\x27][_0x263f7b];_0x22ec24=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/(this[\x27fRY2\x27]-this[\x27fRY1\x27]),_0x2ebe10=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/0x2*0x1;var\x20_0x22da37,_0x18297c=0x0;(this[\x27fRX2\x27]>0x1||this[\x27fRY2\x27]>0x1||this[\x27fRY1\x27]<0x0||this[\x27fRX1\x27]<0x0)&&(this[\x27fRX1\x27]<0x0&&(_0x22da37=0x1*-this[\x27fRX1\x27])>_0x18297c&&(_0x18297c=_0x22da37),this[\x27fRX2\x27]>0x1&&(_0x22da37=0x1*(this[\x27fRX2\x27]-0x1))>_0x18297c&&(_0x18297c=_0x22da37),this[\x27fRY1\x27]<0x0&&(_0x22da37=-this[\x27fRY1\x27]*_0x22ec24)>_0x18297c&&(_0x18297c=_0x22da37),this[\x27fRY2\x27]>0x1&&(_0x22da37=(this[\x27fRY2\x27]-0x1)*_0x22ec24)>_0x18297c&&(_0x18297c=_0x22da37));for(var\x20_0xf6789b,_0x579bb=_0x18297c/_0x2ebe10,_0x1304b7={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x16843f={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x581f36=0x0;_0x581f36<_0x186506;++_0x581f36)if(_0x16843f[\x27fX\x27]=this[\x27pBasePTZPoints\x27][_0x263f7b][_0x581f36][\x27fX\x27],_0x16843f[\x27fY\x27]=this[\x27pBasePTZPoints\x27][_0x263f7b][_0x581f36][\x27fY\x27],!(Math[\x27abs\x27](_0x16843f[\x27fX\x27]-0.5)<_0x4a23c6&&Math[\x27abs\x27](_0x16843f[\x27fY\x27]-0.5)<_0x4a23c6)){var\x20_0x27e377={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x542b58={\x27fX\x27:0x0,\x27fY\x27:0x0};_0x27e377[\x27fX\x27]=_0x16843f[\x27fX\x27]-0.5,_0x27e377[\x27fY\x27]=_0x16843f[\x27fY\x27]-0.5,_0x542b58[\x27fX\x27]=-0.5*Math[\x27sin\x27](this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27fAngle\x27]),_0x542b58[\x27fY\x27]=0.5*Math[\x27cos\x27](this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27fAngle\x27]);var\x20_0x30de9a=Math[\x27sqrt\x27](_0x27e377[\x27fX\x27]*_0x27e377[\x27fX\x27]+_0x27e377[\x27fY\x27]*_0x27e377[\x27fY\x27]),_0x3fb02f=Math[\x27sqrt\x27](_0x542b58[\x27fX\x27]*_0x542b58[\x27fX\x27]+_0x542b58[\x27fY\x27]*_0x542b58[\x27fY\x27]);if(_0xf6789b=Math[\x27acos\x27]((_0x27e377[\x27fX\x27]*_0x542b58[\x27fX\x27]+_0x27e377[\x27fY\x27]*_0x542b58[\x27fY\x27])/(_0x30de9a*_0x3fb02f)),_0x27e377[\x27fX\x27]*_0x542b58[\x27fY\x27]-_0x27e377[\x27fY\x27]*_0x542b58[\x27fX\x27]>0x0&&(_0xf6789b=6.2831852-_0xf6789b),_0x1304b7[\x27fX\x27]=_0xf6789b/6.2831853,_0x1304b7[\x27fY\x27]=(0x2*(0.5-_0x30de9a)-_0x579bb)/(0.8-_0x579bb),_0x1304b7[\x27fY\x27]>=0x0&&_0x1304b7[\x27fX\x27]>=0x0&&_0x1304b7[\x27fY\x27]<=0x1&&_0x1304b7[\x27fX\x27]<=0x1){var\x20_0x2a305c=this[\x27nPanoPTZPointNum\x27][_0x263f7b];this[\x27pPanoPTZPoints\x27][_0x263f7b][_0x2a305c][\x27fX\x27]=_0x1304b7[\x27fX\x27],this[\x27pPanoPTZPoints\x27][_0x263f7b][_0x2a305c][\x27fY\x27]=_0x1304b7[\x27fY\x27],this[\x27nPanoPTZPointNum\x27][_0x263f7b]=this[\x27nPanoPTZPointNum\x27][_0x263f7b]+0x1;}}return\x20_0xa87ede;}},{\x27key\x27:\x27GetPanoPTZFloor\x27,\x27value\x27:function(_0x5d0fc0){if(null==this[\x27pRenderParam\x27][_0x5d0fc0]||null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]])return\x20_0x520965;if(null==this[\x27pBasePTZPoints\x27][_0x5d0fc0])return\x20_0x520965;var\x20_0x100b2a,_0x18120b,_0x19ec44=this[\x27nBasePTZPointNum\x27][_0x5d0fc0];_0x100b2a=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/(this[\x27fRY2\x27]-this[\x27fRY1\x27]),_0x18120b=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/0x2*0x1;var\x20_0x543faf,_0x261275=0x0;(this[\x27fRX2\x27]>0x1||this[\x27fRY2\x27]>0x1||this[\x27fRY1\x27]<0x0||this[\x27fRX1\x27]<0x0)&&(this[\x27fRX1\x27]<0x0&&(_0x543faf=0x1*-this[\x27fRX1\x27])>_0x261275&&(_0x261275=_0x543faf),this[\x27fRX2\x27]>0x1&&(_0x543faf=0x1*(this[\x27fRX2\x27]-0x1))>_0x261275&&(_0x261275=_0x543faf),this[\x27fRY1\x27]<0x0&&(_0x543faf=-this[\x27fRY1\x27]*_0x100b2a)>_0x261275&&(_0x261275=_0x543faf),this[\x27fRY2\x27]>0x1&&(_0x543faf=(this[\x27fRY2\x27]-0x1)*_0x100b2a)>_0x261275&&(_0x261275=_0x543faf));for(var\x20_0x2f2b37,_0x27bd4a=_0x261275/_0x18120b,_0x2a79e7={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x10ed1b={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x54ae89=0x0;_0x54ae89<_0x19ec44;++_0x54ae89)if(_0x10ed1b[\x27fX\x27]=this[\x27pBasePTZPoints\x27][_0x5d0fc0][_0x54ae89][\x27fX\x27],_0x10ed1b[\x27fY\x27]=this[\x27pBasePTZPoints\x27][_0x5d0fc0][_0x54ae89][\x27fY\x27],!(Math[\x27abs\x27](_0x10ed1b[\x27fX\x27]-0.5)<_0x4a23c6&&Math[\x27abs\x27](_0x10ed1b[\x27fY\x27]-0.5)<_0x4a23c6)){var\x20_0x2ecec4={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x2f6c97={\x27fX\x27:0x0,\x27fY\x27:0x0};_0x2ecec4[\x27fX\x27]=_0x10ed1b[\x27fX\x27]-0.5,_0x2ecec4[\x27fY\x27]=_0x10ed1b[\x27fY\x27]-0.5,_0x2f6c97[\x27fX\x27]=-0.5*Math[\x27sin\x27](this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27fAngle\x27]),_0x2f6c97[\x27fY\x27]=0.5*Math[\x27cos\x27](this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27fAngle\x27]);var\x20_0x4e4dea=Math[\x27sqrt\x27](_0x2ecec4[\x27fX\x27]*_0x2ecec4[\x27fX\x27]+_0x2ecec4[\x27fY\x27]*_0x2ecec4[\x27fY\x27]),_0x186af7=Math[\x27sqrt\x27](_0x2f6c97[\x27fX\x27]*_0x2f6c97[\x27fX\x27]+_0x2f6c97[\x27fY\x27]*_0x2f6c97[\x27fY\x27]);if(_0x2f2b37=Math[\x27acos\x27]((_0x2ecec4[\x27fX\x27]*_0x2f6c97[\x27fX\x27]+_0x2ecec4[\x27fY\x27]*_0x2f6c97[\x27fY\x27])/(_0x4e4dea*_0x186af7)),_0x2ecec4[\x27fX\x27]*_0x2f6c97[\x27fY\x27]-_0x2ecec4[\x27fY\x27]*_0x2f6c97[\x27fX\x27]>0x0&&(_0x2f2b37=6.2831852-_0x2f2b37),_0x2a79e7[\x27fX\x27]=0x1-_0x2f2b37/6.2831853,_0x2a79e7[\x27fY\x27]=0x1-(0x2*(0.5-_0x4e4dea)-_0x27bd4a)/(0.8-_0x27bd4a),_0x2a79e7[\x27fY\x27]>=0x0&&_0x2a79e7[\x27fX\x27]>=0x0&&_0x2a79e7[\x27fY\x27]<=0x1&&_0x2a79e7[\x27fX\x27]<=0x1){var\x20_0x16ff25=this[\x27nPanoPTZPointNum\x27][_0x5d0fc0];this[\x27pPanoPTZPoints\x27][_0x5d0fc0][_0x16ff25][\x27fX\x27]=_0x2a79e7[\x27fX\x27],this[\x27pPanoPTZPoints\x27][_0x5d0fc0][_0x16ff25][\x27fY\x27]=_0x2a79e7[\x27fY\x27],this[\x27nPanoPTZPointNum\x27][_0x5d0fc0]=this[\x27nPanoPTZPointNum\x27][_0x5d0fc0]+0x1;}}return\x20_0xa87ede;}},{\x27key\x27:\x27GetPanoPTZWall\x27,\x27value\x27:function(_0x42a7bd){if(null==this[\x27pRenderParam\x27][_0x42a7bd]||null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]])return\x20_0x520965;if(null==this[\x27pBasePTZPoints\x27][_0x42a7bd])return\x20_0x520965;var\x20_0x564e3d,_0x3e602d,_0x423c9f=this[\x27nBasePTZPointNum\x27][_0x42a7bd];_0x564e3d=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/(this[\x27fRY2\x27]-this[\x27fRY1\x27]),_0x3e602d=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/0x2*0x1;var\x20_0x56aaa5,_0x1f4537,_0x54b6be,_0xb5f14d,_0x49fdb6,_0x2fb7bb=0x0,_0xf39383=0x1,_0x5125ea=0.1,_0x2b07de=0.9;this[\x27fRX1\x27]<0x0&&(_0x56aaa5=0x1*-this[\x27fRX1\x27],_0x2fb7bb=_0x56aaa5/=0x2*_0x3e602d),this[\x27fRX2\x27]>0x1&&(_0x1f4537=0x1*(this[\x27fRX2\x27]-0x1),_0xf39383=0x1-(_0x1f4537/=0x2*_0x3e602d)),this[\x27fRY1\x27]<0x0&&(_0x54b6be=-this[\x27fRY1\x27]*_0x564e3d,_0x5125ea=(_0x54b6be/=0x2*_0x3e602d)>0.1?_0x54b6be:0.1),this[\x27fRY2\x27]>0x1&&(_0xb5f14d=(this[\x27fRY2\x27]-0x1)*_0x564e3d,_0x2b07de=(_0xb5f14d/=0x2*_0x3e602d)>0x1-0.9?0x1-_0xb5f14d:0.9);for(var\x20_0x51c7d7={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x15cbb7={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x211521=0x0;_0x211521<_0x423c9f;++_0x211521){_0x15cbb7[\x27fX\x27]=this[\x27pBasePTZPoints\x27][_0x42a7bd][_0x211521][\x27fX\x27],_0x15cbb7[\x27fY\x27]=this[\x27pBasePTZPoints\x27][_0x42a7bd][_0x211521][\x27fY\x27];var\x20_0x8074a7=0x2*_0x15cbb7[\x27fX\x27]*_0x3e602d,_0x445fec=0x2*_0x15cbb7[\x27fY\x27]*_0x3e602d;if(_0x49fdb6=Math[\x27sqrt\x27](_0x3e602d*_0x3e602d-(_0x445fec-_0x3e602d)*(_0x445fec-_0x3e602d)),!(Math[\x27abs\x27](_0x49fdb6)<_0x4a23c6)&&(_0x15cbb7[\x27fX\x27]=_0x3e602d*(_0x8074a7-_0x3e602d)/_0x49fdb6+_0x3e602d,_0x15cbb7[\x27fY\x27]=_0x445fec,_0x51c7d7[\x27fX\x27]=(_0x15cbb7[\x27fX\x27]-0x2*_0x2fb7bb*_0x3e602d)/(0x2*(_0xf39383-_0x2fb7bb)*_0x3e602d),_0x51c7d7[\x27fY\x27]=(_0x15cbb7[\x27fY\x27]-0x2*_0x5125ea*_0x3e602d)/(0x2*(_0x2b07de-_0x5125ea)*_0x3e602d),_0x51c7d7[\x27fY\x27]>=0x0&&_0x51c7d7[\x27fX\x27]>=0x0&&_0x51c7d7[\x27fY\x27]<=0x1&&_0x51c7d7[\x27fX\x27]<=0x1)){var\x20_0x4f41e4=this[\x27nPanoPTZPointNum\x27][_0x42a7bd];this[\x27pPanoPTZPoints\x27][_0x42a7bd][_0x4f41e4][\x27fX\x27]=_0x51c7d7[\x27fX\x27],this[\x27pPanoPTZPoints\x27][_0x42a7bd][_0x4f41e4][\x27fY\x27]=_0x51c7d7[\x27fY\x27],this[\x27nPanoPTZPointNum\x27][_0x42a7bd]=this[\x27nPanoPTZPointNum\x27][_0x42a7bd]+0x1;}}return\x20_0xa87ede;}},{\x27key\x27:\x27GetPointPano2FishCeiling\x27,\x27value\x27:function(_0x2f3dd8,_0x7b3d9e,_0x3c003f){if(null==_0x2f3dd8||null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]])return\x20_0x520965;var\x20_0x1ca50d,_0x4730c9;_0x1ca50d=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/(this[\x27fRY2\x27]-this[\x27fRY1\x27]),_0x4730c9=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/0x2*0x1;var\x20_0x1f6f27,_0x49d370=0x0,_0x4968e2=0x1,_0x30c450=0x0,_0x4aba84=0x1,_0xfcab6e=0x0;(this[\x27fRX2\x27]>0x1||this[\x27fRY2\x27]>0x1||this[\x27fRX1\x27]<0x0||this[\x27fRY1\x27]<0x0)&&(this[\x27fRX1\x27]<0x0&&((_0x1f6f27=0x1*-this[\x27fRX1\x27])>_0xfcab6e&&(_0xfcab6e=_0x1f6f27),_0x49d370=_0x1f6f27/=0x2*_0x4730c9),this[\x27fRX2\x27]>0x1&&((_0x1f6f27=0x1*(this[\x27fRX2\x27]-0x1))>_0xfcab6e&&(_0xfcab6e=_0x1f6f27),_0x4968e2=0x1-(_0x1f6f27/=0x2*_0x4730c9)),this[\x27fRY1\x27]<0x0&&((_0x1f6f27=-this[\x27fRY1\x27]*_0x1ca50d)>_0xfcab6e&&(_0xfcab6e=_0x1f6f27),_0x30c450=_0x1f6f27/=0x2*_0x4730c9),this[\x27fRY2\x27]>0x1&&((_0x1f6f27=(this[\x27fRY2\x27]-0x1)*_0x1ca50d)>_0xfcab6e&&(_0xfcab6e=_0x1f6f27),_0x4aba84=0x1-(_0x1f6f27/=0x2*_0x4730c9)));var\x20_0x236287,_0x1b3214,_0x39bc45=_0xfcab6e/_0x4730c9,_0x59c55c={},_0x1adaf={};return\x20_0x59c55c[\x27fX\x27]=_0x7b3d9e,_0x59c55c[\x27fY\x27]=(0.8-_0x39bc45)*_0x3c003f+_0x39bc45,_0x236287=6.2831853*_0x59c55c[\x27fX\x27]+this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27fAngle\x27],_0x1b3214=0.5*(0x1-_0x59c55c[\x27fY\x27]),_0x1adaf[\x27fX\x27]=0.5-_0x1b3214*Math[\x27sin\x27](_0x236287),_0x1adaf[\x27fY\x27]=0.5+_0x1b3214*Math[\x27cos\x27](_0x236287),_0x1adaf[\x27fX\x27]=(_0x1adaf[\x27fX\x27]-_0x49d370)/(_0x4968e2-_0x49d370),_0x1adaf[\x27fY\x27]=(_0x1adaf[\x27fY\x27]-_0x30c450)/(_0x4aba84-_0x30c450),_0x2f3dd8[\x27fX\x27]=_0x1adaf[\x27fX\x27],_0x2f3dd8[\x27fY\x27]=_0x1adaf[\x27fY\x27],_0xa87ede;}},{\x27key\x27:\x27GetPointPano2FishFloor\x27,\x27value\x27:function(_0x307474,_0xee954,_0x3a3359){if(null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]])return\x20_0x520965;if(null==_0x307474)return\x20_0x31ddcf;var\x20_0x311c35,_0x29e646;_0x311c35=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/(this[\x27fRY2\x27]-this[\x27fRY1\x27]),_0x29e646=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/0x2*0x1;var\x20_0x42c110,_0x530bbd=0x0,_0x45eecf=0x1,_0x12cd4a=0x0,_0x405165=0x1,_0x5a35b9=0x0;(this[\x27fRX2\x27]>0x1||this[\x27fRY2\x27]>0x1||this[\x27fRX1\x27]<0x0||this[\x27fRY1\x27]<0x0)&&(this[\x27fRX1\x27]<0x0&&((_0x42c110=0x1*-this[\x27fRX1\x27])>_0x5a35b9&&(_0x5a35b9=_0x42c110),_0x530bbd=_0x42c110/=0x2*_0x29e646),this[\x27fRX2\x27]>0x1&&((_0x42c110=0x1*(this[\x27fRX2\x27]-0x1))>_0x5a35b9&&(_0x5a35b9=_0x42c110),_0x45eecf=0x1-(_0x42c110/=0x2*_0x29e646)),this[\x27fRY1\x27]<0x0&&((_0x42c110=-this[\x27fRY1\x27]*_0x311c35)>_0x5a35b9&&(_0x5a35b9=_0x42c110),_0x12cd4a=_0x42c110/=0x2*_0x29e646),this[\x27fRY2\x27]>0x1&&((_0x42c110=(this[\x27fRY2\x27]-0x1)*_0x311c35)>_0x5a35b9&&(_0x5a35b9=_0x42c110),_0x405165=0x1-(_0x42c110/=0x2*_0x29e646)));var\x20_0x1ce7ff,_0x30ab48,_0x21a80b=_0x5a35b9/_0x29e646,_0x38a985={},_0x3a7f13={};return\x20_0x38a985[\x27fX\x27]=0x1-_0xee954,_0x38a985[\x27fY\x27]=(0.8-_0x21a80b)*(0x1-_0x3a3359)+_0x21a80b,_0x1ce7ff=6.2831853*_0x38a985[\x27fX\x27]+this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27fAngle\x27],_0x30ab48=0.5*(0x1-_0x38a985[\x27fY\x27]),_0x3a7f13[\x27fX\x27]=0.5-_0x30ab48*Math[\x27sin\x27](_0x1ce7ff),_0x3a7f13[\x27fY\x27]=0.5+_0x30ab48*Math[\x27cos\x27](_0x1ce7ff),_0x3a7f13[\x27fX\x27]=(_0x3a7f13[\x27fX\x27]-_0x530bbd)/(_0x45eecf-_0x530bbd),_0x3a7f13[\x27fY\x27]=(_0x3a7f13[\x27fY\x27]-_0x12cd4a)/(_0x405165-_0x12cd4a),_0x307474[\x27fX\x27]=_0x3a7f13[\x27fX\x27],_0x307474[\x27fY\x27]=_0x3a7f13[\x27fY\x27],_0xa87ede;}},{\x27key\x27:\x27GetPointPano2FishWall\x27,\x27value\x27:function(_0x48426c,_0x191ed4,_0x4abadc){if(null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]])return\x20_0x520965;if(null==_0x48426c)return\x20_0x31ddcf;var\x20_0xb24078,_0x4bdf86;_0xb24078=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/(this[\x27fRY2\x27]-this[\x27fRY1\x27]),_0x4bdf86=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/0x2*0x1;var\x20_0x42a26f,_0x12f390,_0x4672e7,_0x31bf4b,_0x215ccf=0x0,_0x42b094=0x1,_0x6ef8c2=0.1,_0x31cf8e=0.9,_0xb08d5e=0x0,_0x33e210=0x1,_0x34cc54=0x0,_0x490ecc=0x1;this[\x27fRX1\x27]<0x0&&(_0x42a26f=0x1*-this[\x27fRX1\x27],_0x215ccf=_0x42a26f/=0x2*_0x4bdf86,_0xb08d5e=_0x42a26f),this[\x27fRX2\x27]>0x1&&(_0x12f390=0x1*(this[\x27fRX2\x27]-0x1),_0x42b094=0x1-(_0x12f390/=0x2*_0x4bdf86),_0x33e210=0x1-_0x12f390),this[\x27fRY1\x27]<0x0&&(_0x4672e7=-this[\x27fRY1\x27]*_0xb24078,_0x6ef8c2=(_0x4672e7/=0x2*_0x4bdf86)>0.1?_0x4672e7:0.1,_0x34cc54=_0x4672e7),this[\x27fRY2\x27]>0x1&&(_0x31bf4b=(this[\x27fRY2\x27]-0x1)*_0xb24078,_0x31cf8e=(_0x31bf4b/=0x2*_0x4bdf86)>0x1-0.9?0x1-_0x31bf4b:0.9,_0x490ecc=0x1-_0x31bf4b);var\x20_0x41527b={},_0xcbadff={};_0x41527b[\x27fX\x27]=_0x191ed4*(_0x42b094-_0x215ccf)+_0x215ccf,_0x41527b[\x27fY\x27]=_0x4abadc*(_0x31cf8e-_0x6ef8c2)+_0x6ef8c2;var\x20_0x4dc2a0=Math[\x27sqrt\x27](0.25-(_0x41527b[\x27fY\x27]-0.5)*(_0x41527b[\x27fY\x27]-0.5));return\x20_0xcbadff[\x27fX\x27]=(_0x41527b[\x27fX\x27]-0.5)*_0x4dc2a0/0.5+0.5,_0xcbadff[\x27fY\x27]=_0x41527b[\x27fY\x27],_0xcbadff[\x27fX\x27]=(_0xcbadff[\x27fX\x27]-_0xb08d5e)/(_0x33e210-_0xb08d5e),_0xcbadff[\x27fY\x27]=(_0xcbadff[\x27fY\x27]-_0x34cc54)/(_0x490ecc-_0x34cc54),_0x48426c[\x27fX\x27]=_0xcbadff[\x27fX\x27],_0x48426c[\x27fY\x27]=_0xcbadff[\x27fY\x27],_0xa87ede;}},{\x27key\x27:\x27UpdatePTZPosition\x27,\x27value\x27:function(_0x2da374,_0x47dd34,_0x416e91){if(null==this[\x27pRenderParam\x27][_0x2da374])return\x20_0x520965;var\x20_0x3368ab={\x27fHAngleSin\x27:0x0,\x27fHAngleCos\x27:0x0,\x27fVAngleSin\x27:0x0,\x27fVAngleCos\x27:0x0},_0x22c4dc=_0xa87ede;if(_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]==this[\x27pRenderParam\x27][_0x2da374][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]==this[\x27pRenderParam\x27][_0x2da374][\x27nDisplayEffect\x27]){if((_0x22c4dc=this[\x27ComputeAngleVertical\x27](_0x47dd34,_0x416e91,_0x3368ab,this[\x27pRenderParam\x27][_0x2da374][\x27nDisplayEffect\x27]))!=_0xa87ede)return\x20_0x22c4dc;}else{if(_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]!=this[\x27pRenderParam\x27][_0x2da374][\x27nDisplayEffect\x27])return\x20_0x86aef9;if((_0x22c4dc=this[\x27ComputeAngleHorizontal\x27](_0x47dd34,_0x416e91,_0x3368ab))!=_0xa87ede)return\x20_0x22c4dc;}return\x200x0==this[\x27IsInImage\x27](this[\x27fRX1\x27],this[\x27fRX2\x27],this[\x27fRY1\x27],this[\x27fRY2\x27],_0x3368ab,this[\x27pRenderParam\x27][_0x2da374][\x27fZoom\x27],this[\x27pRenderParam\x27][_0x2da374][\x27nDisplayEffect\x27])?_0x31ddcf:(this[\x27pRenderParam\x27][_0x2da374][\x27fCosH\x27]=_0x3368ab[\x27fHAngleCos\x27],this[\x27pRenderParam\x27][_0x2da374][\x27fSinH\x27]=_0x3368ab[\x27fHAngleSin\x27],this[\x27pRenderParam\x27][_0x2da374][\x27fCosV\x27]=_0x3368ab[\x27fVAngleCos\x27],this[\x27pRenderParam\x27][_0x2da374][\x27fSinV\x27]=_0x3368ab[\x27fVAngleSin\x27],_0xa87ede);}},{\x27key\x27:\x27JudgeDisplayEffect\x27,\x27value\x27:function(_0x1c7058){var\x20_0x4ea6e2=0x0;switch(_0x4ea6e2){case\x200x0:return\x20_0x4ea6e2=this[\x27GetPlaceType\x27](_0x1c7058),0x4==this[\x27nPlaceType\x27]&&(this[\x27nPlaceType\x27]=0x0),_0xa87ede;case\x200x3:return(_0x4ea6e2=this[\x27GetPlaceType\x27](_0x1c7058))==this[\x27nPlaceType\x27]||0x4==this[\x27nPlaceType\x27]?_0xa87ede:_0x86aef9;case\x200x2:case\x200x1:return(_0x4ea6e2=this[\x27GetPlaceType\x27](_0x1c7058))==this[\x27nPlaceType\x27]||0x4==_0x4ea6e2?_0xa87ede:_0x86aef9;default:return\x20_0x86aef9;}return\x20_0x86aef9;}},{\x27key\x27:\x27GetPlaceType\x27,\x27value\x27:function(_0x28fcf9){switch(_0x28fcf9){case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_CEILING\x27]:return\x200x3;case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANARAMA_FLOOR_180\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_FLOOR\x27]:return\x200x2;case\x20_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]:return\x200x1;case\x20_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PLANET\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_SPHERE\x27]:case\x20_0x186ff9[\x27SR_DE_FISH_PLANET\x27]:return\x200x4;default:return\x200x0;}return\x200x0;}},{\x27key\x27:\x27SetFishParam\x27,\x27value\x27:function(_0x1f35b5,_0x43d6c5){if(_0x1f35b5<0x0||_0x1f35b5>=_0x379995)return\x20_0x31ddcf;if(null==_0x43d6c5)return\x20_0x31ddcf;if(null==this[\x27pRenderParam\x27][_0x1f35b5])return\x20_0x520965;var\x20_0x144707=_0xa87ede;switch(_0x43d6c5[\x27nFishParamType\x27]){case\x20_0x392c27:if((_0x144707=this[\x27UpdateCircyeParam\x27](_0x43d6c5[\x27fRXLeft\x27],_0x43d6c5[\x27fRXRight\x27],_0x43d6c5[\x27fRYTop\x27],_0x43d6c5[\x27fRYBottom\x27]))!=_0xa87ede)return\x20_0x144707;this[\x27pRenderParam\x27][_0x1f35b5][\x27bCut\x27]=_0x43d6c5[\x27bCut\x27],this[\x27bBlack\x27]=_0x43d6c5[\x27bBlack\x27];break;case\x20_0x5ca12e:if(_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]!=this[\x27pRenderParam\x27][_0x1f35b5][\x27nDisplayEffect\x27]&&_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]!=this[\x27pRenderParam\x27][_0x1f35b5][\x27nDisplayEffect\x27]&&_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]!=this[\x27pRenderParam\x27][_0x1f35b5][\x27nDisplayEffect\x27]&&_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]!=this[\x27pRenderParam\x27][_0x1f35b5][\x27nDisplayEffect\x27])return\x20_0x86aef9;if((_0x144707=this[\x27UpdateWideScanAngle\x27](_0x1f35b5,_0x43d6c5[\x27fAngle\x27]))!=_0xa87ede)return\x20_0x144707;this[\x27pFishParam\x27][_0x1f35b5][\x27fAngle\x27]=_0x43d6c5[\x27fAngle\x27];break;case\x20_0x378a81:if(_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]!=this[\x27pRenderParam\x27][_0x1f35b5][\x27nDisplayEffect\x27]&&_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]!=this[\x27pRenderParam\x27][_0x1f35b5][\x27nDisplayEffect\x27]&&_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]!=this[\x27pRenderParam\x27][_0x1f35b5][\x27nDisplayEffect\x27])return\x20_0x86aef9;if((_0x144707=this[\x27UpdateRangeParam\x27](_0x1f35b5,_0x43d6c5[\x27fZoom\x27]))!=_0xa87ede)return\x20_0x144707;this[\x27pFishParam\x27][_0x1f35b5][\x27fZoom\x27]=_0x43d6c5[\x27fZoom\x27];break;case\x20_0x3be196:if(_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]!=this[\x27pRenderParam\x27][_0x1f35b5][\x27nDisplayEffect\x27]&&_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]!=this[\x27pRenderParam\x27][_0x1f35b5][\x27nDisplayEffect\x27]&&_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]!=this[\x27pRenderParam\x27][_0x1f35b5][\x27nDisplayEffect\x27])return\x20_0x86aef9;if((_0x144707=this[\x27UpdatePTZPosition\x27](_0x1f35b5,_0x43d6c5[\x27fPTZX\x27],_0x43d6c5[\x27fPTZY\x27],this[\x27pRenderParam\x27][_0x1f35b5][\x27fZoom\x27],!0x0))!=_0xa87ede)return\x20_0x144707;this[\x27pFishParam\x27][_0x1f35b5][\x27fPTZX\x27]=_0x43d6c5[\x27fPTZX\x27],this[\x27pFishParam\x27][_0x1f35b5][\x27fPTZY\x27]=_0x43d6c5[\x27fPTZY\x27];break;default:return\x20_0x86aef9;}return\x20_0x144707=this[\x27ComputePTZPoints\x27]();}},{\x27key\x27:\x27GetFishParam\x27,\x27value\x27:function(_0x2cc8ea,_0x26ceb1){return\x20_0x2cc8ea<0x0||_0x2cc8ea>=_0x379995||null==_0x26ceb1||null==this[\x27pFishParam\x27][_0x2cc8ea]?_0x31ddcf:(_0x26ceb1[\x27fRXLeft\x27]=this[\x27fRX1\x27],_0x26ceb1[\x27fRXRight\x27]=this[\x27fRX2\x27],_0x26ceb1[\x27fRYTop\x27]=this[\x27fRY1\x27],_0x26ceb1[\x27fRYBottom\x27]=this[\x27fRY2\x27],_0x26ceb1[\x27bBlack\x27]=this[\x27bBlack\x27],_0x26ceb1[\x27bCut\x27]=this[\x27pRenderParam\x27][_0x2cc8ea][\x27bCut\x27],_0x26ceb1[\x27nFishParamType\x27]=this[\x27pFishParam\x27][_0x2cc8ea][\x27nFishParamType\x27],_0x26ceb1[\x27fAngle\x27]=this[\x27pFishParam\x27][_0x2cc8ea][\x27fAngle\x27],_0x26ceb1[\x27fZoom\x27]=this[\x27pFishParam\x27][_0x2cc8ea][\x27fZoom\x27],_0x26ceb1[\x27fPTZX\x27]=this[\x27pFishParam\x27][_0x2cc8ea][\x27fPTZX\x27],_0x26ceb1[\x27fPTZY\x27]=this[\x27pFishParam\x27][_0x2cc8ea][\x27fPTZY\x27],_0xa87ede);}},{\x27key\x27:\x27GetRenderParam\x27,\x27value\x27:function(_0x357f40,_0x215a6a){return\x20_0x357f40<0x0||_0x357f40>=_0x379995||null==_0x215a6a||null==this[\x27pRenderParam\x27][_0x357f40]?_0x31ddcf:(_0x215a6a[\x27fRXLeft\x27]=this[\x27fRX1\x27],_0x215a6a[\x27fRXRight\x27]=this[\x27fRX2\x27],_0x215a6a[\x27fRYTop\x27]=this[\x27fRY1\x27],_0x215a6a[\x27fRYBottom\x27]=this[\x27fRY2\x27],_0x215a6a[\x27bBlack\x27]=this[\x27bBlack\x27],_0x215a6a[\x27fCosH\x27]=this[\x27pRenderParam\x27][_0x357f40][\x27fCosH\x27],_0x215a6a[\x27fSinH\x27]=this[\x27pRenderParam\x27][_0x357f40][\x27fSinH\x27],_0x215a6a[\x27fCosV\x27]=this[\x27pRenderParam\x27][_0x357f40][\x27fCosV\x27],_0x215a6a[\x27fSinV\x27]=this[\x27pRenderParam\x27][_0x357f40][\x27fSinV\x27],_0x215a6a[\x27fAngle\x27]=this[\x27pRenderParam\x27][_0x357f40][\x27fAngle\x27],_0x215a6a[\x27fZoom\x27]=this[\x27pRenderParam\x27][_0x357f40][\x27fZoom\x27],_0x215a6a[\x27nDisplayEffect\x27]=this[\x27pRenderParam\x27][_0x357f40][\x27nDisplayEffect\x27],_0x215a6a[\x27bCut\x27]=this[\x27pRenderParam\x27][_0x357f40][\x27bCut\x27],_0xa87ede);}},{\x27key\x27:\x27UpdateCircyeParam\x27,\x27value\x27:function(_0x3c2410,_0x304e26,_0x834a20,_0x344cab){if(_0x3c2410<=-0.5||_0x3c2410>=0.4||_0x304e26<=0.6||_0x304e26>=1.5||_0x834a20<=-0.5||_0x834a20>=0.4||_0x344cab<=0.6||_0x344cab>=1.5||_0x3c2410+_0x304e26<=0.8||_0x3c2410+_0x304e26>=1.2||_0x834a20+_0x344cab<=0.8||_0x834a20+_0x344cab>=1.2)return\x20_0x31ddcf;if(_0x3c2410<0x0||_0x304e26>0x1||_0x834a20<0x0||_0x344cab>0x1){for(var\x20_0x49ed0d=0x0;_0x49ed0d<_0x379995;++_0x49ed0d)if(null!=this[\x27pRenderParam\x27][_0x49ed0d]&&(_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]==this[\x27pRenderParam\x27][_0x49ed0d][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]==this[\x27pRenderParam\x27][_0x49ed0d][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]==this[\x27pRenderParam\x27][_0x49ed0d][\x27nDisplayEffect\x27])){var\x20_0xd74afc={};if(_0xd74afc[\x27fHAngleCos\x27]=this[\x27pRenderParam\x27][_0x49ed0d][\x27fCosH\x27],_0xd74afc[\x27fHAngleSin\x27]=this[\x27pRenderParam\x27][_0x49ed0d][\x27fSinH\x27],_0xd74afc[\x27fVAngleCos\x27]=this[\x27pRenderParam\x27][_0x49ed0d][\x27fCosV\x27],_0xd74afc[\x27fVAngleSin\x27]=this[\x27pRenderParam\x27][_0x49ed0d][\x27fSinV\x27],0x0==this[\x27IsInImage\x27](_0x3c2410,_0x304e26,_0x834a20,_0x344cab,_0xd74afc,this[\x27pRenderParam\x27][_0x49ed0d][\x27fZoom\x27],this[\x27pRenderParam\x27][_0x49ed0d][\x27nDisplayEffect\x27]))return\x20_0x31ddcf;}}return\x20this[\x27fRX1\x27]=_0x3c2410,this[\x27fRX2\x27]=_0x304e26,this[\x27fRY1\x27]=_0x834a20,this[\x27fRY2\x27]=_0x344cab,_0xa87ede;}},{\x27key\x27:\x27UpdateWideScanAngle\x27,\x27value\x27:function(_0x1a368e,_0x3c704b){return\x20null==this[\x27pRenderParam\x27][_0x1a368e]?_0x520965:(_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]==this[\x27pRenderParam\x27][_0x1a368e][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]==this[\x27pRenderParam\x27][_0x1a368e][\x27nDisplayEffect\x27]?this[\x27pRenderParam\x27][_0x1a368e][\x27fAngle\x27]=_0x3c704b:_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]!=this[\x27pRenderParam\x27][_0x1a368e][\x27nDisplayEffect\x27]&&_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]!=this[\x27pRenderParam\x27][_0x1a368e][\x27nDisplayEffect\x27]||(this[\x27pRenderParam\x27][_0x1a368e][\x27fAngle\x27]=-_0x3c704b),_0xa87ede);}},{\x27key\x27:\x27ComputeAngleVertical\x27,\x27value\x27:function(_0x44631d,_0x3f14f5,_0xa133ad,_0x428ea9){var\x20_0x5db699=_0x44631d,_0x3501fe=_0x3f14f5,_0xd2137a=Math[\x27sqrt\x27]((_0x3501fe-0.5)*(_0x3501fe-0.5)+(_0x5db699-0.5)*(_0x5db699-0.5));if(_0xd2137a>0.5)return\x20_0x31ddcf;if(_0xd2137a<0.001)return\x20_0xa133ad[\x27fVAngleCos\x27]=0x1,_0xa133ad[\x27fVAngleSin\x27]=0x0,_0xa133ad[\x27fHAngleCos\x27]=0x1,_0xa133ad[\x27fHAngleSin\x27]=0x0,_0xa87ede;if(_0x428ea9==_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]){_0xa133ad[\x27fHAngleCos\x27]=(0.5-_0x3501fe)/_0xd2137a,_0xa133ad[\x27fHAngleSin\x27]=(0.5-_0x5db699)/_0xd2137a;var\x20_0x4cbe61=_0xd2137a*_0x530a52;_0xa133ad[\x27fVAngleCos\x27]=Math[\x27cos\x27](_0x4cbe61),_0xa133ad[\x27fVAngleSin\x27]=Math[\x27sin\x27](_0x4cbe61);}else{if(_0x428ea9!=_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27])return\x20_0x31ddcf;_0xa133ad[\x27fHAngleCos\x27]=(_0x3501fe-0.5)/_0xd2137a,_0xa133ad[\x27fHAngleSin\x27]=(0.5-_0x5db699)/_0xd2137a;var\x20_0x3a4040=_0xd2137a*_0x530a52;_0xa133ad[\x27fVAngleCos\x27]=Math[\x27cos\x27](_0x3a4040),_0xa133ad[\x27fVAngleSin\x27]=Math[\x27sin\x27](_0x3a4040);}return\x20_0xa87ede;}},{\x27key\x27:\x27ComputeAngleHorizontal\x27,\x27value\x27:function(_0x29818c,_0x5b806c,_0x317efc){var\x20_0x37f326,_0x10f5ae,_0xf18d33,_0x551c74,_0x45cf44,_0x384585,_0x530308,_0x578f2e=_0x29818c;return(_0x5b806c-(_0x45cf44=0.5))*(_0x5b806c-_0x45cf44)+(_0x578f2e-_0x45cf44)*(_0x578f2e-_0x45cf44)>0.25?_0x31ddcf:(_0x384585=(_0x5b806c-_0x45cf44)/_0x45cf44*_0x530a52/0x2,_0x37f326=Math[\x27cos\x27](_0x384585),_0x10f5ae=Math[\x27sin\x27](_0x384585),(_0x578f2e-_0x45cf44)/_0x45cf44/_0x37f326>0x1||(_0x578f2e-_0x45cf44)/_0x45cf44/_0x37f326<-0x1?_0x31ddcf:(_0x530308=(_0x578f2e-_0x45cf44)/_0x45cf44/_0x37f326*_0x530a52/0x2,_0xf18d33=Math[\x27cos\x27](_0x530308),_0x551c74=Math[\x27sin\x27](_0x530308),_0x317efc[\x27fVAngleCos\x27]=_0x37f326,_0x317efc[\x27fVAngleSin\x27]=_0x10f5ae,_0x317efc[\x27fHAngleCos\x27]=_0xf18d33,_0x317efc[\x27fHAngleSin\x27]=_0x551c74,_0xa87ede));}},{\x27key\x27:\x27IsInImage\x27,\x27value\x27:function(_0x1ec9a6,_0x18b1ec,_0x1ff219,_0x4c0d56,_0x3d507e,_0x34b532,_0x5075bd){return\x200x1!=this[\x27IsOutofImage\x27](_0x1ec9a6,_0x18b1ec,_0x1ff219,_0x4c0d56,_0x3d507e[\x27fHAngleCos\x27],_0x3d507e[\x27fHAngleSin\x27],_0x3d507e[\x27fVAngleCos\x27],_0x3d507e[\x27fVAngleSin\x27],_0x34b532,0x1,0.5,_0x5075bd)&&(0x1!=this[\x27IsOutofImage\x27](_0x1ec9a6,_0x18b1ec,_0x1ff219,_0x4c0d56,_0x3d507e[\x27fHAngleCos\x27],_0x3d507e[\x27fHAngleSin\x27],_0x3d507e[\x27fVAngleCos\x27],_0x3d507e[\x27fVAngleSin\x27],_0x34b532,0x0,0.5,_0x5075bd)&&(0x1!=this[\x27IsOutofImage\x27](_0x1ec9a6,_0x18b1ec,_0x1ff219,_0x4c0d56,_0x3d507e[\x27fHAngleCos\x27],_0x3d507e[\x27fHAngleSin\x27],_0x3d507e[\x27fVAngleCos\x27],_0x3d507e[\x27fVAngleSin\x27],_0x34b532,0.5,0x1,_0x5075bd)&&(0x1!=this[\x27IsOutofImage\x27](_0x1ec9a6,_0x18b1ec,_0x1ff219,_0x4c0d56,_0x3d507e[\x27fHAngleCos\x27],_0x3d507e[\x27fHAngleSin\x27],_0x3d507e[\x27fVAngleCos\x27],_0x3d507e[\x27fVAngleSin\x27],_0x34b532,0.5,0x0,_0x5075bd)&&(0x1!=this[\x27IsOutofImage\x27](_0x1ec9a6,_0x18b1ec,_0x1ff219,_0x4c0d56,_0x3d507e[\x27fHAngleCos\x27],_0x3d507e[\x27fHAngleSin\x27],_0x3d507e[\x27fVAngleCos\x27],_0x3d507e[\x27fVAngleSin\x27],_0x34b532,0x0,0x0,_0x5075bd)&&(0x1!=this[\x27IsOutofImage\x27](_0x1ec9a6,_0x18b1ec,_0x1ff219,_0x4c0d56,_0x3d507e[\x27fHAngleCos\x27],_0x3d507e[\x27fHAngleSin\x27],_0x3d507e[\x27fVAngleCos\x27],_0x3d507e[\x27fVAngleSin\x27],_0x34b532,0x0,0x1,_0x5075bd)&&(0x1!=this[\x27IsOutofImage\x27](_0x1ec9a6,_0x18b1ec,_0x1ff219,_0x4c0d56,_0x3d507e[\x27fHAngleCos\x27],_0x3d507e[\x27fHAngleSin\x27],_0x3d507e[\x27fVAngleCos\x27],_0x3d507e[\x27fVAngleSin\x27],_0x34b532,0x1,0x1,_0x5075bd)&&0x1!=this[\x27IsOutofImage\x27](_0x1ec9a6,_0x18b1ec,_0x1ff219,_0x4c0d56,_0x3d507e[\x27fHAngleCos\x27],_0x3d507e[\x27fHAngleSin\x27],_0x3d507e[\x27fVAngleCos\x27],_0x3d507e[\x27fVAngleSin\x27],_0x34b532,0x1,0x0,_0x5075bd)))))));}},{\x27key\x27:\x27IsOutofImage\x27,\x27value\x27:function(_0x55554,_0x5cba81,_0x39725d,_0x4b39ef,_0x173db4,_0x33d145,_0x4dd928,_0x4b8cf0,_0x571801,_0x55c4c5,_0x2d5629,_0x302c59){var\x20_0x1a12f8,_0x40381b,_0x33acd8,_0x1be963,_0x4569de,_0x87404c,_0x41254e,_0x42ce74,_0x9f0377,_0x186da2,_0x3b320a,_0x37f2f4,_0xff0b8f;if(0x1,_0x3b320a=(_0x55554+_0x5cba81)/0x2*0x1,_0x37f2f4=(_0x39725d+_0x4b39ef)/0x2*(_0x186da2=(_0x5cba81-_0x55554)/(_0x4b39ef-_0x39725d)),_0xff0b8f=(_0x5cba81-_0x55554)/0x2*0x1,_0x302c59==_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]){if(_0x40381b=_0x55c4c5-0.5,_0x33acd8=(_0x1a12f8=0.5-_0x2d5629)*_0x4dd928+(_0x87404c=_0x571801)*_0x4b8cf0,(_0x41254e=_0x87404c*_0x4dd928-_0x1a12f8*_0x4b8cf0)<=0x0)return!0x0;_0x9f0377=Math[\x27sqrt\x27](_0x40381b*_0x40381b+_0x33acd8*_0x33acd8);var\x20_0x23e843=Math[\x27sqrt\x27](_0x40381b*_0x40381b+_0x33acd8*_0x33acd8+_0x41254e*_0x41254e),_0x3db894=Math[\x27asin\x27](_0x9f0377/_0x23e843)/1.5707963*0.5;if(_0x4569de=(-((_0x40381b=_0x3db894*_0x40381b/_0x9f0377)*_0x33d145+(_0x33acd8=_0x3db894*_0x33acd8/_0x9f0377)*_0x173db4)*_0xff0b8f*0x2+_0x37f2f4)/_0x186da2,(_0x1be963=((_0x40381b*_0x173db4-_0x33acd8*_0x33d145)*_0xff0b8f*0x2+_0x3b320a)/0x1)<0x0||_0x1be963>0x1||_0x4569de<0x0||_0x4569de>0x1)return!0x0;}if(_0x302c59==_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]){if(_0x40381b=_0x55c4c5-0.5,_0x33acd8=(_0x1a12f8=_0x2d5629-0.5)*_0x4dd928+(_0x87404c=_0x571801)*_0x4b8cf0,(_0x41254e=_0x87404c*_0x4dd928-_0x1a12f8*_0x4b8cf0)<=0x0)return!0x0;_0x9f0377=Math[\x27sqrt\x27](_0x40381b*_0x40381b+_0x33acd8*_0x33acd8);var\x20_0x283f42=Math[\x27sqrt\x27](_0x40381b*_0x40381b+_0x33acd8*_0x33acd8+_0x41254e*_0x41254e),_0xaf09b9=Math[\x27asin\x27](_0x9f0377/_0x283f42)/1.5707963*0.5;if(_0x4569de=(((_0x40381b=_0xaf09b9*_0x40381b/_0x9f0377)*_0x33d145+(_0x33acd8=_0xaf09b9*_0x33acd8/_0x9f0377)*_0x173db4)*_0xff0b8f*0x2+_0x37f2f4)/_0x186da2,(_0x1be963=((_0x40381b*_0x173db4-_0x33acd8*_0x33d145)*_0xff0b8f*0x2+_0x3b320a)/0x1)<0x0||_0x1be963>0x1||_0x4569de<0x0||_0x4569de>0x1)return!0x0;}if(_0x302c59==_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]){if(_0x1be963=(_0x40381b=_0x55c4c5-0.5)*_0x173db4+(_0x41254e=(_0x87404c=_0x571801)*_0x4dd928-(_0x1a12f8=_0x2d5629-0.5)*_0x4b8cf0)*_0x33d145,_0x4569de=_0x33acd8=_0x1a12f8*_0x4dd928+_0x87404c*_0x4b8cf0,(_0x42ce74=_0x41254e*_0x173db4-_0x40381b*_0x33d145)<=0x0)return!0x0;_0x9f0377=Math[\x27sqrt\x27](_0x1be963*_0x1be963+_0x4569de*_0x4569de);var\x20_0x19d8a7=Math[\x27sqrt\x27](_0x1be963*_0x1be963+_0x4569de*_0x4569de+_0x42ce74*_0x42ce74),_0xfca511=Math[\x27asin\x27](_0x9f0377/_0x19d8a7)/1.5707963*0.5;if(_0x4569de=(_0xfca511*_0x4569de/_0x9f0377*_0xff0b8f*0x2+_0x37f2f4)/_0x186da2,(_0x1be963=(_0xfca511*_0x1be963/_0x9f0377*_0xff0b8f*0x2+_0x3b320a)/0x1)<0x0||_0x1be963>0x1||_0x4569de<0x0||_0x4569de>0x1)return!0x0;}return!0x1;}},{\x27key\x27:\x27ComputePTZPoints\x27,\x27value\x27:function(){if(_0x3cf544==this[\x27nWndPort\x27])return\x20_0x520965;for(var\x20_0x58c912=0x0;_0x58c912<_0x379995;++_0x58c912)if(null!=this[\x27pRenderParam\x27][_0x58c912]&&(_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]==this[\x27pRenderParam\x27][_0x58c912][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]==this[\x27pRenderParam\x27][_0x58c912][\x27nDisplayEffect\x27]||_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]==this[\x27pRenderParam\x27][_0x58c912][\x27nDisplayEffect\x27])){var\x20_0x242d80=_0xa87ede;if(this[\x27nPTZDisplayMode\x27]==_0x495db0){if(_0x242d80=this[\x27GetRangePoints\x27](_0x58c912),_0xa87ede!=_0x242d80)continue;if(_0x242d80=this[\x27TransformPTZRangePoints\x27](_0x58c912),_0xa87ede!=_0x242d80)continue;}else{if(this[\x27nPTZDisplayMode\x27]==_0x150ab7&&(_0x242d80=this[\x27GetRectPoints\x27](_0x58c912),_0xa87ede!=_0x242d80))continue;}}return\x20_0xa87ede;}},{\x27key\x27:\x27GetWndPort\x27,\x27value\x27:function(){return\x20this[\x27nWndPort\x27];}},{\x27key\x27:\x27GetPTZDisplayMode\x27,\x27value\x27:function(){return\x20this[\x27nPTZDisplayMode\x27];}},{\x27key\x27:\x27GetPTZColor\x27,\x27value\x27:function(_0x50ee0b,_0x3dbb47){return\x20_0x50ee0b<0x0||_0x50ee0b>=_0x379995||null==_0x3dbb47?_0x31ddcf:(_0x3dbb47[\x27fA\x27]=this[\x27stPTZColor\x27][_0x50ee0b][\x27fA\x27],_0x3dbb47[\x27fR\x27]=this[\x27stPTZColor\x27][_0x50ee0b][\x27fR\x27],_0x3dbb47[\x27fG\x27]=this[\x27stPTZColor\x27][_0x50ee0b][\x27fG\x27],_0x3dbb47[\x27fB\x27]=this[\x27stPTZColor\x27][_0x50ee0b][\x27fB\x27],null!=this[\x27pPTZSetColor\x27]&&(Math[\x27abs\x27](this[\x27pPTZSetColor\x27][_0x50ee0b][\x27fA\x27])<_0x4a23c6||Math[\x27abs\x27](this[\x27pPTZSetColor\x27][_0x50ee0b][\x27fR\x27])<_0x4a23c6||Math[\x27abs\x27](this[\x27pPTZSetColor\x27][_0x50ee0b][\x27fG\x27])<_0x4a23c6||Math[\x27abs\x27](this[\x27pPTZSetColor\x27][_0x50ee0b][\x27fB\x27])<_0x4a23c6)&&(_0x3dbb47[\x27fA\x27]=this[\x27pPTZSetColor\x27][_0x50ee0b][\x27fA\x27],_0x3dbb47[\x27fR\x27]=this[\x27pPTZSetColor\x27][_0x50ee0b][\x27fR\x27],_0x3dbb47[\x27fG\x27]=this[\x27pPTZSetColor\x27][_0x50ee0b][\x27fG\x27],_0x3dbb47[\x27fB\x27]=this[\x27pPTZSetColor\x27][_0x50ee0b][\x27fB\x27]),_0xa87ede);}},{\x27key\x27:\x27SetPTZColor\x27,\x27value\x27:function(_0x5e498c,_0x1b4ad4){if(_0x5e498c<0x0||_0x5e498c>=_0x379995)return\x20_0x31ddcf;if(null==_0x1b4ad4)return\x20_0x31ddcf;if(null==this[\x27pPTZSetColor\x27]){this[\x27pPTZSetColor\x27]=[];for(var\x20_0x533551=0x0;_0x533551<_0x379995;++_0x533551)this[\x27pPTZSetColor\x27][_0x533551]={},this[\x27pPTZSetColor\x27][_0x533551][\x27fR\x27]=0x0,this[\x27pPTZSetColor\x27][_0x533551][\x27fG\x27]=0x0,this[\x27pPTZSetColor\x27][_0x533551][\x27fB\x27]=0x0,this[\x27pPTZSetColor\x27][_0x533551][\x27fA\x27]=0x1;}return\x20this[\x27pPTZSetColor\x27][_0x5e498c][\x27fR\x27]=_0x1b4ad4[\x27fR\x27],this[\x27pPTZSetColor\x27][_0x5e498c][\x27fG\x27]=_0x1b4ad4[\x27fG\x27],this[\x27pPTZSetColor\x27][_0x5e498c][\x27fB\x27]=_0x1b4ad4[\x27fB\x27],this[\x27pPTZSetColor\x27][_0x5e498c][\x27fA\x27]=_0x1b4ad4[\x27fA\x27],_0xa87ede;}},{\x27key\x27:\x27IsPTZSelected\x27,\x27value\x27:function(_0x3173db){return!(_0x3173db<0x0||_0x3173db>=_0x379995)&&this[\x27bPTZSelected\x27][_0x3173db];}},{\x27key\x27:\x27GetPTZPort\x27,\x27value\x27:function(_0x2294b2,_0xb0dbfe,_0xa80085){if(this[\x27nWndPort\x27]==_0x3cf544)return\x20_0x520965;if(null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]])return\x20_0x520965;var\x20_0x15d626=_0x379995,_0x16f17c={};_0x16f17c[\x27fX\x27]=_0x2294b2,_0x16f17c[\x27fY\x27]=_0xb0dbfe;for(var\x20_0x2c3539=0x0;_0x2c3539<_0x379995;++_0x2c3539)this[\x27bPTZSelected\x27][_0x2c3539]=!0x1;if(this[\x27nPTZDisplayMode\x27]==_0x495db0){switch(this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27nDisplayEffect\x27]){case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]:this[\x27GetPointPano2FishFloor\x27](_0x16f17c,_0x2294b2,_0xb0dbfe);break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]:this[\x27GetPointPano2FishCeiling\x27](_0x16f17c,_0x2294b2,_0xb0dbfe);break;case\x20_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]:this[\x27GetPointPano2FishWall\x27](_0x16f17c,_0x2294b2,_0xb0dbfe);}for(var\x20_0x398890=0x0;_0x398890<_0x379995;++_0x398890)if(0x0!=this[\x27nOriPTZPointNum\x27][_0x398890]){var\x20_0x2c092e={};_0x2c092e[\x27fX\x27]=this[\x27pOriPTZPoints\x27][_0x398890][0x0][\x27fX\x27],_0x2c092e[\x27fY\x27]=this[\x27pOriPTZPoints\x27][_0x398890][0x0][\x27fY\x27];var\x20_0x6358e2={};_0x6358e2[\x27fX\x27]=this[\x27pOriPTZPoints\x27][_0x398890][0x0][\x27fX\x27],_0x6358e2[\x27fY\x27]=this[\x27pOriPTZPoints\x27][_0x398890][0x0][\x27fY\x27];for(var\x20_0x1bdca0=0x1;_0x1bdca0<this[\x27nOriPTZPointNum\x27][_0x398890];++_0x1bdca0)this[\x27GetPTZRectange\x27](_0x2c092e,_0x6358e2,this[\x27pOriPTZPoints\x27][_0x398890][_0x1bdca0]);if(_0x16f17c[\x27fX\x27]<=_0x2c092e[\x27fX\x27]&&_0x16f17c[\x27fX\x27]>=_0x6358e2[\x27fX\x27]&&_0x16f17c[\x27fY\x27]>=_0x6358e2[\x27fY\x27]&&_0x16f17c[\x27fY\x27]<=_0x2c092e[\x27fY\x27]){_0x15d626=_0x398890;break;}}}else{if(this[\x27nPTZDisplayMode\x27]!=_0x150ab7)return\x20_0x86aef9;for(var\x20_0x200f11=0x0;_0x200f11<_0x379995;++_0x200f11)if(_0x16f17c[\x27fX\x27]<=this[\x27pRectPoints\x27][_0x200f11][0x2][\x27fX\x27]&&_0x16f17c[\x27fX\x27]>=this[\x27pRectPoints\x27][_0x200f11][0x0][\x27fX\x27]&&_0x16f17c[\x27fY\x27]>=this[\x27pRectPoints\x27][_0x200f11][0x0][\x27fY\x27]&&_0x16f17c[\x27fY\x27]<=this[\x27pRectPoints\x27][_0x200f11][0x2][\x27fY\x27]){_0x15d626=_0x200f11;break;}}return\x20_0x15d626<_0x379995?(this[\x27bPTZSelected\x27][_0x15d626]=!0x0,_0xa80085[\x27nPTZPort\x27]=_0x15d626,_0xa87ede):_0x86aef9;}},{\x27key\x27:\x27SetPTZPort\x27,\x27value\x27:function(_0x54100c){if(_0x54100c<0x0||_0x54100c>=_0x379995)return\x20_0x31ddcf;for(var\x20_0xba5ecb=0x0;_0xba5ecb<_0x379995;++_0xba5ecb)this[\x27bPTZSelected\x27][_0xba5ecb]=!0x1;if(this[\x27nPTZDisplayMode\x27]==_0x495db0){if(0x0==this[\x27nOriPTZPointNum\x27][_0x54100c])return\x20_0x31ddcf;this[\x27bPTZSelected\x27][_0x54100c]=!0x0;}else{if(0x0==this[\x27nPTZRectNum\x27][_0x54100c])return\x20_0x31ddcf;this[\x27bPTZSelected\x27][_0x54100c]=!0x0;}return\x20_0xa87ede;}},{\x27key\x27:\x27GetPTZRectange\x27,\x27value\x27:function(_0x2a6656,_0x54d29e,_0x1b0a20){return\x20_0x1b0a20[\x27fX\x27]<_0x54d29e[\x27fX\x27]&&(_0x54d29e[\x27fX\x27]=_0x1b0a20[\x27fX\x27]),_0x1b0a20[\x27fY\x27]<_0x54d29e[\x27fY\x27]&&(_0x54d29e[\x27fY\x27]=_0x1b0a20[\x27fY\x27]),_0x1b0a20[\x27fX\x27]>_0x2a6656[\x27fX\x27]&&(_0x2a6656[\x27fX\x27]=_0x1b0a20[\x27fX\x27]),_0x1b0a20[\x27fY\x27]>_0x2a6656[\x27fY\x27]&&(_0x2a6656[\x27fY\x27]=_0x1b0a20[\x27fY\x27]),_0xa87ede;}},{\x27key\x27:\x27GetPTZPoints\x27,\x27value\x27:function(_0x4bfd20,_0x581c46,_0x1cb85a){return\x20_0x4bfd20<0x0||_0x4bfd20>=_0x379995?_0x31ddcf:null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]]?_0x520965:(_0x495db0==_0x1cb85a?null!=this[\x27pOriPTZPoints\x27][_0x4bfd20]&&0x0!=this[\x27nOriPTZPointNum\x27][_0x4bfd20]&&(_0x581c46[\x27pstPoints\x27]=this[\x27pOriPTZPoints\x27][_0x4bfd20],_0x581c46[\x27nPointNum\x27]=this[\x27nOriPTZPointNum\x27][_0x4bfd20]):_0x150ab7==_0x1cb85a&&null!=this[\x27pRectPoints\x27][_0x4bfd20]&&(_0x581c46[\x27pstPoints\x27]=this[\x27pRectPoints\x27][_0x4bfd20],_0x581c46[\x27nPointNum\x27]=0x4),_0xa87ede);}},{\x27key\x27:\x27SetPTZDisplayMode\x27,\x27value\x27:function(_0x236fa7){return\x20this[\x27nPTZDisplayMode\x27]=_0x236fa7,this[\x27ComputePTZPoints\x27]();}},{\x27key\x27:\x27GetDisplayEffect\x27,\x27value\x27:function(_0x18e72c){return\x20_0x18e72c<0x0||_0x18e72c>=_0x379995||null==this[\x27pRenderParam\x27]?_0x186ff9[\x27SR_DE_NULL\x27]:this[\x27pRenderParam\x27][_0x18e72c][\x27nDisplayEffect\x27];}},{\x27key\x27:\x27GetPTZFragmentPoints\x27,\x27value\x27:function(_0x42473d,_0x24b5a4,_0x3e8a32){if(_0x42473d<0x0||_0x42473d>=_0x379995)return\x20_0x31ddcf;if(null==this[\x27pPanoPTZPoints\x27][_0x42473d]||0x0==this[\x27nPanoPTZPointNum\x27][_0x42473d])return\x20_0x31ddcf;var\x20_0x392470=this[\x27nPTZFragmentNode\x27][_0x42473d][_0x3e8a32];if(_0x24b5a4[\x27nPointNum\x27]=this[\x27nPTZFragmentNode\x27][_0x42473d][_0x3e8a32+0x1]-this[\x27nPTZFragmentNode\x27][_0x42473d][_0x3e8a32],_0x24b5a4[\x27nPointNum\x27]<0x0)return\x20_0x520965;_0x24b5a4[\x27pstPoints\x27]=[];for(var\x20_0x3505dd=0x0;_0x3505dd<_0x24b5a4[\x27nPointNum\x27];++_0x3505dd){var\x20_0x1ae379={};_0x1ae379[\x27fX\x27]=this[\x27pPanoPTZPoints\x27][_0x42473d][_0x392470+_0x3505dd][\x27fX\x27],_0x1ae379[\x27fY\x27]=this[\x27pPanoPTZPoints\x27][_0x42473d][_0x392470+_0x3505dd][\x27fY\x27],_0x24b5a4[\x27pstPoints\x27][\x27push\x27](_0x1ae379);}return\x20_0xa87ede;}},{\x27key\x27:\x27GetPTZFragmentNum\x27,\x27value\x27:function(_0x4d18ad){return\x20_0x4d18ad<0x0||_0x4d18ad>=_0x379995||0x0==this[\x27nPTZFragmentNum\x27][_0x4d18ad]?0x0:this[\x27nPTZFragmentNum\x27][_0x4d18ad];}},{\x27key\x27:\x27CalcPTZFragmentPoints\x27,\x27value\x27:function(_0x220257){if(_0x220257<0x0||_0x220257>=_0x379995)return\x20_0x31ddcf;if(null==this[\x27pPanoPTZPoints\x27][_0x220257]||0x0==this[\x27nPanoPTZPointNum\x27][_0x220257])return\x20_0x520965;this[\x27nPTZFragmentNode\x27][_0x220257][0x0]=0x0,this[\x27nPTZFragmentNum\x27][_0x220257]=0x1;for(var\x20_0x39fb1c=0x0,_0x29453d=0x0;_0x29453d<this[\x27nPanoPTZPointNum\x27][_0x220257]-0x1;_0x29453d++)Math[\x27abs\x27](this[\x27pPanoPTZPoints\x27][_0x220257][_0x29453d+0x1][\x27fX\x27]-this[\x27pPanoPTZPoints\x27][_0x220257][_0x29453d][\x27fX\x27])>0.5&&(_0x39fb1c=this[\x27nPTZFragmentNum\x27][_0x220257],this[\x27nPTZFragmentNode\x27][_0x220257][_0x39fb1c]=_0x29453d+0x1,this[\x27nPTZFragmentNum\x27][_0x220257]=this[\x27nPTZFragmentNum\x27][_0x220257]+0x1);var\x20_0x99788e=this[\x27nPanoPTZPointNum\x27][_0x220257];return\x20Math[\x27abs\x27](this[\x27pPanoPTZPoints\x27][_0x220257][0x0][\x27fX\x27]-this[\x27pPanoPTZPoints\x27][_0x220257][_0x99788e-0x1][\x27fX\x27])<0.5&&(this[\x27pPanoPTZPoints\x27][_0x220257][_0x99788e][\x27fX\x27]=this[\x27pPanoPTZPoints\x27][_0x220257][0x0][\x27fX\x27],this[\x27pPanoPTZPoints\x27][_0x220257][_0x99788e][\x27fY\x27]=this[\x27pPanoPTZPoints\x27][_0x220257][0x0][\x27fY\x27],this[\x27nPanoPTZPointNum\x27][_0x220257]=this[\x27nPanoPTZPointNum\x27][_0x220257]+0x1),_0x39fb1c=this[\x27nPTZFragmentNum\x27][_0x220257],this[\x27nPTZFragmentNode\x27][_0x220257][_0x39fb1c]=this[\x27nPanoPTZPointNum\x27][_0x220257],_0xa87ede;}},{\x27key\x27:\x27IsPortAllocated\x27,\x27value\x27:function(_0x57f699){return\x20this[\x27bPortAllocated\x27][_0x57f699];}},{\x27key\x27:\x27GetPointFish2PanoCeiling\x27,\x27value\x27:function(_0x4d4650,_0x33309b,_0x5302ff){if(null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]])return\x20_0x520965;if(null==_0x4d4650)return\x20_0x31ddcf;var\x20_0x50af1a,_0x33bc1d;_0x50af1a=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/(this[\x27fRY2\x27]-this[\x27fRY1\x27]),_0x33bc1d=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/0x2*0x1;var\x20_0xd61f47,_0x31cd33=0x0;(this[\x27fRX2\x27]>0x1||this[\x27fRY2\x27]>0x1||this[\x27fRX1\x27]<0x0||this[\x27fRY1\x27]<0x0)&&(this[\x27fRX1\x27]<0x0&&(_0xd61f47=0x1*-this[\x27fRX1\x27])>_0x31cd33&&(_0x31cd33=_0xd61f47),this[\x27fRX2\x27]>0x1&&(_0xd61f47=0x1*(this[\x27fRX2\x27]-0x1))>_0x31cd33&&(_0x31cd33=_0xd61f47),this[\x27fRY1\x27]<0x0&&(_0xd61f47=-this[\x27fRY1\x27]*_0x50af1a)>_0x31cd33&&(_0x31cd33=_0xd61f47),this[\x27fRY2\x27]>0x1&&(_0xd61f47=(this[\x27fRY2\x27]-0x1)*_0x50af1a)>_0x31cd33&&(_0x31cd33=_0xd61f47));var\x20_0x1b5642,_0x157591=_0x31cd33/_0x33bc1d,_0x21e458={};if(_0x21e458[\x27fX\x27]=0x0,_0x21e458[\x27fY\x27]=0x0,Math[\x27abs\x27](_0x33309b-0.5)<_0x4a23c6&&Math[\x27abs\x27](_0x5302ff-0.5)<_0x4a23c6)return\x20_0x86aef9;var\x20_0x2e80fa={},_0x54a6d2={};_0x2e80fa[\x27fX\x27]=_0x33309b-0.5,_0x2e80fa[\x27fY\x27]=_0x5302ff-0.5,_0x54a6d2[\x27fX\x27]=-0.5*Math[\x27sin\x27](this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27fAngle\x27]),_0x54a6d2[\x27fY\x27]=0.5*Math[\x27cos\x27](this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27fAngle\x27]);var\x20_0x1aead2=Math[\x27sqrt\x27](_0x2e80fa[\x27fX\x27]*_0x2e80fa[\x27fX\x27]+_0x2e80fa[\x27fY\x27]*_0x2e80fa[\x27fY\x27]),_0x5cec6b=Math[\x27sqrt\x27](_0x54a6d2[\x27fX\x27]*_0x54a6d2[\x27fX\x27]+_0x54a6d2[\x27fY\x27]*_0x54a6d2[\x27fY\x27]);return\x20_0x1b5642=Math[\x27acos\x27]((_0x2e80fa[\x27fX\x27]*_0x54a6d2[\x27fX\x27]+_0x2e80fa[\x27fY\x27]*_0x54a6d2[\x27fY\x27])/(_0x1aead2*_0x5cec6b)),_0x2e80fa[\x27fX\x27]*_0x54a6d2[\x27fY\x27]-_0x2e80fa[\x27fY\x27]*_0x54a6d2[\x27fX\x27]>0x0&&(_0x1b5642=6.2831852-_0x1b5642),_0x21e458[\x27fX\x27]=_0x1b5642/6.2831853,_0x21e458[\x27fY\x27]=(0x2*(0.5-_0x1aead2)-_0x157591)/(0.8-_0x157591),_0x21e458[\x27fY\x27]>=0x0&&_0x21e458[\x27fX\x27]>=0x0&&_0x21e458[\x27fY\x27]<=0x1&&_0x21e458[\x27fX\x27]<=0x1?(_0x4d4650[\x27fX\x27]=_0x21e458[\x27fX\x27],_0x4d4650[\x27fY\x27]=_0x21e458[\x27fY\x27],_0xa87ede):_0x31ddcf;}},{\x27key\x27:\x27GetPointFish2PanoFloor\x27,\x27value\x27:function(_0x3190e8,_0x1ae5c7,_0x3e57c9){if(null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]])return\x20_0x520965;if(null==_0x3190e8)return\x20_0x31ddcf;var\x20_0xb389b3,_0x4f9e7b;_0xb389b3=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/(this[\x27fRY2\x27]-this[\x27fRY1\x27]),_0x4f9e7b=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/0x2*0x1;var\x20_0x3d1cb8,_0x193c42=0x0;(this[\x27fRX2\x27]>0x1||this[\x27fRY2\x27]>0x1||this[\x27fRX1\x27]<0x0||this[\x27fRY1\x27]<0x0)&&(this[\x27fRX1\x27]<0x0&&(_0x3d1cb8=0x1*-this[\x27fRX1\x27])>_0x193c42&&(_0x193c42=_0x3d1cb8),this[\x27fRX2\x27]>0x1&&(_0x3d1cb8=0x1*(this[\x27fRX2\x27]-0x1))>_0x193c42&&(_0x193c42=_0x3d1cb8),this[\x27fRY1\x27]<0x0&&(_0x3d1cb8=-this[\x27fRY1\x27]*_0xb389b3)>_0x193c42&&(_0x193c42=_0x3d1cb8),this[\x27fRY2\x27]>0x1&&(_0x3d1cb8=(this[\x27fRY2\x27]-0x1)*_0xb389b3)>_0x193c42&&(_0x193c42=_0x3d1cb8));var\x20_0x59f56c,_0x474b44=_0x193c42/_0x4f9e7b,_0x1f06df={\x27fX\x27:0x0,\x27fY\x27:0x0};if(Math[\x27abs\x27](_0x1ae5c7-0.5)<_0x4a23c6&&Math[\x27abs\x27](_0x3e57c9-0.5)<_0x4a23c6)return\x20_0x86aef9;var\x20_0x4e227e={},_0x47ca01={};_0x4e227e[\x27fX\x27]=_0x1ae5c7-0.5,_0x4e227e[\x27fY\x27]=_0x3e57c9-0.5,_0x47ca01[\x27fX\x27]=-0.5*Math[\x27sin\x27](this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27fAngle\x27]),_0x47ca01[\x27fY\x27]=0.5*Math[\x27cos\x27](this[\x27pRenderParam\x27][this[\x27nWndPort\x27]][\x27fAngle\x27]);var\x20_0x2765a4=Math[\x27sqrt\x27](_0x4e227e[\x27fX\x27]*_0x4e227e[\x27fX\x27]+_0x4e227e[\x27fY\x27]*_0x4e227e[\x27fY\x27]),_0xf458cb=Math[\x27sqrt\x27](_0x47ca01[\x27fX\x27]*_0x47ca01[\x27fX\x27]+_0x47ca01[\x27fY\x27]*_0x47ca01[\x27fY\x27]);return\x20_0x59f56c=Math[\x27acos\x27]((_0x4e227e[\x27fX\x27]*_0x47ca01[\x27fX\x27]+_0x4e227e[\x27fY\x27]*_0x47ca01[\x27fY\x27])/(_0x2765a4*_0xf458cb)),_0x4e227e[\x27fX\x27]*_0x47ca01[\x27fY\x27]-_0x4e227e[\x27fY\x27]*_0x47ca01[\x27fX\x27]>0x0&&(_0x59f56c=6.2831852-_0x59f56c),_0x1f06df[\x27fX\x27]=0x1-_0x59f56c/6.2831853,_0x1f06df[\x27fY\x27]=0x1-(0x2*(0.5-_0x2765a4)-_0x474b44)/(0.8-_0x474b44),_0x1f06df[\x27fY\x27]>=0x0&&_0x1f06df[\x27fX\x27]>=0x0&&_0x1f06df[\x27fY\x27]<=0x1&&_0x1f06df[\x27fX\x27]<=0x1?(_0x3190e8[\x27fX\x27]=_0x1f06df[\x27fX\x27],_0x3190e8[\x27fY\x27]=_0x1f06df[\x27fY\x27],_0xa87ede):_0x31ddcf;}},{\x27key\x27:\x27GetPointFish2PanoWall\x27,\x27value\x27:function(_0x32e9fb,_0x333161,_0x265730){if(null==this[\x27pRenderParam\x27][this[\x27nWndPort\x27]])return\x20_0x520965;if(null==_0x32e9fb)return\x20_0x31ddcf;var\x20_0x4ff303,_0x33b439;_0x4ff303=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/(this[\x27fRY2\x27]-this[\x27fRY1\x27]),_0x33b439=(this[\x27fRX2\x27]-this[\x27fRX1\x27])/0x2*0x1;var\x20_0x224936,_0xc43223,_0x4e65e4,_0x51a192,_0x6331f0,_0x1bbea8=0x0,_0x2283ca=0x1,_0x2966c4=0.1,_0x59ba23=0.9;this[\x27fRX1\x27]<0x0&&(_0x224936=0x1*-this[\x27fRX1\x27],_0x1bbea8=_0x224936/=0x2*_0x33b439),this[\x27fRX2\x27]>0x1&&(_0xc43223=0x1*(this[\x27fRX2\x27]-0x1),_0x2283ca=0x1-(_0xc43223/=0x2*_0x33b439)),this[\x27fRY1\x27]<0x0&&(_0x4e65e4=-this[\x27fRY1\x27]*_0x4ff303,_0x2966c4=(_0x4e65e4/=0x2*_0x33b439)>0.1?_0x4e65e4:0.1),this[\x27fRY2\x27]>0x1&&(_0x51a192=(this[\x27fRY2\x27]-0x1)*_0x4ff303,_0x59ba23=(_0x51a192/=0x2*_0x33b439)>0x1-0.9?0x1-_0x51a192:0.9);var\x20_0x266343={\x27fX\x27:0x0,\x27fY\x27:0x0},_0x219b0f=0x2*_0x333161*_0x33b439,_0xdf73cf=0x2*_0x265730*_0x33b439;return\x20_0x6331f0=Math[\x27sqrt\x27](_0x33b439*_0x33b439-(_0xdf73cf-_0x33b439)*(_0xdf73cf-_0x33b439)),Math[\x27abs\x27](_0x6331f0)<_0x4a23c6?SR_ERR_PARAM:(_0x333161=_0x33b439*(_0x219b0f-_0x33b439)/_0x6331f0+_0x33b439,_0x265730=_0xdf73cf,_0x266343[\x27fX\x27]=(_0x333161-0x2*_0x1bbea8*_0x33b439)/(0x2*(_0x2283ca-_0x1bbea8)*_0x33b439),_0x266343[\x27fY\x27]=(_0x265730-0x2*_0x2966c4*_0x33b439)/(0x2*(_0x59ba23-_0x2966c4)*_0x33b439),_0x266343[\x27fY\x27]>=0x0&&_0x266343[\x27fX\x27]>=0x0&&_0x266343[\x27fY\x27]<=0x1&&_0x266343[\x27fX\x27]<=0x1?(_0x32e9fb[\x27fX\x27]=_0x266343[\x27fX\x27],_0x32e9fb[\x27fY\x27]=_0x266343[\x27fY\x27],_0xa87ede):_0x31ddcf);}},{\x27key\x27:\x27UpdateRangeParam\x27,\x27value\x27:function(_0x6c8fa1,_0x32a255){if(null==this[\x27pRenderParam\x27][_0x6c8fa1])return\x20_0x520965;if(_0x32a255<0.00001||_0x32a255>0.6)return\x20_0x31ddcf;var\x20_0x3c870d=0x0;return\x20_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]!=this[\x27pRenderParam\x27][_0x6c8fa1][\x27nDisplayEffect\x27]&&_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]!=this[\x27pRenderParam\x27][_0x6c8fa1][\x27nDisplayEffect\x27]&&_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]!=this[\x27pRenderParam\x27][_0x6c8fa1][\x27nDisplayEffect\x27]||(_0x3c870d=0x7*_0x32a255+0.8,this[\x27IsInImage\x27](this[\x27fRX1\x27],this[\x27fRX2\x27],this[\x27fRY1\x27],this[\x27fRY2\x27],this[\x27pRenderParam\x27][_0x6c8fa1][\x27fCosH\x27],this[\x27pRenderParam\x27][_0x6c8fa1][\x27fSinH\x27],this[\x27pRenderParam\x27][_0x6c8fa1][\x27fCosV\x27],this[\x27pRenderParam\x27][_0x6c8fa1][\x27fSinV\x27],_0x3c870d,this[\x27pRenderParam\x27][_0x6c8fa1][\x27nDisplayEffect\x27]))?(this[\x27pRenderParam\x27][_0x6c8fa1][\x27fZoom\x27]=_0x3c870d,_0xa87ede):_0x31ddcf;}}]),_0x132b86;}()),_0x5440d6=0x20,_0x4ae543=(function(){function\x20_0x48881e(){_0x54580d(this,_0x48881e),this[\x27renderEngine\x27]=\x27webgl\x27,this[\x27oVideoHandle\x27]=null,this[\x27mainCanvasID\x27]=null,this[\x27curTimestamp\x27]=0x0,this[\x27mainSubPort\x27]=0x0,this[\x27mainVaildSubPort\x27]=0x0,this[\x27mainFECCorrect\x27]=_0x186ff9[\x27SR_DE_NULL\x27],this[\x27FECErrorCode\x27]=0x0,this[\x27subPortNum\x27]=0x0,this[\x27FECShowMode\x27]=_0x495db0,this[\x27pFishParamManager\x27]=null,this[\x27InitFECParam\x27](),this[\x27privateLinesInfo\x27]=[],this[\x27privateFontsInfo\x27]=[],this[\x27privateImageInfo\x27]=[],this[\x27bSRCallBackFlag\x27]=!0x1,this[\x27curLinesInfo\x27]=null,this[\x27curFontsInfo\x27]=null,this[\x27curImagesInfo\x27]=null,this[\x27maxPrivateLineTimeStamp\x27]=0x0,this[\x27hasSetFECParamManager\x27]=!0x1,this[\x27pWaterFontParam\x27]=[],this[\x27pWaterImageParam\x27]=[],this[\x27waterMarkImageIndex\x27]=0x0,this[\x27waterMarkImageMax\x27]=0x1,this[\x27aPOSAdaptBuf\x27]=[];}return\x20_0x4fd085(_0x48881e,[{\x27key\x27:\x27InitDisplay\x27,\x27value\x27:function(_0x41b975,_0xaf9fa6,_0xbaa2d7){return\x20this[\x27renderEngine\x27]=_0xaf9fa6,this[\x27mainCanvasID\x27]=_0x41b975,\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(this[\x27oVideoHandle\x27]=new\x20_0x47e209(),console[\x27log\x27](\x272d\x5cx20render\x27)):(this[\x27oVideoHandle\x27]=new\x20_0x453e55(),this[\x27mainFECCorrect\x27]!=_0x186ff9[\x27SR_DE_NULL\x27]&&(null==this[\x27pFishParamManager\x27]&&(this[\x27pFishParamManager\x27]=new\x20_0x30cc90()),this[\x27oVideoHandle\x27][\x27SR_SetFishParamManager\x27](this[\x27pFishParamManager\x27]),this[\x27hasSetFECParamManager\x27]=!0x0),console[\x27log\x27](\x27webgl\x5cx20render\x27)),this[\x27oVideoHandle\x27][\x27SR_Init\x27](_0x41b975,_0xbaa2d7),this[\x27mainVaildSubPort\x27]=this[\x27oVideoHandle\x27][\x27SR_AddSubPort\x27](this[\x27mainFECCorrect\x27]),-0x1==this[\x27mainVaildSubPort\x27]?(console[\x27info\x27](\x27%c\x5cx20InitDisplay\x5cx20SR_AddSubPort\x5cx20error\x5cx20subport:%d\x27,\x27color:\x5cx20red\x27,this[\x27mainVaildSubPort\x27]),0x0):(null==this[\x27stFishEyeManager\x27][0x0][\x27pRender\x27]&&this[\x27mainFECCorrect\x27]!==_0x186ff9[\x27SR_DE_NULL\x27]&&(this[\x27stFishEyeManager\x27][0x0][\x27pRender\x27]=this[\x27oVideoHandle\x27],this[\x27stFishEyeManager\x27][0x0][\x27nSubPort\x27]=0x0,this[\x27stFishEyeManager\x27][0x0][\x27sCanvasID\x27]=this[\x27mainCanvasID\x27],this[\x27stFishEyeManager\x27][0x0][\x27bUsed\x27]=0x1,this[\x27stFishEyeManager\x27][0x0][\x27bInited\x27]=0x1,this[\x27stFishEyeManager\x27][0x0][\x27nValidSubPort\x27]=this[\x27mainVaildSubPort\x27]),0x1);}},{\x27key\x27:\x27ReleaseDisplay\x27,\x27value\x27:function(){if(null!=this[\x27oVideoHandle\x27]&&(this[\x27oVideoHandle\x27][\x27SR_DelSubPort\x27](this[\x27mainVaildSubPort\x27]),this[\x27oVideoHandle\x27][\x27SR_Destroy\x27](),this[\x27oVideoHandle\x27]=null),this[\x27subPortNum\x27]>0x0){for(var\x20_0x94556=0x1;_0x94556<_0x5440d6;_0x94556++)0x0!=this[\x27stFishEyeManager\x27][_0x94556][\x27nSubPort\x27]&&null!=this[\x27stFishEyeManager\x27][_0x94556][\x27sCanvasID\x27]&&0x0!=this[\x27stFishEyeManager\x27][_0x94556][\x27bInited\x27]&&(this[\x27FEC_Disable\x27](_0x94556),this[\x27FEC_DelPort\x27](_0x94556));}for(var\x20_0x4ea93c=0x0;_0x4ea93c<_0x5440d6;_0x4ea93c++)this[\x27stFishEyeManager\x27][_0x4ea93c][\x27pRender\x27]=null;return\x20this[\x27stFishEyeManager\x27][\x27splice\x27](0x0,this[\x27stFishEyeManager\x27][\x27length\x27]),this[\x27stFishParam\x27][\x27splice\x27](0x0,this[\x27stFishParam\x27][\x27length\x27]),null!=this[\x27pFishParamManager\x27]&&(this[\x27pFishParamManager\x27][\x27DeInit\x27](),this[\x27pFishParamManager\x27]=null),this[\x27FECShowMode\x27]=_0x495db0,this[\x27DeInitPrivateParam\x27](),0x1;}},{\x27key\x27:\x27DeInitPrivateParam\x27,\x27value\x27:function(){this[\x27privateLinesInfo\x27][\x27splice\x27](0x0,this[\x27privateLinesInfo\x27][\x27length\x27]),this[\x27privateFontsInfo\x27][\x27splice\x27](0x0,this[\x27privateFontsInfo\x27][\x27length\x27]),this[\x27privateImageInfo\x27][\x27splice\x27](0x0,this[\x27privateImageInfo\x27][\x27length\x27]),this[\x27pWaterFontParam\x27][\x27splice\x27](0x0,this[\x27pWaterFontParam\x27][\x27length\x27]),this[\x27pWaterImageParam\x27][\x27splice\x27](0x0,this[\x27pWaterImageParam\x27][\x27length\x27]),this[\x27bSRCallBackFlag\x27]=!0x1,this[\x27curLinesInfo\x27]=null;}},{\x27key\x27:\x27DisplayFrame\x27,\x27value\x27:function(_0x241257,_0x381b91,_0x5e3b07,_0x5d210c,_0x2bf64a,_0x244c7e){var\x20_0x396b03=this;return\x20new\x20Promise(function(_0x3130e8){var\x20_0x805485=-0x1;if(null!=_0x241257&&(_0x805485=_0x5d210c),_0x396b03[\x27bSRCallBackFlag\x27]||(null!=_0x396b03[\x27oVideoHandle\x27]&&_0x396b03[\x27oVideoHandle\x27][\x27SR_SetCallBack\x27](_0x396b03[\x27WebGLDisplayCallBack\x27],_0x396b03,_0x444649),_0x396b03[\x27bSRCallBackFlag\x27]=!0x0),null!=_0x241257&&(0x0==_0x396b03[\x27privateLinesInfo\x27][\x27length\x27]&&0x0==_0x396b03[\x27privateFontsInfo\x27][\x27length\x27]&&0x0==_0x396b03[\x27privateImageInfo\x27][\x27length\x27]||(_0x396b03[\x27curTimestamp\x27]=_0x805485,_0x396b03[\x27FindIntelNodefromList\x27](_0x396b03[\x27curTimestamp\x27])),null!=_0x396b03[\x27oVideoHandle\x27]&&_0x396b03[\x27oVideoHandle\x27][\x27SR_Draw\x27](_0x241257,_0x381b91,_0x5e3b07,_0x2bf64a,_0x244c7e),_0x396b03[\x27subPortNum\x27]>0x0)){for(var\x20_0x14a6d1=0x1;_0x14a6d1<_0x5440d6;_0x14a6d1++)0x0!=_0x396b03[\x27stFishEyeManager\x27][_0x14a6d1][\x27nSubPort\x27]&&null!=_0x396b03[\x27stFishEyeManager\x27][_0x14a6d1][\x27sCanvasID\x27]&&0x0!=_0x396b03[\x27stFishEyeManager\x27][_0x14a6d1][\x27bInited\x27]&&null!=_0x396b03[\x27stFishEyeManager\x27][_0x14a6d1][\x27pRender\x27]&&_0x396b03[\x27stFishEyeManager\x27][_0x14a6d1][\x27pRender\x27][\x27SR_Draw\x27](_0x241257,_0x381b91,_0x5e3b07,null,null);}_0x3130e8(_0x805485);});}},{\x27key\x27:\x27SetDisplayRect\x27,\x27value\x27:function(_0x154492,_0x4d7bf2,_0x1a0b43,_0xfa552d){return\x20null!=this[\x27oVideoHandle\x27]?this[\x27oVideoHandle\x27][\x27SR_SetDisplayRect\x27](_0x154492,_0x4d7bf2,_0x1a0b43,_0xfa552d,_0xe9e464):0x0;}},{\x27key\x27:\x27SetCanvasSize\x27,\x27value\x27:function(_0x3e6288,_0x186bd2){return\x20null!=this[\x27oVideoHandle\x27]?this[\x27oVideoHandle\x27][\x27SR_SetCanvasSize\x27](_0x3e6288,_0x186bd2):0x0;}},{\x27key\x27:\x27GetCanvasSize\x27,\x27value\x27:function(){return\x20null!=this[\x27oVideoHandle\x27]?this[\x27oVideoHandle\x27][\x27SR_GetCanvasSize\x27]():0x0;}},{\x27key\x27:\x27SetAntialias\x27,\x27value\x27:function(_0x3c0ac9){return\x20null!=this[\x27oVideoHandle\x27]?this[\x27oVideoHandle\x27][\x27SR_SetAntialias\x27](_0x3c0ac9):0x0;}},{\x27key\x27:\x27SetD3DPostProcess\x27,\x27value\x27:function(_0x2321b2,_0x3465f0){return\x20null!=this[\x27oVideoHandle\x27]?this[\x27oVideoHandle\x27][\x27SR_SetImagePostProcess\x27](_0x2321b2,_0x3465f0):0x0;}},{\x27key\x27:\x27InitFECParam\x27,\x27value\x27:function(){this[\x27stFishEyeManager\x27]=[];for(var\x20_0x599cf5=0x0;_0x599cf5<_0x5440d6;_0x599cf5++)this[\x27stFishEyeManager\x27][_0x599cf5]={},this[\x27stFishEyeManager\x27][_0x599cf5][\x27pRender\x27]=null,this[\x27stFishEyeManager\x27][_0x599cf5][\x27nSubPort\x27]=0x0,this[\x27stFishEyeManager\x27][_0x599cf5][\x27sCanvasID\x27]=null,this[\x27stFishEyeManager\x27][_0x599cf5][\x27bUsed\x27]=0x0,this[\x27stFishEyeManager\x27][_0x599cf5][\x27bInit\x27]=0x0,this[\x27stFishEyeManager\x27][_0x599cf5][\x27nValidSubPort\x27]=0x0,this[\x27stFishEyeManager\x27][_0x599cf5][\x27emPlaceType\x27]=_0x1e68ea,this[\x27stFishEyeManager\x27][_0x599cf5][\x27emCorrectType\x27]=_0x4fbb93,this[\x27stFishEyeManager\x27][_0x599cf5][\x27emEffect\x27]=_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27];this[\x27stFishParam\x27]=[];for(var\x20_0x5bb5bd=0x0;_0x5bb5bd<_0x5440d6;_0x5bb5bd++)this[\x27stFishParam\x27][_0x5bb5bd]={},this[\x27stFishParam\x27][_0x5bb5bd][\x27nUpDateType\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZParam\x27]={},this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZParam\x27][\x27fPTZPositionX\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZParam\x27][\x27fPTZPositionY\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stCycleParam\x27]={},this[\x27stFishParam\x27][_0x5bb5bd][\x27stCycleParam\x27][\x27fRadiusLeft\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stCycleParam\x27][\x27fRadiusRight\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stCycleParam\x27][\x27fRadiusTop\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stCycleParam\x27][\x27fRadiusBottom\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27fZoom\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27fWideScanOffset\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZColor\x27]={},this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZColor\x27][\x27nR\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZColor\x27][\x27nG\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZColor\x27][\x27nB\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZColor\x27][\x27nAlpha\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZSelect\x27]={},this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZSelect\x27][\x27fTop\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZSelect\x27][\x27fBottom\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZSelect\x27][\x27fLeft\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27stPTZSelect\x27][\x27fRight\x27]=0x0,this[\x27stFishParam\x27][_0x5bb5bd][\x27nCut\x27]=0x0;}},{\x27key\x27:\x27FEC_SetCanvasID\x27,\x27value\x27:function(_0x461e15){return\x20this[\x27mainFECCorrect\x27]=_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27],0x1;}},{\x27key\x27:\x27FEC_ResetCorrectType\x27,\x27value\x27:function(_0x524c38,_0x41579d,_0x34714a){if(!0x1===this[\x27hasSetFECParamManager\x27]&&(null==this[\x27pFishParamManager\x27]&&(this[\x27pFishParamManager\x27]=new\x20_0x30cc90()),this[\x27oVideoHandle\x27][\x27SR_SetFishParamManager\x27](this[\x27pFishParamManager\x27]),this[\x27hasSetFECParamManager\x27]=!0x0),_0x34714a!=_0x4fbb93&&_0x34714a!=_0x2cb8a2&&_0x34714a!=_0x4e5968&&_0x34714a!=_0x1837a3&&_0x34714a!=_0x54a990&&_0x34714a!=_0x30e952&&_0x34714a!=_0x20b7ae&&_0x34714a!=_0x39b0d3&&_0x34714a!=_0x2a01ec)return\x20console[\x27log\x27](\x27%c\x5cx2020231122\x5cx20hardDecoder\x5cx20not\x5cx20support\x5cx20correctType:%d\x27,\x27color:red\x27,_0x34714a),this[\x27FECErrorCode\x27]=0x10,0x0;if(0x1!=this[\x27FECParamJudge\x27](_0x524c38,_0x41579d,_0x34714a))return\x200x0;var\x20_0x204106;if(_0x204106=this[\x27_ConvertDisplayEffect\x27](_0x41579d,_0x34714a),0x0==_0x524c38&&null==this[\x27stFishEyeManager\x27][_0x524c38][\x27pRender\x27]&&(this[\x27stFishEyeManager\x27][_0x524c38][\x27pRender\x27]=this[\x27oVideoHandle\x27],this[\x27stFishEyeManager\x27][_0x524c38][\x27nSubPort\x27]=_0x524c38,this[\x27stFishEyeManager\x27][_0x524c38][\x27sCanvasID\x27]=this[\x27mainCanvasID\x27],this[\x27stFishEyeManager\x27][_0x524c38][\x27bUsed\x27]=0x1,this[\x27stFishEyeManager\x27][_0x524c38][\x27bInited\x27]=0x1,this[\x27stFishEyeManager\x27][_0x524c38][\x27nValidSubPort\x27]=this[\x27mainVaildSubPort\x27],this[\x27stFishEyeManager\x27][_0x524c38][\x27emPlaceType\x27]=_0x41579d,this[\x27stFishEyeManager\x27][_0x524c38][\x27emCorrectType\x27]=_0x34714a,this[\x27stFishEyeManager\x27][_0x524c38][\x27emEffect\x27]=_0x204106,this[\x27mainFECCorrect\x27]=_0x204106),null!=this[\x27stFishEyeManager\x27][_0x524c38][\x27pRender\x27]){this[\x27stFishEyeManager\x27][_0x524c38][\x27pRender\x27][\x27SR_DelSubPort\x27](this[\x27stFishEyeManager\x27][_0x524c38][\x27nValidSubPort\x27]);var\x20_0x3379b4=this[\x27stFishEyeManager\x27][_0x524c38][\x27pRender\x27][\x27SR_AddSubPort\x27](_0x204106);if(-0x1==_0x3379b4)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_ResetCorrectType\x5cx20SR_AddSubPort\x5cx20error\x5cx20subport:%d\x27,\x27color:\x5cx20red\x27,_0x3379b4),0x0;if(this[\x27stFishEyeManager\x27][_0x524c38][\x27nValidSubPort\x27]=_0x3379b4,this[\x27stFishEyeManager\x27][_0x524c38][\x27emPlaceType\x27]=_0x41579d,this[\x27stFishEyeManager\x27][_0x524c38][\x27emCorrectType\x27]=_0x34714a,this[\x27stFishEyeManager\x27][_0x524c38][\x27emEffect\x27]=_0x204106,_0x1837a3<=this[\x27stFishEyeManager\x27][_0x524c38][\x27emCorrectType\x27]){var\x20_0x5ac827=this[\x27stFishEyeManager\x27][_0x524c38][\x27pRender\x27][\x27SR_SetRenderState\x27](_0x57ef5a,0x0);_0xa87ede!=_0x5ac827&&console[\x27log\x27](\x27>>>VideoRender.js\x5cx20SR_SetRenderState\x5cx20failed\x5cx20ret：%08x\x5cx0a\x27,_0x5ac827);}}return\x20this[\x27FECShowMode\x27]>0x0&&null!=this[\x27stFishEyeManager\x27][_0x524c38][\x27pRender\x27]&&this[\x27stFishEyeManager\x27][_0x524c38][\x27pRender\x27][\x27SR_SetPTZDisplayMode\x27](this[\x27FECShowMode\x27]),0x0==_0x524c38&&(this[\x27mainVaildSubPort\x27]=this[\x27stFishEyeManager\x27][_0x524c38][\x27nValidSubPort\x27]),0x1;}},{\x27key\x27:\x27FEC_GetPort\x27,\x27value\x27:function(_0x4edce7,_0x16fe01){if(_0x16fe01!=_0x4fbb93&&_0x16fe01!=_0x2cb8a2&&_0x16fe01!=_0x4e5968&&_0x16fe01!=_0x1837a3&&_0x16fe01!=_0x54a990&&_0x16fe01!=_0x30e952&&_0x16fe01!=_0x20b7ae&&_0x16fe01!=_0x39b0d3&&_0x16fe01!=_0x2a01ec)return\x20console[\x27log\x27](\x27%c\x5cx2020231112\x5cx20hardDecoder\x5cx20not\x5cx20support\x5cx20emCorrectType:%d\x27,\x27color:red\x27,_0x16fe01),this[\x27FECErrorCode\x27]=0x10,-0x1;var\x20_0x427cfe;if(0x1!=this[\x27FECParamJudge\x27](-0x1,_0x4edce7,_0x16fe01))return-0x1;var\x20_0x3df02b=0x0;for(_0x427cfe=0x1;_0x427cfe<_0x5440d6;_0x427cfe++)if(0x0==this[\x27stFishEyeManager\x27][_0x427cfe][\x27nSubPort\x27]&&0x0==this[\x27stFishEyeManager\x27][_0x427cfe][\x27bUsed\x27]){this[\x27stFishEyeManager\x27][_0x427cfe][\x27nSubPort\x27]=_0x427cfe,this[\x27stFishEyeManager\x27][_0x427cfe][\x27nValidSubPort\x27]=-0x1,this[\x27stFishEyeManager\x27][_0x427cfe][\x27bUsed\x27]=0x1,this[\x27stFishEyeManager\x27][_0x427cfe][\x27emPlaceType\x27]=_0x4edce7,this[\x27stFishEyeManager\x27][_0x427cfe][\x27emCorrectType\x27]=_0x16fe01,_0x3df02b=_0x427cfe;break;}if(_0x5440d6==_0x427cfe)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetPort-12\x5cx20fish\x5cx20subport\x5cx20max\x27,\x27color:\x5cx20red\x27),this[\x27FECErrorCode\x27]=0x504,-0x1;var\x20_0x36ac05;return\x20_0x36ac05=this[\x27_ConvertDisplayEffect\x27](this[\x27stFishEyeManager\x27][_0x3df02b][\x27emPlaceType\x27],this[\x27stFishEyeManager\x27][_0x3df02b][\x27emCorrectType\x27]),_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27]!=_0x36ac05?(0x0==this[\x27stFishEyeManager\x27][_0x3df02b][\x27bInited\x27]&&(this[\x27stFishEyeManager\x27][_0x3df02b][\x27emEffect\x27]=_0x36ac05,this[\x27stFishEyeManager\x27][_0x3df02b][\x27bInited\x27]=0x0,this[\x27stFishParam\x27][_0x3df02b][\x27fZoom\x27]=0.005,this[\x27stFishParam\x27][_0x3df02b][\x27stPTZParam\x27][\x27fPTZPositionX\x27]=0.5,this[\x27stFishParam\x27][_0x3df02b][\x27stPTZParam\x27][\x27fPTZPositionY\x27]=0.5,this[\x27stFishParam\x27][_0x3df02b][\x27fWideScanOffset\x27]=0x0),this[\x27FECErrorCode\x27]=0x0,this[\x27subPortNum\x27]++,_0x3df02b):_0x3df02b<_0x5440d6&&0x0==this[\x27stFishEyeManager\x27][_0x3df02b][\x27bInited\x27]?(this[\x27stFishEyeManager\x27][_0x3df02b][\x27emEffect\x27]=_0x36ac05,this[\x27stFishEyeManager\x27][_0x3df02b][\x27bInited\x27]=0x0,this[\x27stFishParam\x27][_0x3df02b][\x27fZoom\x27]=0x0,this[\x27stFishParam\x27][_0x3df02b][\x27stPTZParam\x27][\x27fPTZPositionX\x27]=0x0,this[\x27stFishParam\x27][_0x3df02b][\x27stPTZParam\x27][\x27fPTZPositionY\x27]=0x0,this[\x27stFishParam\x27][_0x3df02b][\x27fWideScanOffset\x27]=0x0,this[\x27FECErrorCode\x27]=0x0,this[\x27subPortNum\x27]++,_0x3df02b):(this[\x27stFishEyeManager\x27][_0x427cfe][\x27pRender\x27]=null,this[\x27stFishEyeManager\x27][_0x427cfe][\x27nSubPort\x27]=0x0,this[\x27stFishEyeManager\x27][_0x427cfe][\x27sCanvasID\x27]=null,this[\x27stFishEyeManager\x27][_0x427cfe][\x27bUsed\x27]=0x0,this[\x27stFishEyeManager\x27][_0x427cfe][\x27bInited\x27]=0x0,this[\x27stFishEyeManager\x27][_0x427cfe][\x27nValidSubPort\x27]=0x0,this[\x27stFishEyeManager\x27][_0x427cfe][\x27emPlaceType\x27]=_0x1e68ea,this[\x27stFishEyeManager\x27][_0x427cfe][\x27emCorrectType\x27]=_0x4fbb93,this[\x27stFishEyeManager\x27][_0x427cfe][\x27emEffect\x27]=_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27],this[\x27FECErrorCode\x27]=_0xa88cb3,-0x1);}},{\x27key\x27:\x27FECParamJudge\x27,\x27value\x27:function(_0xd98f83,_0x19e843,_0x440875){if((_0x240c92==_0x19e843||_0x1e68ea==_0x19e843)&&_0x30e952==_0x440875)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetPort-1\x5cx20floor\x5cx20and\x5cx20ceiling\x5cx20not\x5cx20support\x5cx20lat\x27,\x27color:\x5cx20red\x27),this[\x27FECErrorCode\x27]=_0xa88cb3,0x0;if(_0x2aea6b==_0x19e843&&_0x20b7ae==_0x440875)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetPort-2\x5cx20wall\x5cx20not\x5cx20support\x5cx20cylinger\x27,\x27color:\x5cx20red\x27),this[\x27FECErrorCode\x27]=_0xa88cb3,0x0;if(_0x2aea6b==_0x19e843&&_0x443c47==_0x440875)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetPort-3\x5cx20wall\x5cx20not\x5cx20support\x5cx20split\x5cx20cylinger\x27,\x27color:\x5cx20red\x27),this[\x27FECErrorCode\x27]=_0xa88cb3,0x0;if((_0x240c92==_0x19e843||_0x1e68ea==_0x19e843)&&_0x39b0d3==_0x440875)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetPort-4\x5cx20floor\x5cx20and\x5cx20ceiling\x5cx20not\x5cx20support\x5cx20horizontal\x27,\x27color:\x5cx20red\x27),this[\x27FECErrorCode\x27]=_0xa88cb3,0x0;if((_0x240c92==_0x19e843||_0x1e68ea==_0x19e843)&&_0x2a01ec==_0x440875)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetPort-5\x5cx20floor\x5cx20and\x5cx20ceiling\x5cx20not\x5cx20support\x5cx20vertical\x27,\x27color:\x5cx20red\x27),this[\x27FECErrorCode\x27]=_0xa88cb3,0x0;if(_0x2aea6b!=_0x19e843&&_0x240c92!=_0x19e843&&_0x1e68ea!=_0x19e843)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetPort-6\x5cx20emPlaceType\x5cx20only\x5cx20support\x5cx20floor,\x5cx20ceiling\x5cx20and\x5cx20wall\x27,\x27color:\x5cx20red\x27),this[\x27FECErrorCode\x27]=MP_E_SUPPORT,0x0;if(0x0!=_0x440875&&_0x440875!=_0x54a990&&_0x440875!=_0x2cb8a2&&_0x440875!=_0x4e5968&&_0x440875!=_0x30e952&&_0x440875!=_0x1837a3&&_0x440875!=_0x20b7ae&&_0x440875!=_0x443c47&&_0x440875!=_0x30ecd9&&_0x440875!=_0x39b0d3&&_0x440875!=_0x2a01ec)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetPort-7\x5cx20emCorrectType\x5cx20error\x27,\x27color:\x5cx20red\x27),this[\x27FECErrorCode\x27]=MP_E_SUPPORT,0x0;for(var\x20_0x4c6d6b=0x0;_0x4c6d6b<_0x5440d6;_0x4c6d6b++)if(_0x4c6d6b!=_0xd98f83){if(this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27bUsed\x27]&&this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27emPlaceType\x27]!=_0x19e843)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetPort-8\x5cx20emPlaceType\x5cx20changed\x27,\x27color:\x5cx20red\x27),this[\x27FECErrorCode\x27]=0x517,0x0;if(this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27bUsed\x27]&&this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27emCorrectType\x27]!=_0x54a990&&this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27emCorrectType\x27]!=_0x1837a3&&this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27emCorrectType\x27]!=_0x20b7ae&&this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27emCorrectType\x27]!=_0x443c47&&this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27emCorrectType\x27]!=_0x30ecd9&&this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27emCorrectType\x27]!=_0x39b0d3&&this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27emCorrectType\x27]!=_0x2a01ec&&_0x440875!=_0x54a990&&_0x440875!=_0x1837a3&&_0x440875!=_0x20b7ae&&_0x440875!=_0x443c47&&_0x440875!=_0x30ecd9&&_0x440875!=_0x39b0d3&&_0x440875!=_0x2a01ec)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetPort-9\x5cx20origin/180/360/lat\x5cx20only\x5cx20display\x5cx20one\x5cx20port\x27,\x27color:\x5cx20red\x27),this[\x27FECErrorCode\x27]=0x518,0x0;if(this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27bUsed\x27]&&(this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27emCorrectType\x27]==_0x54a990&&_0x440875==_0x2cb8a2||this[\x27stFishEyeManager\x27][_0x4c6d6b][\x27emCorrectType\x27]==_0x2cb8a2&&_0x440875==_0x54a990))return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetPort-10\x5cx20180\x5cx20cannot\x5cx20support\x5cx20ptz\x27,\x27color:\x5cx20red\x27),this[\x27FECErrorCode\x27]=0x518,0x0;}return\x200x1;}},{\x27key\x27:\x27FEC_Enable\x27,\x27value\x27:function(_0x38de61){return\x20_0x38de61<0x1||_0x38de61>0x1f||null==_0x38de61?(console[\x27info\x27](\x27%c\x5cx20FEC_Enable-1\x5cx20nSubPort:%d\x27,\x27color:\x5cx20red\x27,_0x38de61),this[\x27FECErrorCode\x27]=_0x41c932,0x0):null!==this[\x27stFishEyeManager\x27][_0x38de61][\x27pRender\x27]?(console[\x27info\x27](\x27%c\x5cx20FEC_Enable-2\x5cx20nSubPort:%d\x27,\x27color:\x5cx20red\x27,_0x38de61),this[\x27FECErrorCode\x27]=0x515,0x0):(null==this[\x27stFishEyeManager\x27][_0x38de61][\x27pRender\x27]&&(this[\x27stFishEyeManager\x27][_0x38de61][\x27pRender\x27]=new\x20_0x453e55(),null==this[\x27pFishParamManager\x27]&&(this[\x27pFishParamManager\x27]=new\x20_0x30cc90()),this[\x27stFishEyeManager\x27][_0x38de61][\x27pRender\x27][\x27SR_SetFishParamManager\x27](this[\x27pFishParamManager\x27])),0x1);}},{\x27key\x27:\x27FEC_SetWnd\x27,\x27value\x27:function(_0xb663fd,_0x1038c6){if(_0xb663fd<0x1||_0xb663fd>0x1f||null==_0xb663fd)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_SetWnd-1\x5cx20nSubPort:%d\x27,\x27color:\x5cx20red\x27,_0xb663fd),this[\x27FECErrorCode\x27]=_0x41c932,0x0;if(null==this[\x27stFishEyeManager\x27][_0xb663fd][\x27pRender\x27])return\x20console[\x27info\x27](\x27%c\x5cx20FEC_SetWnd-2\x5cx20nSubPort:%d\x5cx20pRender\x5cx20is\x5cx20null\x27,\x27color:\x5cx20red\x27,_0xb663fd),this[\x27FECErrorCode\x27]=_0x599b74,0x0;if(0x0==this[\x27stFishEyeManager\x27][_0xb663fd][\x27bUsed\x27])return\x20console[\x27info\x27](\x27%c\x5cx20FEC_SetWnd-3\x5cx20nSubPort:%d\x5cx20bUsed:%d\x27,\x27color:\x5cx20red\x27,_0xb663fd,this[\x27stFishEyeManager\x27][_0xb663fd][\x27bUsed\x27]),this[\x27FECErrorCode\x27]=_0x4b57a2,0x0;if(null==_0x1038c6)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_SetWnd-4\x5cx20nSubPort:%d\x5cx20sCanvasID:%s\x27,\x27color:\x5cx20red\x27,_0xb663fd,_0x1038c6),this[\x27FECErrorCode\x27]=0x519,0x0;if(0x0!=this[\x27stFishEyeManager\x27][_0xb663fd][\x27nSubPort\x27]&&0x0!=this[\x27stFishEyeManager\x27][_0xb663fd][\x27bUsed\x27]){if(0x0!=this[\x27stFishEyeManager\x27][_0xb663fd][\x27bInited\x27]&&null!=this[\x27stFishEyeManager\x27][_0xb663fd][\x27sCanvasID\x27])return\x20_0x1038c6!=this[\x27stFishEyeManager\x27][_0xb663fd][\x27sCanvasID\x27]?(console[\x27info\x27](\x27%c\x5cx20FEC_SetWnd-5\x5cx20nSubPort:%d\x5cx20sCanvasID:%s\x5cx20already\x5cx20init\x27,\x27color:\x5cx20red\x27,_0xb663fd,_0x1038c6),this[\x27FECErrorCode\x27]=0x506,0x0):0x1;var\x20_0x49e36c;_0x49e36c=this[\x27_ConvertDisplayEffect\x27](this[\x27stFishEyeManager\x27][_0xb663fd][\x27emPlaceType\x27],this[\x27stFishEyeManager\x27][_0xb663fd][\x27emCorrectType\x27]);var\x20_0x4577b8=this[\x27stFishEyeManager\x27][_0xb663fd][\x27pRender\x27][\x27SR_Init\x27](_0x1038c6,_0xa01ff6),_0x552ae2=this[\x27stFishEyeManager\x27][_0xb663fd][\x27pRender\x27][\x27SR_AddSubPort\x27](_0x49e36c);if(-0x1==_0x552ae2)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_SetWnd\x5cx20SR_AddSubPort\x5cx20error\x5cx20subport:%d\x27,\x27color:\x5cx20red\x27,_0xb663fd),0x0;if(this[\x27stFishEyeManager\x27][_0xb663fd][\x27nValidSubPort\x27]=_0x552ae2,_0xa87ede!=_0x4577b8)return\x20this[\x27stFishEyeManager\x27][_0xb663fd][\x27bInited\x27]=0x0,this[\x27stFishEyeManager\x27][_0xb663fd][\x27sCanvasID\x27]=null,this[\x27FECErrorCode\x27]=_0x4b57a2,0x0;if(this[\x27stFishEyeManager\x27][_0xb663fd][\x27bInited\x27]=0x1,this[\x27stFishEyeManager\x27][_0xb663fd][\x27sCanvasID\x27]=_0x1038c6,_0x1837a3<=this[\x27stFishEyeManager\x27][_0xb663fd][\x27emCorrectType\x27]){var\x20_0x303aaf=this[\x27stFishEyeManager\x27][_0xb663fd][\x27pRender\x27][\x27SR_SetRenderState\x27](_0x57ef5a,0x0);_0xa87ede!=_0x303aaf&&console[\x27log\x27](\x27>>>VideoRender.js\x5cx20SR_SetRenderState\x5cx20failed\x5cx20ret：%08x\x5cx0a\x27,_0x303aaf);}return\x20this[\x27FECShowMode\x27]>0x0&&this[\x27stFishEyeManager\x27][_0xb663fd][\x27pRender\x27][\x27SR_SetPTZDisplayMode\x27](this[\x27FECShowMode\x27]),0x1;}return\x20this[\x27FECErrorCode\x27]=_0x4b57a2,0x0;}},{\x27key\x27:\x27FEC_Disable\x27,\x27value\x27:function(_0x21074f,_0x145f67,_0x183cf1){if(_0x21074f<0x1||_0x21074f>0x1f||null==_0x21074f)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_Disable-1\x5cx20nSubPort:%d\x27,\x27color:\x5cx20red\x27,_0x21074f),this[\x27FECErrorCode\x27]=_0x41c932,0x0;if(0x1==this[\x27stFishEyeManager\x27][_0x21074f][\x27bInited\x27]&&null!=this[\x27stFishEyeManager\x27][_0x21074f][\x27pRender\x27]){if(_0xa87ede!=this[\x27stFishEyeManager\x27][_0x21074f][\x27pRender\x27][\x27SR_DelSubPort\x27](this[\x27stFishEyeManager\x27][_0x21074f][\x27nValidSubPort\x27]))return\x20console[\x27info\x27](\x27%c\x5cx20FEC_Disable-2\x5cx20SR_DelSubPort\x5cx20error\x5cx20nSubPort:%d\x27,\x27color:\x5cx20red\x27,_0x21074f),0x0;this[\x27stFishEyeManager\x27][_0x21074f][\x27bInited\x27]=0x0,this[\x27stFishEyeManager\x27][_0x21074f][\x27nValidSubPort\x27]=-0x1,this[\x27stFishEyeManager\x27][_0x21074f][\x27pRender\x27][\x27SR_Destroy\x27](),this[\x27stFishEyeManager\x27][_0x21074f][\x27pRender\x27]=null;}return\x200x1;}},{\x27key\x27:\x27FEC_DelPort\x27,\x27value\x27:function(_0x439d0b){return\x20_0x439d0b<0x1||_0x439d0b>0x1f||null==_0x439d0b?(console[\x27info\x27](\x27%c\x5cx20FEC_DelPort-1\x5cx20nSubPort:%d\x27,\x27color:\x5cx20red\x27,_0x439d0b),this[\x27FECErrorCode\x27]=_0x41c932,0x0):0x0==this[\x27stFishEyeManager\x27][_0x439d0b][\x27bUsed\x27]?(console[\x27info\x27](\x27%c\x5cx20FEC_DelPort-2\x5cx20nSubPort:%d\x5cx20bUsed：%d\x27,\x27color:\x5cx20red\x27,_0x439d0b,this[\x27stFishEyeManager\x27][_0x439d0b][\x27bUsed\x27]),this[\x27FECErrorCode\x27]=_0x4b57a2,0x0):(this[\x27stFishEyeManager\x27][_0x439d0b][\x27nSubPort\x27]=0x0,this[\x27stFishEyeManager\x27][_0x439d0b][\x27sCanvasID\x27]=null,this[\x27stFishEyeManager\x27][_0x439d0b][\x27bUsed\x27]=0x0,this[\x27stFishEyeManager\x27][_0x439d0b][\x27bInited\x27]=0x0,this[\x27stFishEyeManager\x27][_0x439d0b][\x27nValidSubPort\x27]=0x0,this[\x27stFishEyeManager\x27][_0x439d0b][\x27emPlaceType\x27]=_0x1e68ea,this[\x27stFishEyeManager\x27][_0x439d0b][\x27emCorrectType\x27]=_0x4fbb93,this[\x27stFishEyeManager\x27][_0x439d0b][\x27emEffect\x27]=_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27],this[\x27stFishParam\x27][_0x439d0b][\x27stCycleParam\x27][\x27fRadiusLeft\x27]=0x0,this[\x27stFishParam\x27][_0x439d0b][\x27stCycleParam\x27][\x27fRadiusRight\x27]=0x1,this[\x27stFishParam\x27][_0x439d0b][\x27stCycleParam\x27][\x27fRadiusTop\x27]=0x0,this[\x27stFishParam\x27][_0x439d0b][\x27stCycleParam\x27][\x27fRadiusBottom\x27]=0x1,this[\x27subPortNum\x27]>0x0&&this[\x27subPortNum\x27]--,0x1);}},{\x27key\x27:\x27FEC_SetParam\x27,\x27value\x27:function(_0x237226,_0x485f7d){if(this[\x27FECErrorCode\x27]=0x0,_0x237226<0x0||_0x237226>0x1f||null==_0x237226)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_SetParam-1\x5cx20nSubPort:%d\x27,\x27color:\x5cx20red\x27,_0x237226),this[\x27FECErrorCode\x27]=_0x41c932,0x0;if(null==this[\x27stFishEyeManager\x27][_0x237226][\x27pRender\x27])return\x20console[\x27info\x27](\x27%c\x5cx20FEC_SetParam-2\x5cx20nSubPort:%d\x5cx20pRender:%d\x27,\x27color:\x5cx20red\x27,_0x237226,this[\x27stFishEyeManager\x27][_0x237226][\x27pRender\x27]),this[\x27FECErrorCode\x27]=_0x599b74,0x0;if(0x0==this[\x27stFishEyeManager\x27][_0x237226][\x27bUsed\x27])return\x20console[\x27info\x27](\x27%c\x5cx20FEC_SetParam-3\x5cx20nSubPort:%d\x5cx20bUsed:%d\x27,\x27color:\x5cx20red\x27,_0x237226,this[\x27stFishEyeManager\x27][_0x237226][\x27bUsed\x27]),this[\x27FECErrorCode\x27]=_0x4b57a2,0x0;if(this[\x27stFishEyeManager\x27][_0x237226][\x27emCorrectType\x27]>=_0x1837a3&&this[\x27stFishEyeManager\x27][_0x237226][\x27emCorrectType\x27]<=_0x2a01ec&&0x1e&_0x485f7d[\x27upDateType\x27])return\x20console[\x27info\x27](\x27%c\x5cx20FEC_SetParam-4\x5cx20nSubPort:%d\x5cx20not\x5cx203D\x27,\x27color:\x5cx20red\x27,_0x237226),this[\x27FECErrorCode\x27]=_0x13beae,0x0;if(_0x16ee77&_0x485f7d[\x27upDateType\x27]){if(null==_0x485f7d[\x27stCycleParam\x27])return\x20this[\x27FECErrorCode\x27]=_0x31d5c8,0x0;for(var\x20_0x43b2cb=0x1;_0x43b2cb<_0x5440d6;_0x43b2cb++){if(this[\x27stFishEyeManager\x27][_0x43b2cb][\x27bUsed\x27]&&this[\x27stFishEyeManager\x27][_0x43b2cb][\x27nSubPort\x27]&&_0x39b0d3==this[\x27stFishEyeManager\x27][_0x43b2cb][\x27emCorrectType\x27]&&(_0x485f7d[\x27stCycleParam\x27][\x27fRadiusLeft\x27]<=-0.5||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusLeft\x27]>=0.4||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusRight\x27]<=0.6||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusRight\x27]>=1.5||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusTop\x27]<=-0.5||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusTop\x27]>0x0||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusBottom\x27]<0x1||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusBottom\x27]>=1.5||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusLeft\x27]+_0x485f7d[\x27stCycleParam\x27][\x27fRadiusRight\x27]<=0.8||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusLeft\x27]+_0x485f7d[\x27stCycleParam\x27][\x27fRadiusRight\x27]>=1.2||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusTop\x27]+_0x485f7d[\x27stCycleParam\x27][\x27fRadiusBottom\x27]<=0.8||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusTop\x27]+_0x485f7d[\x27stCycleParam\x27][\x27fRadiusBottom\x27]>=1.2))return\x20this[\x27FECErrorCode\x27]=_0x31d5c8,0x0;if(this[\x27stFishEyeManager\x27][_0x43b2cb][\x27bUsed\x27]&&this[\x27stFishEyeManager\x27][_0x43b2cb][\x27nSubPort\x27]&&_0x2a01ec==this[\x27stFishEyeManager\x27][_0x43b2cb][\x27emCorrectType\x27]&&(_0x485f7d[\x27stCycleParam\x27][\x27fRadiusLeft\x27]<=-0.5||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusLeft\x27]>0x0||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusRight\x27]<0x1||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusRight\x27]>=1.5||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusTop\x27]<=-0.5||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusTop\x27]>=0.4||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusBottom\x27]<=0.6||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusBottom\x27]>=1.5||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusLeft\x27]+_0x485f7d[\x27stCycleParam\x27][\x27fRadiusRight\x27]<=0.8||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusLeft\x27]+_0x485f7d[\x27stCycleParam\x27][\x27fRadiusRight\x27]>=1.2||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusTop\x27]+_0x485f7d[\x27stCycleParam\x27][\x27fRadiusBottom\x27]<=0.8||_0x485f7d[\x27stCycleParam\x27][\x27fRadiusTop\x27]+_0x485f7d[\x27stCycleParam\x27][\x27fRadiusBottom\x27]>=1.2))return\x20this[\x27FECErrorCode\x27]=_0x31d5c8,0x0;}}if(0x0==this[\x27stFishEyeManager\x27][_0x237226][\x27bInited\x27]){if(_0x353221&_0x485f7d[\x27upDateType\x27]){if(_0x2cb8a2!=this[\x27stFishEyeManager\x27][_0x237226][\x27emCorrectType\x27]&&_0x4e5968!=this[\x27stFishEyeManager\x27][_0x237226][\x27emCorrectType\x27]||_0x2aea6b==this[\x27stFishEyeManager\x27][_0x237226][\x27emPlaceType\x27])return\x20this[\x27FECErrorCode\x27]=_0x13beae,0x0;for(var\x20_0x1db10f=0x1;_0x1db10f<_0x5440d6;_0x1db10f++)if(this[\x27stFishEyeManager\x27][_0x1db10f][\x27nSubPort\x27]&&this[\x27stFishEyeManager\x27][_0x1db10f][\x27bUsed\x27]&&this[\x27stFishEyeManager\x27][_0x1db10f][\x27emCorrectType\x27]==_0x54a990)return\x20this[\x27FECErrorCode\x27]=_0x1ee0b0,0x0;this[\x27stFishParam\x27][_0x237226][\x27fWideScanOffset\x27]=_0x485f7d[\x27fValue\x27];}if(_0x1f2582&_0x485f7d[\x27upDateType\x27]){if(null==_0x485f7d[\x27stPTZColor\x27])return\x20this[\x27FECErrorCode\x27]=_0x31d5c8,0x0;if(_0x485f7d[\x27stPTZColor\x27][\x27nR\x27]>0xff||_0x485f7d[\x27stPTZColor\x27][\x27nG\x27]>0xff||_0x485f7d[\x27stPTZColor\x27][\x27nB\x27]>0xff||_0x485f7d[\x27stPTZColor\x27][\x27nAlpha\x27]>0xff)return\x20this[\x27FECErrorCode\x27]=_0x13beae,0x0;this[\x27stFishParam\x27][_0x237226][\x27stPTZColor\x27][\x27nR\x27]=_0x485f7d[\x27stPTZColor\x27][\x27nR\x27],this[\x27stFishParam\x27][_0x237226][\x27stPTZColor\x27][\x27nG\x27]=_0x485f7d[\x27stPTZColor\x27][\x27nG\x27],this[\x27stFishParam\x27][_0x237226][\x27stPTZColor\x27][\x27nB\x27]=_0x485f7d[\x27stPTZColor\x27][\x27nB\x27],this[\x27stFishParam\x27][_0x237226][\x27stPTZColor\x27][\x27nAlpha\x27]=_0x485f7d[\x27stPTZColor\x27][\x27nAlpha\x27];}if(_0x2b1528&_0x485f7d[\x27upDateType\x27]){if(_0x54a990!=this[\x27stFishEyeManager\x27][_0x237226][\x27emCorrectType\x27])return\x20this[\x27FECErrorCode\x27]=_0x13beae,0x0;this[\x27stFishParam\x27][_0x237226][\x27stPTZParam\x27][\x27fPTZPositionX\x27]=_0x485f7d[\x27fPTZParam\x27][\x27fPTZPositionX\x27],this[\x27stFishParam\x27][_0x237226][\x27stPTZParam\x27][\x27fPTZPositionY\x27]=_0x485f7d[\x27fPTZParam\x27][\x27fPTZPositionY\x27];}if(_0x3ff4c5&_0x485f7d[\x27upDateType\x27]){if(_0x54a990!=this[\x27stFishEyeManager\x27][_0x237226][\x27emCorrectType\x27])return\x20this[\x27FECErrorCode\x27]=_0x13beae,0x0;this[\x27stFishParam\x27][_0x237226][\x27fZoom\x27]=_0x485f7d[\x27fPTZZoom\x27];}if(_0x160732&_0x485f7d[\x27upDateType\x27]){if(null==this[\x27stFishParam\x27][\x27stPTZSelect\x27])return\x200x0;if(_0x54a990!=this[\x27stFishEyeManager\x27][_0x237226][\x27emCorrectType\x27])return\x20this[\x27FECErrorCode\x27]=_0x13beae,0x0;this[\x27stFishParam\x27][\x27stPTZSelect\x27][\x27fTop\x27]=_0x485f7d[\x27stPTZSelect\x27][\x27fTop\x27],this[\x27stFishParam\x27][\x27stPTZSelect\x27][\x27fBottom\x27]=_0x485f7d[\x27stPTZSelect\x27][\x27fBottom\x27],this[\x27stFishParam\x27][\x27stPTZSelect\x27][\x27fLeft\x27]=_0x485f7d[\x27stPTZSelect\x27][\x27fLeft\x27],this[\x27stFishParam\x27][\x27stPTZSelect\x27][\x27fRight\x27]=_0x485f7d[\x27stPTZSelect\x27][\x27fRight\x27];}if(_0x16ee77&_0x485f7d[\x27upDateType\x27]){if(null==_0x485f7d[\x27stCycleParam\x27])return\x20this[\x27FECErrorCode\x27]=_0x31d5c8,0x0;if(0x0==this[\x27_IsValidRadiusParam\x27](_0x485f7d[\x27stCycleParam\x27]))return\x20this[\x27FECErrorCode\x27]=_0x31d5c8,0x0;this[\x27stFishParam\x27][0x0][\x27stCycleParam\x27][\x27fRadiusLeft\x27]=_0x485f7d[\x27stCycleParam\x27][\x27fRadiusLeft\x27],this[\x27stFishParam\x27][0x0][\x27stCycleParam\x27][\x27fRadiusRight\x27]=_0x485f7d[\x27stCycleParam\x27][\x27fRadiusRight\x27],this[\x27stFishParam\x27][0x0][\x27stCycleParam\x27][\x27fRadiusTop\x27]=_0x485f7d[\x27stCycleParam\x27][\x27fRadiusTop\x27],this[\x27stFishParam\x27][0x0][\x27stCycleParam\x27][\x27fRadiusBottom\x27]=_0x485f7d[\x27stCycleParam\x27][\x27fRadiusBottom\x27];}return\x200x1;}if(_0x353221&_0x485f7d[\x27upDateType\x27]){if(_0x2cb8a2!=this[\x27stFishEyeManager\x27][_0x237226][\x27emCorrectType\x27]&&_0x4e5968!=this[\x27stFishEyeManager\x27][_0x237226][\x27emCorrectType\x27]||_0x2aea6b==this[\x27stFishEyeManager\x27][_0x237226][\x27emPlaceType\x27])return\x20this[\x27FECErrorCode\x27]=_0x13beae,0x0;for(var\x20_0x605b6d=0x1;_0x605b6d<_0x5440d6;_0x605b6d++)if(this[\x27stFishEyeManager\x27][_0x605b6d][\x27nSubPort\x27]&&this[\x27stFishEyeManager\x27][_0x605b6d][\x27bUsed\x27]&&this[\x27stFishEyeManager\x27][_0x605b6d][\x27emCorrectType\x27]==_0x54a990)return\x20this[\x27FECErrorCode\x27]=_0x1ee0b0,0x0;var\x20_0x2745e8={};if(_0x2745e8[\x27nFishParamType\x27]=_0x5ca12e,_0x2745e8[\x27bBlack\x27]=0x0,_0x2745e8[\x27fAngle\x27]=_0x485f7d[\x27fValue\x27],_0xa87ede!=this[\x27stFishEyeManager\x27][_0x237226][\x27pRender\x27][\x27SR_SetFishParam\x27](_0x2745e8))return\x20this[\x27FECErrorCode\x27]=_0x1ee0b0,0x0;this[\x27stFishParam\x27][_0x237226][\x27fWideScanOffset\x27]=_0x485f7d[\x27fValue\x27];}if(_0x1f2582&_0x485f7d[\x27upDateType\x27]){if(null==_0x485f7d[\x27stPTZColor\x27])return\x20this[\x27FECErrorCode\x27]=_0x13beae,0x0;if(_0x485f7d[\x27stPTZColor\x27][\x27nR\x27]>0xff||_0x485f7d[\x27stPTZColor\x27][\x27nG\x27]>0xff||_0x485f7d[\x27stPTZColor\x27][\x27nB\x27]>0xff||_0x485f7d[\x27stPTZColor\x27][\x27nAlpha\x27]>0xff)return\x20this[\x27FECErrorCode\x27]=_0x13beae,0x0;var\x20_0x226925={};_0x226925[\x27fR\x27]=float(_0x485f7d[\x27stPTZColor\x27][\x27nR\x27]/0xff),_0x226925[\x27fG\x27]=float(_0x485f7d[\x27stPTZColor\x27][\x27nG\x27]/0xff),_0x226925[\x27fB\x27]=float(_0x485f7d[\x27stPTZColor\x27][\x27nB\x27]/0xff),_0x226925[\x27fA\x27]=float(_0x485f7d[\x27stPTZColor\x27][\x27nAlpha\x27]/0xff),this[\x27stFishParam\x27][_0x237226][\x27stPTZColor\x27][\x27nR\x27]=_0x485f7d[\x27stPTZColor\x27][\x27nR\x27],this[\x27stFishParam\x27][_0x237226][\x27stPTZColor\x27][\x27nG\x27]=_0x485f7d[\x27stPTZColor\x27][\x27nG\x27],this[\x27stFishParam\x27][_0x237226][\x27stPTZColor\x27][\x27nB\x27]=_0x485f7d[\x27stPTZColor\x27][\x27nB\x27],this[\x27stFishParam\x27][_0x237226][\x27stPTZColor\x27][\x27nAlpha\x27]=_0x485f7d[\x27stPTZColor\x27][\x27nAlpha\x27];}if(_0x2b1528&_0x485f7d[\x27upDateType\x27]){if(_0x54a990!=this[\x27stFishEyeManager\x27][_0x237226][\x27emCorrectType\x27])return\x20this[\x27FECErrorCode\x27]=_0x13beae,0x0;var\x20_0x179a25={};_0x179a25[\x27nFishParamType\x27]=_0x3be196,_0x179a25[\x27bBlack\x27]=0x0,_0x179a25[\x27fPTZX\x27]=_0x485f7d[\x27fPTZParam\x27][\x27fPTZPositionX\x27],_0x179a25[\x27fPTZY\x27]=_0x485f7d[\x27fPTZParam\x27][\x27fPTZPositionY\x27];var\x20_0x2080ac=this[\x27stFishEyeManager\x27][_0x237226][\x27pRender\x27][\x27SR_SetFishParam\x27](_0x179a25);if(_0xa87ede!=_0x2080ac)return\x20this[\x27FECErrorCode\x27]=_0x1ee0b0,0x0;this[\x27stFishParam\x27][_0x237226][\x27stPTZParam\x27][\x27fPTZPositionX\x27]=_0x485f7d[\x27fPTZParam\x27][\x27fPTZPositionX\x27],this[\x27stFishParam\x27][_0x237226][\x27stPTZParam\x27][\x27fPTZPositionY\x27]=_0x485f7d[\x27fPTZParam\x27][\x27fPTZPositionY\x27];}if(_0x3ff4c5&_0x485f7d[\x27upDateType\x27]){if(_0x54a990!=this[\x27stFishEyeManager\x27][_0x237226][\x27emCorrectType\x27])return\x20this[\x27FECErrorCode\x27]=_0x13beae,0x0;var\x20_0x3a5d9f={};if(_0x3a5d9f[\x27nFishParamType\x27]=_0x378a81,_0x3a5d9f[\x27bBlack\x27]=0x0,_0x3a5d9f[\x27fZoom\x27]=_0x485f7d[\x27fPTZZoom\x27],_0xa87ede!=this[\x27stFishEyeManager\x27][_0x237226][\x27pRender\x27][\x27SR_SetFishParam\x27](_0x3a5d9f))return\x20this[\x27FECErrorCode\x27]=_0x1ee0b0,0x0;this[\x27stFishParam\x27][_0x237226][\x27fZoom\x27]=_0x485f7d[\x27fPTZZoom\x27];}if(_0x16ee77&_0x485f7d[\x27upDateType\x27]){if(0x0==this[\x27_IsValidRadiusParam\x27](_0x485f7d[\x27stCycleParam\x27]))return\x20this[\x27FECErrorCode\x27]=_0x31d5c8,0x0;var\x20_0x5b29fe={};if(_0x5b29fe[\x27nFishParamType\x27]=_0x392c27,_0x5b29fe[\x27bBlack\x27]=0x1,_0x5b29fe[\x27fRXLeft\x27]=_0x485f7d[\x27stCycleParam\x27][\x27fRadiusLeft\x27],_0x5b29fe[\x27fRXRight\x27]=_0x485f7d[\x27stCycleParam\x27][\x27fRadiusRight\x27],_0x5b29fe[\x27fRYTop\x27]=_0x485f7d[\x27stCycleParam\x27][\x27fRadiusTop\x27],_0x5b29fe[\x27fRYBottom\x27]=_0x485f7d[\x27stCycleParam\x27][\x27fRadiusBottom\x27],_0xa87ede!=this[\x27stFishEyeManager\x27][_0x237226][\x27pRender\x27][\x27SR_SetFishParam\x27](this[\x27stFishEyeManager\x27][_0x237226][\x27nValidSubPort\x27],_0x5b29fe))return\x20this[\x27FECErrorCode\x27]=_0x31d5c8,0x0;this[\x27stFishParam\x27][0x0][\x27stCycleParam\x27][\x27fRadiusLeft\x27]=_0x485f7d[\x27stCycleParam\x27][\x27fRadiusLeft\x27],this[\x27stFishParam\x27][0x0][\x27stCycleParam\x27][\x27fRadiusRight\x27]=_0x485f7d[\x27stCycleParam\x27][\x27fRadiusRight\x27],this[\x27stFishParam\x27][0x0][\x27stCycleParam\x27][\x27fRadiusTop\x27]=_0x485f7d[\x27stCycleParam\x27][\x27fRadiusTop\x27],this[\x27stFishParam\x27][0x0][\x27stCycleParam\x27][\x27fRadiusBottom\x27]=_0x485f7d[\x27stCycleParam\x27][\x27fRadiusBottom\x27];}return\x20_0x160732&_0x485f7d[\x27upDateType\x27]&&_0x54a990==this[\x27stFishEyeManager\x27][_0x237226][\x27emCorrectType\x27]&&_0xa87ede!=this[\x27stFishEyeManager\x27][_0x237226][\x27pRender\x27][\x27SR_SetFishParam\x27](this[\x27stFishEyeManager\x27][_0x237226][\x27stPTZSelect\x27])?(this[\x27FECErrorCode\x27]=0x513,0x0):0x1;}},{\x27key\x27:\x27FEC_GetParam\x27,\x27value\x27:function(_0x23d898,_0x5da795){return\x20_0x23d898<0x0||_0x23d898>0x1f||null==_0x23d898?(console[\x27info\x27](\x27%c\x5cx20FEC_GetParam-1\x5cx20nSubPort:%d\x27,\x27color:\x5cx20red\x27,_0x23d898),this[\x27FECErrorCode\x27]=_0x41c932,0x0):null==this[\x27stFishEyeManager\x27][_0x23d898][\x27pRender\x27]?(console[\x27info\x27](\x27%c\x5cx20FEC_GetParam-2\x5cx20pRender:%d\x27,\x27color:\x5cx20red\x27,this[\x27stFishEyeManager\x27][_0x23d898][\x27pRender\x27]),this[\x27FECErrorCode\x27]=_0x599b74,0x0):(this[\x27stFishEyeManager\x27][_0x23d898][\x27pRender\x27][\x27SR_GetFishParam\x27](_0x5da795),_0x5da795[\x27emCorrectType\x27]=this[\x27stFishEyeManager\x27][_0x23d898][\x27emCorrectType\x27],0x1);}},{\x27key\x27:\x27_IsValidRadiusParam\x27,\x27value\x27:function(_0x40fd77){return\x20_0x40fd77[\x27fRadiusBottom\x27]<=_0x40fd77[\x27fRadiusTop\x27]||_0x40fd77[\x27fRadiusRight\x27]<=_0x40fd77[\x27fRadiusLeft\x27]?0x0:0x1;}},{\x27key\x27:\x27FEC_SetViewParam\x27,\x27value\x27:function(_0x4a0fcd,_0x6d5dc9,_0x40e4db){return\x20_0x4a0fcd<0x0||_0x4a0fcd>0x1f||null==_0x4a0fcd?(console[\x27info\x27](\x27%c\x5cx20FEC_SetViewParam-1\x5cx20nSubPort:%d\x27,\x27color:\x5cx20red\x27,_0x4a0fcd),this[\x27FECErrorCode\x27]=_0x41c932,0x0):null==this[\x27stFishEyeManager\x27][_0x4a0fcd][\x27pRender\x27]?(console[\x27info\x27](\x27%c\x5cx20FEC_SetViewParam-2\x5cx20pRender:%d\x27,\x27color:\x5cx20red\x27,this[\x27stFishEyeManager\x27][_0x4a0fcd][\x27pRender\x27]),this[\x27FECErrorCode\x27]=_0x599b74,0x0):_0x6d5dc9<_0x394973||_0x6d5dc9>_0x339c63?(this[\x27FECErrorCode\x27]=_0x633153,0x0):(this[\x27FECErrorCode\x27]=0x0,0x0==this[\x27stFishEyeManager\x27][_0x4a0fcd][\x27bInited\x27]?(this[\x27FECErrorCode\x27]=_0x4b57a2,0x0):_0x1837a3<=this[\x27stFishEyeManager\x27][_0x4a0fcd][\x27emCorrectType\x27]?_0xa87ede!=this[\x27stFishEyeManager\x27][_0x4a0fcd][\x27pRender\x27][\x27SR_SetViewParam\x27](_0x6d5dc9,_0x40e4db)?(this[\x27FECErrorCode\x27]=_0x633153,0x0):0x1:(this[\x27FECErrorCode\x27]=_0x13beae,0x0));}},{\x27key\x27:\x27FEC_GetViewParam\x27,\x27value\x27:function(_0xcd7f54,_0x5891ca,_0x5f1437){if(_0x5f1437[\x27fValue\x27]=-0x1,_0xcd7f54<0x0||_0xcd7f54>0x1f||null==_0xcd7f54)return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetViewParam-1\x5cx20nSubPort:%d\x27,\x27color:\x5cx20red\x27,_0xcd7f54),this[\x27FECErrorCode\x27]=_0x41c932,0x0;if(null==this[\x27stFishEyeManager\x27][_0xcd7f54][\x27pRender\x27])return\x20console[\x27info\x27](\x27%c\x5cx20FEC_GetViewParam-2\x5cx20pRender:%d\x27,\x27color:\x5cx20red\x27,this[\x27stFishEyeManager\x27][_0xcd7f54][\x27pRender\x27]),this[\x27FECErrorCode\x27]=_0x599b74,0x0;if(_0x5891ca<0x1||_0x5891ca>0x3||0x0==this[\x27stFishEyeManager\x27][_0xcd7f54][\x27bInited\x27])return\x200x0;if(_0x1837a3<=this[\x27stFishEyeManager\x27][_0xcd7f54][\x27emCorrectType\x27])this[\x27stFishEyeManager\x27][_0xcd7f54][\x27pRender\x27][\x27SR_GetViewParam\x27](_0x5891ca,_0x5f1437);return\x200x1;}},{\x27key\x27:\x27FEC_SetDisplayRegion\x27,\x27value\x27:function(_0x3d509f,_0x79e701,_0x3db710,_0x11fb5e,_0x5d386a,_0x384723,_0x377cbb){return\x20_0x3d509f<0x0||_0x3d509f>0x1f||null==_0x3d509f?(console[\x27info\x27](\x27%c\x5cx20FEC_SetDisplayRegion-1\x5cx20nSubPort:%d\x27,\x27color:\x5cx20red\x27,_0x3d509f),this[\x27FECErrorCode\x27]=_0x41c932,0x0):null==this[\x27stFishEyeManager\x27][_0x3d509f][\x27pRender\x27]?(console[\x27info\x27](\x27%c\x5cx20FEC_SetDisplayRegion-2\x5cx20pRender:%d\x27,\x27color:\x5cx20red\x27,this[\x27stFishEyeManager\x27][_0x3d509f][\x27pRender\x27]),this[\x27FECErrorCode\x27]=_0x599b74,0x0):0x0!=_0x79e701||0x0!=_0x3db710?(this[\x27FECErrorCode\x27]=_0x633153,0x0):this[\x27stFishEyeManager\x27][_0x3d509f][\x27emCorrectType\x27]!=_0x4fbb93&&this[\x27stFishEyeManager\x27][_0x3d509f][\x27emCorrectType\x27]!=_0x2cb8a2&&this[\x27stFishEyeManager\x27][_0x3d509f][\x27emCorrectType\x27]!=_0x4e5968&&this[\x27stFishEyeManager\x27][_0x3d509f][\x27emCorrectType\x27]!=_0x30e952?(this[\x27FECErrorCode\x27]=_0xa88cb3,0x0):0x0==this[\x27stFishEyeManager\x27][_0x3d509f][\x27bInited\x27]?(this[\x27FECErrorCode\x27]=_0x4b57a2,0x0):_0x11fb5e<0x0||_0x5d386a<0x0||_0x384723<0x0||_0x377cbb<0x0?(this[\x27FECErrorCode\x27]=_0x633153,0x0):_0xa87ede!=this[\x27stFishEyeManager\x27][_0x3d509f][\x27pRender\x27][\x27SR_SetDisplayRect\x27](_0x11fb5e,_0x5d386a,_0x384723,_0x377cbb,_0xe9e464)?(this[\x27FECErrorCode\x27]=0x511,0x0):0x1;}},{\x27key\x27:\x27FEC_SetBackCilling\x27,\x27value\x27:function(_0xbc4cf3,_0x201397){return\x20_0xbc4cf3<0x0||_0xbc4cf3>0x1f||null==_0xbc4cf3?(this[\x27FECErrorCode\x27]=_0x41c932,0x0):null==this[\x27stFishEyeManager\x27][_0xbc4cf3][\x27pRender\x27]?(this[\x27FECErrorCode\x27]=_0x599b74,0x0):0x0==this[\x27stFishEyeManager\x27][_0xbc4cf3][\x27bInited\x27]?(this[\x27FECErrorCode\x27]=_0x4b57a2,0x0):_0xa87ede!=this[\x27stFishEyeManager\x27][_0xbc4cf3][\x27pRender\x27][\x27SR_SetRenderState\x27](_0x57ef5a,_0x201397)?(this[\x27FECErrorCode\x27]=0x511,0x0):0x1;}},{\x27key\x27:\x27FEC_GetPTZPort\x27,\x27value\x27:function(_0x4fe218,_0x7d79a,_0x4703e2){if(null!=this[\x27stFishEyeManager\x27][_0x4fe218][\x27pRender\x27]){var\x20_0x47f9ac={\x27nPTZPort\x27:-0x1};if(this[\x27stFishEyeManager\x27][_0x4fe218][\x27pRender\x27][\x27SR_GetPTZPort\x27](_0x7d79a,_0x4703e2,_0x47f9ac)==_0xa87ede)return\x20_0x47f9ac[\x27nPTZPort\x27];}return-0x1;}},{\x27key\x27:\x27FEC_SetPTZDisplayMode\x27,\x27value\x27:function(_0x5168d7){return\x20_0x5168d7>=0x0&&_0x5168d7<=0x2?(null!=this[\x27stFishEyeManager\x27][0x0][\x27pRender\x27]&&this[\x27stFishEyeManager\x27][0x0][\x27pRender\x27][\x27SR_SetPTZDisplayMode\x27](_0x5168d7),this[\x27FECShowMode\x27]=_0x5168d7,0x1):(console[\x27info\x27](\x27%c\x5cx20FEC_SetPTZDisplayMode\x5cx20ptzMode:%d\x27,\x27color:\x5cx20red\x27,_0x5168d7),0x0);}},{\x27key\x27:\x27CheckFrameRGB\x27,\x27value\x27:function(_0x400c17,_0x548d6f,_0x2d4a2b,_0x429d43,_0x85a7c0,_0x75707d){if(null==_0x400c17)return\x200x0;for(var\x20_0x1abe54=_0x400c17[\x27width\x27]/(_0x429d43-0x1),_0x597f03=_0x400c17[\x27height\x27]/(_0x2d4a2b-0x1),_0x5de9dd=0x0,_0x42fb15=0x0,_0x5e4ee7=[],_0x370864=0x0;_0x370864<_0x2d4a2b*_0x429d43;_0x370864++)_0x5e4ee7[_0x370864]=0x0,this[\x27aPOSAdaptBuf\x27][_0x370864]=0x0;if(_0x548d6f){for(var\x20_0x3e2865=0x0,_0x5c702f=0x0;_0x5c702f<_0x400c17[\x27height\x27];_0x5c702f++)for(var\x20_0x10ae9f=0x0;_0x10ae9f<_0x400c17[\x27width\x27];_0x10ae9f++){_0x5de9dd=(_0x5de9dd=Math[\x27round\x27](_0x10ae9f/(_0x1abe54/0x2)/0x2))<_0x429d43?_0x5de9dd:_0x429d43-0x1,_0x42fb15=(_0x42fb15=Math[\x27round\x27](_0x5c702f/(_0x597f03/0x2)/0x2))<_0x2d4a2b?_0x42fb15:_0x2d4a2b-0x1;var\x20_0x336a7e=_0x400c17[\x27pBuffer\x27][_0x3e2865],_0x24b367=_0x400c17[\x27pBuffer\x27][_0x3e2865+0x1],_0x36ee90=_0x400c17[\x27pBuffer\x27][_0x3e2865+0x2],_0x22e317=Math[\x27round\x27](0.299*_0x336a7e+0.587*_0x24b367+0.114*_0x36ee90);this[\x27aPOSAdaptBuf\x27][_0x5de9dd+_0x42fb15*_0x429d43]+=_0x22e317,_0x5e4ee7[_0x5de9dd+_0x42fb15*_0x429d43]++,_0x3e2865+=0x4;}for(var\x20_0x401fa2=0x0,_0x5bb257=0x0;_0x5bb257<_0x2d4a2b*_0x429d43;_0x5bb257++)_0x401fa2=this[\x27aPOSAdaptBuf\x27][_0x5bb257]/_0x5e4ee7[_0x5bb257],this[\x27aPOSAdaptBuf\x27][_0x5bb257]=_0x401fa2>0x80?0x0:0x1;}else{for(var\x20_0x3562ea=Math[\x27round\x27](_0x85a7c0*_0x400c17[\x27width\x27]),_0x1174dc=Math[\x27round\x27](_0x75707d*_0x400c17[\x27height\x27]),_0x55c743=_0x1174dc-0x2;_0x55c743<_0x1174dc+0x2;_0x55c743++)for(var\x20_0xb2203=_0x3562ea-0x2;_0xb2203<_0x3562ea+0x2;_0xb2203++){var\x20_0x5add96=0x4*Math[\x27floor\x27]((0x4*_0xb2203+_0x55c743*_0x400c17[\x27width\x27]*0x4)/0x4),_0x1f54e5=_0x400c17[\x27pBuffer\x27][_0x5add96],_0x2a4e1c=_0x400c17[\x27pBuffer\x27][_0x5add96+0x1],_0x49d1c6=_0x400c17[\x27pBuffer\x27][_0x5add96+0x2],_0x2aa3f7=Math[\x27round\x27](0.299*_0x1f54e5+0.587*_0x2a4e1c+0.114*_0x49d1c6);this[\x27aPOSAdaptBuf\x27][0x0]+=_0x2aa3f7,_0x5e4ee7[0x0]++;}this[\x27aPOSAdaptBuf\x27][0x0]=this[\x27aPOSAdaptBuf\x27][0x0]/_0x5e4ee7[0x0]>0x80?0x0:0x1;}return\x200x1;}},{\x27key\x27:\x27GetWaterFontParam\x27,\x27value\x27:function(_0x2b0736){var\x20_0x4f4c87=_0x2b0736[\x27pFontString\x27][\x27length\x27],_0x1ea0c5=_0x2b0736[\x27pstFontRotate\x27][\x27fRotateAngle\x27]%0x168/0x168*0x2*Math[\x27PI\x27],_0x4bcf18=Math[\x27min\x27](_0x2b0736[\x27pstFontSize\x27][\x27nFontWidth\x27],_0x2b0736[\x27pstFontSize\x27][\x27nFontHeight\x27]),_0x353469=_0x4bcf18/this[\x27mainCanvasID\x27][\x27width\x27],_0x5c3214=_0x4bcf18/this[\x27mainCanvasID\x27][\x27height\x27],_0xf815fd=_0x353469*Math[\x27cos\x27](Math[\x27PI\x27]/0x2-_0x1ea0c5)*_0x2b0736[\x27pSpace\x27],_0x55e462=_0x5c3214*Math[\x27sin\x27](Math[\x27PI\x27]/0x2-_0x1ea0c5)*_0x2b0736[\x27pSpace\x27],_0x59715c=[],_0x34cae1=[],_0x7da49d=[];if(_0x2b0736[\x27nFontAlign\x27]){for(var\x20_0x1169c4=0x0;_0x1169c4<_0x4f4c87;_0x1169c4++)_0x59715c[_0x1169c4]=_0x2b0736[\x27pFontString\x27][0x0][\x27length\x27]*_0x353469/0x6,_0x34cae1[_0x1169c4]=Math[\x27atan2\x27](_0x59715c[0x0],_0x55e462),_0x7da49d[_0x1169c4]=Math[\x27sqrt\x27](_0x59715c[0x0]*_0x59715c[0x0],_0x55e462*_0x55e462);}else{for(var\x20_0x2fc8f2=0x0;_0x2fc8f2<_0x4f4c87;_0x2fc8f2++)_0x59715c[_0x2fc8f2]=0x0,_0x34cae1[_0x2fc8f2]=0x0,_0x7da49d[_0x2fc8f2]=0x0;}var\x20_0x2555f3=Math[\x27floor\x27](_0x2b0736[\x27pstFontNumber\x27][\x27nRowNumber\x27]),_0x3d982a=Math[\x27floor\x27](_0x2b0736[\x27pstFontNumber\x27][\x27nColNumber\x27]),_0x55fbab=_0x2555f3*_0x3d982a;if(_0x2b0736[\x27pstFontRotate\x27][\x27fFillFullScreen\x27]){for(var\x20_0x2a16f3=[],_0x3d058c=[],_0x14f147=0x1/(_0x2555f3-0x1),_0x54aad3=0x0;_0x54aad3<_0x2555f3;_0x54aad3++)_0x2a16f3[_0x54aad3]=_0x14f147*_0x54aad3-_0x55e462*((_0x4f4c87-0x1)/0x2);for(var\x20_0x207291=0x1/(_0x3d982a-0x1),_0x38e523=0x0;_0x38e523<_0x3d982a;_0x38e523++)_0x3d058c[_0x38e523]=_0x207291*_0x38e523+_0xf815fd*((_0x4f4c87-0x1)/0x2);for(var\x20_0x29c684=0x0;_0x29c684<_0x55fbab;++_0x29c684)for(var\x20_0x3e40a4=0x0;_0x3e40a4<_0x4f4c87;_0x3e40a4++){this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4]={},this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27pString\x27]=_0x2b0736[\x27pFontString\x27][_0x3e40a4],this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27nFontWidth\x27]=_0x4bcf18,this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27nFontHeight\x27]=_0x4bcf18,this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27pstStartPos\x27]={};var\x20_0x268e69=_0x29c684%_0x3d982a,_0x3739c2=Math[\x27floor\x27](_0x29c684/_0x3d982a),_0x42d794=Math[\x27PI\x27]/0x2-_0x1ea0c5+_0x34cae1[_0x3e40a4];this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27pstStartPos\x27][\x27fX\x27]=_0x3d058c[_0x268e69]-_0x3e40a4*_0xf815fd+_0x7da49d[_0x3e40a4]*Math[\x27cos\x27](_0x42d794),this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27pstStartPos\x27][\x27fY\x27]=_0x2a16f3[_0x3739c2]+_0x3e40a4*_0x55e462-_0x7da49d[_0x3e40a4]*Math[\x27sin\x27](_0x42d794),_0x2b0736[\x27nColorAdapt\x27]?(this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27pstFontColor\x27]={},this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27pstFontColor\x27][\x27fR\x27]=this[\x27aPOSAdaptBuf\x27][_0x29c684],this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27pstFontColor\x27][\x27fG\x27]=this[\x27aPOSAdaptBuf\x27][_0x29c684],this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27pstFontColor\x27][\x27fB\x27]=this[\x27aPOSAdaptBuf\x27][_0x29c684],this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27pstFontColor\x27][\x27fA\x27]=_0x2b0736[\x27pstFontColor\x27][\x27fA\x27]):this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27pstFontColor\x27]=_0x2b0736[\x27pstFontColor\x27],this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27bBackGround\x27]=!0x1,this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27pstBGColor\x27]=null,this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27fRotateAngle\x27]=_0x2b0736[\x27pstFontRotate\x27][\x27fRotateAngle\x27],this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27pFontFamily\x27]=_0x2b0736[\x27pFontFamily\x27],_0x2b0736[\x27nFontAlign\x27]?(this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27textAlign\x27]=\x27left\x27,this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27textBaseline\x27]=\x27top\x27):(this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27textAlign\x27]=\x27center\x27,this[\x27pWaterFontParam\x27][_0x4f4c87*_0x29c684+_0x3e40a4][\x27textBaseline\x27]=\x27middle\x27);}}else{for(var\x20_0x177df4=0x0;_0x177df4<_0x2b0736[\x27pFontString\x27][\x27length\x27];_0x177df4++)this[\x27pWaterFontParam\x27][_0x177df4]={},this[\x27pWaterFontParam\x27][_0x177df4][\x27pString\x27]=_0x2b0736[\x27pFontString\x27][_0x177df4],this[\x27pWaterFontParam\x27][_0x177df4][\x27nFontWidth\x27]=_0x4bcf18,this[\x27pWaterFontParam\x27][_0x177df4][\x27nFontHeight\x27]=_0x4bcf18,this[\x27pWaterFontParam\x27][_0x177df4][\x27pstStartPos\x27]={},this[\x27pWaterFontParam\x27][_0x177df4][\x27pstStartPos\x27][\x27fX\x27]=_0x2b0736[\x27pstStartPos\x27][\x27fX\x27]-_0x177df4*_0xf815fd,this[\x27pWaterFontParam\x27][_0x177df4][\x27pstStartPos\x27][\x27fY\x27]=_0x2b0736[\x27pstStartPos\x27][\x27fY\x27]+_0x177df4*_0x55e462,_0x2b0736[\x27nColorAdapt\x27]?(this[\x27pWaterFontParam\x27][_0x177df4][\x27pstFontColor\x27]={},this[\x27pWaterFontParam\x27][_0x177df4][\x27pstFontColor\x27][\x27fR\x27]=this[\x27aPOSAdaptBuf\x27][0x0],this[\x27pWaterFontParam\x27][_0x177df4][\x27pstFontColor\x27][\x27fG\x27]=this[\x27aPOSAdaptBuf\x27][0x0],this[\x27pWaterFontParam\x27][_0x177df4][\x27pstFontColor\x27][\x27fB\x27]=this[\x27aPOSAdaptBuf\x27][0x0],this[\x27pWaterFontParam\x27][_0x177df4][\x27pstFontColor\x27][\x27fA\x27]=_0x2b0736[\x27pstFontColor\x27][\x27fA\x27]):this[\x27pWaterFontParam\x27][_0x177df4][\x27pstFontColor\x27]=_0x2b0736[\x27pstFontColor\x27],this[\x27pWaterFontParam\x27][_0x177df4][\x27bBackGround\x27]=!0x1,this[\x27pWaterFontParam\x27][_0x177df4][\x27pstBGColor\x27]=null,this[\x27pWaterFontParam\x27][_0x177df4][\x27fRotateAngle\x27]=_0x2b0736[\x27pstFontRotate\x27][\x27fRotateAngle\x27],this[\x27pWaterFontParam\x27][_0x177df4][\x27pFontFamily\x27]=_0x2b0736[\x27pFontFamily\x27],_0x2b0736[\x27nFontAlign\x27]?(this[\x27pWaterFontParam\x27][_0x177df4][\x27textAlign\x27]=\x27left\x27,this[\x27pWaterFontParam\x27][_0x177df4][\x27textBaseline\x27]=\x27top\x27):(this[\x27pWaterFontParam\x27][_0x177df4][\x27textAlign\x27]=\x27center\x27,this[\x27pWaterFontParam\x27][_0x177df4][\x27textBaseline\x27]=\x27middle\x27);}return\x200x1;}},{\x27key\x27:\x27SetWaterMarkFont\x27,\x27value\x27:function(_0x1caf95,_0x5cfbb1){if(this[\x27pWaterFontParam\x27][\x27splice\x27](0x0,this[\x27pWaterFontParam\x27][\x27length\x27]),null===_0x1caf95)return\x200x1;if(_0x1caf95[\x27nColorAdapt\x27]){var\x20_0x30b2aa={\x27nWidth\x27:0x10,\x27nHeight\x27:0x10,\x27nBufferLen\x27:0x0},_0x45f96a=this[\x27oVideoHandle\x27][\x27SR_GetCaptureSize\x27](_0x30b2aa);if(_0xa87ede==_0x45f96a){var\x20_0x24b57b=new\x20Uint8Array(_0x30b2aa[\x27nBufferLen\x27]),_0x498d3b={};if(_0x498d3b[\x27pBuffer\x27]=_0x24b57b,this[\x27oVideoHandle\x27][\x27SR_CaptureScreen\x27](_0x498d3b),_0x498d3b[\x27width\x27]=_0x30b2aa[\x27nWidth\x27],_0x498d3b[\x27height\x27]=_0x30b2aa[\x27nHeight\x27],_0x1caf95[\x27pstFontRotate\x27][\x27fFillFullScreen\x27]){var\x20_0x3dc164=Math[\x27floor\x27](_0x1caf95[\x27pstFontNumber\x27][\x27nRowNumber\x27]),_0x5ec18c=Math[\x27floor\x27](_0x1caf95[\x27pstFontNumber\x27][\x27nColNumber\x27]);this[\x27CheckFrameRGB\x27](_0x498d3b,0x1,_0x3dc164,_0x5ec18c,0x0,0x0);}else\x20this[\x27CheckFrameRGB\x27](_0x498d3b,0x0,0x1,0x1,_0x1caf95[\x27pstStartPos\x27][\x27fX\x27],_0x1caf95[\x27pstStartPos\x27][\x27fY\x27]);_0x24b57b=null;}}return\x20this[\x27GetWaterFontParam\x27](_0x1caf95),0x1;}},{\x27key\x27:\x27ImageDecoder\x27,\x27value\x27:function(_0x5a3da3,_0x1c5c5e,_0xbe633){var\x20_0x5e9ab7=this;_0x5a3da3[\x27decode\x27]({\x27frameIndex\x27:_0xbe633})[\x27then\x27](function(_0xfaa340){_0x5e9ab7[\x27pWaterImageParam\x27][_0xbe633]={},_0x5e9ab7[\x27pWaterImageParam\x27][_0xbe633][\x27videoStream\x27]=_0xfaa340[\x27image\x27],_0x5e9ab7[\x27pWaterImageParam\x27][_0xbe633][\x27nImageWidth\x27]=_0xfaa340[\x27image\x27][\x27displayWidth\x27],_0x5e9ab7[\x27pWaterImageParam\x27][_0xbe633][\x27nImageHeight\x27]=_0xfaa340[\x27image\x27][\x27displayHeight\x27],null!=_0x1c5c5e[\x27pstRectPos\x27]?_0x5e9ab7[\x27pWaterImageParam\x27][_0xbe633][\x27pstRectPos\x27]=_0x1c5c5e[\x27pstRectPos\x27]:_0x5e9ab7[\x27pWaterImageParam\x27][_0xbe633][\x27pstRectPos\x27]={\x27fLeft\x27:0x0,\x27fRight\x27:0.1,\x27fTop\x27:0x0,\x27fBottom\x27:0.1},null!=_0x1c5c5e[\x27fAlpha\x27]&&_0x1c5c5e[\x27fAlpha\x27]<=0x1&&_0x1c5c5e[\x27fAlpha\x27]>=0x0?_0x5e9ab7[\x27pWaterImageParam\x27][_0xbe633][\x27fAlpha\x27]=_0x1c5c5e[\x27fAlpha\x27]:_0x5e9ab7[\x27pWaterImageParam\x27][_0xbe633][\x27fAlpha\x27]=0x1,_0x5e9ab7[\x27waterMarkImageMax\x27]=_0x5a3da3[\x27tracks\x27][\x27selectedTrack\x27][\x27frameCount\x27],_0xbe633<_0x5a3da3[\x27tracks\x27][\x27selectedTrack\x27][\x27frameCount\x27]-0x1&&_0x5e9ab7[\x27ImageDecoder\x27](_0x5a3da3,_0x1c5c5e,_0xbe633+0x1);});}},{\x27key\x27:\x27SetWaterMarkImage\x27,\x27value\x27:function(_0x4e2929){if(this[\x27pWaterImageParam\x27][\x27splice\x27](0x0,this[\x27pWaterImageParam\x27][\x27length\x27]),null===_0x4e2929)return\x200x1;if(null!=_0x4e2929[\x27pImageData\x27]){var\x20_0xb20ecb=new\x20ImageDecoder({\x27data\x27:_0x4e2929[\x27pImageData\x27],\x27type\x27:\x27image/\x27+_0x4e2929[\x27pImageType\x27]});_0xb20ecb[\x27tracks\x27][\x27ready\x27][\x27then\x27](function(){}),this[\x27ImageDecoder\x27](_0xb20ecb,_0x4e2929,0x0);}return\x20this[\x27waterMarkImageIndex\x27]=0x0,0x1;}},{\x27key\x27:\x27_ConvertDisplayEffect\x27,\x27value\x27:function(_0x4ea039,_0x46ff13){switch(_0x4ea039){case\x20_0x2aea6b:return\x20_0x54a990==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PTZ_WALL\x27]:_0x4e5968==_0x46ff13||_0x30e952==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]:_0x1837a3==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]:_0x30ecd9==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PLANET\x27]:_0x39b0d3==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL\x27]:_0x2a01ec==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_ARCSPHERE_VERTICAL_WALL\x27]:_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27];case\x20_0x240c92:return\x20_0x54a990==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PTZ_FLOOR\x27]:_0x4e5968==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_360\x27]:_0x2cb8a2==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PANORAMA_FLOOR_180\x27]:_0x30e952==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]:_0x1837a3==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]:_0x20b7ae==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_CYLINDER_FLOOR\x27]:_0x443c47==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_FLOOR\x27]:_0x30ecd9==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PLANET\x27]:_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27];case\x20_0x1e68ea:return\x20_0x54a990==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PTZ_CEILING\x27]:_0x4e5968==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_360\x27]:_0x2cb8a2==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PANORAMA_CEILING_180\x27]:_0x30e952==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PANORAMA_WALL\x27]:_0x1837a3==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_SEMISPHERE\x27]:_0x20b7ae==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_CYLINDER_CEILING\x27]:_0x443c47==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_CYLINDER_SPLIT_CEILING\x27]:_0x30ecd9==_0x46ff13?_0x186ff9[\x27SR_DE_FISH_PLANET\x27]:_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27];default:return\x20_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27];}return\x20_0x186ff9[\x27SR_DE_FISH_ORIGINAL\x27];}},{\x27key\x27:\x27GetCanvasData\x27,\x27value\x27:function(_0x168b52){var\x20_0x4cbc60={\x27nWidth\x27:0x0,\x27nHeight\x27:0x0,\x27nBufferLen\x27:0x0},_0x2f0ef5=this[\x27oVideoHandle\x27][\x27SR_GetCaptureSize\x27](_0x4cbc60);(_0xa87ede!=_0x2f0ef5||_0x4cbc60[\x27nBufferLen\x27]<=0x0)&&_0x168b52(null);var\x20_0x58ab1e=new\x20Uint8Array(_0x4cbc60[\x27nBufferLen\x27]);null==_0x58ab1e&&_0x168b52(null);var\x20_0x40363f={};_0x40363f[\x27pBuffer\x27]=_0x58ab1e,this[\x27oVideoHandle\x27][\x27SR_CaptureScreen\x27](_0x40363f),_0x168b52(_0x58ab1e,_0x4cbc60[\x27nWidth\x27],_0x4cbc60[\x27nHeight\x27]);}},{\x27key\x27:\x27FindIntelNodefromList\x27,\x27value\x27:function(_0xff0932){if(0x0!=this[\x27privateLinesInfo\x27][\x27length\x27]){var\x20_0x11e4ab=this[\x27privateLinesInfo\x27][0x0][\x27absTimeStamp\x27];if(_0x11e4ab<=_0xff0932+0x64&&_0x11e4ab>_0xff0932-0x64)this[\x27curLinesInfo\x27]=this[\x27privateLinesInfo\x27][\x27shift\x27]();else{if(_0x11e4ab>_0xff0932+0x7d0||_0x11e4ab<_0xff0932-0x7d0)for(this[\x27curLinesInfo\x27]=this[\x27privateLinesInfo\x27][\x27shift\x27]();this[\x27privateLinesInfo\x27][\x27length\x27]>0x0;){var\x20_0x2d684a=this[\x27privateLinesInfo\x27][0x0][\x27absTimeStamp\x27];if(!(_0x2d684a>_0xff0932+0x7d0||_0x2d684a<_0xff0932-0x7d0))break;this[\x27curLinesInfo\x27]=this[\x27privateLinesInfo\x27][\x27shift\x27]();}}}if(0x0!=this[\x27privateFontsInfo\x27][\x27length\x27]){var\x20_0x588728=this[\x27privateFontsInfo\x27][0x0][\x27absTimeStamp\x27];if(_0x588728<=_0xff0932+0x3e8&&_0x588728>_0xff0932-0x3e8)this[\x27curFontsInfo\x27]=this[\x27privateFontsInfo\x27][\x27shift\x27]();else{if(_0x588728>_0xff0932+0x7d0||_0x588728<_0xff0932-0x7d0)for(this[\x27curFontsInfo\x27]=this[\x27privateFontsInfo\x27][\x27shift\x27]();this[\x27privateFontsInfo\x27][\x27length\x27]>0x0;){var\x20_0xe2c5d7=this[\x27privateFontsInfo\x27][0x0][\x27absTimeStamp\x27];if(!(_0xe2c5d7>_0xff0932+0x7d0||_0xe2c5d7<_0xff0932-0x7d0))break;this[\x27curFontsInfo\x27]=this[\x27privateFontsInfo\x27][\x27shift\x27]();}}}if(0x0!=this[\x27privateImageInfo\x27][\x27length\x27]){var\x20_0x258d83=this[\x27privateImageInfo\x27][0x0][\x27absTimeStamp\x27];if(_0x258d83<=_0xff0932+0x3e8&&_0x258d83>_0xff0932-0x3e8)this[\x27curImagesInfo\x27]=this[\x27privateImageInfo\x27][\x27shift\x27]();else{if(_0x258d83>_0xff0932+0x7d0||_0x258d83<_0xff0932-0x7d0)for(this[\x27curImagesInfo\x27]=this[\x27privateImageInfo\x27][\x27shift\x27]();this[\x27privateImageInfo\x27][\x27length\x27]>0x0;){var\x20_0x5a81bc=this[\x27privateImageInfo\x27][0x0][\x27absTimeStamp\x27];if(!(_0x5a81bc>_0xff0932+0x7d0||_0x5a81bc<_0xff0932-0x7d0))break;this[\x27curImagesInfo\x27]=this[\x27privateImageInfo\x27][\x27shift\x27]();}}}return\x200x1;}},{\x27key\x27:\x27RenderPrivateData\x27,\x27value\x27:function(_0x1231e6){return\x200x0!=this[\x27privateLinesInfo\x27][\x27length\x27]||_0x1231e6||(this[\x27curLinesInfo\x27]=null),0x1;}},{\x27key\x27:\x27InputPrivateInfo\x27,\x27value\x27:function(_0x4714d3,_0x175777,_0x56d599){var\x20_0x1f7229=!0x1,_0x186733=0x0;if(_0x4714d3[\x27linesNum\x27]>0x0){if(_0x4714d3[\x27absTimeStamp\x27]<=this[\x27maxPrivateLineTimeStamp\x27]){var\x20_0x1673f8=0x0;for(_0x1673f8=0x0;_0x1673f8<this[\x27privateLinesInfo\x27][\x27length\x27];_0x1673f8++)if(this[\x27privateLinesInfo\x27][_0x1673f8][\x27absTimeStamp\x27]==_0x4714d3[\x27absTimeStamp\x27]){_0x1f7229=!0x0,_0x186733=_0x1673f8;break;}}if(_0x1f7229){var\x20_0x2798dd=this[\x27privateLinesInfo\x27][_0x186733][\x27linesNum\x27];this[\x27privateLinesInfo\x27][_0x186733][\x27linesNum\x27]=_0x2798dd+_0x4714d3[\x27linesNum\x27];for(var\x20_0x271036=0x0;_0x271036<_0x4714d3[\x27linesNum\x27];_0x271036++){this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd]={},this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27vertex_num\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x271036][\x27vertex_num\x27],this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27lineWidth\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x271036][\x27lineWidth\x27],this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27bFill\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x271036][\x27bFill\x27],this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27bLoop\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x271036][\x27bLoop\x27],this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27color\x27]={},this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27color\x27][\x27R\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x271036][\x27color\x27][\x27R\x27],this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27color\x27][\x27G\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x271036][\x27color\x27][\x27G\x27],this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27color\x27][\x27B\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x271036][\x27color\x27][\x27B\x27],this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27color\x27][\x27A\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x271036][\x27color\x27][\x27A\x27],this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27stPoint\x27]=[];for(var\x20_0x23d852=0x0;_0x23d852<_0x4714d3[\x27stDrawLinesArray\x27][_0x271036][\x27vertex_num\x27];_0x23d852++)this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27stPoint\x27][_0x23d852]={},this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27stPoint\x27][_0x23d852][\x27x\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x271036][\x27stPoint\x27][_0x23d852][\x27x\x27],this[\x27privateLinesInfo\x27][_0x186733][\x27stDrawLinesArray\x27][_0x271036+_0x2798dd][\x27stPoint\x27][_0x23d852][\x27y\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x271036][\x27stPoint\x27][_0x23d852][\x27y\x27];}}else{this[\x27maxPrivateLineTimeStamp\x27]<_0x4714d3[\x27absTimeStamp\x27]&&(this[\x27maxPrivateLineTimeStamp\x27]=_0x4714d3[\x27absTimeStamp\x27]);var\x20_0x134d36={};_0x134d36[\x27linesNum\x27]=_0x4714d3[\x27linesNum\x27],_0x134d36[\x27absTimeStamp\x27]=_0x4714d3[\x27absTimeStamp\x27],_0x134d36[\x27stDrawLinesArray\x27]=[];for(var\x20_0x4bcab2=0x0;_0x4bcab2<_0x4714d3[\x27linesNum\x27];_0x4bcab2++){_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2]={},_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27vertex_num\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x4bcab2][\x27vertex_num\x27],_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27lineWidth\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x4bcab2][\x27lineWidth\x27],_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27bFill\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x4bcab2][\x27bFill\x27],_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27bLoop\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x4bcab2][\x27bLoop\x27],_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27color\x27]={},_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27color\x27][\x27R\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x4bcab2][\x27color\x27][\x27R\x27],_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27color\x27][\x27G\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x4bcab2][\x27color\x27][\x27G\x27],_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27color\x27][\x27B\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x4bcab2][\x27color\x27][\x27B\x27],_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27color\x27][\x27A\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x4bcab2][\x27color\x27][\x27A\x27],_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27stPoint\x27]=[];for(var\x20_0x19e95f=0x0;_0x19e95f<_0x4714d3[\x27stDrawLinesArray\x27][_0x4bcab2][\x27vertex_num\x27];_0x19e95f++)_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27stPoint\x27][_0x19e95f]={},_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27stPoint\x27][_0x19e95f][\x27x\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x4bcab2][\x27stPoint\x27][_0x19e95f][\x27x\x27],_0x134d36[\x27stDrawLinesArray\x27][_0x4bcab2][\x27stPoint\x27][_0x19e95f][\x27y\x27]=_0x4714d3[\x27stDrawLinesArray\x27][_0x4bcab2][\x27stPoint\x27][_0x19e95f][\x27y\x27];}this[\x27privateLinesInfo\x27][\x27push\x27](_0x134d36);}}if(_0x175777[\x27nFontsNum\x27]>0x0){if(_0x175777[\x27absTimeStamp\x27]<=this[\x27maxPrivateLineTimeStamp\x27]){var\x20_0x5026f8=0x0;for(_0x5026f8=0x0;_0x5026f8<this[\x27privateFontsInfo\x27][\x27length\x27];_0x5026f8++)if(this[\x27privateFontsInfo\x27][_0x5026f8][\x27absTimeStamp\x27]==_0x175777[\x27absTimeStamp\x27]){_0x1f7229=!0x0,_0x186733=_0x5026f8;break;}}if(_0x1f7229);else{this[\x27maxPrivateLineTimeStamp\x27]<_0x175777[\x27absTimeStamp\x27]&&(this[\x27maxPrivateLineTimeStamp\x27]=_0x175777[\x27absTimeStamp\x27]);var\x20_0x4876a6={};_0x4876a6[\x27nFontsNum\x27]=_0x175777[\x27nFontsNum\x27],_0x4876a6[\x27absTimeStamp\x27]=_0x175777[\x27absTimeStamp\x27],_0x4876a6[\x27stDrawFontsArray\x27]=[];for(var\x20_0x52496a=0x0;_0x52496a<_0x175777[\x27nFontsNum\x27];_0x52496a++)_0x4876a6[\x27stDrawFontsArray\x27][_0x52496a]={},_0x4876a6[\x27stDrawFontsArray\x27][_0x52496a][\x27nFontSizeW\x27]=_0x175777[\x27stDrawFontsArray\x27][_0x52496a][\x27nFontSizeW\x27],_0x4876a6[\x27stDrawFontsArray\x27][_0x52496a][\x27nFontSizeH\x27]=_0x175777[\x27stDrawFontsArray\x27][_0x52496a][\x27nFontSizeH\x27],_0x4876a6[\x27stDrawFontsArray\x27][_0x52496a][\x27color\x27]={},_0x4876a6[\x27stDrawFontsArray\x27][_0x52496a][\x27color\x27][\x27R\x27]=_0x175777[\x27stDrawFontsArray\x27][_0x52496a][\x27color\x27][\x27R\x27],_0x4876a6[\x27stDrawFontsArray\x27][_0x52496a][\x27color\x27][\x27G\x27]=_0x175777[\x27stDrawFontsArray\x27][_0x52496a][\x27color\x27][\x27G\x27],_0x4876a6[\x27stDrawFontsArray\x27][_0x52496a][\x27color\x27][\x27B\x27]=_0x175777[\x27stDrawFontsArray\x27][_0x52496a][\x27color\x27][\x27B\x27],_0x4876a6[\x27stDrawFontsArray\x27][_0x52496a][\x27color\x27][\x27A\x27]=_0x175777[\x27stDrawFontsArray\x27][_0x52496a][\x27color\x27][\x27A\x27],_0x4876a6[\x27stDrawFontsArray\x27][_0x52496a][\x27stPoint\x27]={},_0x4876a6[\x27stDrawFontsArray\x27][_0x52496a][\x27stPoint\x27][\x27x\x27]=_0x175777[\x27stDrawFontsArray\x27][_0x52496a][\x27stPoint\x27][\x27x\x27],_0x4876a6[\x27stDrawFontsArray\x27][_0x52496a][\x27stPoint\x27][\x27y\x27]=_0x175777[\x27stDrawFontsArray\x27][_0x52496a][\x27stPoint\x27][\x27y\x27],_0x4876a6[\x27stDrawFontsArray\x27][_0x52496a][\x27fontstring\x27]=_0x175777[\x27stDrawFontsArray\x27][_0x52496a][\x27fontString\x27];this[\x27privateFontsInfo\x27][\x27push\x27](_0x4876a6);}}if(_0x56d599[\x27nPixelFormat\x27]>0x0){if(_0x56d599[\x27absTimeStamp\x27]<=this[\x27maxPrivateLineTimeStamp\x27]){var\x20_0x33e36e=0x0;for(_0x33e36e=0x0;_0x33e36e<this[\x27privateImageInfo\x27][\x27length\x27];_0x33e36e++)if(this[\x27privateImageInfo\x27][_0x33e36e][\x27absTimeStamp\x27]==_0x56d599[\x27absTimeStamp\x27]){_0x1f7229=!0x0,_0x186733=_0x33e36e;break;}}if(_0x1f7229);else{this[\x27maxPrivateLineTimeStamp\x27]<_0x56d599[\x27absTimeStamp\x27]&&(this[\x27maxPrivateLineTimeStamp\x27]=_0x56d599[\x27absTimeStamp\x27]);var\x20_0x271b09={};_0x271b09[\x27absTimeStamp\x27]=_0x56d599[\x27absTimeStamp\x27],_0x271b09[\x27nWidth\x27]=_0x56d599[\x27nWidth\x27],_0x271b09[\x27nHeight\x27]=_0x56d599[\x27nHeight\x27],_0x271b09[\x27pstRect\x27]={},_0x271b09[\x27pstRect\x27][\x27fTop\x27]=_0x56d599[\x27pstRect\x27][\x27fTop\x27],_0x271b09[\x27pstRect\x27][\x27fBottom\x27]=_0x56d599[\x27pstRect\x27][\x27fBottom\x27],_0x271b09[\x27pstRect\x27][\x27fLeft\x27]=_0x56d599[\x27pstRect\x27][\x27fLeft\x27],_0x271b09[\x27pstRect\x27][\x27fRight\x27]=_0x56d599[\x27pstRect\x27][\x27fRight\x27],_0x271b09[\x27nPixelFormat\x27]=_0x56d599[\x27nPixelFormat\x27],_0x271b09[\x27fAlpha\x27]=_0x56d599[\x27fAlpha\x27],_0x271b09[\x27picImageData\x27]=_0x56d599[\x27picImageData\x27],this[\x27privateImageInfo\x27][\x27push\x27](_0x271b09);}}return\x200x1;}},{\x27key\x27:\x27WebGLDisplayCallBack\x27,\x27value\x27:function(_0x273e95){if(0x0!=_0x273e95[\x27privateLinesInfo\x27][\x27length\x27]||null!=_0x273e95[\x27curLinesInfo\x27]){if(null!=_0x273e95[\x27curLinesInfo\x27]){for(var\x20_0x152c9d=[],_0x3b3ffc=0x0,_0x4ea37c=0x1,_0xae4f9b=0x0;_0xae4f9b<_0x273e95[\x27curLinesInfo\x27][\x27linesNum\x27];_0xae4f9b++){_0x152c9d[_0xae4f9b]={},_0x152c9d[_0xae4f9b][\x27nPointNum\x27]=_0x273e95[\x27curLinesInfo\x27][\x27stDrawLinesArray\x27][_0xae4f9b][\x27vertex_num\x27],_0x152c9d[_0xae4f9b][\x27nLineWidth\x27]=_0x273e95[\x27curLinesInfo\x27][\x27stDrawLinesArray\x27][_0xae4f9b][\x27lineWidth\x27],_0x4ea37c=_0x273e95[\x27curLinesInfo\x27][\x27stDrawLinesArray\x27][_0xae4f9b][\x27bFill\x27],_0x152c9d[_0xae4f9b][\x27bLoop\x27]=_0x273e95[\x27curLinesInfo\x27][\x27stDrawLinesArray\x27][_0xae4f9b][\x27bLoop\x27],_0x152c9d[_0xae4f9b][\x27pstColor\x27]={},_0x152c9d[_0xae4f9b][\x27pstColor\x27][\x27fR\x27]=_0x273e95[\x27curLinesInfo\x27][\x27stDrawLinesArray\x27][_0xae4f9b][\x27color\x27][\x27R\x27],_0x152c9d[_0xae4f9b][\x27pstColor\x27][\x27fG\x27]=_0x273e95[\x27curLinesInfo\x27][\x27stDrawLinesArray\x27][_0xae4f9b][\x27color\x27][\x27G\x27],_0x152c9d[_0xae4f9b][\x27pstColor\x27][\x27fB\x27]=_0x273e95[\x27curLinesInfo\x27][\x27stDrawLinesArray\x27][_0xae4f9b][\x27color\x27][\x27B\x27],_0x152c9d[_0xae4f9b][\x27pstColor\x27][\x27fA\x27]=_0x273e95[\x27curLinesInfo\x27][\x27stDrawLinesArray\x27][_0xae4f9b][\x27color\x27][\x27A\x27],_0x152c9d[_0xae4f9b][\x27pstPoints\x27]=[];for(var\x20_0x19d608=0x0;_0x19d608<_0x152c9d[_0xae4f9b][\x27nPointNum\x27];_0x19d608++)_0x152c9d[_0xae4f9b][\x27pstPoints\x27][_0x19d608]={},_0x152c9d[_0xae4f9b][\x27pstPoints\x27][_0x19d608][\x27fX\x27]=_0x273e95[\x27curLinesInfo\x27][\x27stDrawLinesArray\x27][_0xae4f9b][\x27stPoint\x27][_0x19d608][\x27x\x27],_0x152c9d[_0xae4f9b][\x27pstPoints\x27][_0x19d608][\x27fY\x27]=_0x273e95[\x27curLinesInfo\x27][\x27stDrawLinesArray\x27][_0xae4f9b][\x27stPoint\x27][_0x19d608][\x27y\x27];_0x3b3ffc+=_0x152c9d[_0xae4f9b][\x27nPointNum\x27];}_0x273e95[\x27oVideoHandle\x27][\x27SR_DrawLinesEx\x27](_0x152c9d,_0x273e95[\x27curLinesInfo\x27][\x27linesNum\x27],_0x3b3ffc,_0x4ea37c);}_0x273e95[\x27curLinesInfo\x27]=null;}if((0x0!=_0x273e95[\x27privateFontsInfo\x27][\x27length\x27]||null!=_0x273e95[\x27curFontsInfo\x27])&&null!=_0x273e95[\x27curFontsInfo\x27]&&0x0!=_0x273e95[\x27curFontsInfo\x27][\x27nFontsNum\x27]){for(var\x20_0x318203=[],_0x238209=0x0;_0x238209<_0x273e95[\x27curFontsInfo\x27][\x27nFontsNum\x27];_0x238209++){var\x20_0x3ac5ed={},_0x431a46=_0x273e95[\x27curFontsInfo\x27][\x27stDrawFontsArray\x27][_0x238209][\x27fontstring\x27],_0x3a1ba2={};_0x3a1ba2[\x27fX\x27]=_0x273e95[\x27curFontsInfo\x27][\x27stDrawFontsArray\x27][_0x238209][\x27stPoint\x27][\x27x\x27],_0x3a1ba2[\x27fY\x27]=_0x273e95[\x27curFontsInfo\x27][\x27stDrawFontsArray\x27][_0x238209][\x27stPoint\x27][\x27y\x27];var\x20_0x1f2cce={\x27fR\x27:0x1,\x27fG\x27:0x0,\x27fB\x27:0x0};_0x1f2cce[\x27fA\x27]=_0x273e95[\x27curFontsInfo\x27][\x27stDrawFontsArray\x27][_0x238209][\x27color\x27][\x27A\x27];var\x20_0x5074eb=_0x273e95[\x27curFontsInfo\x27][\x27stDrawFontsArray\x27][_0x238209][\x27nFontSizeW\x27],_0x441f96=_0x273e95[\x27curFontsInfo\x27][\x27stDrawFontsArray\x27][_0x238209][\x27nFontSizeH\x27];_0x3ac5ed[\x27pString\x27]=_0x431a46,_0x3ac5ed[\x27pstStartPos\x27]=_0x3a1ba2,_0x3ac5ed[\x27nFontWidth\x27]=_0x5074eb,_0x3ac5ed[\x27nFontHeight\x27]=_0x441f96,_0x3ac5ed[\x27pstFontColor\x27]=_0x1f2cce,_0x3ac5ed[\x27bBackGround\x27]=!0x1,_0x3ac5ed[\x27pstBGColor\x27]=null,_0x3ac5ed[\x27fRotateAngle\x27]=0x0,_0x3ac5ed[\x27pFontFamily\x27]=\x27sans-serif\x27,_0x318203[\x27push\x27](_0x3ac5ed);}_0x273e95[\x27oVideoHandle\x27][\x27SR_DrawFontEx\x27](_0x318203,_0x273e95[\x27curFontsInfo\x27][\x27nFontsNum\x27]);}if(0x0!=_0x273e95[\x27privateImageInfo\x27][\x27length\x27]||null!=_0x273e95[\x27curImagesInfo\x27]){var\x20_0x2481ef=null;null!=_0x273e95[\x27curImagesInfo\x27]&&null!=_0x273e95[\x27curImagesInfo\x27]&&null!=_0x273e95[\x27curImagesInfo\x27][\x27picImageData\x27]&&null!=_0x273e95[\x27curImagesInfo\x27][\x27picImageData\x27]&&(_0x2481ef=new\x20Uint16Array(_0x273e95[\x27curImagesInfo\x27][\x27picImageData\x27][\x27buffer\x27])),null!=_0x273e95[\x27curImagesInfo\x27]&&_0x273e95[\x27curImagesInfo\x27][\x27nPixelFormat\x27]>0x0&&_0x273e95[\x27oVideoHandle\x27][\x27SR_DrawImage\x27](_0x2481ef,_0x273e95[\x27curImagesInfo\x27][\x27nWidth\x27],_0x273e95[\x27curImagesInfo\x27][\x27nHeight\x27],_0x273e95[\x27curImagesInfo\x27][\x27pstRect\x27],_0x273e95[\x27curImagesInfo\x27][\x27nPixelFormat\x27],_0x273e95[\x27curImagesInfo\x27][\x27fAlpha\x27]);}if(0x0!==_0x273e95[\x27pWaterFontParam\x27][\x27length\x27]&&_0x273e95[\x27oVideoHandle\x27][\x27SR_DrawFontEx\x27](_0x273e95[\x27pWaterFontParam\x27],_0x273e95[\x27pWaterFontParam\x27][\x27length\x27]),0x0!==_0x273e95[\x27pWaterImageParam\x27][\x27length\x27]){_0x273e95[\x27waterMarkImageIndex\x27]>=_0x273e95[\x27waterMarkImageMax\x27]&&(_0x273e95[\x27waterMarkImageIndex\x27]=0x0);var\x20_0x1b3126=_0x273e95[\x27waterMarkImageIndex\x27];_0x273e95[\x27oVideoHandle\x27][\x27SR_DrawImage\x27](_0x273e95[\x27pWaterImageParam\x27][_0x1b3126][\x27videoStream\x27],_0x273e95[\x27pWaterImageParam\x27][_0x1b3126][\x27nImageWidth\x27],_0x273e95[\x27pWaterImageParam\x27][_0x1b3126][\x27nImageHeight\x27],_0x273e95[\x27pWaterImageParam\x27][_0x1b3126][\x27pstRectPos\x27],_0xa01ff6,_0x273e95[\x27pWaterImageParam\x27][_0x1b3126][\x27fAlpha\x27]),_0x273e95[\x27waterMarkImageIndex\x27]++;}}}]),_0x48881e;}()),_0x5111f0=(function(){function\x20_0x231541(){_0x54580d(this,_0x231541),this[\x27startTime\x27]=0x0,this[\x27curTime\x27]=0x0,this[\x27timeWalk\x27]=0x0,this[\x27lastDate\x27]=0x0,this[\x27preTimerStamp\x27]=0x0;}return\x20_0x4fd085(_0x231541,[{\x27key\x27:\x27Init\x27,\x27value\x27:function(){this[\x27startTime\x27]=this[\x27GetCurTime\x27]();}},{\x27key\x27:\x27GetCurTime\x27,\x27value\x27:function(){return\x20this[\x27curTime\x27]=0x3c*new\x20Date()[\x27getHours\x27]()*0x3c*0x3e8+0x3c*new\x20Date()[\x27getMinutes\x27]()*0x3e8+0x3e8*new\x20Date()[\x27getSeconds\x27]()+new\x20Date()[\x27getMilliseconds\x27](),this[\x27lastDate\x27]=new\x20Date()[\x27getDate\x27](),this[\x27curTime\x27];}},{\x27key\x27:\x27GetTimerWalk\x27,\x27value\x27:function(){var\x20_0x2e0b9c=this[\x27GetCurTime\x27]()-this[\x27startTime\x27];return\x20this[\x27lastDate\x27]!==new\x20Date()[\x27getDate\x27]()&&(_0x2e0b9c+=0x18*(new\x20Date()[\x27getDate\x27]()-this[\x27lastDate\x27])*0x3c*0x3c*0x3e8),_0x2e0b9c;}},{\x27key\x27:\x27timerReset\x27,\x27value\x27:function(){this[\x27startTime\x27]=0x0,this[\x27curTime\x27]=0x0,this[\x27timeWalk\x27]=0x0,this[\x27lastDate\x27]=0x0,this[\x27preTimerStamp\x27]=0x0;}}]),_0x231541;}()),_0x436cae=(function(){function\x20_0x2bfe2e(){var\x20_0xc5035a=arguments[\x27length\x27]>0x0&&void\x200x0!==arguments[0x0]?arguments[0x0]:null;_0x54580d(this,_0x2bfe2e),this[\x27canvas\x27]=null,this[\x27streamOpenMode\x27]=0x0,this[\x27context\x27]=null,this[\x27oVideoDecoder\x27]=null,this[\x27frameBuffers\x27]=[],this[\x27initTimer\x27]=!0x1,this[\x27preTimeStamp\x27]=0x0,this[\x27baseTimeStamp\x27]=0x0,this[\x27resetTimer\x27]=!0x0,this[\x27RenderFrame\x27]=this[\x27RenderFrame\x27][\x27bind\x27](this),this[\x27renderCurStatus\x27]=0x2,this[\x27playSpeed\x27]=0x1,this[\x27nplaySpeed\x27]=0x1,this[\x27displayBuf\x27]=0xe,this[\x27needForward\x27]=!0x1,this[\x27firstFrame\x27]=!0x0,this[\x27LatcyTime\x27]=0x0,this[\x27displayFrameInfoCB\x27]=null,this[\x27displayFrameInfo\x27]=[],this[\x27curFrameInfo\x27]={},this[\x27curFrameInfo\x27][\x27timeStamp\x27]=0x0,this[\x27sx\x27]=0x0,this[\x27sy\x27]=0x0,this[\x27sw\x27]=0x0,this[\x27sh\x27]=0x0,this[\x27displayRunning\x27]=!0x1,this[\x27oRenderTimer\x27]=null,this[\x27waitIFrameTimestamp\x27]=0x0,this[\x27curFrame\x27]=null,this[\x27player\x27]=null,null!=_0xc5035a&&(this[\x27player\x27]=_0xc5035a),this[\x27renderEngine\x27]=\x27webgl\x27,this[\x27oVideoRender\x27]=null,this[\x27FECCanvasID\x27]=\x27\x27,this[\x27oVideoRender\x27]=new\x20_0x4ae543();}return\x20_0x4fd085(_0x2bfe2e,[{\x27key\x27:\x27init\x27,\x27value\x27:function(_0x2b4de0,_0x2c8a8e,_0x250db0,_0x3f5d69){this[\x27canvas\x27]=_0x2b4de0,this[\x27streamOpenMode\x27]=_0x2c8a8e,this[\x27renderEngine\x27]=_0x3f5d69,this[\x27SetCurStatus\x27](0x2),null==this[\x27oVideoDecoder\x27]&&(this[\x27oVideoDecoder\x27]=new\x20_0x285caf(_0x250db0,this,this[\x27player\x27]),null!==this[\x27oVideoDecoder\x27]&&this[\x27oVideoDecoder\x27][\x27initDecoder\x27]()),this[\x27frameBuffers\x27]=this[\x27oVideoDecoder\x27][\x27ready_frames\x27],null!=this[\x27oVideoRender\x27]&&this[\x27oVideoRender\x27][\x27InitDisplay\x27](this[\x27canvas\x27],this[\x27renderEngine\x27],0x100),null==this[\x27oRenderTimer\x27]&&(this[\x27oRenderTimer\x27]=new\x20_0x5111f0());}},{\x27key\x27:\x27HardDecodeError\x27,\x27value\x27:function(){return\x20this[\x27player\x27][\x27_switchHardToSoft\x27](),0x1;}},{\x27key\x27:\x27inputData\x27,\x27value\x27:function(_0x2ca1dd,_0x429b37){var\x20_0x3a0a86={};_0x3a0a86[\x27port\x27]=_0x429b37[\x27port\x27],_0x3a0a86[\x27codecType\x27]=_0x429b37[\x27codecType\x27],_0x3a0a86[\x27frameType\x27]=_0x429b37[\x27frameType\x27],_0x3a0a86[\x27frameSize\x27]=_0x429b37[\x27frameSize\x27],_0x3a0a86[\x27width\x27]=_0x429b37[\x27width\x27],_0x3a0a86[\x27height\x27]=_0x429b37[\x27height\x27],_0x3a0a86[\x27timeStamp\x27]=_0x429b37[\x27timeStamp\x27],_0x3a0a86[\x27frameRate\x27]=_0x429b37[\x27frameRate\x27],_0x3a0a86[\x27frameNum\x27]=_0x429b37[\x27frameNum\x27],_0x3a0a86[\x27interlace\x27]=_0x429b37[\x27interlace\x27],_0x3a0a86[\x27streamEnd\x27]=_0x429b37[\x27streamEnd\x27],_0x3a0a86[\x27cropLeft\x27]=_0x429b37[\x27cropLeft\x27],_0x3a0a86[\x27cropRight\x27]=_0x429b37[\x27cropRight\x27],_0x3a0a86[\x27cropTop\x27]=_0x429b37[\x27cropTop\x27],_0x3a0a86[\x27cropBottom\x27]=_0x429b37[\x27cropBottom\x27],_0x3a0a86[\x27year\x27]=_0x429b37[\x27year\x27],_0x3a0a86[\x27month\x27]=_0x429b37[\x27month\x27],_0x3a0a86[\x27week\x27]=_0x429b37[\x27week\x27],_0x3a0a86[\x27day\x27]=_0x429b37[\x27day\x27],_0x3a0a86[\x27hour\x27]=_0x429b37[\x27hour\x27],_0x3a0a86[\x27minute\x27]=_0x429b37[\x27minute\x27],_0x3a0a86[\x27second\x27]=_0x429b37[\x27second\x27],_0x3a0a86[\x27milliseconds\x27]=_0x429b37[\x27milliseconds\x27],this[\x27displayFrameInfo\x27][\x27push\x27](_0x3a0a86),this[\x27oVideoDecoder\x27][\x27inputData\x27](_0x2ca1dd,_0x429b37);}},{\x27key\x27:\x27_resetDecoder\x27,\x27value\x27:function(){var\x20_0x1b030e=this;return\x20new\x20Promise(function(_0x4d081d,_0x553412){_0x1b030e[\x27oVideoDecoder\x27][\x27resetDecoder\x27]()[\x27then\x27](function(){_0x1b030e[\x27displayFrameInfo\x27][\x27splice\x27](0x0,_0x1b030e[\x27displayFrameInfo\x27][\x27length\x27]),_0x1b030e[\x27curFrameInfo\x27]={},_0x1b030e[\x27oVideoRender\x27][\x27DeInitPrivateParam\x27](),_0x1b030e[\x27renderCurStatus\x27]=0x2,_0x1b030e[\x27player\x27]?_0x1b030e[\x27player\x27][\x27JSPlayM4_ResetEnd\x27]():postMessage({\x27function\x27:\x27resetEnd\x27}),_0x4d081d();},function(){_0x553412();});});}},{\x27key\x27:\x27_resetRenderTimer\x27,\x27value\x27:function(){this[\x27initTimer\x27]=!0x1,this[\x27preTimeStamp\x27]=0x0,this[\x27baseTimeStamp\x27]=0x0,this[\x27resetTimer\x27]=!0x0,null!=this[\x27oRenderTimer\x27]&&this[\x27oRenderTimer\x27][\x27timerReset\x27](),this[\x27RenderFrame\x27]=this[\x27RenderFrame\x27][\x27bind\x27](this),this[\x27renderCurStatus\x27]=0x2,this[\x27curTimeStamp\x27]=0x0,this[\x27getImageJPEG\x27]=!0x1,this[\x27getImageBMP\x27]=!0x1,this[\x27getCropImageJPEG\x27]=!0x1,this[\x27getCropImageBMP\x27]=!0x1,this[\x27displayFrameInfoCB\x27]=null,this[\x27displayFrameInfo\x27][\x27splice\x27](0x0,this[\x27displayFrameInfo\x27][\x27length\x27]),this[\x27curFrameInfo\x27]={};}},{\x27key\x27:\x27_destroyPlayCtrl\x27,\x27value\x27:function(){var\x20_0x3ce15e=this;this[\x27oVideoDecoder\x27][\x27destroyDecoder\x27]()[\x27then\x27](function(){_0x3ce15e[\x27oVideoDecoder\x27]=null,null!=_0x3ce15e[\x27oVideoRender\x27]&&(_0x3ce15e[\x27oVideoRender\x27][\x27ReleaseDisplay\x27](),_0x3ce15e[\x27oVideoRender\x27]=null),_0x3ce15e[\x27_resetRenderTimer\x27](),_0x3ce15e[\x27oRenderTimer\x27]=null,_0x3ce15e[\x27displayRunning\x27]=!0x1,console[\x27log\x27](\x27>>>JS\x5cx2002\x5cx20destroy\x5cx20oVideoDecoder/oVideoRender\x27);},function(){console[\x27log\x27](\x27stop\x5cx20failed\x5cx20\x27);});}},{\x27key\x27:\x27RenderFrame\x27,\x27value\x27:function(){var\x20_0x409278=this;switch(this[\x27renderCurStatus\x27]){case\x200x0:this[\x27_resetRenderTimer\x27](),this[\x27_resetDecoder\x27]()[\x27then\x27](function(){var\x20_0x24c4ed=setTimeout(function(){_0x409278[\x27RenderFrame\x27](),clearTimeout(_0x24c4ed);},0x1);},function(){});break;case\x200x2:if(this[\x27displayRunning\x27])this[\x27chooseFrame\x27]()[\x27then\x27](function(_0x57f524){if(_0x409278[\x27curFrame\x27]=_0x57f524,-0x1==_0x409278[\x27displayBuf\x27]||0x0==_0x409278[\x27streamOpenMode\x27]&&0x0==_0x409278[\x27LatcyTime\x27])null!=_0x409278[\x27curFrame\x27]&&(_0x409278[\x27curTimeStamp\x27]=_0x409278[\x27curFrame\x27][\x27timestamp\x27],_0x409278[\x27paint\x27](_0x409278[\x27curFrame\x27])),requestAnimationFrame(_0x409278[\x27RenderFrame\x27]);else{if(null!=_0x409278[\x27curFrame\x27]){_0x409278[\x27initTimer\x27]&&!_0x409278[\x27resetTimer\x27]||(_0x409278[\x27oRenderTimer\x27][\x27Init\x27](),_0x409278[\x27initTimer\x27]=!0x0,_0x409278[\x27resetTimer\x27]=!0x1,_0x409278[\x27preTimeStamp\x27]=_0x409278[\x27curFrame\x27][\x27timestamp\x27],_0x409278[\x27baseTimeStamp\x27]=_0x409278[\x27curFrame\x27][\x27timestamp\x27],0x1==_0x409278[\x27streamOpenMode\x27]&&(_0x409278[\x27LatcyTime\x27]=0x0)),_0x409278[\x27curTimeStamp\x27]=_0x409278[\x27curFrame\x27][\x27timestamp\x27];var\x20_0x49eb0b=_0x409278[\x27curTimeStamp\x27]-_0x409278[\x27preTimeStamp\x27],_0x30b6b7=_0x409278[\x27curTimeStamp\x27]-_0x409278[\x27baseTimeStamp\x27];(_0x49eb0b>0x1388||_0x49eb0b<0x0||_0x30b6b7<0x0)&&(_0x409278[\x27oRenderTimer\x27][\x27Init\x27](),_0x409278[\x27preTimeStamp\x27]=_0x409278[\x27curFrame\x27][\x27timestamp\x27],_0x409278[\x27baseTimeStamp\x27]=_0x409278[\x27curTimeStamp\x27]);var\x20_0x4b1144=(_0x409278[\x27curTimeStamp\x27]-_0x409278[\x27baseTimeStamp\x27]+_0x409278[\x27LatcyTime\x27])/_0x409278[\x27playSpeed\x27]-_0x409278[\x27oRenderTimer\x27][\x27GetTimerWalk\x27]();if(_0x4b1144<0xf&&_0x4b1144>-0xf)_0x409278[\x27paint\x27](_0x409278[\x27curFrame\x27]),_0x409278[\x27preTimeStamp\x27]=_0x409278[\x27curTimeStamp\x27],_0x409278[\x27RenderFrame\x27]();else{if(_0x4b1144<0x0)_0x409278[\x27paint\x27](_0x409278[\x27curFrame\x27]),_0x409278[\x27preTimeStamp\x27]=_0x409278[\x27curTimeStamp\x27],_0x409278[\x27RenderFrame\x27]();else\x20var\x20_0x263c52=setTimeout(function(){0x2==_0x409278[\x27renderCurStatus\x27]?(_0x409278[\x27paint\x27](_0x409278[\x27curFrame\x27]),_0x409278[\x27preTimeStamp\x27]=_0x409278[\x27curTimeStamp\x27],_0x409278[\x27RenderFrame\x27]()):_0x409278[\x27RenderFrame\x27](),clearTimeout(_0x263c52);},_0x4b1144-0x5);}}else{_0x409278[\x27playSpeed\x27]>0x2&&0x1;var\x20_0x1fce2d=setTimeout(function(){_0x409278[\x27RenderFrame\x27](),clearTimeout(_0x1fce2d);},0x0);}}});else\x20var\x20_0x13bfbc=setTimeout(function(){_0x409278[\x27RenderFrame\x27](),clearTimeout(_0x13bfbc);},0x5);break;case\x200x3:var\x20_0x2afd32=setTimeout(function(){_0x409278[\x27_refresh\x27](),_0x409278[\x27RenderFrame\x27](),clearTimeout(_0x2afd32);},0x5);break;case\x200x5:if(this[\x27needForward\x27])this[\x27chooseFrame\x27]()[\x27then\x27](function(_0x4c6555){_0x409278[\x27curFrame\x27]=_0x4c6555;var\x20_0x4e05c4=setTimeout(function(){null!=_0x409278[\x27curFrame\x27]&&(_0x409278[\x27paint\x27](_0x409278[\x27curFrame\x27]),_0x409278[\x27needForward\x27]=!0x1),_0x409278[\x27RenderFrame\x27](),clearTimeout(_0x4e05c4);},0x1);});else\x20var\x20_0x570dc5=setTimeout(function(){_0x409278[\x27_refresh\x27](),_0x409278[\x27RenderFrame\x27](),clearTimeout(_0x570dc5);},0x5);break;case\x200x4:return\x20void\x20this[\x27_destroyPlayCtrl\x27]();default:return;}}},{\x27key\x27:\x27paint\x27,\x27value\x27:function(_0x2382b9){var\x20_0x10ce19=this;return\x20new\x20Promise(function(_0x184257,_0x3369ae){if(0x4==_0x10ce19[\x27curstatus\x27]||null==_0x2382b9||null==_0x10ce19[\x27oVideoRender\x27])_0x184257();else{_0x10ce19[\x27waitIFrameTimestamp\x27]===_0x2382b9[\x27timestamp\x27]&&(_0x10ce19[\x27resetTimer\x27]=!0x0);var\x20_0x43dc93={\x27nCropLeft\x27:0x0,\x27nCropRight\x27:0x0,\x27nCropTop\x27:0x0,\x27nCropBottom\x27:0x0};_0x43dc93[\x27nCodeWidth\x27]=_0x2382b9[\x27displayWidth\x27],_0x43dc93[\x27nCodeHeight\x27]=_0x2382b9[\x27displayHeight\x27];var\x20_0x420bde={\x27x\x27:0x0,\x27y\x27:0x0};_0x420bde[\x27width\x27]=_0x2382b9[\x27displayWidth\x27],_0x420bde[\x27height\x27]=_0x2382b9[\x27displayHeight\x27],_0x10ce19[\x27oVideoRender\x27][\x27DisplayFrame\x27](_0x2382b9,_0x2382b9[\x27displayWidth\x27],_0x2382b9[\x27displayHeight\x27],_0x2382b9[\x27timestamp\x27],_0x43dc93,null)[\x27then\x27](function(_0x4d63d0){null!==_0x10ce19[\x27displayFrameInfoCB\x27]&&_0x10ce19[\x27respondFrameInfoCB\x27](_0x4d63d0),_0x10ce19[\x27firstFrame\x27]&&(null!=_0x10ce19[\x27player\x27]?null!=_0x10ce19[\x27player\x27][\x27FFCallBackFun\x27]&&_0x10ce19[\x27player\x27][\x27FFCallBackFun\x27]():postMessage({\x27function\x27:\x27firstFrameCB\x27,\x27value\x27:!0x0}),_0x10ce19[\x27firstFrame\x27]=!0x1),_0x184257();});}});}},{\x27key\x27:\x27respondFrameInfoCB\x27,\x27value\x27:function(_0x2eec20){if(0x0!=this[\x27displayFrameInfo\x27][\x27length\x27]&&this[\x27curFrameInfo\x27][\x27timeStamp\x27]!==_0x2eec20){for(var\x20_0x5cda6c={},_0x54c3ca=0x0;_0x54c3ca<this[\x27displayFrameInfo\x27][\x27length\x27]&&(_0x5cda6c=this[\x27displayFrameInfo\x27][\x27shift\x27]())[\x27timeStamp\x27]!=_0x2eec20;_0x54c3ca++);this[\x27curFrameInfo\x27][\x27port\x27]=_0x5cda6c[\x27port\x27],this[\x27curFrameInfo\x27][\x27codecType\x27]=_0x5cda6c[\x27codecType\x27],this[\x27curFrameInfo\x27][\x27frameType\x27]=_0x5cda6c[\x27frameType\x27],this[\x27curFrameInfo\x27][\x27frameSize\x27]=_0x5cda6c[\x27frameSize\x27],this[\x27curFrameInfo\x27][\x27width\x27]=_0x5cda6c[\x27width\x27],this[\x27curFrameInfo\x27][\x27height\x27]=_0x5cda6c[\x27height\x27],this[\x27curFrameInfo\x27][\x27timeStamp\x27]=_0x5cda6c[\x27timeStamp\x27],this[\x27curFrameInfo\x27][\x27frameRate\x27]=_0x5cda6c[\x27frameRate\x27],this[\x27curFrameInfo\x27][\x27frameNum\x27]=_0x5cda6c[\x27frameNum\x27],this[\x27curFrameInfo\x27][\x27interlace\x27]=_0x5cda6c[\x27interlace\x27],this[\x27curFrameInfo\x27][\x27streamEnd\x27]=_0x5cda6c[\x27streamEnd\x27],this[\x27curFrameInfo\x27][\x27cropLeft\x27]=_0x5cda6c[\x27cropLeft\x27],this[\x27curFrameInfo\x27][\x27cropRight\x27]=_0x5cda6c[\x27cropRight\x27],this[\x27curFrameInfo\x27][\x27cropTop\x27]=_0x5cda6c[\x27cropTop\x27],this[\x27curFrameInfo\x27][\x27cropBottom\x27]=_0x5cda6c[\x27cropBottom\x27],this[\x27curFrameInfo\x27][\x27year\x27]=_0x5cda6c[\x27year\x27],this[\x27curFrameInfo\x27][\x27month\x27]=_0x5cda6c[\x27month\x27],this[\x27curFrameInfo\x27][\x27week\x27]=_0x5cda6c[\x27week\x27],this[\x27curFrameInfo\x27][\x27day\x27]=_0x5cda6c[\x27day\x27],this[\x27curFrameInfo\x27][\x27hour\x27]=_0x5cda6c[\x27hour\x27],this[\x27curFrameInfo\x27][\x27minute\x27]=_0x5cda6c[\x27minute\x27],this[\x27curFrameInfo\x27][\x27second\x27]=_0x5cda6c[\x27second\x27],this[\x27curFrameInfo\x27][\x27milliseconds\x27]=_0x5cda6c[\x27milliseconds\x27],this[\x27displayFrameInfoCB\x27](this[\x27curFrameInfo\x27]);}}},{\x27key\x27:\x27postImageData\x27,\x27value\x27:function(_0x23da09,_0x181d56,_0x2ca6fa,_0x54b505,_0x3f5f6c){this[\x27player\x27]?(this[\x27getImageJPEG\x27]&&(this[\x27getImageJPEG\x27]=!0x1,this[\x27player\x27][\x27_GetImage2\x27](_0x23da09,_0x181d56,_0x2ca6fa,_0x54b505,\x27jpeg\x27,_0x3f5f6c,0x0,0x0,0x0,0x0)),this[\x27getImageBMP\x27]&&(this[\x27getImageBMP\x27]=!0x1,this[\x27player\x27][\x27_GetImage2\x27](_0x23da09,_0x181d56,_0x2ca6fa,_0x54b505,\x27bmp\x27,_0x3f5f6c,0x0,0x0,0x0,0x0)),this[\x27getCropImageJPEG\x27]&&(this[\x27getCropImageJPEG\x27]=!0x1,this[\x27player\x27][\x27_GetImage2\x27](_0x23da09,_0x181d56,_0x2ca6fa,_0x54b505,\x27jpeg\x27,_0x3f5f6c,this[\x27sx\x27],this[\x27sy\x27],this[\x27sw\x27],this[\x27sh\x27])),this[\x27getCropImageBMP\x27]&&(this[\x27getCropImageBMP\x27]=!0x1,this[\x27player\x27][\x27_GetImage2\x27](_0x23da09,_0x181d56,_0x2ca6fa,_0x54b505,\x27bmp\x27,_0x3f5f6c,this[\x27sx\x27],this[\x27sy\x27],this[\x27sw\x27],this[\x27sh\x27]))):(this[\x27getImageJPEG\x27]&&(this[\x27getImageJPEG\x27]=!0x1,postMessage({\x27function\x27:\x27imageYUV\x27,\x27value\x27:_0x23da09[\x27buffer\x27],\x27size\x27:_0x181d56,\x27width\x27:_0x2ca6fa,\x27height\x27:_0x54b505,\x27type\x27:\x27jpeg\x27,\x27yuvType\x27:_0x3f5f6c,\x27sx\x27:0x0,\x27sy\x27:0x0,\x27sw\x27:0x0,\x27sh\x27:0x0},[_0x23da09[\x27buffer\x27]])),this[\x27getImageBMP\x27]&&(this[\x27getImageBMP\x27]=!0x1,postMessage({\x27function\x27:\x27imageYUV\x27,\x27value\x27:_0x23da09[\x27buffer\x27],\x27size\x27:_0x181d56,\x27width\x27:_0x2ca6fa,\x27height\x27:_0x54b505,\x27type\x27:\x27bmp\x27,\x27yuvType\x27:_0x3f5f6c,\x27sx\x27:0x0,\x27sy\x27:0x0,\x27sw\x27:0x0,\x27sh\x27:0x0},[_0x23da09[\x27buffer\x27]])),this[\x27getCropImageJPEG\x27]&&(this[\x27getCropImageJPEG\x27]=!0x1,postMessage({\x27function\x27:\x27imageYUV\x27,\x27value\x27:_0x23da09[\x27buffer\x27],\x27size\x27:_0x181d56,\x27width\x27:_0x2ca6fa,\x27height\x27:_0x54b505,\x27type\x27:\x27jpeg\x27,\x27yuvType\x27:_0x3f5f6c,\x27sx\x27:this[\x27sx\x27],\x27sy\x27:this[\x27sy\x27],\x27sw\x27:this[\x27sw\x27],\x27sh\x27:this[\x27sh\x27]},[_0x23da09[\x27buffer\x27]])),this[\x27getCropImageBMP\x27]&&(this[\x27getCropImageBMP\x27]=!0x1,postMessage({\x27function\x27:\x27imageYUV\x27,\x27value\x27:_0x23da09[\x27buffer\x27],\x27size\x27:_0x181d56,\x27width\x27:_0x2ca6fa,\x27height\x27:_0x54b505,\x27type\x27:\x27bmp\x27,\x27yuvType\x27:_0x3f5f6c,\x27sx\x27:this[\x27sx\x27],\x27sy\x27:this[\x27sy\x27],\x27sw\x27:this[\x27sw\x27],\x27sh\x27:this[\x27sh\x27]},[_0x23da09[\x27buffer\x27]])));}},{\x27key\x27:\x27chooseFrame\x27,\x27value\x27:function(){var\x20_0x45f677=this;return\x20new\x20Promise(function(_0x318d43,_0xf2cda4){if(null==_0x45f677[\x27oVideoRender\x27]||null==_0x45f677[\x27oVideoDecoder\x27])_0x318d43(null);else{if(_0x45f677[\x27oVideoDecoder\x27][\x27decoderObjNeedReset\x27])_0x45f677[\x27oVideoDecoder\x27][\x27resetDecoder\x27]()[\x27then\x27](function(){_0x45f677[\x27oVideoDecoder\x27][\x27decoderObjNeedReset\x27]=!0x1,_0x318d43(null);},function(){_0xf2cda4();});else{var\x20_0x333c9e=_0x45f677[\x27oVideoDecoder\x27][\x27GetFrameBufferLength\x27]();0x1==_0x45f677[\x27streamOpenMode\x27]&&_0x333c9e<0x3?_0x318d43(null):_0x45f677[\x27oVideoDecoder\x27][\x27GetFrame\x27]()[\x27then\x27](function(_0x93c594){_0x318d43(_0x93c594);},function(){});}}});}},{\x27key\x27:\x27SetDisplayRegion\x27,\x27value\x27:function(_0x528461,_0x69e80a,_0x1ed1c5,_0x31af05){return\x20null==this[\x27oVideoRender\x27]?0x0:(this[\x27sx\x27]=_0x528461,this[\x27sy\x27]=_0x69e80a,this[\x27sw\x27]=_0x1ed1c5,this[\x27sh\x27]=_0x31af05,this[\x27oVideoRender\x27][\x27SetDisplayRect\x27](_0x528461,_0x69e80a,_0x1ed1c5,_0x31af05));}},{\x27key\x27:\x27SetCurStatus\x27,\x27value\x27:function(_0x4d3bc4){return\x20this[\x27renderCurStatus\x27]=_0x4d3bc4,0x1;}},{\x27key\x27:\x27fast\x27,\x27value\x27:function(){var\x20_0x4114f6=this[\x27_GetFastSpeed\x27](this[\x27nplaySpeed\x27]);return\x20this[\x27_SetPlaySpeed\x27](_0x4114f6);}},{\x27key\x27:\x27slow\x27,\x27value\x27:function(){var\x20_0x424dc2=this[\x27_GetSlowSpeed\x27](this[\x27nplaySpeed\x27]);return\x20this[\x27_SetPlaySpeed\x27](_0x424dc2);}},{\x27key\x27:\x27Pause\x27,\x27value\x27:function(_0x26d476){if(_0x26d476)this[\x27SetCurStatus\x27](0x3);else{if(0x3!==this[\x27renderCurStatus\x27])return-0x1;this[\x27SetCurStatus\x27](0x2),this[\x27resetTimer\x27]=!0x0;}return\x200x1;}},{\x27key\x27:\x27_refresh\x27,\x27value\x27:function(){0x0!=this[\x27frameBuffers\x27][\x27length\x27]&&this[\x27paint\x27](this[\x27frameBuffers\x27][0x0]);}},{\x27key\x27:\x27OneByOne\x27,\x27value\x27:function(_0xed1311){if(_0xed1311)this[\x27SetCurStatus\x27](0x5),this[\x27needForward\x27]=!0x0;else{if(0x5!==this[\x27renderCurStatus\x27])return-0x1;this[\x27SetCurStatus\x27](0x2),this[\x27resetTimer\x27]=!0x0,this[\x27needForward\x27]=!0x1,this[\x27_SetPlaySpeed\x27](0x1);}return\x200x1;}},{\x27key\x27:\x27SetCanvasSize\x27,\x27value\x27:function(_0x2099f6,_0x5edbf8){return\x20null!=this[\x27oVideoRender\x27]&&this[\x27oVideoRender\x27][\x27SetCanvasSize\x27](_0x2099f6,_0x5edbf8);}},{\x27key\x27:\x27GetCanvasSize\x27,\x27value\x27:function(){return\x20null!=this[\x27oVideoRender\x27]&&this[\x27oVideoRender\x27][\x27GetCanvasSize\x27]();}},{\x27key\x27:\x27GetPlayedTime\x27,\x27value\x27:function(){return\x20this[\x27curTimeStamp\x27];}},{\x27key\x27:\x27_SetPlaySpeed\x27,\x27value\x27:function(_0x3fe8a4){switch(_0x3fe8a4){case-0x10:case-0x8:case-0x4:case-0x2:case\x200x1:case\x200x2:case\x200x4:case\x200x8:case\x200x10:case\x200x20:case\x200x40:break;default:return-0x1;}return\x20_0x3fe8a4===this[\x27nplaySpeed\x27]||(this[\x27nplaySpeed\x27]=_0x3fe8a4,this[\x27playSpeed\x27]=_0x3fe8a4>0x0?_0x3fe8a4:-0x1/_0x3fe8a4,console[\x27log\x27](\x27playSpeed:\x27+this[\x27playSpeed\x27]),this[\x27resetTimer\x27]=!0x0,this[\x27needForward\x27]=!0x1,0x2!=this[\x27renderCurStatus\x27]&&this[\x27SetCurStatus\x27](0x2)),0x1;}},{\x27key\x27:\x27_GetFastSpeed\x27,\x27value\x27:function(_0x56131f){var\x20_0x3a8976=0x0;switch(_0x56131f){case-0x10:_0x3a8976=-0x8;break;case-0x8:_0x3a8976=-0x4;break;case-0x4:_0x3a8976=-0x2;break;case-0x2:_0x3a8976=0x1;break;case\x200x1:_0x3a8976=0x2;break;case\x200x2:_0x3a8976=0x4;break;case\x200x4:_0x3a8976=0x8;break;case\x200x8:_0x3a8976=0x10;break;case\x200x10:_0x3a8976=0x20;break;case\x200x20:_0x3a8976=0x40;break;default:_0x3a8976=0x0;}return\x20_0x3a8976;}},{\x27key\x27:\x27_GetSlowSpeed\x27,\x27value\x27:function(_0x45b3b7){var\x20_0x3856b0=0x0;switch(_0x45b3b7){case-0x8:_0x3856b0=-0x10;break;case-0x4:_0x3856b0=-0x8;break;case-0x2:_0x3856b0=-0x4;break;case\x200x1:_0x3856b0=-0x2;break;case\x200x2:_0x3856b0=0x1;break;case\x200x4:_0x3856b0=0x2;break;case\x200x8:_0x3856b0=0x4;break;case\x200x10:_0x3856b0=0x8;break;case\x200x20:_0x3856b0=0x10;break;case\x200x40:_0x3856b0=0x20;break;default:_0x3856b0=0x0;}return\x20_0x3856b0;}},{\x27key\x27:\x27SetDisplayBuf\x27,\x27value\x27:function(_0x106ca3){return\x20this[\x27displayBuf\x27]=_0x106ca3,this[\x27LatcyTime\x27]=0x1==_0x106ca3?0x0:0xf==_0x106ca3?0x2bc:0x2d==_0x106ca3?0x76c:_0x106ca3>0x6&&_0x106ca3<0x2d?0x28*_0x106ca3+0x64:-0x1==_0x106ca3?0x0:0x32,0x1;}},{\x27key\x27:\x27GetJPEG\x27,\x27value\x27:function(){var\x20_0x250f6c=this;this[\x27oVideoDecoder\x27][\x27GetImageYUV\x27]()[\x27then\x27](function(_0x5c4ac6){var\x20_0x204c0f=_0x5c4ac6[\x27yuvFrameBuffer\x27],_0x13cae3=_0x5c4ac6[\x27yuvLength\x27],_0x5692f0=_0x5c4ac6[\x27displayWidth\x27],_0x138c37=_0x5c4ac6[\x27displayHeight\x27],_0x2b67ff=_0x5c4ac6[\x27yuvType\x27];-0x1!=_0x204c0f&&(_0x250f6c[\x27player\x27]?_0x250f6c[\x27player\x27][\x27_GetImage2\x27](_0x204c0f,_0x13cae3,_0x5692f0,_0x138c37,\x27jpeg\x27,_0x2b67ff,0x0,0x0,0x0,0x0):postMessage({\x27function\x27:\x27imageYUV\x27,\x27value\x27:_0x204c0f[\x27buffer\x27],\x27size\x27:_0x13cae3,\x27width\x27:_0x5692f0,\x27height\x27:_0x138c37,\x27type\x27:\x27jpeg\x27,\x27yuvType\x27:_0x2b67ff,\x27sx\x27:0x0,\x27sy\x27:0x0,\x27sw\x27:0x0,\x27sh\x27:0x0},[_0x204c0f[\x27buffer\x27]]));},function(){});}},{\x27key\x27:\x27GetBMP\x27,\x27value\x27:function(){var\x20_0x40df8b=this;this[\x27oVideoDecoder\x27][\x27GetImageYUV\x27]()[\x27then\x27](function(_0x783b6f){var\x20_0x11b41c=_0x783b6f[\x27yuvFrameBuffer\x27],_0x2648e7=_0x783b6f[\x27yuvLength\x27],_0x2875d9=_0x783b6f[\x27displayWidth\x27],_0x1d5f92=_0x783b6f[\x27displayHeight\x27],_0x1d4ea2=_0x783b6f[\x27yuvType\x27];-0x1!=_0x11b41c&&(_0x40df8b[\x27player\x27]?_0x40df8b[\x27player\x27][\x27_GetImage2\x27](_0x11b41c,_0x2648e7,_0x2875d9,_0x1d5f92,\x27bmp\x27,_0x1d4ea2,0x0,0x0,0x0,0x0):postMessage({\x27function\x27:\x27imageYUV\x27,\x27value\x27:_0x11b41c[\x27buffer\x27],\x27size\x27:_0x2648e7,\x27width\x27:_0x2875d9,\x27height\x27:_0x1d5f92,\x27type\x27:\x27bmp\x27,\x27yuvType\x27:_0x1d4ea2,\x27sx\x27:0x0,\x27sy\x27:0x0,\x27sw\x27:0x0,\x27sh\x27:0x0},[_0x11b41c[\x27buffer\x27]]));},function(){});}},{\x27key\x27:\x27GetCropJPEG\x27,\x27value\x27:function(){var\x20_0x19dfc0=this;this[\x27oVideoDecoder\x27][\x27GetImageYUV\x27]()[\x27then\x27](function(_0x3af1e4){var\x20_0x2a2139=_0x3af1e4[\x27yuvFrameBuffer\x27],_0x5be45e=_0x3af1e4[\x27yuvLength\x27],_0x3fad91=_0x3af1e4[\x27displayWidth\x27],_0x579157=_0x3af1e4[\x27displayHeight\x27],_0x43e814=_0x3af1e4[\x27yuvType\x27];-0x1!=_0x2a2139&&(_0x19dfc0[\x27player\x27]?_0x19dfc0[\x27player\x27][\x27_GetImage2\x27](_0x2a2139,_0x5be45e,_0x3fad91,_0x579157,\x27jpeg\x27,_0x43e814,_0x19dfc0[\x27sx\x27],_0x19dfc0[\x27sy\x27],_0x19dfc0[\x27sw\x27],_0x19dfc0[\x27sh\x27]):postMessage({\x27function\x27:\x27imageYUV\x27,\x27value\x27:_0x2a2139[\x27buffer\x27],\x27size\x27:_0x5be45e,\x27width\x27:_0x3fad91,\x27height\x27:_0x579157,\x27type\x27:\x27jpeg\x27,\x27yuvType\x27:_0x43e814,\x27sx\x27:_0x19dfc0[\x27sx\x27],\x27sy\x27:_0x19dfc0[\x27sy\x27],\x27sw\x27:_0x19dfc0[\x27sw\x27],\x27sh\x27:_0x19dfc0[\x27sh\x27]},[_0x2a2139[\x27buffer\x27]]));},function(){});}},{\x27key\x27:\x27GetCropBMP\x27,\x27value\x27:function(){var\x20_0x2e57e5=this;this[\x27oVideoDecoder\x27][\x27GetImageYUV\x27]()[\x27then\x27](function(_0x39ea05){var\x20_0x312376=_0x39ea05[\x27yuvFrameBuffer\x27],_0x1e6e7b=_0x39ea05[\x27yuvLength\x27],_0x531810=_0x39ea05[\x27displayWidth\x27],_0x39d2d4=_0x39ea05[\x27displayHeight\x27],_0x118eb9=_0x39ea05[\x27yuvType\x27];-0x1!=_0x312376&&(_0x2e57e5[\x27player\x27]?_0x2e57e5[\x27player\x27][\x27_GetImage2\x27](_0x312376,_0x1e6e7b,_0x531810,_0x39d2d4,\x27bmp\x27,_0x118eb9,_0x2e57e5[\x27sx\x27],_0x2e57e5[\x27sy\x27],_0x2e57e5[\x27sw\x27],_0x2e57e5[\x27sh\x27]):postMessage({\x27function\x27:\x27imageYUV\x27,\x27value\x27:_0x312376[\x27buffer\x27],\x27size\x27:_0x1e6e7b,\x27width\x27:_0x531810,\x27height\x27:_0x39d2d4,\x27type\x27:\x27bmp\x27,\x27yuvType\x27:_0x118eb9,\x27sx\x27:_0x2e57e5[\x27sx\x27],\x27sy\x27:_0x2e57e5[\x27sy\x27],\x27sw\x27:_0x2e57e5[\x27sw\x27],\x27sh\x27:_0x2e57e5[\x27sh\x27]},[_0x312376[\x27buffer\x27]]));},function(){});}},{\x27key\x27:\x27GetCanvasCapture\x27,\x27value\x27:function(_0x5274f0){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20GetCanvasCapture\x27,\x27color:red\x27),0x0):(this[\x27oVideoRender\x27][\x27GetCanvasData\x27](_0x5274f0),0x1);}},{\x27key\x27:\x27SetDecodeFrameType\x27,\x27value\x27:function(_0xafe902){return\x20this[\x27waitIFrameTimestamp\x27]=_0xafe902,0x1;}},{\x27key\x27:\x27SetStreamEnd\x27,\x27value\x27:function(){return\x20this[\x27oVideoDecoder\x27][\x27SetStreamEnd\x27](),0x1;}},{\x27key\x27:\x27SetAntialias\x27,\x27value\x27:function(_0x4cb309){return\x20null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27SetAntialias\x27](_0x4cb309):0x0;}},{\x27key\x27:\x27SetFrameInfoCallBack\x27,\x27value\x27:function(_0x193a6f,_0xfa0899){return\x20this[\x27displayFrameInfoCB\x27]=_0xfa0899?_0x193a6f:null,0x1;}},{\x27key\x27:\x27FEC_SetCanvasID\x27,\x27value\x27:function(_0x5e972f){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_SetCanvasID\x27](_0x5e972f):(this[\x27FECCanvasID\x27]=_0x5e972f,0x0);}},{\x27key\x27:\x27FEC_ResetCorrectType\x27,\x27value\x27:function(_0x1c4eb6,_0x3befb7,_0x1bc68a){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_ResetCorrectType\x27](_0x1c4eb6,_0x3befb7,_0x1bc68a):0x0;}},{\x27key\x27:\x27FEC_GetPort\x27,\x27value\x27:function(_0x4bc99e,_0x1d761d){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),-0x1):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_GetPort\x27](_0x4bc99e,_0x1d761d):-0x1;}},{\x27key\x27:\x27FEC_Enable\x27,\x27value\x27:function(_0x24c814){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_Enable\x27](_0x24c814):0x0;}},{\x27key\x27:\x27FEC_SetParam\x27,\x27value\x27:function(_0x4b47cc,_0x45ac68){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_SetParam\x27](_0x4b47cc,_0x45ac68):0x0;}},{\x27key\x27:\x27FEC_GetParam\x27,\x27value\x27:function(_0x262555,_0x597461){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_GetParam\x27](_0x262555,_0x597461):0x0;}},{\x27key\x27:\x27FEC_SetViewParam\x27,\x27value\x27:function(_0x1da199,_0x16b82f,_0x414559){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_SetViewParam\x27](_0x1da199,_0x16b82f,_0x414559):0x0;}},{\x27key\x27:\x27FEC_GetViewParam\x27,\x27value\x27:function(_0x5a0af3,_0x3a1b00,_0x59130e){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_GetViewParam\x27](_0x5a0af3,_0x3a1b00,_0x59130e):0x0;}},{\x27key\x27:\x27FEC_SetWnd\x27,\x27value\x27:function(_0xa8e05,_0x2eb965){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_SetWnd\x27](_0xa8e05,_0x2eb965):0x0;}},{\x27key\x27:\x27FEC_Disable\x27,\x27value\x27:function(_0x3906d4,_0x22cb26,_0x385acc){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_Disable\x27](_0x3906d4,_0x22cb26,_0x385acc):0x0;}},{\x27key\x27:\x27FEC_DelPort\x27,\x27value\x27:function(_0x1eac9f){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_DelPort\x27](_0x1eac9f):0x0;}},{\x27key\x27:\x27FEC_SetDisplayRegion\x27,\x27value\x27:function(_0x56017d,_0x464808,_0x52ea86,_0x5e218a,_0x40d1eb,_0x2e645c,_0x13d4de){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_SetDisplayRegion\x27](_0x56017d,_0x464808,_0x52ea86,_0x5e218a,_0x40d1eb,_0x2e645c,_0x13d4de):0x0;}},{\x27key\x27:\x27FEC_SetBackCilling\x27,\x27value\x27:function(_0x453651,_0x19c072){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_SetBackCilling\x27](_0x453651,_0x19c072):0x0;}},{\x27key\x27:\x27FEC_GetPTZPort\x27,\x27value\x27:function(_0x267004,_0x22cae9,_0x35fdab){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),-0x1):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_GetPTZPort\x27](_0x267004,_0x22cae9,_0x35fdab):-0x1;}},{\x27key\x27:\x27FEC_SetPTZDisplayMode\x27,\x27value\x27:function(_0x44ab29){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20FEC\x5cx20correct\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27FEC_SetPTZDisplayMode\x27](_0x44ab29):0x0;}},{\x27key\x27:\x27InputPrivateInfo\x27,\x27value\x27:function(_0x59722d,_0x11ebaf,_0xf48ace){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20PrivateInfo\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27InputPrivateInfo\x27](_0x59722d,_0x11ebaf,_0xf48ace):0x1;}},{\x27key\x27:\x27RenderPrivateData\x27,\x27value\x27:function(_0x20408a){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20PrivateInfo\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27RenderPrivateData\x27](_0x20408a):0x1;}},{\x27key\x27:\x27SetWaterMarkFont\x27,\x27value\x27:function(_0x45d8a7){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]||null==this[\x27oVideoRender\x27]?(console[\x27log\x27](\x27%c\x5cx20param\x5cx20error\x5cx20this.renderEngine:%d,this.oVideoRender:%d\x27,\x27color:red\x27,this[\x27renderEngine\x27],this[\x27oVideoRender\x27]),0x0):(null!=this[\x27oVideoRender\x27]&&this[\x27oVideoRender\x27][\x27SetWaterMarkFont\x27](_0x45d8a7,{\x27yuvFrameBuffer\x27:-0x1,\x27yuvLength\x27:-0x1,\x27displayWidth\x27:-0x1,\x27displayHeight\x27:-0x1,\x27yuvType\x27:-0x1}),0x1);}},{\x27key\x27:\x27SetWaterMarkImage\x27,\x27value\x27:function(_0x48982c){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20SetWaterMarkImage\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27SetWaterMarkImage\x27](_0x48982c):0x1;}},{\x27key\x27:\x27SetD3DPostProcess\x27,\x27value\x27:function(_0x105551,_0x2dcd9b){return\x272d\x27===this[\x27renderEngine\x27]||\x272D\x27===this[\x27renderEngine\x27]?(console[\x27log\x27](\x27%c\x5cx202D\x5cx20render\x5cx20not\x5cx20support\x5cx20SetD3DPostProcess\x27,\x27color:red\x27),0x0):null!=this[\x27oVideoRender\x27]?this[\x27oVideoRender\x27][\x27SetD3DPostProcess\x27](_0x105551,_0x2dcd9b):0x1;}}]),_0x2bfe2e;}());_0x2e6310=new\x20_0x436cae(),self[\x27onmessage\x27]=function(_0x336e5d){let\x20_0x3b3e97=_0x336e5d[\x27data\x27];switch(_0x3b3e97[\x27command\x27]){case\x27init\x27:_0x2e6310[\x27init\x27](_0x3b3e97[\x27canvas\x27],_0x3b3e97[\x27streamOpenMode\x27],_0x3b3e97[\x27sab\x27],_0x3b3e97[\x27renderEngine\x27]);break;case\x27inputData\x27:let\x20_0x380e6b=new\x20Uint8Array(_0x3b3e97[\x27rawData\x27]),_0x590bb2=_0x3b3e97[\x27rawDataFrameInfo\x27];_0x2e6310[\x27inputData\x27](_0x380e6b,_0x590bb2),_0x380e6b=null;break;case\x27SetDisplayRegion\x27:null===_0x2e6310&&self[\x27postMessage\x27]({\x27function\x27:\x27OrderError\x27}),_0x2e6310[\x27SetDisplayRegion\x27](_0x3b3e97[\x27sx\x27],_0x3b3e97[\x27sy\x27],_0x3b3e97[\x27sw\x27],_0x3b3e97[\x27sh\x27]);break;case\x27stop\x27:null===_0x2e6310&&self[\x27postMessage\x27]({\x27function\x27:\x27OrderError\x27}),_0x2e6310[\x27SetCurStatus\x27](0x4);let\x20_0x2622f7=setInterval(()=>{_0x2e6310[\x27displayRunning\x27]||(_0x2e6310=null,self[\x27postMessage\x27]({\x27function\x27:\x27stop\x27}),clearInterval(_0x2622f7),_0x2622f7=null,self[\x27close\x27](),console[\x27log\x27](\x27>>>JS\x5cx2003\x5cx20destroy\x5cx20oVideoPlayCtrl\x5cx20and\x5cx20worker\x27));},0x2);break;case\x27fast\x27:null===_0x2e6310&&self[\x27postMessage\x27]({\x27function\x27:\x27OrderError\x27}),0x1!==_0x2e6310[\x27fast\x27]()&&self[\x27postMessage\x27]({\x27function\x27:\x27paraError\x27});break;case\x27slow\x27:null===_0x2e6310&&self[\x27postMessage\x27]({\x27function\x27:\x27OrderError\x27}),0x1!==_0x2e6310[\x27slow\x27]()&&self[\x27postMessage\x27]({\x27function\x27:\x27paraError\x27});break;case\x27SetDisplayBuf\x27:null===_0x2e6310&&self[\x27postMessage\x27]({\x27function\x27:\x27OrderError\x27}),0x1!==_0x2e6310[\x27SetDisplayBuf\x27](_0x3b3e97[\x27value\x27])&&self[\x27postMessage\x27]({\x27function\x27:\x27paraError\x27});break;case\x27Pause\x27:null===_0x2e6310&&self[\x27postMessage\x27]({\x27function\x27:\x27OrderError\x27}),0x1!==_0x2e6310[\x27Pause\x27](_0x3b3e97[\x27value\x27])&&self[\x27postMessage\x27]({\x27function\x27:\x27paraError\x27});break;case\x27OneByOne\x27:null===_0x2e6310&&self[\x27postMessage\x27]({\x27function\x27:\x27OrderError\x27}),0x1!==_0x2e6310[\x27OneByOne\x27](_0x3b3e97[\x27value\x27])&&self[\x27postMessage\x27]({\x27function\x27:\x27paraError\x27});break;case\x27SetCanvasSize\x27:null===_0x2e6310&&self[\x27postMessage\x27]({\x27function\x27:\x27OrderError\x27}),0x1!==_0x2e6310[\x27SetCanvasSize\x27](_0x3b3e97[\x27width\x27],_0x3b3e97[\x27height\x27])&&self[\x27postMessage\x27]({\x27function\x27:\x27paraError\x27});break;case\x27GetCanvasSize\x27:null===_0x2e6310&&self[\x27postMessage\x27]({\x27function\x27:\x27OrderError\x27}),0x1!==_0x2e6310[\x27GetCanvasSize\x27]()&&self[\x27postMessage\x27]({\x27function\x27:\x27paraError\x27});break;case\x27GetPlayedTime\x27:null===_0x2e6310&&self[\x27postMessage\x27]({\x27function\x27:\x27OrderError\x27});let\x20_0x1b5e3d=_0x2e6310[\x27GetPlayedTime\x27]();0x0!==_0x1b5e3d&&self[\x27postMessage\x27]({\x27function\x27:\x27GetPlayedTime\x27,\x27value\x27:_0x1b5e3d});break;case\x27needReset\x27:_0x2e6310[\x27SetCurStatus\x27](0x0);break;case\x27GetJPEG\x27:_0x2e6310[\x27GetJPEG\x27]();break;case\x27GetBMP\x27:_0x2e6310[\x27GetBMP\x27]();break;case\x27GetCropJPEG\x27:_0x2e6310[\x27GetCropJPEG\x27]();break;case\x27GetCropBMP\x27:_0x2e6310[\x27GetCropBMP\x27]();break;case\x27SetDecodeFrameType\x27:_0x2e6310[\x27SetDecodeFrameType\x27](_0x3b3e97[\x27timestamp\x27]);break;case\x27streamEnd\x27:_0x2e6310[\x27SetStreamEnd\x27]();break;case\x27SetAntialias\x27:_0x2e6310[\x27SetAntialias\x27](_0x3b3e97[\x27value\x27]);break;case\x27SetFrameInfoCallBack\x27:_0x2e6310[\x27SetFrameInfoCallBack\x27](_0x26f608=>{self[\x27postMessage\x27]({\x27function\x27:\x27SetFrameInfoCallBack\x27,\x27curFrameInfo\x27:_0x26f608});},_0x3b3e97[\x27value\x27]);break;case\x27FEC_SetCanvasID\x27:_0x2e6310[\x27FEC_SetCanvasID\x27](_0x3b3e97[\x27canvasID\x27]);break;case\x27FECResetCorrectType\x27:_0x2e6310[\x27FEC_ResetCorrectType\x27](_0x3b3e97[\x27fishSubPort\x27],_0x3b3e97[\x27placeType\x27],_0x3b3e97[\x27correctType\x27]);break;case\x27FECGetPort\x27:let\x20_0xc3af92=_0x2e6310[\x27FEC_GetPort\x27](_0x3b3e97[\x27placeType\x27],_0x3b3e97[\x27correctType\x27]);(_0xc3af92<0x1||_0xc3af92>0x1f||null==_0xc3af92)&&(_0xc3af92=-0x1),self[\x27postMessage\x27]({\x27function\x27:\x27FECGetPort\x27,\x27fishSubPort\x27:_0xc3af92});break;case\x27FECEnable\x27:_0x2e6310[\x27FEC_Enable\x27](_0x3b3e97[\x27fishSubPort\x27]);break;case\x27FECSetParam\x27:_0x2e6310[\x27FEC_SetParam\x27](_0x3b3e97[\x27fishSubPort\x27],_0x3b3e97[\x27param2d\x27]);break;case\x27FECGetParam\x27:let\x20_0x28b110={};_0x2e6310[\x27FEC_GetParam\x27](_0x3b3e97[\x27fishSubPort\x27],_0x28b110),self[\x27postMessage\x27]({\x27function\x27:\x27FECGetParam\x27,\x27param2d\x27:_0x28b110});break;case\x27FECSetViewParam\x27:_0x2e6310[\x27FEC_SetViewParam\x27](_0x3b3e97[\x27fishSubPort\x27],_0x3b3e97[\x27upDateType\x27],_0x3b3e97[\x27fValue\x27]);break;case\x27FECGetViewParam\x27:let\x20_0x3712f4={};_0x2e6310[\x27FEC_GetViewParam\x27](_0x3b3e97[\x27fishSubPort\x27],_0x3b3e97[\x27upDateType\x27],_0x3712f4),self[\x27postMessage\x27]({\x27function\x27:\x27FECGetViewParam\x27,\x27Param3D\x27:Param});break;case\x27FECSetWnd\x27:_0x2e6310[\x27FEC_SetWnd\x27](_0x3b3e97[\x27fishSubPort\x27],_0x3b3e97[\x27offscrrenCnv\x27]);break;case\x27FECDisable\x27:_0x2e6310[\x27FEC_Disable\x27](_0x3b3e97[\x27fishSubPort\x27],_0x3b3e97[\x27clearFECCanvas\x27],_0x3b3e97[\x27clearContext\x27]);break;case\x27FECDelPort\x27:_0x2e6310[\x27FEC_DelPort\x27](_0x3b3e97[\x27fishSubPort\x27]);break;case\x27FECSetDisplayRegion\x27:_0x2e6310[\x27FEC_SetDisplayRegion\x27](_0x3b3e97[\x27fishSubPort\x27],_0x3b3e97[\x27type\x27],_0x3b3e97[\x27regionNum\x27],_0x3b3e97[\x27sx\x27],_0x3b3e97[\x27sy\x27],_0x3b3e97[\x27sw\x27],_0x3b3e97[\x27sh\x27]);break;case\x27FECSetBackCilling\x27:_0x2e6310[\x27FEC_SetBackCilling\x27](_0x3b3e97[\x27fishSubPort\x27],_0x3b3e97[\x27bValue\x27]);break;case\x27FECGetPTZPort\x27:let\x20_0x1b036c=_0x2e6310[\x27FEC_GetPTZPort\x27](_0x3b3e97[\x27fPositionX\x27],_0x3b3e97[\x27fPositionY\x27]);(_0x1b036c<0x1||_0x1b036c>0x1f||null==_0x1b036c)&&(_0x1b036c=-0x1,console[\x27info\x27](\x27%c\x5cx20hardDecoderWorker\x5cx20FECGetPTZPort\x5cx20error\x5cx20\x27,\x27color:\x5cx20red\x27)),self[\x27postMessage\x27]({\x27function\x27:\x27FECGetPTZPort\x27,\x27fishSubPort\x27:_0x1b036c});break;case\x27FECSetPTZDisplayMode\x27:_0x2e6310[\x27FEC_SetPTZDisplayMode\x27](_0x3b3e97[\x27ptzMode\x27]);break;case\x27RenderPrivateData\x27:_0x2e6310[\x27RenderPrivateData\x27](_0x3b3e97[\x27bTrue\x27]);break;case\x27InputPrivateInfo\x27:_0x2e6310[\x27InputPrivateInfo\x27](_0x3b3e97[\x27linesInfo\x27],_0x3b3e97[\x27fontInfo\x27],_0x3b3e97[\x27ImageInfo\x27]);break;case\x27GetCanvasCapture\x27:_0x2e6310[\x27GetCanvasCapture\x27](_0x3b3e97[\x27cbFun\x27]);break;case\x27SetWaterMarkFont\x27:_0x2e6310[\x27SetWaterMarkFont\x27](_0x3b3e97[\x27fontParam\x27]);break;case\x27SetWaterMarkImage\x27:_0x2e6310[\x27SetWaterMarkImage\x27](_0x3b3e97[\x27imageParam\x27]);break;case\x27SetD3DPostProcess\x27:_0x2e6310[\x27SetD3DPostProcess\x27](_0x3b3e97[\x27ProcessType\x27],_0x3b3e97[\x27ProcessValue\x27]);}};})());','Worker',void 0x0,void 0x0);}var _0x1c136d=function(){function _0x2ed9d7(_0x23d993,_0x3b7c23,_0x3e6827){_0x162c92(this,_0x2ed9d7),this['width']=0x0,this['height']=0x0,this['decoderObj']=null,this['FirstFrame']=!0x0,this['ready_frames']=[],this['underflow']=!0x0,this['sab']=_0x23d993,this['frameRate']=0x1e,this['needSetPreSoft']=!0x1,this['decoderCurStatus']=0x2,this['decoderOutSuccess']=!0x1,this['decoderObjNeedReset']=!0x1,this['oVideoRenderHandle']=_0x3b7c23,this['output']=this['output']['bind'](this),this['reportError']=this['reportError']['bind'](this),this['player']=null,null!=_0x3e6827&&(this['player']=_0x3e6827),this['curFrame']=null;}return _0x5ab2cc(_0x2ed9d7,[{'key':'initDecoder','value':function(){if(null==this['decoderObj']){var _0xd78227={'output':this['output'],'error':this['reportError']};this['decoderObj']=new VideoDecoder(_0xd78227);}this['underflow']&&(this['underflow']=!0x1,setTimeout(this['oVideoRenderHandle']['RenderFrame'](),0x0),this['oVideoRenderHandle']['displayRunning']=!0x0),this['decoderCurStatus']=0x2,this['FirstFrame']=!0x0;}},{'key':'inputData','value':function(_0x234db6,_0x34e409){null!=this['decoderObj']&&('configured'==this['decoderObj']['state']||this['FirstFrame'])&&this['decodeProcess'](_0x234db6,_0x34e409),_0x34e409['nStreamEnd']&&this['SetStreamEnd']();}},{'key':'concatenate','value':function(_0x301d0b){for(var _0x239ea5=0x0,_0xa49498=arguments['length'],_0x473606=new Array(_0xa49498>0x1?_0xa49498-0x1:0x0),_0x464c1d=0x1;_0x464c1d<_0xa49498;_0x464c1d++)_0x473606[_0x464c1d-0x1]=arguments[_0x464c1d];for(var _0x32639d=0x0,_0x28c0f0=_0x473606;_0x32639d<_0x28c0f0['length'];_0x32639d++){var _0xd88cba=_0x28c0f0[_0x32639d];_0x239ea5+=_0xd88cba['length'];}for(var _0x16c8a8=new _0x301d0b(_0x239ea5),_0x50da98=0x0,_0x4461d7=0x0,_0x5997c6=_0x473606;_0x4461d7<_0x5997c6['length'];_0x4461d7++){var _0x404041=_0x5997c6[_0x4461d7];_0x16c8a8['set'](_0x404041,_0x50da98),_0x50da98+=_0x404041['length'];}return _0x16c8a8;}},{'key':'processData','value':function(_0x1304df){for(var _0x7c82ac=null,_0x53fdd4=null,_0x3c5026=null,_0x1526fe=!0x1,_0x585972=!0x1,_0x3e9d2a=0x0,_0x3efbdf=0x0;_0x3efbdf<_0x1304df['length']-0x4;_0x3efbdf++){if(0x0!=_0x1304df[_0x3efbdf]||0x0!=_0x1304df[_0x3efbdf+0x1]||0x0!=_0x1304df[_0x3efbdf+0x2]||0x1!=_0x1304df[_0x3efbdf+0x3]||0x67!=_0x1304df[_0x3efbdf+0x4]&&0x27!=_0x1304df[_0x3efbdf+0x4]||(0x0!=_0x3efbdf?(_0x585972=!0x0,_0x7c82ac=_0x1304df['slice'](_0x3efbdf),_0x3e9d2a=_0x3efbdf):_0x7c82ac=_0x1304df),0x0==_0x1304df[_0x3efbdf]&&0x0==_0x1304df[_0x3efbdf+0x1]&&0x0==_0x1304df[_0x3efbdf+0x2]&&0x1==_0x1304df[_0x3efbdf+0x3]&&(0x9==_0x1304df[_0x3efbdf+0x4]||0x6==_0x1304df[_0x3efbdf+0x4])){if(null==_0x7c82ac)continue;null==_0x53fdd4&&(_0x53fdd4=_0x1304df['slice'](_0x3e9d2a,_0x3efbdf),_0x1526fe=!0x0);}if(0x0==_0x1304df[_0x3efbdf]&&0x0==_0x1304df[_0x3efbdf+0x1]&&0x0==_0x1304df[_0x3efbdf+0x2]&&0x1==_0x1304df[_0x3efbdf+0x3]&&(0x65==_0x1304df[_0x3efbdf+0x4]||0x25==_0x1304df[_0x3efbdf+0x4])){_0x1526fe&&(_0x3c5026=_0x1304df['slice'](_0x3efbdf));break;}}return _0x1526fe?this['concatenate'](Uint8Array,_0x53fdd4,_0x3c5026):_0x585972?_0x7c82ac:_0x1304df;}},{'key':'processData1','value':function(_0x5477bc){return 0x0!=_0x5477bc[0x0]||0x0!=_0x5477bc[0x1]||0x0!=_0x5477bc[0x2]||0x1!=_0x5477bc[0x3]||0x9!=_0x5477bc[0x4]&&0x6!=_0x5477bc[0x4]?_0x5477bc:_0x5477bc['slice'](0x5);}},{'key':'formatVideoDecoderConfigure','value':function(_0x104a1a,_0x3fb347,_0x55ecba,_0x196427){var _0x4da463='';if(0x5==_0x3fb347)_0x4da463='hvc1.1.6.L123.00',console['log']('265\x20hard\x20decoder');else {if(0x100==_0x3fb347){for(var _0x131979=0x0;_0x131979<_0x104a1a['length'];_0x131979++)if(0x67===_0x104a1a[_0x131979]||0x27===_0x104a1a[_0x131979]){var _0x3eb15b=_0x104a1a['subarray'](_0x131979+0x1,_0x131979+0x4);_0x4da463='avc1.';for(var _0x45b71c=0x0;_0x45b71c<0x3;_0x45b71c++){var _0x114891=_0x3eb15b[_0x45b71c]['toString'](0x10);_0x114891['length']<0x2&&(_0x114891='0'+_0x114891),_0x4da463+=_0x114891;}break;}console['log']('264\x20hard\x20decoder');}else console['log']('Support\x20Error:\x20hard\x20decoder\x20only\x20support\x20264\x20and\x20265\x20!!!');}var _0x2c3999={'codec':_0x4da463,'hardwareAcceleration':'prefer-hardware','optimizeForLatency':0x1};return 0x5!=_0x3fb347&&this['needSetPreSoft']&&(_0x2c3999['hardwareAcceleration']='prefer-software'),_0x2c3999;}},{'key':'decodeProcess','value':function(_0x135033,_0x3bc065){var _0x309ba6=this;this['frameRate']!=_0x3bc065['frameRate']&&(this['frameRate']=_0x3bc065['frameRate']),this['width']!=_0x3bc065['width']&&(this['width']=_0x3bc065['width']),this['height']!=_0x3bc065['height']&&(this['height']=_0x3bc065['height']),_0x3bc065['needSetPreSoft']&&(this['needSetPreSoft']=_0x3bc065['needSetPreSoft']);var _0x393256=_0x135033;if(0x4!=this['decoderCurStatus']&&null!=this['decoderObj']){if('configured'==this['decoderObj']['state']){var _0x3540c6=new EncodedVideoChunk({'data':_0x393256,'timestamp':_0x3bc065['timeStamp'],'type':_0x3bc065['isKeyFrame']?'key':'delta'});this['decoderObj']['decode'](_0x3540c6),_0x393256=null,_0x135033=null,_0x3540c6=null,_0x3bc065['frameType'];}else {if(_0x3bc065['isKeyFrame']&&'unconfigured'==this['decoderObj']['state']){var _0x405f47=this['formatVideoDecoderConfigure'](_0x135033,_0x3bc065['codecType'],_0x3bc065['width'],_0x3bc065['height']);if(''==_0x405f47['codec'])return -0x1;VideoDecoder['isConfigSupported'](_0x405f47)['then'](function(_0x54b4d0){if(_0x54b4d0['supported']){_0x309ba6['decoderObj']['configure'](_0x405f47),_0x393256=_0x309ba6['processData'](_0x135033),_0x309ba6['FirstFrame']=!0x1;var _0x2f0501=new EncodedVideoChunk({'data':_0x393256,'timestamp':_0x3bc065['timeStamp'],'type':_0x3bc065['isKeyFrame']?'key':'delta'});_0x309ba6['decoderObj']['decode'](_0x2f0501),_0x405f47=null,_0x393256=null,_0x135033=null;}else console['log']('%c4>HardDecoder\x20ConfigSupported\x20error,switch\x20hard\x20to\x20soft','color:\x20red'),_0x309ba6['oVideoRenderHandle']['HardDecodeError']();})['catch'](function(){console['log']('VideoDecoder.js\x20isConfigSupported\x20error\x20switch\x20hard\x20to\x20soft\x20'),_0x309ba6['oVideoRenderHandle']['HardDecodeError']();});}}}}},{'key':'output','value':function(_0x26e78d){if('configured'==this['decoderObj']['state'])_0x26e78d['format'],_0x26e78d['codedWidth'],_0x26e78d['codedHeight'],_0x26e78d['displayWidth'],_0x26e78d['displayHeight'],_0x26e78d['duration'],_0x26e78d['timestamp'],(this['ready_frames']['push'](_0x26e78d),this['decoderOutSuccess']||(this['decoderOutSuccess']=!0x0),this['decoderObj']['decodeQueueSize']<=0x1&&(this['player']?this['player']['JSPlayM4_GetRawData']():postMessage({'function':'GetRawData'})));else _0x26e78d['close']();}},{'key':'output2','value':function(_0x2a105a){var _0x2f3874=this;_0x2a105a['timestamp'],createImageBitmap(_0x2a105a)['then'](function(_0x25dff6){_0x2a105a['close'](),_0x2f3874['ready_frames']['push'](_0x25dff6);});}},{'key':'reportError','value':function(_0x325f72){this['decoderOutSuccess']?this['decoderObjNeedReset']=!0x0:(this['oVideoRenderHandle']['HardDecodeError'](),console['log']('%cswitch\x20hardVideoDecoder\x20to\x20softVideoDecoder','color:\x20red'));}},{'key':'destroyDecoder','value':function(){var _0x49f365=this;return new Promise(function(_0x6d418d,_0x496e94){_0x49f365['clearDecoderObjBuffer']()['then'](function(){null!=_0x49f365['decoderObj']&&('closed'!=_0x49f365['decoderObj']['state']&&_0x49f365['decoderObj']['close'](),console['log']('>>>JS\x2001\x20destroy\x20decoderObj'),_0x49f365['decoderObj']=null),_0x49f365['decoderCurStatus']=0x4,_0x49f365['decoderOutSuccess']=!0x1,_0x49f365['FirstFrame']=!0x0,_0x49f365['underflow']=!0x0,_0x49f365['needSetPreSoft']=!0x1,_0x49f365['decoderObjNeedReset']=!0x1,_0x6d418d();},function(){_0x496e94();});});}},{'key':'resetDecoder','value':function(){var _0x176d2e=this;return new Promise(function(_0x2d3150,_0x105b5a){_0x176d2e['destroyDecoder']()['then'](function(){_0x176d2e['initDecoder'](),console['log']('%c\x20reset\x20hard\x20decoder','color:red'),_0x2d3150();},function(){_0x105b5a();});});}},{'key':'clearDecoderObjBuffer','value':function(){var _0x48e3ee=this;return new Promise(function(_0x8e810c,_0x4e9992){for(var _0x36c060=_0x48e3ee['ready_frames']['length'],_0x5cc8ae=0x0;_0x5cc8ae<_0x36c060;_0x5cc8ae++){_0x48e3ee['ready_frames']['shift']()['close']();}_0x48e3ee['ready_frames']['splice'](0x0,_0x48e3ee['ready_frames']['length']),null!=_0x48e3ee['decoderObj']&&'configured'==_0x48e3ee['decoderObj']['state']&&_0x48e3ee['decoderObj']['reset'](),_0x8e810c();});}},{'key':'SetStreamEnd','value':function(){return 0x0==this['decoderObj']['decodeQueueSize']&&0x0==this['ready_frames']['length']&&(this['decoderObj']['flush'](),console['log']('flush')),0x1;}},{'key':'GetFrame','value':function(){var _0x1f829d=this;return new Promise(function(_0xe563d7,_0xb0d9c4){if(null!=_0x1f829d['curFrame']){var _0x5b1e74=_0x1f829d['ready_frames']['shift']();_0x5b1e74['close'](),_0x5b1e74=null,_0x1f829d['curFrame']=null;}0x0!=_0x1f829d['ready_frames']['length']?(_0x1f829d['curFrame']=_0x1f829d['ready_frames'][0x0],_0xe563d7(_0x1f829d['curFrame'])):(_0x1f829d['curFrame']=null,_0xe563d7(null));});}},{'key':'GetFrameBufferLength','value':function(){return this['ready_frames']['length'];}},{'key':'GetImageYUV','value':function(){var _0x2b09b8=this;return new Promise(function(_0x35cd86,_0x3fb6b4){var _0x20ce54=null;if(null!=_0x2b09b8['curFrame']?_0x20ce54=_0x2b09b8['curFrame']:0x0!=_0x2b09b8['ready_frames']['length']&&(_0x20ce54=_0x2b09b8['ready_frames'][0x0]),null!=_0x20ce54){var _0x2242ff=_0x20ce54['displayWidth'],_0x62c5c6=_0x20ce54['displayHeight'],_0x3ede95=_0x2242ff*_0x62c5c6*0x3/0x2,_0x1da01f=new Uint8Array(_0x3ede95),_0x50492b=_0x20ce54['format'];_0x20ce54['copyTo'](_0x1da01f)['then'](function(){console['log']('2\x20yuvLength:'+_0x3ede95+',displayWidth:'+_0x2242ff),_0x35cd86({'yuvFrameBuffer':_0x1da01f,'yuvLength':_0x3ede95,'displayWidth':_0x2242ff,'displayHeight':_0x62c5c6,'yuvType':_0x50492b});});}else _0x35cd86({'yuvFrameBuffer':-0x1,'yuvLength':-0x1,'displayWidth':-0x1,'displayHeight':-0x1,'yuvType':-0x1});});}}]),_0x2ed9d7;}(),_0x24d60c=0x1,_0x58915e=0x80000001,_0x46c175=0x80000003,_0x19c02b=0x80000004,_0x1c46d8=0x80000005,_0x2a6629=0x8000000a,_0x1d3582=0x8000000d,_0x392661=0x8000000e,_0x3f510a=0x1,_0x1cdfc1=0x2,_0x15ec38={'SR_DE_NULL':0x0,'SR_DE_FISH_ORIGINAL':0x1,'SR_DE_FISH_PTZ_CEILING':0x2,'SR_DE_FISH_PTZ_FLOOR':0x3,'SR_DE_FISH_PTZ_WALL':0x4,'SR_DE_FISH_PANORAMA_CEILING_360':0x5,'SR_DE_FISH_PANORAMA_CEILING_180':0x6,'SR_DE_FISH_PANORAMA_FLOOR_360':0x7,'SR_DE_FISH_PANORAMA_FLOOR_180':0x8,'SR_DE_FISH_PANORAMA_WALL':0x9,'SR_DE_FISH_SEMISPHERE':0xa,'SR_DE_EAGLEEYE_SEMISPHERE':0xb,'SR_DE_EAGLEEYE_PLANE':0xc,'SR_DE_FISH_CYLINDER_CEILING':0xd,'SR_DE_FISH_CYLINDER_FLOOR':0xe,'SR_DE_FISH_CYLINDER_SPLIT_CEILING':0xf,'SR_DE_FISH_CYLINDER_SPLIT_FLOOR':0x10,'SR_DE_FISH_PLANET':0x11,'SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL':0x12,'SR_DE_FISH_ARCSPHERE_VERTICAL_WALL':0x13,'SR_DE_FISH_ANIMATION_SWITCH_CEILING':0x14,'SR_DE_FISH_ANIMATION_SWITCH_FLOOR':0x15,'SR_DE_PANORAMA_SPHERE':0x16,'SR_DE_PANORAMA_PLANET':0x17},_0x2f80ea=0x0,_0x407160=0x1,_0xbd40a=0x2,_0x1300c9=0x3,_0x314b3d=0x4,_0x47b5ad=0x5,_0x4b2eef=0x6,_0x4d876c=0x100,_0x485c73=0x1,_0x3b6e77=0x2,_0x3eed3e=0x3,_0xfa5c36=0x4,_0x339062=0x0,_0x35d15f=0x1,_0x3212b8=0x2,_0x3daa26=0x1,_0x275107=0x2,_0x25f1a7=0x3,_0x49769e=0x0,_0x4ee88e=0x1,_0x3ff5fc=0x1,_0x5b0220=0x2,_0x21ecc9=0x1,_0x3a40d2=0x2,_0x7e05ab=0x3,_0x379ee0=0x4,_0x10e6fd=0x5,_0x483ef7='\x0aattribute\x20vec3\x20xy;\x0aattribute\x20vec2\x20uv;\x0auniform\x20int\x20bCapture;\x20\x0a\x0avarying\x20highp\x20vec2\x20v_uv;\x0a\x0avoid\x20main(void)\x20{\x0a\x20\x20if(bCapture\x20==\x201)\x0a\x20\x20{\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(xy.x,\x20-xy.y,\x20xy.z,\x201.0);\x0a\x20\x20}\x0a\x20\x20else\x0a\x20\x20{\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(xy,\x201.0);\x0a\x20\x20}\x0a\x20\x20v_uv\x20=\x20uv;\x0a}\x0a',_0x266ef1='\x0a\x20\x20\x20\x20attribute\x20vec3\x20position;\x0a\x20\x20\x20\x20attribute\x20vec4\x20\x20\x20color;\x0a\x20\x20\x20\x20varying\x20\x20\x20float\x20\x20pp;\x0a\x20\x20\x20\x20varying\x20\x20\x20vec4\x20\x20colorOut;\x0a\x20\x20\x20\x20uniform\x20int\x20bCapture;\x20\x0a\x0a\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(bCapture\x20==\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20vec4(position.x,\x20-position.y,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20vec4(position.x,\x20position.y,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20pp\x20=\x20position.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20colorOut\x20=\x20color;\x0a\x20\x20\x20\x20}\x0a',_0x262779='\x0a\x20\x20\x20\x20varying\x20\x20mediump\x20float\x20pp;\x0a\x20\x20\x20\x20varying\x20\x20lowp\x20vec4\x20\x20colorOut;\x0a\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20colorOut;\x0a\x20\x20\x20\x20\x20\x20\x20\x20mediump\x20float\x20fx\x20=\x20abs(pp);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(fx\x20>\x200.2)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor.a\x20=\x20colorOut.a*(1.25\x20-\x201.25*fx);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20}\x20\x0a',_0x59d12a='\x0a\x20\x20\x20\x20attribute\x20vec4\x20position;\x20\x0a\x20\x20\x20\x20attribute\x20vec4\x20texCoord;\x20\x0a\x20\x20\x20\x20uniform\x20\x20\x20mat4\x20\x20\x20matRotate;\x20\x0a\x20\x20\x20\x20varying\x20vec4\x20pp;\x20\x0a\x20\x20\x20\x20uniform\x20int\x20bCapture;\x0a\x0a\x20\x20\x20\x20void\x20main()\x20\x0a\x20\x20\x20\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20position;\x20//*\x20matRotate;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(bCapture\x20==\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.y\x20=\x20\x20-position.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20pp\x20=\x20texCoord;\x20\x0a\x20\x20\x20\x20}\x20\x0a',_0x5f0e85='\x0a\x20\x20\x20\x20precision\x20mediump\x20float;\x20\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20texture;\x0a\x20\x20\x20\x20varying\x20lowp\x20vec4\x20pp;\x20\x0a\x20\x20\x20\x20uniform\x20float\x20fAlpha;\x0a\x20\x20\x20\x20void\x20main(void)\x20\x0a\x20\x20\x20\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(texture,\x20pp.st);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor.a\x20*=\x20fAlpha;\x20\x0a\x20\x20\x20\x20}\x20\x0a',_0x39ae26=0x20,_0x625c7b=0x400,_0x4eb634=0.05,_0x41c124=0.000001,_0x18bc1a=3.1415926,_0x3bf753=0.02,_0x1067da=0x3e8,_0x225dc6=0.78539815,_0x568af2=0x28,_0x3a9b00=-0x1,_0x2b6899=_0x18bc1a/0x12,_0x21110e=_0x18bc1a/0x3,_0x57caac=_0x18bc1a/0x6,_0x3eee7d=_0x18bc1a/0x9,_0x397228=0.000001,_0x4b1a61='undefined'!=typeof Float32Array?Float32Array:Array;Math['hypot']||(Math['hypot']=function(){for(var _0x2ed02d=0x0,_0x4a60f9=arguments['length'];_0x4a60f9--;)_0x2ed02d+=arguments[_0x4a60f9]*arguments[_0x4a60f9];return Math['sqrt'](_0x2ed02d);});function _0x5b4c2a(){var _0x3fd70f=new _0x4b1a61(0x10);return _0x4b1a61!=Float32Array&&(_0x3fd70f[0x1]=0x0,_0x3fd70f[0x2]=0x0,_0x3fd70f[0x3]=0x0,_0x3fd70f[0x4]=0x0,_0x3fd70f[0x6]=0x0,_0x3fd70f[0x7]=0x0,_0x3fd70f[0x8]=0x0,_0x3fd70f[0x9]=0x0,_0x3fd70f[0xb]=0x0,_0x3fd70f[0xc]=0x0,_0x3fd70f[0xd]=0x0,_0x3fd70f[0xe]=0x0),_0x3fd70f[0x0]=0x1,_0x3fd70f[0x5]=0x1,_0x3fd70f[0xa]=0x1,_0x3fd70f[0xf]=0x1,_0x3fd70f;}function _0x3dea79(_0x3a909e,_0x37875f,_0x285156){var _0x120a0a=_0x37875f[0x0],_0x3634a4=_0x37875f[0x1],_0x1d0b49=_0x37875f[0x2],_0x235573=_0x37875f[0x3],_0x46b0a5=_0x37875f[0x4],_0x3f4471=_0x37875f[0x5],_0x4bf15f=_0x37875f[0x6],_0x3d5997=_0x37875f[0x7],_0x510990=_0x37875f[0x8],_0xc7d206=_0x37875f[0x9],_0x5ee904=_0x37875f[0xa],_0x13feff=_0x37875f[0xb],_0x176cae=_0x37875f[0xc],_0xb0ab10=_0x37875f[0xd],_0x382fdd=_0x37875f[0xe],_0x508cc5=_0x37875f[0xf],_0x546914=_0x285156[0x0],_0x3a4731=_0x285156[0x1],_0x2e4eb6=_0x285156[0x2],_0x93e126=_0x285156[0x3];return _0x3a909e[0x0]=_0x546914*_0x120a0a+_0x3a4731*_0x46b0a5+_0x2e4eb6*_0x510990+_0x93e126*_0x176cae,_0x3a909e[0x1]=_0x546914*_0x3634a4+_0x3a4731*_0x3f4471+_0x2e4eb6*_0xc7d206+_0x93e126*_0xb0ab10,_0x3a909e[0x2]=_0x546914*_0x1d0b49+_0x3a4731*_0x4bf15f+_0x2e4eb6*_0x5ee904+_0x93e126*_0x382fdd,_0x3a909e[0x3]=_0x546914*_0x235573+_0x3a4731*_0x3d5997+_0x2e4eb6*_0x13feff+_0x93e126*_0x508cc5,_0x546914=_0x285156[0x4],_0x3a4731=_0x285156[0x5],_0x2e4eb6=_0x285156[0x6],_0x93e126=_0x285156[0x7],_0x3a909e[0x4]=_0x546914*_0x120a0a+_0x3a4731*_0x46b0a5+_0x2e4eb6*_0x510990+_0x93e126*_0x176cae,_0x3a909e[0x5]=_0x546914*_0x3634a4+_0x3a4731*_0x3f4471+_0x2e4eb6*_0xc7d206+_0x93e126*_0xb0ab10,_0x3a909e[0x6]=_0x546914*_0x1d0b49+_0x3a4731*_0x4bf15f+_0x2e4eb6*_0x5ee904+_0x93e126*_0x382fdd,_0x3a909e[0x7]=_0x546914*_0x235573+_0x3a4731*_0x3d5997+_0x2e4eb6*_0x13feff+_0x93e126*_0x508cc5,_0x546914=_0x285156[0x8],_0x3a4731=_0x285156[0x9],_0x2e4eb6=_0x285156[0xa],_0x93e126=_0x285156[0xb],_0x3a909e[0x8]=_0x546914*_0x120a0a+_0x3a4731*_0x46b0a5+_0x2e4eb6*_0x510990+_0x93e126*_0x176cae,_0x3a909e[0x9]=_0x546914*_0x3634a4+_0x3a4731*_0x3f4471+_0x2e4eb6*_0xc7d206+_0x93e126*_0xb0ab10,_0x3a909e[0xa]=_0x546914*_0x1d0b49+_0x3a4731*_0x4bf15f+_0x2e4eb6*_0x5ee904+_0x93e126*_0x382fdd,_0x3a909e[0xb]=_0x546914*_0x235573+_0x3a4731*_0x3d5997+_0x2e4eb6*_0x13feff+_0x93e126*_0x508cc5,_0x546914=_0x285156[0xc],_0x3a4731=_0x285156[0xd],_0x2e4eb6=_0x285156[0xe],_0x93e126=_0x285156[0xf],_0x3a909e[0xc]=_0x546914*_0x120a0a+_0x3a4731*_0x46b0a5+_0x2e4eb6*_0x510990+_0x93e126*_0x176cae,_0x3a909e[0xd]=_0x546914*_0x3634a4+_0x3a4731*_0x3f4471+_0x2e4eb6*_0xc7d206+_0x93e126*_0xb0ab10,_0x3a909e[0xe]=_0x546914*_0x1d0b49+_0x3a4731*_0x4bf15f+_0x2e4eb6*_0x5ee904+_0x93e126*_0x382fdd,_0x3a909e[0xf]=_0x546914*_0x235573+_0x3a4731*_0x3d5997+_0x2e4eb6*_0x13feff+_0x93e126*_0x508cc5,_0x3a909e;}function _0x1d383c(_0x2b1de2,_0x5bd180,_0x1de124,_0x64ee3d){var _0x5f0651,_0x33fbfe,_0x5bcd33,_0x262314,_0x1c32d0,_0x27cd2c,_0x358c7a,_0x501828,_0x3b749e,_0x3c7407,_0x1cadb9,_0x5ce149,_0x92e852,_0x4bd3b8,_0x5a6356,_0x35b948,_0x3a7283,_0x1d2c38,_0x464d7a,_0x50c2ed,_0x372cae,_0x256dd8,_0x20cc5e,_0x1012b9,_0x36c856=_0x64ee3d[0x0],_0x283610=_0x64ee3d[0x1],_0x510ffa=_0x64ee3d[0x2],_0x3ca97f=Math['hypot'](_0x36c856,_0x283610,_0x510ffa);return _0x3ca97f<_0x397228?null:(_0x36c856*=_0x3ca97f=0x1/_0x3ca97f,_0x283610*=_0x3ca97f,_0x510ffa*=_0x3ca97f,_0x5f0651=Math['sin'](_0x1de124),_0x5bcd33=0x1-(_0x33fbfe=Math['cos'](_0x1de124)),_0x262314=_0x5bd180[0x0],_0x1c32d0=_0x5bd180[0x1],_0x27cd2c=_0x5bd180[0x2],_0x358c7a=_0x5bd180[0x3],_0x501828=_0x5bd180[0x4],_0x3b749e=_0x5bd180[0x5],_0x3c7407=_0x5bd180[0x6],_0x1cadb9=_0x5bd180[0x7],_0x5ce149=_0x5bd180[0x8],_0x92e852=_0x5bd180[0x9],_0x4bd3b8=_0x5bd180[0xa],_0x5a6356=_0x5bd180[0xb],_0x35b948=_0x36c856*_0x36c856*_0x5bcd33+_0x33fbfe,_0x3a7283=_0x283610*_0x36c856*_0x5bcd33+_0x510ffa*_0x5f0651,_0x1d2c38=_0x510ffa*_0x36c856*_0x5bcd33-_0x283610*_0x5f0651,_0x464d7a=_0x36c856*_0x283610*_0x5bcd33-_0x510ffa*_0x5f0651,_0x50c2ed=_0x283610*_0x283610*_0x5bcd33+_0x33fbfe,_0x372cae=_0x510ffa*_0x283610*_0x5bcd33+_0x36c856*_0x5f0651,_0x256dd8=_0x36c856*_0x510ffa*_0x5bcd33+_0x283610*_0x5f0651,_0x20cc5e=_0x283610*_0x510ffa*_0x5bcd33-_0x36c856*_0x5f0651,_0x1012b9=_0x510ffa*_0x510ffa*_0x5bcd33+_0x33fbfe,_0x2b1de2[0x0]=_0x262314*_0x35b948+_0x501828*_0x3a7283+_0x5ce149*_0x1d2c38,_0x2b1de2[0x1]=_0x1c32d0*_0x35b948+_0x3b749e*_0x3a7283+_0x92e852*_0x1d2c38,_0x2b1de2[0x2]=_0x27cd2c*_0x35b948+_0x3c7407*_0x3a7283+_0x4bd3b8*_0x1d2c38,_0x2b1de2[0x3]=_0x358c7a*_0x35b948+_0x1cadb9*_0x3a7283+_0x5a6356*_0x1d2c38,_0x2b1de2[0x4]=_0x262314*_0x464d7a+_0x501828*_0x50c2ed+_0x5ce149*_0x372cae,_0x2b1de2[0x5]=_0x1c32d0*_0x464d7a+_0x3b749e*_0x50c2ed+_0x92e852*_0x372cae,_0x2b1de2[0x6]=_0x27cd2c*_0x464d7a+_0x3c7407*_0x50c2ed+_0x4bd3b8*_0x372cae,_0x2b1de2[0x7]=_0x358c7a*_0x464d7a+_0x1cadb9*_0x50c2ed+_0x5a6356*_0x372cae,_0x2b1de2[0x8]=_0x262314*_0x256dd8+_0x501828*_0x20cc5e+_0x5ce149*_0x1012b9,_0x2b1de2[0x9]=_0x1c32d0*_0x256dd8+_0x3b749e*_0x20cc5e+_0x92e852*_0x1012b9,_0x2b1de2[0xa]=_0x27cd2c*_0x256dd8+_0x3c7407*_0x20cc5e+_0x4bd3b8*_0x1012b9,_0x2b1de2[0xb]=_0x358c7a*_0x256dd8+_0x1cadb9*_0x20cc5e+_0x5a6356*_0x1012b9,_0x5bd180!==_0x2b1de2&&(_0x2b1de2[0xc]=_0x5bd180[0xc],_0x2b1de2[0xd]=_0x5bd180[0xd],_0x2b1de2[0xe]=_0x5bd180[0xe],_0x2b1de2[0xf]=_0x5bd180[0xf]),_0x2b1de2);}var _0x4abe48=function(_0x235385,_0x544846,_0x460156,_0x31a723,_0x32b289){var _0x426ed6=0x1/Math['tan'](_0x544846/0x2);if(_0x235385[0x0]=_0x426ed6/_0x460156,_0x235385[0x1]=0x0,_0x235385[0x2]=0x0,_0x235385[0x3]=0x0,_0x235385[0x4]=0x0,_0x235385[0x5]=_0x426ed6,_0x235385[0x6]=0x0,_0x235385[0x7]=0x0,_0x235385[0x8]=0x0,_0x235385[0x9]=0x0,_0x235385[0xb]=-0x1,_0x235385[0xc]=0x0,_0x235385[0xd]=0x0,_0x235385[0xf]=0x0,null!=_0x32b289&&_0x32b289!==0x1/0x0){var _0x28d7ea=0x1/(_0x31a723-_0x32b289);_0x235385[0xa]=(_0x32b289+_0x31a723)*_0x28d7ea,_0x235385[0xe]=0x2*_0x32b289*_0x31a723*_0x28d7ea;}else _0x235385[0xa]=-0x1,_0x235385[0xe]=-0x2*_0x31a723;return _0x235385;},_0x194214=function(_0x4b83fd,_0x4cbc61,_0x16f511,_0x1b0937,_0x3e8be0,_0x225e84,_0x33da21){var _0x1d1f94=0x1/(_0x4cbc61-_0x16f511),_0x25de3b=0x1/(_0x1b0937-_0x3e8be0),_0x328015=0x1/(_0x225e84-_0x33da21);return _0x4b83fd[0x0]=-0x2*_0x1d1f94,_0x4b83fd[0x1]=0x0,_0x4b83fd[0x2]=0x0,_0x4b83fd[0x3]=0x0,_0x4b83fd[0x4]=0x0,_0x4b83fd[0x5]=-0x2*_0x25de3b,_0x4b83fd[0x6]=0x0,_0x4b83fd[0x7]=0x0,_0x4b83fd[0x8]=0x0,_0x4b83fd[0x9]=0x0,_0x4b83fd[0xa]=0x2*_0x328015,_0x4b83fd[0xb]=0x0,_0x4b83fd[0xc]=(_0x4cbc61+_0x16f511)*_0x1d1f94,_0x4b83fd[0xd]=(_0x3e8be0+_0x1b0937)*_0x25de3b,_0x4b83fd[0xe]=(_0x33da21+_0x225e84)*_0x328015,_0x4b83fd[0xf]=0x1,_0x4b83fd;};function _0x2e46d1(){var _0x3f3481=new _0x4b1a61(0x3);return _0x4b1a61!=Float32Array&&(_0x3f3481[0x0]=0x0,_0x3f3481[0x1]=0x0,_0x3f3481[0x2]=0x0),_0x3f3481;}function _0x5e3188(_0x1f0bc9,_0x8c4e5c,_0x537cba){var _0xe839df=new _0x4b1a61(0x3);return _0xe839df[0x0]=_0x1f0bc9,_0xe839df[0x1]=_0x8c4e5c,_0xe839df[0x2]=_0x537cba,_0xe839df;}_0x2e46d1(),!function(){var _0x3db1c4;(_0x3db1c4=new _0x4b1a61(0x4),_0x4b1a61!=Float32Array&&(_0x3db1c4[0x0]=0x0,_0x3db1c4[0x1]=0x0,_0x3db1c4[0x2]=0x0,_0x3db1c4[0x3]=0x0),_0x3db1c4);}();function _0x3474a3(){var _0x1b8017=new _0x4b1a61(0x4);return _0x4b1a61!=Float32Array&&(_0x1b8017[0x0]=0x0,_0x1b8017[0x1]=0x0,_0x1b8017[0x2]=0x0),_0x1b8017[0x3]=0x1,_0x1b8017;}var _0x41ab8a;_0x2e46d1(),_0x5e3188(0x1,0x0,0x0),_0x5e3188(0x0,0x1,0x0),_0x3474a3(),_0x3474a3(),_0x41ab8a=new _0x4b1a61(0x9),_0x4b1a61!=Float32Array&&(_0x41ab8a[0x1]=0x0,_0x41ab8a[0x2]=0x0,_0x41ab8a[0x3]=0x0,_0x41ab8a[0x5]=0x0,_0x41ab8a[0x6]=0x0,_0x41ab8a[0x7]=0x0),_0x41ab8a[0x0]=0x1,_0x41ab8a[0x4]=0x1,_0x41ab8a[0x8]=0x1,!function(){(function(){var _0x3ee4a0=new _0x4b1a61(0x2);return _0x4b1a61!=Float32Array&&(_0x3ee4a0[0x0]=0x0,_0x3ee4a0[0x1]=0x0),_0x3ee4a0;})();}();var _0xfaa40e=function(){function _0x429fc2(){_0x162c92(this,_0x429fc2),this['fFov']=0.785,this['fAspect']=0x1,this['fNear']=0.02,this['fFar']=0x3e8,this['fTheta']=0x0,this['fAlpha']=0x0,this['fBeta']=0x0,this['fScale']=0x1,this['bOrtho']=!0x1,this['matView']=_0x5b4c2a(),this['matProj']=_0x5b4c2a(),this['vecEye']=_0x5e3188(0x0,0x0,0x0),this['vecCenter']=_0x5e3188(0x0,0x0,0x64),this['vecUp']=_0x5e3188(0x0,0x1,0x0);}return _0x5ab2cc(_0x429fc2,[{'key':'SetYaw','value':function(_0x18a323){this['fTheta']=_0x18a323;}},{'key':'GetYaw','value':function(){return this['fTheta'];}},{'key':'SetPitch','value':function(_0xd918c8){this['fAlpha']=_0xd918c8;}},{'key':'GetPitch','value':function(){return this['fAlpha'];}},{'key':'SetRoll','value':function(_0x47b366){this['fBeta']=_0x47b366;}},{'key':'GetRoll','value':function(){return this['fBeta'];}},{'key':'SetScale','value':function(_0x26afa7){this['fScale']=_0x26afa7;}},{'key':'GetScale','value':function(){return this['fScale'];}},{'key':'SetFov','value':function(_0x45c9c1){this['fFov']=_0x45c9c1;}},{'key':'SetAspect','value':function(_0x22c3ee){this['fAspect']=_0x22c3ee;}},{'key':'SetNear','value':function(_0x1438ec){this['fNear']=_0x1438ec;}},{'key':'SetFar','value':function(_0x205301){this['fFar']=_0x205301;}},{'key':'SetOrtho','value':function(_0x3e9642){this['bOrtho']=_0x3e9642;}},{'key':'UpdateCamera','value':function(_0x425cc8,_0x2f4626){if(!(_0x425cc8<=0x0||_0x2f4626<=0x0)){if(0x1==this['bOrtho'])_0x194214(this['matProj'],0x0,_0x425cc8,_0x2f4626,0x0,this['fNear'],this['fFar']);else {var _0x5bab27=this['fFov']/_0x18bc1a*0xb4;_0x4abe48(this['matProj'],_0x5bab27,_0x425cc8/_0x2f4626,this['fNear'],this['fFar']);}this['vecEye']=_0x5e3188(0x0,0x0,this['fScale']),this['vecCenter']=_0x5e3188(0x0,0x0,0x0),this['vecUp']=_0x5e3188(0x0,0x1,0x0);var _0x46a0b3=_0x5e3188(0x1,0x0,0x0),_0x29b6d7=_0x5e3188(0x0,0x1,0x0),_0xad4cde=_0x5e3188(0x0,0x0,0x1),_0x3f18e9=_0x5b4c2a();!function(_0x4ada61,_0x3770d1,_0x46d0ba,_0x2d7665){var _0x472866,_0x303f1b,_0x475f5a,_0x688b7a,_0xf996c5,_0x337d98,_0x36b025,_0x25b70e,_0x4a89d9,_0x25a368,_0x11a8e2=_0x3770d1[0x0],_0x521546=_0x3770d1[0x1],_0x502d71=_0x3770d1[0x2],_0x2bd82f=_0x2d7665[0x0],_0x126ff7=_0x2d7665[0x1],_0x12c235=_0x2d7665[0x2],_0x5e159b=_0x46d0ba[0x0],_0x3ed11e=_0x46d0ba[0x1],_0x316848=_0x46d0ba[0x2];Math['abs'](_0x11a8e2-_0x5e159b)<_0x397228&&Math['abs'](_0x521546-_0x3ed11e)<_0x397228&&Math['abs'](_0x502d71-_0x316848)<_0x397228?function(_0x104f0c){_0x104f0c[0x0]=0x1,_0x104f0c[0x1]=0x0,_0x104f0c[0x2]=0x0,_0x104f0c[0x3]=0x0,_0x104f0c[0x4]=0x0,_0x104f0c[0x5]=0x1,_0x104f0c[0x6]=0x0,_0x104f0c[0x7]=0x0,_0x104f0c[0x8]=0x0,_0x104f0c[0x9]=0x0,_0x104f0c[0xa]=0x1,_0x104f0c[0xb]=0x0,_0x104f0c[0xc]=0x0,_0x104f0c[0xd]=0x0,_0x104f0c[0xe]=0x0,_0x104f0c[0xf]=0x1;}(_0x4ada61):(_0x36b025=_0x11a8e2-_0x5e159b,_0x25b70e=_0x521546-_0x3ed11e,_0x4a89d9=_0x502d71-_0x316848,_0x472866=_0x126ff7*(_0x4a89d9*=_0x25a368=0x1/Math['hypot'](_0x36b025,_0x25b70e,_0x4a89d9))-_0x12c235*(_0x25b70e*=_0x25a368),_0x303f1b=_0x12c235*(_0x36b025*=_0x25a368)-_0x2bd82f*_0x4a89d9,_0x475f5a=_0x2bd82f*_0x25b70e-_0x126ff7*_0x36b025,(_0x25a368=Math['hypot'](_0x472866,_0x303f1b,_0x475f5a))?(_0x472866*=_0x25a368=0x1/_0x25a368,_0x303f1b*=_0x25a368,_0x475f5a*=_0x25a368):(_0x472866=0x0,_0x303f1b=0x0,_0x475f5a=0x0),_0x688b7a=_0x25b70e*_0x475f5a-_0x4a89d9*_0x303f1b,_0xf996c5=_0x4a89d9*_0x472866-_0x36b025*_0x475f5a,_0x337d98=_0x36b025*_0x303f1b-_0x25b70e*_0x472866,(_0x25a368=Math['hypot'](_0x688b7a,_0xf996c5,_0x337d98))?(_0x688b7a*=_0x25a368=0x1/_0x25a368,_0xf996c5*=_0x25a368,_0x337d98*=_0x25a368):(_0x688b7a=0x0,_0xf996c5=0x0,_0x337d98=0x0),_0x4ada61[0x0]=_0x472866,_0x4ada61[0x1]=_0x688b7a,_0x4ada61[0x2]=_0x36b025,_0x4ada61[0x3]=0x0,_0x4ada61[0x4]=_0x303f1b,_0x4ada61[0x5]=_0xf996c5,_0x4ada61[0x6]=_0x25b70e,_0x4ada61[0x7]=0x0,_0x4ada61[0x8]=_0x475f5a,_0x4ada61[0x9]=_0x337d98,_0x4ada61[0xa]=_0x4a89d9,_0x4ada61[0xb]=0x0,_0x4ada61[0xc]=-(_0x472866*_0x11a8e2+_0x303f1b*_0x521546+_0x475f5a*_0x502d71),_0x4ada61[0xd]=-(_0x688b7a*_0x11a8e2+_0xf996c5*_0x521546+_0x337d98*_0x502d71),_0x4ada61[0xe]=-(_0x36b025*_0x11a8e2+_0x25b70e*_0x521546+_0x4a89d9*_0x502d71),_0x4ada61[0xf]=0x1);}(_0x3f18e9,this['vecEye'],this['vecCenter'],this['vecUp']);var _0xd8a252=_0x5b4c2a(),_0x10edd1=_0x5b4c2a(),_0xa7c7cb=_0x5b4c2a(),_0x3fa131=_0x5b4c2a();_0x1d383c(_0x10edd1,_0xd8a252,-this['fAlpha'],_0x46a0b3),_0x1d383c(_0xa7c7cb,_0x10edd1,-this['fTheta'],_0x29b6d7),_0x1d383c(_0x3fa131,_0xa7c7cb,-this['fBeta'],_0xad4cde),_0x3dea79(this['matView'],_0x3f18e9,_0x3fa131);}}},{'key':'GetView','value':function(){return this['matView'];}},{'key':'GetProj','value':function(){return this['matProj'];}}]),_0x429fc2;}(),_0x6900d7=function(){function _0x28f7e7(){_0x162c92(this,_0x28f7e7),this['canvas']=null,this['ctx']=null,this['videoShaderProgram']=0x0,this['vertexPosBuffer']=0x0,this['texturePosBuffer']=0x0,this['pFrameData']=null,this['frameDisplayWidth']=0x0,this['frameDisplayHeight']=0x0,this['onlySupportedWebGL1']=!0x1,this['bAntialias']=!0x1,this['bRecreateTex']=!0x0,this['nSurfaceTexture']=[],this['nMaxPointNum']=0x0,this['pLinePosVertices']=null,this['pLineClrVertices']=null,this['glLinePosBuffer']=0x0,this['glLineClrBuffer']=0x0,this['nLineTriangleNum']=0x0,this['nLineShaderProgram']=0x0,this['pFillBlockPosVertices']=null,this['pFillBlockClrVertices']=null,this['nMaxFillBlockTriNum']=0x0,this['glBlockPosBuffer']=0x0,this['glBlockClrBuffer']=0x0,this['nBlockShaderProgram']=0x0,this['nDrawFontWidth']=0x0,this['nDrawFontHeight']=0x0,this['nFontColorTexture']=0x0,this['pFontColorBuffer']=0x0,this['nFontShaderProgram']=0x0,this['nFontBGNum']=0x0,this['pstFontBGLines']=[],this['nImageShaderProgram']=0x0,this['pImagePosVertices']=null,this['pImageClrVertices']=null,this['glImagePosBuffer']=0x0,this['glImageClrBuffer']=0x0,this['nImageColorTexture']=null,this['nDrawImageWidth']=0x0,this['nDrawImageHeight']=0x0,this['nImageColorTextures']=[],this['pFishParamManager']=null,this['enDisplayEffect']=_0x15ec38['SR_DE_NULL'],this['nFECPort']=_0x3a9b00,this['bIsCapturing']=!0x1,this['pSemiSpherePos']=null,this['pSemiSphereTex']=null,this['nSemiSpherePosNum']=0x0,this['nSemiSpherePosSize']=0x0,this['nSemiSphereTexSize']=0x0,this['pCylinderPos']=null,this['pCylinderTex']=null,this['nCylinderPosNum']=0x0,this['nCylinderPosSize']=0x0,this['nCylinderTexSize']=0x0,this['fCylinderHeight']=0x0,this['fCylinderRadius']=0x0,this['pArcSpherePos']=null,this['pArcSphereTex']=null,this['nArcSpherePosNum']=0x0,this['nArcSpherePosSize']=0x0,this['nArcSphereTexSize']=0x0,this['fImageWidth']=0x1,this['fImageHeight']=0x1,this['fTexCenterX']=0.5,this['fTexCenterY']=0.5,this['fTexRadius']=0.5,this['b3DPort']=!0x1,this['pCamera']=null,this['fRotateX']=0x0,this['fRotateY']=0x0,this['fScale']=0x0,this['fRotateLimitX']=0x0,this['fRotateLimitY']=0x0,this['pfuncCBIn']=null,this['pfuncCBOut']=null,this['pUserIn']=null,this['pUserOut']=null,this['bCullBack']=!0x1,this['fSrcUseLeft']=0x0,this['fSrcUseRight']=0x1,this['fSrcUseTop']=0x0,this['fSrcUseBottom']=0x1,this['fDstUseLeft']=0x0,this['fDstUseRight']=0x1,this['fDstUseTop']=0x0,this['fDstUseBottom']=0x1,this['enPixelFormat']=_0x2f80ea,this['nTextureNum']=0x0,this['textCanvas']=null,this['textCanvasCtx']=null,this['nCaptureWidth']=0x0,this['nCaptureHeight']=0x0,this['nCaptureRTTex']=0x0,this['nCaptureFBO']=0x0,this['nCaptureFBOWidth']=0x0,this['nCaptureFBOHeight']=0x0,this['nCaptureDepthbuffer']=0x0,this['bCaptureResInit']=!0x1,this['fBrightness']=0x0,this['fHue']=0x0,this['fSaturation']=0x0,this['fContrast']=0x0,this['fSharpness']=0x0,this['nPostProc']=0x0;}return _0x5ab2cc(_0x28f7e7,[{'key':'CompileProgram','value':function(_0x56e6e5,_0x531685){var _0x5906de=this['ctx'];if(null==_0x5906de||null==_0x56e6e5||null==_0x531685)return -0x1;var _0x2bb679=_0x5906de['createShader'](_0x5906de['VERTEX_SHADER']);if(_0x5906de['shaderSource'](_0x2bb679,_0x56e6e5),_0x5906de['compileShader'](_0x2bb679),!_0x5906de['getShaderParameter'](_0x2bb679,_0x5906de['COMPILE_STATUS']))return console['log']('Vertex\x20shader\x20failed\x20to\x20compile:\x20'+_0x5906de['getShaderInfoLog'](_0x2bb679)),-0x1;var _0x406a7c=_0x5906de['createShader'](_0x5906de['FRAGMENT_SHADER']);if(_0x5906de['shaderSource'](_0x406a7c,_0x531685),_0x5906de['compileShader'](_0x406a7c),!_0x5906de['getShaderParameter'](_0x406a7c,_0x5906de['COMPILE_STATUS']))return console['log']('Fragment\x20shader\x20failed\x20to\x20compile:\x20'+_0x5906de['getShaderInfoLog'](_0x406a7c)),-0x1;var _0x46b057=_0x5906de['createProgram']();return _0x5906de['attachShader'](_0x46b057,_0x2bb679),_0x5906de['attachShader'](_0x46b057,_0x406a7c),_0x5906de['linkProgram'](_0x46b057),_0x5906de['getProgramParameter'](_0x46b057,_0x5906de['LINK_STATUS'])?(_0x5906de['deleteShader'](_0x2bb679),_0x5906de['deleteShader'](_0x406a7c),_0x46b057):(console['log']('Program\x20failed\x20to\x20compile:\x20'+_0x5906de['getProgramInfoLog'](_0x46b057)),-0x1);}},{'key':'SR_Init','value':function(_0x579051,_0x29c239){if(null==_0x579051)return _0x1c46d8;if(this['canvas']=_0x579051,this['ctx']=this['canvas']['getContext']('webgl2'),this['ctx']||(this['ctx']=this['canvas']['getContext']('webgl')||this['canvas']['getContext']('experimental-webgl'),this['onlySupportedWebGL1']=!0x0,console['log']('only\x20support\x20webgl1')),!this['ctx'])return console['log']('your\x20browser\x20does\x20not\x20support\x20WebGL'),_0x392661;if(_0x29c239==_0xbd40a||_0x29c239==_0x4b2eef)return _0x58915e;switch(_0x29c239){case _0x407160:case _0x1300c9:this['nTextureNum']=0x3;break;case _0xbd40a:case _0x4b2eef:this['nTextureNum']=0x2;break;case _0x4d876c:this['nTextureNum']=0x1;break;default:return _0x58915e;}return this['enPixelFormat']=_0x29c239,_0x24d60c;}},{'key':'SR_Draw','value':function(_0x414dc9,_0x5a4d89,_0x59e9df,_0x12cf55,_0x54d34e){if(null==this['ctx'])return _0x19c02b;var _0x2ae5db=this['nTextureNum'];if(null==_0x414dc9||_0x5a4d89<=0x0||_0x59e9df<=0x0)return _0x1c46d8;if(0x0==this['videoShaderProgram']||0x0==this['vertexPosBuffer']||0x0==this['texturePosBuffer'])return _0x19c02b;var _0x42deeb=_0x24d60c;if(_0x4d876c==this['enPixelFormat'])this['frameDisplayWidth']=_0x5a4d89,this['frameDisplayHeight']=_0x59e9df;else {if(_0x42deeb=this['_ResizeFrameData'](_0x414dc9,_0x5a4d89,_0x59e9df,_0x12cf55),_0x24d60c!=_0x42deeb)return _0x42deeb;}if(this['ctx']['useProgram'](this['videoShaderProgram']),0x1==this['bRecreateTex']){if(this['enPixelFormat']==_0x4d876c){if(0x0!=this['nSurfaceTexture'][0x0]){var _0x3f360=this['nSurfaceTexture'][0x0];this['ctx']['deleteTexture'](_0x3f360),this['nSurfaceTexture'][0x0]=0x0;}var _0x45e14a=this['ctx']['createTexture']();if(_0x45e14a<=0x0)return _0x1d3582;this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],_0x45e14a),0x1==this['bAntialias']?this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MIN_FILTER'],this['ctx']['LINEAR_MIPMAP_NEAREST']):this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MIN_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MAG_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_S'],this['ctx']['CLAMP_TO_EDGE']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_T'],this['ctx']['CLAMP_TO_EDGE']),this['nSurfaceTexture'][0x0]=_0x45e14a;}else {if(this['enPixelFormat']==_0x407160||this['enPixelFormat']==_0x1300c9)for(var _0x4f6b22=0x0;_0x4f6b22<_0x2ae5db;_0x4f6b22++){if(0x0!=this['nSurfaceTexture'][_0x4f6b22]){var _0x4b728c=this['nSurfaceTexture'][_0x4f6b22];this['ctx']['deleteTexture'](_0x4b728c),this['nSurfaceTexture'][_0x4f6b22]=0x0;}var _0x84905a=this['ctx']['createTexture']();if(_0x84905a<=0x0)return _0x1d3582;if(this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],_0x84905a),0x1==this['bAntialias']?this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MIN_FILTER'],this['ctx']['LINEAR_MIPMAP_NEAREST']):this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MIN_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MAG_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_S'],this['ctx']['CLAMP_TO_EDGE']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_T'],this['ctx']['CLAMP_TO_EDGE']),0x0==_0x4f6b22){var _0x167589=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'Ytexture');this['ctx']['uniform1i'](_0x167589,0x0);}else {if(0x1==_0x4f6b22){var _0x3f8db3=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'Utexture');this['ctx']['uniform1i'](_0x3f8db3,0x1);}else {if(0x2==_0x4f6b22){var _0x542e6f=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'Vtexture');this['ctx']['uniform1i'](_0x542e6f,0x2);}}}this['nSurfaceTexture'][_0x4f6b22]=_0x84905a,this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],null);}}this['bRecreateTex']=!0x1;}this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['vertexPosBuffer']);var _0x58b70a=this['ctx']['getAttribLocation'](this['videoShaderProgram'],'xy');if(_0x58b70a<0x0)return _0x1d3582;this['ctx']['vertexAttribPointer'](_0x58b70a,0x3,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['enableVertexAttribArray'](_0x58b70a),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['texturePosBuffer']);var _0x2517d0=this['ctx']['getAttribLocation'](this['videoShaderProgram'],'uv');if(_0x2517d0<0x0)return _0x1d3582;this['ctx']['vertexAttribPointer'](_0x2517d0,0x2,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['enableVertexAttribArray'](_0x2517d0),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null);var _0x3ea78a=this['enDisplayEffect'],_0x12b62e=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'bCapture');if(_0x12b62e<=0x0)return _0x1d3582;this['ctx']['uniform1i'](_0x12b62e,0x0);var _0x5b14af=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'nPostProc');switch(this['ctx']['uniform1i'](_0x5b14af,this['nPostProc']),0x1==this['nPostProc']&&(_0x42deeb=this['_SetImagePostProcess']()),_0x3ea78a){case _0x15ec38['SR_DE_NULL']:break;case _0x15ec38['SR_DE_FISH_ORIGINAL']:case _0x15ec38['SR_DE_FISH_PTZ_CEILING']:case _0x15ec38['SR_DE_FISH_PTZ_FLOOR']:case _0x15ec38['SR_DE_FISH_PTZ_WALL']:case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']:case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']:case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']:case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']:case _0x15ec38['SR_DE_FISH_PANORAMA_WALL']:if(null==this['pFishParamManager'])return _0x19c02b;var _0x31bc29={};if(_0x42deeb=this['pFishParamManager']['GetRenderParam'](this['nFECPort'],_0x31bc29),_0x24d60c!=_0x42deeb)return _0x42deeb;if(_0x15ec38['SR_DE_FISH_ORIGINAL']==_0x3ea78a){var _0x9cb6d7=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'bBlack');if(_0x9cb6d7<=0x0)return _0x1d3582;this['ctx']['uniform1i'](_0x9cb6d7,_0x31bc29['bBlack']);var _0x4cb861=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'bCut');if(_0x4cb861<=0x0)return _0x1d3582;this['ctx']['uniform1i'](_0x4cb861,_0x31bc29['bCut']);}if(_0x15ec38['SR_DE_FISH_PTZ_CEILING']==_0x3ea78a||_0x15ec38['SR_DE_FISH_PTZ_FLOOR']==_0x3ea78a||_0x15ec38['SR_DE_FISH_PTZ_WALL']==_0x3ea78a){var _0x5af094=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fHAngleCos');if(_0x5af094<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x5af094,_0x31bc29['fCosH']);var _0x4c0a15=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fHAngleSin');if(_0x4c0a15<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x4c0a15,_0x31bc29['fSinH']);var _0x588d47=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fVAngleCos');if(_0x588d47<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x588d47,_0x31bc29['fCosV']);var _0x319c93=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fVAngleSin');if(_0x319c93<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x319c93,_0x31bc29['fSinV']);var _0x5f2dbc=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fZoom');if(_0x5f2dbc<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x5f2dbc,_0x31bc29['fZoom']);}if(_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']==_0x3ea78a||_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']==_0x3ea78a||_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']==_0x3ea78a||_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']==_0x3ea78a){var _0x507190=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fAngle');if(_0x507190<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x507190,_0x31bc29['fAngle']);}var _0x3d2481=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fRX1');if(_0x3d2481<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x3d2481,_0x31bc29['fRXLeft']);var _0x2d87b9=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fRX2');if(_0x2d87b9<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x2d87b9,_0x31bc29['fRXRight']);var _0x177dea=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fRY1');if(_0x177dea<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x177dea,_0x31bc29['fRYTop']);var _0x4cbb76=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fRY2');if(_0x4cbb76<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x4cbb76,_0x31bc29['fRYBottom']);break;case _0x15ec38['SR_DE_FISH_SEMISPHERE']:this['pCamera']['SetScale'](this['fScale']),this['pCamera']['SetPitch'](3.14-this['fRotateX']),this['pCamera']['SetYaw'](-this['fRotateY']),this['pCamera']['UpdateCamera'](this['canvas']['width'],this['canvas']['height']);var _0x56f8ce=this['pCamera']['GetView'](),_0x570ad2=this['pCamera']['GetProj'](),_0x4465be=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'matView');if(_0x4465be<=0x0)return _0x1d3582;this['ctx']['uniformMatrix4fv'](_0x4465be,!0x1,_0x56f8ce);var _0x5bd35e=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'matProj');if(_0x5bd35e<=0x0)return _0x1d3582;this['ctx']['uniformMatrix4fv'](_0x5bd35e,!0x1,_0x570ad2);break;case _0x15ec38['SR_DE_FISH_CYLINDER_CEILING']:case _0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']:case _0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']:case _0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']:this['pCamera']['SetScale'](this['fScale']),this['pCamera']['SetPitch'](-this['fRotateX']),this['pCamera']['SetYaw'](-this['fRotateY']),this['pCamera']['UpdateCamera'](this['canvas']['width'],this['canvas']['height']);var _0x515b61=this['pCamera']['GetView'](),_0x3b31cf=this['pCamera']['GetProj'](),_0x4cff68=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'matView');if(_0x4cff68<=0x0)return _0x1d3582;this['ctx']['uniformMatrix4fv'](_0x4cff68,!0x1,_0x515b61);var _0x38de7b=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'matProj');if(_0x38de7b<=0x0)return _0x1d3582;this['ctx']['uniformMatrix4fv'](_0x38de7b,!0x1,_0x3b31cf);break;default:return _0x58915e;}if(this['canvas']['width']<=0x0||this['canvas']['height']<=0x0)return _0x392661;if(null!=_0x54d34e&&(_0x42deeb=this['SR_SetDisplayRect'](_0x54d34e['fx'],_0x54d34e['fy'],_0x54d34e['width'],_0x54d34e['height'],_0x1cdfc1))!=_0x24d60c)return _0x42deeb;if(null!=_0x54d34e?this['ctx']['viewport'](this['canvas']['width']*this['fDstUseLeft'],this['canvas']['height']*this['fDstUseTop'],this['canvas']['width']*this['fDstUseRight'],this['canvas']['height']*this['fDstUseBottom']):(this['ctx']['viewport'](0x0,0x0,this['canvas']['width'],this['canvas']['height']),this['ctx']['clearColor'](0x0,0x0,0x0,0x1),this['ctx']['clear'](this['ctx']['COLOR_BUFFER_BIT']|this['ctx']['DEPTH_BUFFER_BIT'])),this['b3DPort']&&(this['ctx']['enable'](this['ctx']['DEPTH_TEST']),this['ctx']['depthFunc'](this['ctx']['LESS']),this['ctx']['depthMask'](!0x0),0x1==this['bCullBack']?this['ctx']['enable'](this['ctx']['CULL_FACE']):this['ctx']['disable'](this['ctx']['CULL_FACE'])),this['enPixelFormat']==_0x4d876c)this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nSurfaceTexture'][0x0]),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['RGBA'],_0x5a4d89,_0x59e9df,0x0,this['ctx']['RGBA'],this['ctx']['UNSIGNED_BYTE'],_0x414dc9),0x1==this['bAntialias']&&this['ctx']['generateMipmap'](this['ctx']['TEXTURE_2D']);else {if(this['enPixelFormat']==_0x407160){var _0x37bc4d=this['pFrameData']['subarray'](0x0,_0x5a4d89*_0x59e9df);this['ctx']['activeTexture'](this['ctx']['TEXTURE0']),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nSurfaceTexture'][0x0]),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['LUMINANCE'],_0x5a4d89,_0x59e9df,0x0,this['ctx']['LUMINANCE'],this['ctx']['UNSIGNED_BYTE'],_0x37bc4d);var _0x196fa4=this['pFrameData']['subarray'](_0x5a4d89*_0x59e9df+_0x5a4d89/0x2*_0x59e9df/0x2,_0x5a4d89*_0x59e9df+_0x5a4d89/0x2*_0x59e9df/0x2+_0x5a4d89/0x2*_0x59e9df/0x2);this['ctx']['activeTexture'](this['ctx']['TEXTURE1']),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nSurfaceTexture'][0x1]),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['LUMINANCE'],_0x5a4d89/0x2,_0x59e9df/0x2,0x0,this['ctx']['LUMINANCE'],this['ctx']['UNSIGNED_BYTE'],_0x196fa4);var _0x1dc46d=this['pFrameData']['subarray'](_0x5a4d89*_0x59e9df,_0x5a4d89*_0x59e9df+_0x5a4d89/0x2*_0x59e9df/0x2);this['ctx']['activeTexture'](this['ctx']['TEXTURE2']),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nSurfaceTexture'][0x2]),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['LUMINANCE'],_0x5a4d89/0x2,_0x59e9df/0x2,0x0,this['ctx']['LUMINANCE'],this['ctx']['UNSIGNED_BYTE'],_0x1dc46d),0x1==this['bAntialias']&&this['ctx']['generateMipmap'](this['ctx']['TEXTURE_2D']),_0x37bc4d=null,_0x196fa4=null,_0x1dc46d=null;}else this['enPixelFormat']==_0x1300c9&&(_0x37bc4d=this['pFrameData']['subarray'](0x0,_0x5a4d89*_0x59e9df),(this['ctx']['activeTexture'](this['ctx']['TEXTURE0']),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nSurfaceTexture'][0x0]),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['LUMINANCE'],_0x5a4d89,_0x59e9df,0x0,this['ctx']['LUMINANCE'],this['ctx']['UNSIGNED_BYTE'],_0x37bc4d)),_0x196fa4=this['pFrameData']['subarray'](_0x5a4d89*_0x59e9df,_0x5a4d89*_0x59e9df+_0x5a4d89/0x2*_0x59e9df/0x2),(this['ctx']['activeTexture'](this['ctx']['TEXTURE1']),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nSurfaceTexture'][0x1]),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['LUMINANCE'],_0x5a4d89/0x2,_0x59e9df/0x2,0x0,this['ctx']['LUMINANCE'],this['ctx']['UNSIGNED_BYTE'],_0x196fa4)),_0x1dc46d=this['pFrameData']['subarray'](_0x5a4d89*_0x59e9df+_0x5a4d89/0x2*_0x59e9df/0x2,_0x5a4d89*_0x59e9df+_0x5a4d89/0x2*_0x59e9df/0x2+_0x5a4d89/0x2*_0x59e9df/0x2),(this['ctx']['activeTexture'](this['ctx']['TEXTURE2']),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nSurfaceTexture'][0x2]),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['LUMINANCE'],_0x5a4d89/0x2,_0x59e9df/0x2,0x0,this['ctx']['LUMINANCE'],this['ctx']['UNSIGNED_BYTE'],_0x1dc46d),0x1==this['bAntialias']&&this['ctx']['generateMipmap'](this['ctx']['TEXTURE_2D']),_0x37bc4d=null,_0x196fa4=null,_0x1dc46d=null));}if(this['onlySupportedWebGL1']||this['ctx']['clearBufferfi'](this['ctx']['DEPTH_STENCIL'],0x0,0x1,0x0),0x0==this['b3DPort'])this['ctx']['drawArrays'](this['ctx']['TRIANGLE_FAN'],0x0,0x4);else {if(this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_SEMISPHERE']){if(this['nSemiSpherePosNum']<=0x0)return _0x19c02b;this['ctx']['drawArrays'](this['ctx']['TRIANGLES'],0x0,this['nSemiSpherePosNum']);}else {if(this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_CYLINDER_CEILING']||this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']){if(this['nCylinderPosNum']<=0x0)return _0x19c02b;this['ctx']['drawArrays'](this['ctx']['TRIANGLES'],0x0,this['nCylinderPosNum']);}else {if(this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']||this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']){if(this['nArcSpherePosNum']<=0x0)return _0x19c02b;this['ctx']['drawArrays'](this['ctx']['TRIANGLES'],0x0,this['nArcSpherePosNum']);}}}}if(this['ctx']['useProgram'](null),null!=this['pFishParamManager']){var _0x10d655=this['pFishParamManager']['GetWndPort']();_0x10d655!=_0x3a9b00&&_0x10d655==this['nFECPort']&&this['DrawPTZLines']();}return null!=this['pfuncCBIn']&&this['pfuncCBIn'](this['pUserIn']),null!=this['pfuncCBOut']&&this['pfuncCBOut'](this['pUserOut']),_0x24d60c;}},{'key':'DrawPTZLines','value':function(){if(null==this['pFishParamManager'])return _0x19c02b;var _0xc057c3=this['pFishParamManager']['GetPTZDisplayMode']();if(_0xc057c3==_0x3212b8||_0xc057c3==_0x35d15f){for(var _0x1a1b15=0x0,_0x30781e={'fR':0x0,'fG':0x0,'fB':0x0,'fA':0x0},_0x4d5143=_0x24d60c,_0x47b38e=0x0;_0x47b38e<_0x39ae26;++_0x47b38e)if(0x0!=this['pFishParamManager']['IsPortAllocated'](_0x47b38e)&&(_0x1a1b15=0x2,_0x4d5143=this['pFishParamManager']['GetPTZColor'](_0x47b38e,_0x30781e),_0x24d60c==_0x4d5143)){0x1==this['pFishParamManager']['IsPTZSelected'](_0x47b38e)&&(_0x1a1b15+=0x1);var _0x17d4cd=this['pFishParamManager']['GetWndPort']();if(_0x47b38e!=_0x17d4cd&&_0x3212b8==_0xc057c3){if(_0x15ec38['SR_DE_FISH_ORIGINAL']==this['pFishParamManager']['GetDisplayEffect'](_0x17d4cd)){var _0x3dbdae={};if(_0x4d5143=this['pFishParamManager']['GetPTZPoints'](_0x47b38e,_0x3dbdae,_0x3212b8),_0x24d60c!=_0x4d5143)continue;if(null!=_0x3dbdae['pstPoints']&&0x0!=_0x3dbdae['nPointNum']&&(_0x4d5143=this['SR_DrawLines'](_0x3dbdae['pstPoints'],_0x3dbdae['nPointNum'],!0x0,_0x30781e,_0x1a1b15,!0x1),_0x24d60c!=_0x4d5143))continue;}else {var _0x447ac1;if((_0x447ac1=this['pFishParamManager']['GetPTZFragmentNum'](_0x47b38e))<=0x0)continue;for(var _0x5a0278=0x0;_0x5a0278<_0x447ac1;_0x5a0278++){var _0xf3e566={};this['pFishParamManager']['GetPTZFragmentPoints'](_0x47b38e,_0xf3e566,_0x5a0278),null!=_0xf3e566['pstPoints']&&0x0!=_0xf3e566['nPointNum']&&this['SR_DrawLines'](_0xf3e566['pstPoints'],_0xf3e566['nPointNum'],!0x1,_0x30781e,_0x1a1b15,!0x1);}}}else {if(_0x47b38e!=_0x17d4cd&&_0x35d15f==_0xc057c3){var _0x12d694={};if(_0x4d5143=this['pFishParamManager']['GetPTZPoints'](_0x47b38e,_0x12d694,_0x35d15f),_0x24d60c!=_0x4d5143)continue;if(null!=_0x12d694['pstPoints']&&0x0!=_0x12d694['nPointNum']&&(_0x4d5143=this['SR_DrawLines'](_0x12d694['pstPoints'],_0x12d694['nPointNum'],!0x0,_0x30781e,_0x1a1b15,!0x1),_0x24d60c!=_0x4d5143))continue;}}}}return _0x24d60c;}},{'key':'DrawFillBlock','value':function(_0x4e297d,_0x2344d0,_0x3469f4){if(null==this['ctx'])return _0x19c02b;if(null==_0x4e297d||_0x2344d0<0x1||_0x3469f4<0x2)return _0x1c46d8;for(var _0x11ca6e=0x0,_0x3c3809=0x0;_0x3c3809<_0x2344d0;++_0x3c3809){if(null==_0x4e297d[_0x3c3809]['pstPoints']||_0x4e297d[_0x3c3809]['nPointNum']<0x3||!0x0!==_0x4e297d[_0x3c3809]['bLoop']||null==_0x4e297d[_0x3c3809]['pstColor'])return _0x1c46d8;_0x11ca6e+=_0x4e297d[_0x3c3809]['nPointNum'];}if(_0x11ca6e!==_0x3469f4)return _0x1c46d8;var _0x5729fd=_0x3469f4-0x2*_0x2344d0;if(_0x5729fd>this['nMaxFillBlockTriNum']&&(this['pFillBlockPosVertices']=null,this['pFillBlockClrVertices']=null,this['nMaxFillBlockTriNum']=_0x5729fd),0x0==this['glBlockPosBuffer']&&(this['glBlockPosBuffer']=this['ctx']['createBuffer'](),0x0==this['glBlockPosBuffer']))return _0x1d3582;if(0x0==this['glBlockClrBuffer']&&(this['glBlockClrBuffer']=this['ctx']['createBuffer'](),0x0==this['glBlockClrBuffer']))return _0x1d3582;if(null==this['pFillBlockPosVertices']){var _0x15a65f=this['nMaxFillBlockTriNum'];if(this['pFillBlockPosVertices']=new Float32Array(0x3*_0x15a65f*0x3),null==this['pFillBlockPosVertices'])return _0x46c175;}if(this['pFillBlockPosVertices']['fill'](0x0),null==this['pFillBlockClrVertices']){var _0x4ac6ab=this['nMaxFillBlockTriNum'];if(this['pFillBlockClrVertices']=new Float32Array(0x4*_0x4ac6ab*0x3),null==this['pFillBlockClrVertices'])return _0x46c175;}this['pFillBlockClrVertices']['fill'](0x0);for(var _0x83979d=0x0,_0x220209=0x0,_0x34f5fa=0x0,_0x1667b3=null,_0x35fe8d=null,_0x1cd1db={},_0x32c015={},_0x22d50d={},_0x53c2ab=0x0;_0x53c2ab<_0x2344d0;++_0x53c2ab){_0x34f5fa=_0x4e297d[_0x53c2ab]['nPointNum'],_0x1667b3=_0x4e297d[_0x53c2ab]['pstPoints'],_0x35fe8d=_0x4e297d[_0x53c2ab]['pstColor'],_0x1cd1db['fX']=(_0x1667b3[0x0]['fX']-this['fSrcUseLeft'])/(this['fSrcUseRight']-this['fSrcUseLeft']),_0x1cd1db['fX']=this['fDstUseLeft']+_0x1cd1db['fX']*(this['fDstUseRight']-this['fDstUseLeft']),_0x1cd1db['fX']=0x2*_0x1cd1db['fX']-0x1,_0x1cd1db['fY']=(_0x1667b3[0x0]['fY']-this['fSrcUseTop'])/(this['fSrcUseBottom']-this['fSrcUseTop']),_0x1cd1db['fY']=this['fDstUseTop']+_0x1cd1db['fY']*(this['fDstUseBottom']-this['fDstUseTop']),_0x1cd1db['fY']=0x1-0x2*_0x1cd1db['fY'];for(var _0x5ac8d4=0x1;_0x5ac8d4<_0x34f5fa-0x1;_0x5ac8d4++)_0x32c015['fX']=(_0x1667b3[_0x5ac8d4]['fX']-this['fSrcUseLeft'])/(this['fSrcUseRight']-this['fSrcUseLeft']),_0x32c015['fX']=this['fDstUseLeft']+_0x32c015['fX']*(this['fDstUseRight']-this['fDstUseLeft']),_0x32c015['fX']=0x2*_0x32c015['fX']-0x1,_0x32c015['fY']=(_0x1667b3[_0x5ac8d4]['fY']-this['fSrcUseTop'])/(this['fSrcUseBottom']-this['fSrcUseTop']),_0x32c015['fY']=this['fDstUseTop']+_0x32c015['fY']*(this['fDstUseBottom']-this['fDstUseTop']),_0x32c015['fY']=0x1-0x2*_0x32c015['fY'],_0x22d50d['fX']=(_0x1667b3[_0x5ac8d4+0x1]['fX']-this['fSrcUseLeft'])/(this['fSrcUseRight']-this['fSrcUseLeft']),_0x22d50d['fX']=this['fDstUseLeft']+_0x22d50d['fX']*(this['fDstUseRight']-this['fDstUseLeft']),_0x22d50d['fX']=0x2*_0x22d50d['fX']-0x1,_0x22d50d['fY']=(_0x1667b3[_0x5ac8d4+0x1]['fY']-this['fSrcUseTop'])/(this['fSrcUseBottom']-this['fSrcUseTop']),_0x22d50d['fY']=this['fDstUseTop']+_0x22d50d['fY']*(this['fDstUseBottom']-this['fDstUseTop']),_0x22d50d['fY']=0x1-0x2*_0x22d50d['fY'],this['pFillBlockPosVertices'][_0x83979d++]=_0x1cd1db['fX'],this['pFillBlockPosVertices'][_0x83979d++]=_0x1cd1db['fY'],this['pFillBlockPosVertices'][_0x83979d++]=0x0,this['pFillBlockClrVertices'][_0x220209++]=_0x35fe8d['fR'],this['pFillBlockClrVertices'][_0x220209++]=_0x35fe8d['fG'],this['pFillBlockClrVertices'][_0x220209++]=_0x35fe8d['fB'],this['pFillBlockClrVertices'][_0x220209++]=_0x35fe8d['fA'],this['pFillBlockPosVertices'][_0x83979d++]=_0x32c015['fX'],this['pFillBlockPosVertices'][_0x83979d++]=_0x32c015['fY'],this['pFillBlockPosVertices'][_0x83979d++]=0x0,this['pFillBlockClrVertices'][_0x220209++]=_0x35fe8d['fR'],this['pFillBlockClrVertices'][_0x220209++]=_0x35fe8d['fG'],this['pFillBlockClrVertices'][_0x220209++]=_0x35fe8d['fB'],this['pFillBlockClrVertices'][_0x220209++]=_0x35fe8d['fA'],this['pFillBlockPosVertices'][_0x83979d++]=_0x22d50d['fX'],this['pFillBlockPosVertices'][_0x83979d++]=_0x22d50d['fY'],this['pFillBlockPosVertices'][_0x83979d++]=0x0,this['pFillBlockClrVertices'][_0x220209++]=_0x35fe8d['fR'],this['pFillBlockClrVertices'][_0x220209++]=_0x35fe8d['fG'],this['pFillBlockClrVertices'][_0x220209++]=_0x35fe8d['fB'],this['pFillBlockClrVertices'][_0x220209++]=_0x35fe8d['fA'];}if(0x0==this['nBlockShaderProgram']&&(this['nBlockShaderProgram']=this['CompileProgram'](_0x266ef1,_0x262779),this['nBlockShaderProgram']<=0x0))return _0x1d3582;this['ctx']['enable'](this['ctx']['BLEND']),this['ctx']['blendFunc'](this['ctx']['SRC_ALPHA'],this['ctx']['ONE_MINUS_SRC_ALPHA']),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['glBlockPosBuffer']),this['ctx']['bufferData'](this['ctx']['ARRAY_BUFFER'],this['pFillBlockPosVertices'],this['ctx']['STATIC_DRAW']),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['glBlockClrBuffer']),this['ctx']['bufferData'](this['ctx']['ARRAY_BUFFER'],this['pFillBlockClrVertices'],this['ctx']['STATIC_DRAW']),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null),this['ctx']['useProgram'](this['nBlockShaderProgram']);var _0x4416d5=this['ctx']['getUniformLocation'](this['nLineShaderProgram'],'bCapture');if(_0x4416d5<=0x0)return _0x1d3582;0x1==this['bIsCapturing']?this['ctx']['uniform1i'](_0x4416d5,0x1):this['ctx']['uniform1i'](_0x4416d5,0x0),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['glBlockPosBuffer']);var _0x2bd7eb=this['ctx']['getAttribLocation'](this['nBlockShaderProgram'],'position');this['ctx']['enableVertexAttribArray'](_0x2bd7eb),this['ctx']['vertexAttribPointer'](_0x2bd7eb,0x3,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['glBlockClrBuffer']);var _0x5b41c9=this['ctx']['getAttribLocation'](this['nBlockShaderProgram'],'color');return this['ctx']['enableVertexAttribArray'](_0x5b41c9),this['ctx']['vertexAttribPointer'](_0x5b41c9,0x4,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null),this['ctx']['drawArrays'](this['ctx']['TRIANGLES'],0x0,0x3*_0x5729fd),this['ctx']['useProgram'](null),this['ctx']['disable'](this['ctx']['BLEND']),_0x24d60c;}},{'key':'ComputeLinePoint','value':function(_0x42469f,_0x33068c){if(null==_0x42469f||_0x33068c<0x1)return _0x1c46d8;if(null==this['pLinePosVertices']||null==this['pLineClrVertices'])return _0x19c02b;var _0x210741=0x0,_0x18c90d=0x0;0x1==this['bIsCapturing']?(_0x210741=(this['fDstUseRight']-this['fDstUseLeft'])*this['nCaptureWidth'],_0x18c90d=(this['fDstUseBottom']-this['fDstUseTop'])*this['nCaptureHeight']):(_0x210741=(this['fDstUseRight']-this['fDstUseLeft'])*this['canvas']['width'],_0x18c90d=(this['fDstUseBottom']-this['fDstUseTop'])*this['canvas']['height']);for(var _0x2e2bd3=0x0,_0x3894c4=0x0,_0x355b49=0x0,_0x337b35=0x0,_0x24b0df=0x0,_0x4f88b6=0x0,_0x278452=0x0,_0x389320=0x0,_0x20586d=0x0,_0x5ef807=0x0,_0x207acd=0x0,_0x57c6f3=0x0;_0x57c6f3<_0x33068c;++_0x57c6f3){var _0x5f1b28=[];if(!((_0x207acd=_0x42469f[_0x57c6f3]['nPointNum'])<=0x0)){for(var _0x553732=0x0;_0x553732<_0x207acd;++_0x553732){var _0x1fffec={};_0x1fffec['fX']=(_0x42469f[_0x57c6f3]['pstPoints'][_0x553732]['fX']-this['fSrcUseLeft'])/(this['fSrcUseRight']-this['fSrcUseLeft']),_0x1fffec['fX']=this['fDstUseLeft']+_0x1fffec['fX']*(this['fDstUseRight']-this['fDstUseLeft']),_0x1fffec['fX']=0x2*_0x1fffec['fX']-0x1,_0x1fffec['fY']=(_0x42469f[_0x57c6f3]['pstPoints'][_0x553732]['fY']-this['fSrcUseTop'])/(this['fSrcUseBottom']-this['fSrcUseTop']),_0x1fffec['fY']=this['fDstUseTop']+_0x1fffec['fY']*(this['fDstUseBottom']-this['fDstUseTop']),_0x1fffec['fY']=0x1-0x2*_0x1fffec['fY'],_0x5f1b28['push'](_0x1fffec);}if(this['canvas']['width']<=0x0||this['canvas']['height']<=0x0)return _0x392661;if(_0x4f88b6=3.5*_0x42469f[_0x57c6f3]['nLineWidth']/_0x210741,_0x278452=3.5*_0x42469f[_0x57c6f3]['nLineWidth']/_0x18c90d,_0x4f88b6<=0x0||_0x278452<=0x0)return _0x1c46d8;var _0x4daef7=_0x42469f[_0x57c6f3]['pstColor'];if(null==_0x4daef7||null==_0x4daef7)return _0x1c46d8;for(var _0x23d042=0x0;_0x23d042<_0x207acd-0x1;++_0x23d042)_0x3894c4=_0x5f1b28[_0x23d042+0x1]['fX']-_0x5f1b28[_0x23d042]['fX'],_0x355b49=_0x5f1b28[_0x23d042+0x1]['fY']-_0x5f1b28[_0x23d042]['fY'],_0x2e2bd3=Math['sqrt'](_0x3894c4*_0x3894c4+_0x355b49*_0x355b49),Math['abs'](_0x2e2bd3-0x0)<0.000001||(_0x337b35=-_0x4f88b6*_0x355b49/_0x2e2bd3/0x2,_0x24b0df=_0x278452*_0x3894c4/_0x2e2bd3/0x2,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x23d042]['fX']+_0x337b35,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x23d042]['fY']+_0x24b0df,this['pLinePosVertices'][_0x20586d++]=-0x1,this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fR'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fG'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fB'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fA'],this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x23d042+0x1]['fX']-_0x337b35,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x23d042+0x1]['fY']-_0x24b0df,this['pLinePosVertices'][_0x20586d++]=0x1,this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fR'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fG'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fB'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fA'],this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x23d042]['fX']-_0x337b35,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x23d042]['fY']-_0x24b0df,this['pLinePosVertices'][_0x20586d++]=0x1,this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fR'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fG'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fB'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fA'],this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x23d042]['fX']+_0x337b35,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x23d042]['fY']+_0x24b0df,this['pLinePosVertices'][_0x20586d++]=-0x1,this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fR'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fG'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fB'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fA'],this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x23d042+0x1]['fX']+_0x337b35,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x23d042+0x1]['fY']+_0x24b0df,this['pLinePosVertices'][_0x20586d++]=-0x1,this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fR'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fG'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fB'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fA'],this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x23d042+0x1]['fX']-_0x337b35,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x23d042+0x1]['fY']-_0x24b0df,this['pLinePosVertices'][_0x20586d++]=0x1,this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fR'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fG'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fB'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fA'],_0x389320+=0x2);0x1==_0x42469f[_0x57c6f3]['bLoop']&&0x2<_0x207acd&&(_0x3894c4=_0x5f1b28[_0x207acd-0x1]['fX']-_0x5f1b28[0x0]['fX'],_0x355b49=_0x5f1b28[_0x207acd-0x1]['fY']-_0x5f1b28[0x0]['fY'],_0x2e2bd3=Math['sqrt'](_0x3894c4*_0x3894c4+_0x355b49*_0x355b49),Math['abs'](_0x2e2bd3-0x0)>0.000001&&(_0x337b35=-_0x4f88b6*_0x355b49/_0x2e2bd3/0x2,_0x24b0df=_0x278452*_0x3894c4/_0x2e2bd3/0x2,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[0x0]['fX']+_0x337b35,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[0x0]['fY']+_0x24b0df,this['pLinePosVertices'][_0x20586d++]=-0x1,this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fR'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fG'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fB'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fA'],this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x207acd-0x1]['fX']-_0x337b35,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x207acd-0x1]['fY']-_0x24b0df,this['pLinePosVertices'][_0x20586d++]=0x1,this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fR'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fG'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fB'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fA'],this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[0x0]['fX']-_0x337b35,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[0x0]['fY']-_0x24b0df,this['pLinePosVertices'][_0x20586d++]=0x1,this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fR'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fG'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fB'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fA'],this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[0x0]['fX']+_0x337b35,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[0x0]['fY']+_0x24b0df,this['pLinePosVertices'][_0x20586d++]=-0x1,this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fR'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fG'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fB'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fA'],this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x207acd-0x1]['fX']+_0x337b35,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x207acd-0x1]['fY']+_0x24b0df,this['pLinePosVertices'][_0x20586d++]=-0x1,this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fR'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fG'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fB'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fA'],this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x207acd-0x1]['fX']-_0x337b35,this['pLinePosVertices'][_0x20586d++]=_0x5f1b28[_0x207acd-0x1]['fY']-_0x24b0df,this['pLinePosVertices'][_0x20586d++]=0x1,this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fR'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fG'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fB'],this['pLineClrVertices'][_0x5ef807++]=_0x4daef7['fA'],_0x389320+=0x2));}}return 0x0==_0x389320?_0x1c46d8:(this['nLineTriangleNum']=_0x389320,_0x24d60c);}},{'key':'SR_DrawLines','value':function(_0x4937b7,_0x37ff0a,_0xb0e93f,_0x45b38d,_0x73c59d,_0x396f6c){var _0x50cb79=[],_0x7aaa4a={};return _0x7aaa4a['pstPoints']=_0x4937b7,_0x7aaa4a['nPointNum']=_0x37ff0a,_0x7aaa4a['bLoop']=_0xb0e93f,_0x7aaa4a['pstColor']=_0x45b38d,_0x7aaa4a['nLineWidth']=_0x73c59d,_0x50cb79['push'](_0x7aaa4a),this['SR_DrawLinesEx'](_0x50cb79,0x1,_0x37ff0a,_0x396f6c);}},{'key':'SR_DrawLinesEx','value':function(_0xa247dd,_0x677010,_0x2fece2,_0x5da751){if(null==this['ctx'])return _0x19c02b;if(null==_0xa247dd||_0x677010<0x1||_0x2fece2<0x2)return _0x1c46d8;if(0x0==this['nLineShaderProgram']){var _0x28feb9=this['CompileProgram'](_0x266ef1,_0x262779);if(_0x28feb9<=0x0)return _0x1d3582;this['nLineShaderProgram']=_0x28feb9;}if(0x1==_0x5da751)return this['DrawFillBlock'](_0xa247dd,_0x677010,_0x2fece2);for(var _0x468cf6=0x0,_0x857a90=0x0;_0x857a90<_0x677010;++_0x857a90){if(null==_0xa247dd[_0x857a90]['pstPoints']||_0xa247dd[_0x857a90]['nPointNum']<=0x1||_0xa247dd[_0x857a90]['nPointNum']>=0x400||_0xa247dd[_0x857a90]['nLineWidth']<=0x0||null==_0xa247dd[_0x857a90]['pstColor'])return _0x1c46d8;_0x468cf6+=_0xa247dd[_0x857a90]['nPointNum'];}if(_0x468cf6!=_0x2fece2)return _0x1c46d8;if((_0x468cf6+=_0x677010)>this['nMaxPointNum']&&(this['nMaxPointNum']=_0x468cf6,this['pLinePosVertices']=null,this['pLineClrVertices']=null),null==this['pLinePosVertices']&&(this['pLinePosVertices']=new Float32Array(0x6*this['nMaxPointNum']*0x3),null==this['pLinePosVertices']))return _0x46c175;if(this['pLinePosVertices']['fill'](0x0),null==this['pLineClrVertices']&&(this['pLineClrVertices']=new Float32Array(0x6*this['nMaxPointNum']*0x4),null==this['pLineClrVertices']))return _0x46c175;if(this['pLineClrVertices']['fill'](0x0),0x0==this['glLinePosBuffer']&&(this['glLinePosBuffer']=this['ctx']['createBuffer'](),0x0==this['glLinePosBuffer']))return _0x1d3582;if(0x0==this['glLineClrBuffer']&&(this['glLineClrBuffer']=this['ctx']['createBuffer'](),0x0==this['glLineClrBuffer']))return _0x1d3582;var _0x419b2c=this['ComputeLinePoint'](_0xa247dd,_0x677010);if(_0x24d60c!=_0x419b2c)return _0x419b2c;this['ctx']['enable'](this['ctx']['BLEND']),this['ctx']['blendFunc'](this['ctx']['SRC_ALPHA'],this['ctx']['ONE_MINUS_SRC_ALPHA']);var _0x4f39ad=this['nLineShaderProgram'];this['ctx']['useProgram'](_0x4f39ad);var _0x17f97b=this['ctx']['getUniformLocation'](this['nLineShaderProgram'],'bCapture');if(_0x17f97b<=0x0)return _0x1d3582;0x1==this['bIsCapturing']?this['ctx']['uniform1i'](_0x17f97b,0x1):this['ctx']['uniform1i'](_0x17f97b,0x0);var _0x1214d9=this['glLinePosBuffer'],_0x2cc7f2=this['glLineClrBuffer'],_0x3a5f8d=this['nLineTriangleNum'],_0x290f9d=this['pLinePosVertices'],_0x264e6a=this['pLineClrVertices'];this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],_0x1214d9),this['ctx']['bufferData'](this['ctx']['ARRAY_BUFFER'],_0x290f9d,this['ctx']['STATIC_DRAW']);var _0x47632b=this['ctx']['getAttribLocation'](_0x4f39ad,'position');this['ctx']['enableVertexAttribArray'](_0x47632b),this['ctx']['vertexAttribPointer'](_0x47632b,0x3,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],_0x2cc7f2),this['ctx']['bufferData'](this['ctx']['ARRAY_BUFFER'],_0x264e6a,this['ctx']['STATIC_DRAW']);var _0x567f42=this['ctx']['getAttribLocation'](_0x4f39ad,'color');return this['ctx']['enableVertexAttribArray'](_0x567f42),this['ctx']['vertexAttribPointer'](_0x567f42,0x4,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null),0x1==this['bIsCapturing']?this['ctx']['viewport'](0x0,0x0,this['nCaptureWidth'],this['nCaptureHeight']):this['ctx']['viewport'](0x0,0x0,this['canvas']['width'],this['canvas']['height']),this['ctx']['drawArrays'](this['ctx']['TRIANGLES'],0x0,0x3*_0x3a5f8d),this['ctx']['useProgram'](null),this['ctx']['disable'](this['ctx']['BLEND']),_0x24d60c;}},{'key':'SR_DrawFont','value':function(_0x14694e,_0xc523ba,_0x424191,_0x5dd04c,_0x5c6803,_0x51467e,_0x27bf4b,_0x58a8df,_0x18a440,_0x2b7d02,_0xc2fcc4){if(null==_0x14694e||null==_0xc523ba||null==_0x424191||_0x5dd04c<=0x1||_0x5c6803<=0x1)return _0x1c46d8;if(0x1==_0x51467e&&null==_0x27bf4b)return _0x1c46d8;var _0x1e664d=[],_0x34e0ee={};return _0x34e0ee['bBackground']=_0x51467e,_0x34e0ee['nFontWidth']=_0x5dd04c,_0x34e0ee['nFontHeight']=_0x5c6803,_0x34e0ee['pstBGColor']=_0x27bf4b,_0x34e0ee['pstFontColor']=_0x424191,_0x34e0ee['pString']=_0x14694e,_0x34e0ee['pstStartPos']=_0xc523ba,_0x34e0ee['fRotateAngle']=_0x58a8df,_0x34e0ee['pFontFamily']=_0x18a440,_0x34e0ee['textAlign']=_0x2b7d02,_0x34e0ee['textBaseline']=_0xc2fcc4,_0x1e664d['push'](_0x34e0ee),this['SR_DrawFontEx'](_0x1e664d,0x1);}},{'key':'SR_DrawFontEx','value':function(_0x39f7c0,_0x4d7fa3){if(null==this['ctx'])return _0x19c02b;if(0x0>_0x4d7fa3||null==_0x39f7c0)return _0x1c46d8;var _0x109172,_0xb62967,_0x1f3286=0x0,_0x439adc=0x0;if(0x1==this['bIsCapturing']){if(0x0==this['nCaptureWidth']||0x0==this['nCaptureHeight'])return _0x19c02b;_0x1f3286=Math['round']((this['fDstUseRight']-this['fDstUseLeft'])*this['nCaptureWidth']),_0x439adc=Math['round']((this['fDstUseBottom']-this['fDstUseTop'])*this['nCaptureHeight']);}else _0x1f3286=Math['round']((this['fDstUseRight']-this['fDstUseLeft'])*this['canvas']['width']),_0x439adc=Math['round']((this['fDstUseBottom']-this['fDstUseTop'])*this['canvas']['height']);if(_0x1f3286=_0x1f3286+0x4-_0x1f3286%0x4,_0x439adc=_0x439adc+0x4-_0x439adc%0x4,this['nDrawFontWidth']==_0x1f3286&&this['nDrawFontHeight']==_0x439adc||(this['pFontColorBuffer']=null,this['nFontColorTexture']=0x0,this['nDrawFontWidth']=_0x1f3286,this['nDrawFontHeight']=_0x439adc,null!=this['textCanvas']&&(this['textCanvas']['remove'](),this['textCanvas']=null,this['textCanvasCtx']=null)),0x0==this['nFontColorTexture']){if(this['nFontColorTexture']=this['ctx']['createTexture'](),0x0==this['nFontColorTexture'])return _0x1d3582;this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nFontColorTexture']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MAG_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MIN_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_S'],this['ctx']['CLAMP_TO_EDGE']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_T'],this['ctx']['CLAMP_TO_EDGE']);}if(null==this['textCanvas']){if(this['textCanvas']=document['createElement']('canvas'),null==this['textCanvas'])return _0x2a6629;if(this['textCanvasCtx']=this['textCanvas']['getContext']('2d'),null==this['textCanvasCtx'])return _0x2a6629;this['textCanvasCtx']['canvas']['width']=this['nDrawFontWidth'],this['textCanvasCtx']['canvas']['height']=this['nDrawFontHeight'];}this['textCanvasCtx']['clearRect'](0x0,0x0,this['nDrawFontWidth'],this['nDrawFontHeight']);for(var _0x5534a7=0x0;_0x5534a7<_0x4d7fa3;++_0x5534a7){var _0x282ee6=_0x39f7c0[_0x5534a7]['nFontWidth'],_0x68d36d=_0x39f7c0[_0x5534a7]['nFontHeight'];0x1==this['bIsCapturing']&&(_0x282ee6=Math['round'](0.7*this['nCaptureWidth']/this['canvas']['width']*_0x282ee6),_0x68d36d=Math['round'](0.7*this['nCaptureHeight']/this['canvas']['height']*_0x68d36d));var _0x434dff=_0x282ee6<_0x68d36d?_0x282ee6:_0x68d36d;this['textCanvasCtx']['font']=_0x434dff['toString']()+'px\x20'+_0x39f7c0[_0x5534a7]['pFontFamily'],null==_0x39f7c0[_0x5534a7]['textAlign']||null==_0x39f7c0[_0x5534a7]['textAlign']?this['textCanvasCtx']['textAlign']='left':this['textCanvasCtx']['textAlign']=_0x39f7c0[_0x5534a7]['textAlign'],null==_0x39f7c0[_0x5534a7]['textBaseline']||null==_0x39f7c0[_0x5534a7]['textBaseline']?this['textCanvasCtx']['textBaseline']='top':this['textCanvasCtx']['textBaseline']=_0x39f7c0[_0x5534a7]['textBaseline'];var _0x39db5e=parseInt(0xff*_0x39f7c0[_0x5534a7]['pstFontColor']['fR']),_0xec6563=parseInt(0xff*_0x39f7c0[_0x5534a7]['pstFontColor']['fG']),_0x50fb46=parseInt(0xff*_0x39f7c0[_0x5534a7]['pstFontColor']['fB']),_0x4330bf=_0x39db5e<0x10?'0'+_0x39db5e['toString'](0x10):_0x39db5e['toString'](0x10),_0x2ed7e6=_0xec6563<0x10?'0'+_0xec6563['toString'](0x10):_0xec6563['toString'](0x10),_0x571b14=_0x50fb46<0x10?'0'+_0x50fb46['toString'](0x10):_0x50fb46['toString'](0x10);this['textCanvasCtx']['fillStyle']='#'+_0x4330bf+_0x2ed7e6+_0x571b14,this['textCanvasCtx']['globalAlpha']=_0x39f7c0[_0x5534a7]['pstFontColor']['fA'];var _0x4092a1=_0x39f7c0[_0x5534a7]['pstStartPos']['fX']*this['nDrawFontWidth'],_0x2de1ca=_0x39f7c0[_0x5534a7]['pstStartPos']['fY']*this['nDrawFontHeight'];this['textCanvasCtx']['save'](),this['textCanvasCtx']['translate'](_0x4092a1,_0x2de1ca),this['textCanvasCtx']['rotate'](_0x39f7c0[_0x5534a7]['fRotateAngle']*Math['PI']/0xb4),this['textCanvasCtx']['fillText'](_0x39f7c0[_0x5534a7]['pString'],0x0,0x0),this['textCanvasCtx']['restore']();}if(this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nFontColorTexture']),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['RGBA'],this['ctx']['RGBA'],this['ctx']['UNSIGNED_BYTE'],this['textCanvasCtx']['canvas']),0x0==this['nFontShaderProgram']&&(this['nFontShaderProgram']=this['CompileProgram']('\x0a\x20\x20\x20\x20attribute\x20vec4\x20\x20position;\x0a\x20\x20\x20\x20attribute\x20vec4\x20\x20texCoord;\x0a\x20\x20\x20\x20varying\x20vec4\x20\x20pp;\x20\x0a\x20\x20\x20\x20uniform\x20int\x20bCapture;\x0a\x0a\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.x\x20\x20=\x20position.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.y\x20\x20=\x20position.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(bCapture\x20==\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.y\x20=\x20-position.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20\x20=\x200.1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.w\x20\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20pp\x20=\x20texCoord;\x20\x0a\x20\x20\x20\x20}\x0a','\x0a\x20\x20\x20\x20varying\x20lowp\x20vec4\x20pp;\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20texture;\x0a\x0a\x20\x20\x20\x20void\x20main(void)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(texture,\x20pp.st);\x0a\x20\x20\x20\x20}\x0a'),this['nFontShaderProgram']<=0x0))return _0x1d3582;0x1==this['bIsCapturing']?(_0x109172=this['nCaptureWidth']+0x4-this['nCaptureWidth']%0x4,_0xb62967=this['nCaptureHeight']+0x4-this['nCaptureHeight']%0x4):(_0x109172=this['canvas']['width']+0x4-this['canvas']['width']%0x4,_0xb62967=this['canvas']['height']+0x4-this['canvas']['height']%0x4),this['ctx']['viewport'](0x0,0x0,_0x109172,_0xb62967),this['ctx']['enable'](this['ctx']['BLEND']),this['ctx']['blendFunc'](this['ctx']['SRC_ALPHA'],this['ctx']['ONE_MINUS_SRC_ALPHA']),this['ctx']['useProgram'](this['nFontShaderProgram']);var _0x1efde9=this['ctx']['getUniformLocation'](this['nFontShaderProgram'],'bCapture');if(_0x1efde9<=0x0)return _0x1d3582;0x1==this['bIsCapturing']?this['ctx']['uniform1i'](_0x1efde9,0x1):this['ctx']['uniform1i'](_0x1efde9,0x0),this['ctx']['activeTexture'](this['ctx']['TEXTURE0']),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nFontColorTexture']);var _0xcf36a4=this['ctx']['getUniformLocation'](this['nFontShaderProgram'],'texture');this['ctx']['uniform1i'](_0xcf36a4,0x0),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['vertexPosBuffer']);var _0x4e46ee=this['ctx']['getAttribLocation'](this['nFontShaderProgram'],'position');this['ctx']['enableVertexAttribArray'](_0x4e46ee),this['ctx']['vertexAttribPointer'](_0x4e46ee,0x3,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['texturePosBuffer']);var _0x4f7d83=this['ctx']['getAttribLocation'](this['nFontShaderProgram'],'texCoord');return this['ctx']['enableVertexAttribArray'](_0x4f7d83),this['ctx']['vertexAttribPointer'](_0x4f7d83,0x2,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null),this['ctx']['drawArrays'](this['ctx']['TRIANGLE_FAN'],0x0,0x4),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],null),this['ctx']['useProgram'](null),this['ctx']['disable'](this['ctx']['BLEND']),_0x24d60c;}},{'key':'SR_DrawImage','value':function(_0xe3d4c,_0x21fe4c,_0x27bac3,_0x6b25d4,_0x4cf027,_0x810346){if(null==this['ctx'])return _0x19c02b;if(null==_0xe3d4c||_0x21fe4c<=0x0||_0x27bac3<=0x0||null==_0x6b25d4||_0x810346<0x0||_0x810346>0x1)return _0x1c46d8;if(this['nDrawImageWidth']=_0x21fe4c,this['nDrawImageHeight']=_0x27bac3,0x0==this['glImagePosBuffer']&&(this['glImagePosBuffer']=this['ctx']['createBuffer'](),0x0==this['glImagePosBuffer']))return _0x1d3582;if(0x0==this['glImageClrBuffer']&&(this['glImageClrBuffer']=this['ctx']['createBuffer'](),0x0==this['glImageClrBuffer']))return _0x1d3582;if(null==this['pImageClrVertices']){if(this['pImageClrVertices']=new Float32Array(0xc),null==this['pImageClrVertices'])return _0x46c175;this['pImageClrVertices'][0x0]=0x0,this['pImageClrVertices'][0x1]=0x0,this['pImageClrVertices'][0x2]=0x0,this['pImageClrVertices'][0x3]=0x1,this['pImageClrVertices'][0x4]=0x1,this['pImageClrVertices'][0x5]=0x0,this['pImageClrVertices'][0x6]=0x1,this['pImageClrVertices'][0x7]=0x0,this['pImageClrVertices'][0x8]=0x0,this['pImageClrVertices'][0x9]=0x1,this['pImageClrVertices'][0xa]=0x1,this['pImageClrVertices'][0xb]=0x1;}var _0x2a1ff7={},_0x2f88f5={};if(_0x2a1ff7['fLeft']=(_0x6b25d4['fLeft']-this['fSrcUseLeft'])/(this['fSrcUseRight']-this['fSrcUseLeft']),_0x2a1ff7['fRight']=(_0x6b25d4['fRight']-this['fSrcUseLeft'])/(this['fSrcUseRight']-this['fSrcUseLeft']),_0x2a1ff7['fTop']=(_0x6b25d4['fTop']-this['fSrcUseTop'])/(this['fSrcUseBottom']-this['fSrcUseTop']),_0x2a1ff7['fBottom']=(_0x6b25d4['fBottom']-this['fSrcUseTop'])/(this['fSrcUseBottom']-this['fSrcUseTop']),_0x2f88f5['fLeft']=this['fDstUseLeft']+_0x2a1ff7['fLeft']*(this['fDstUseRight']-this['fDstUseLeft']),_0x2f88f5['fRight']=this['fDstUseLeft']+_0x2a1ff7['fRight']*(this['fDstUseRight']-this['fDstUseLeft']),_0x2f88f5['fTop']=this['fDstUseTop']+_0x2a1ff7['fTop']*(this['fDstUseBottom']-this['fDstUseTop']),_0x2f88f5['fBottom']=this['fDstUseTop']+_0x2a1ff7['fBottom']*(this['fDstUseBottom']-this['fDstUseTop']),null==this['pImagePosVertices']&&(this['pImagePosVertices']=new Float32Array(0xc),null==this['pImagePosVertices']))return _0x46c175;switch(this['pImagePosVertices']['fill'](0x0),this['pImagePosVertices'][0x0]=0x2*_0x2f88f5['fLeft']-0x1,this['pImagePosVertices'][0x1]=0x1-0x2*_0x2f88f5['fTop'],this['pImagePosVertices'][0x2]=0x2*_0x2f88f5['fLeft']-0x1,this['pImagePosVertices'][0x3]=0x1-0x2*_0x2f88f5['fBottom'],this['pImagePosVertices'][0x4]=0x2*_0x2f88f5['fRight']-0x1,this['pImagePosVertices'][0x5]=0x1-0x2*_0x2f88f5['fTop'],this['pImagePosVertices'][0x6]=0x2*_0x2f88f5['fRight']-0x1,this['pImagePosVertices'][0x7]=0x1-0x2*_0x2f88f5['fTop'],this['pImagePosVertices'][0x8]=0x2*_0x2f88f5['fLeft']-0x1,this['pImagePosVertices'][0x9]=0x1-0x2*_0x2f88f5['fBottom'],this['pImagePosVertices'][0xa]=0x2*_0x2f88f5['fRight']-0x1,this['pImagePosVertices'][0xb]=0x1-0x2*_0x2f88f5['fBottom'],0x1==this['bIsCapturing']?this['ctx']['viewport'](0x0,0x0,this['nCaptureWidth'],this['nCaptureHeight']):this['ctx']['viewport'](0x0,0x0,this['canvas']['width'],this['canvas']['height']),this['ctx']['enable'](this['ctx']['BLEND']),this['ctx']['blendFunc'](this['ctx']['SRC_ALPHA'],this['ctx']['ONE_MINUS_SRC_ALPHA']),_0x4cf027){case _0x47b5ad:if(null==this['nImageColorTexture']){if(this['nImageColorTexture']=this['ctx']['createTexture'](),0x0==this['nImageColorTexture'])return _0x1d3582;this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nImageColorTexture']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MAG_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MIN_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_S'],this['ctx']['CLAMP_TO_EDGE']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_T'],this['ctx']['CLAMP_TO_EDGE']);}if(this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nImageColorTexture']),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['RGBA'],this['nDrawImageWidth'],this['nDrawImageHeight'],0x0,this['ctx']['RGBA'],this['ctx']['UNSIGNED_BYTE'],_0xe3d4c),0x0==this['nImageShaderProgram']){var _0x5c12e8=this['CompileProgram'](_0x59d12a,_0x5f0e85);if(_0x5c12e8<=0x0)return _0x1d3582;this['nImageShaderProgram']=_0x5c12e8;}break;case _0x314b3d:if(null==this['nImageColorTexture']){if(this['nImageColorTexture']=this['ctx']['createTexture'](),0x0==this['nImageColorTexture'])return _0x1d3582;this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nImageColorTexture']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MAG_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MIN_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_S'],this['ctx']['CLAMP_TO_EDGE']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_T'],this['ctx']['CLAMP_TO_EDGE']);}if(this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nImageColorTexture']),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['RGB'],this['nDrawImageWidth'],this['nDrawImageHeight'],0x0,this['ctx']['RGB'],this['ctx']['UNSIGNED_SHORT_5_6_5'],_0xe3d4c),0x0==this['nImageShaderProgram']){var _0x18403d=this['CompileProgram'](_0x59d12a,'\x0a\x20\x20\x20\x20precision\x20mediump\x20float;\x20\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20texture;\x20\x0a\x20\x20\x20\x20varying\x20lowp\x20vec4\x20pp;\x0a\x20\x20\x20\x20uniform\x20float\x20fAlpha;\x0a\x20\x20\x20\x20void\x20main(void)\x20\x0a\x20\x20\x20\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(texture,\x20pp.st);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor.a\x20*=\x20fAlpha;\x20\x0a\x20\x20\x20\x20}\x20\x0a');if(_0x18403d<=0x0)return _0x1d3582;this['nImageShaderProgram']=_0x18403d;}break;case _0x407160:for(var _0x54a225=0x0;_0x54a225<0x3;_0x54a225++){if(this['nImageColorTextures'][_0x54a225]=this['ctx']['createTexture'](),0x0==this['nImageColorTextures'][_0x54a225])return _0x1d3582;this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nImageColorTextures'][_0x54a225]),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MAG_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MIN_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_S'],this['ctx']['CLAMP_TO_EDGE']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_T'],this['ctx']['CLAMP_TO_EDGE']);}if(this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nImageColorTextures'][0x0]),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['LUMINANCE'],this['nDrawImageWidth'],this['nDrawImageHeight'],0x0,this['ctx']['LUMINANCE'],this['ctx']['UNSIGNED_BYTE'],_0xe3d4c),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nImageColorTextures'][0x1]),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['LUMINANCE'],this['nDrawImageWidth']/0x2,this['nDrawImageHeight']/0x2,0x0,this['ctx']['LUMINANCE'],this['ctx']['UNSIGNED_BYTE'],_0xe3d4c+this['nDrawImageWidth']*this['nDrawImageHeight']*0x5/0x4),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nImageColorTextures'][0x2]),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['LUMINANCE'],this['nDrawImageWidth']/0x2,this['nDrawImageHeight']/0x2,0x0,this['ctx']['LUMINANCE'],this['ctx']['UNSIGNED_BYTE'],_0xe3d4c+this['nDrawImageWidth']*this['nDrawImageHeight']),0x0==this['nImageShaderProgram']){var _0x43aaf2=this['CompileProgram'](_0x59d12a,'\x0a\x20\x20\x20\x20precision\x20mediump\x20float;\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20Ytexture;\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20Utexture;\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20Vtexture;\x0a\x20\x20\x20\x20uniform\x20float\x20fAlpha;\x0a\x20\x20\x20\x20varying\x20lowp\x20vec4\x20pp;\x0a\x0a\x20\x20\x20\x20void\x20main(void)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20r,\x20g,\x20b,\x20y,\x20u,\x20v;\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20y\x20=\x20texture2D(Ytexture,\x20pp.st).r;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20u\x20=\x20texture2D(Utexture,\x20pp.st).r;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20v\x20=\x20texture2D(Vtexture,\x20pp.st).r;\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20y\x20=\x201.1643\x20*\x20(y\x20-\x200.0625);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20u\x20=\x20u\x20-\x200.5;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20v\x20=\x20v\x20-\x200.5;\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x20y\x20+\x201.5958\x20*\x20v;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x20y\x20-\x200.39173\x20*\x20u\x20-\x200.81290\x20*\x20v;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x20y\x20+\x202.017\x20*\x20u;\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(r,\x20g,\x20b,\x20fAlpha);\x20\x0a\x20\x20\x20\x20}\x0a');if(_0x43aaf2<=0x0)return _0x1d3582;this['nImageShaderProgram']=_0x43aaf2;}break;case _0x4d876c:if(null==this['nImageColorTexture']){if(this['nImageColorTexture']=this['ctx']['createTexture'](),0x0==this['nImageColorTexture'])return _0x1d3582;this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nImageColorTexture']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MAG_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MIN_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_S'],this['ctx']['CLAMP_TO_EDGE']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_T'],this['ctx']['CLAMP_TO_EDGE']);}this['ctx']['useProgram'](this['videoShaderProgram']),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['vertexPosBuffer']);var _0x40c42f=this['ctx']['getAttribLocation'](this['videoShaderProgram'],'xy');if(_0x40c42f<0x0)return _0x1d3582;this['ctx']['vertexAttribPointer'](_0x40c42f,0x3,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['enableVertexAttribArray'](_0x40c42f),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['texturePosBuffer']);var _0x2c8c9d=this['ctx']['getAttribLocation'](this['videoShaderProgram'],'uv');if(_0x2c8c9d<0x0)return _0x1d3582;if(this['ctx']['vertexAttribPointer'](_0x2c8c9d,0x2,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['enableVertexAttribArray'](_0x2c8c9d),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null),this['ctx']['useProgram'](null),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nImageColorTexture']),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['RGBA'],this['nDrawImageWidth'],this['nDrawImageHeight'],0x0,this['ctx']['RGBA'],this['ctx']['UNSIGNED_BYTE'],_0xe3d4c),0x0==this['nImageShaderProgram']){var _0x41d93e=this['CompileProgram'](_0x59d12a,_0x5f0e85);if(_0x41d93e<=0x0)return _0x1d3582;this['nImageShaderProgram']=_0x41d93e;}break;default:return _0x58915e;}var _0x1f7470=this['nImageShaderProgram'];this['ctx']['useProgram'](_0x1f7470);var _0x5bfae2=this['ctx']['getUniformLocation'](this['nImageShaderProgram'],'bCapture');if(_0x5bfae2<=0x0)return _0x1d3582;0x1==this['bIsCapturing']?this['ctx']['uniform1i'](_0x5bfae2,0x1):this['ctx']['uniform1i'](_0x5bfae2,0x0),this['ctx']['activeTexture'](this['ctx']['TEXTURE0']),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nImageColorTexture']);var _0x25bbe9=this['ctx']['getUniformLocation'](this['nImageShaderProgram'],'texture');this['ctx']['uniform1i'](_0x25bbe9,0x0),_0x25bbe9=this['ctx']['getUniformLocation'](this['nImageShaderProgram'],'fAlpha'),this['ctx']['uniform1f'](_0x25bbe9,_0x810346),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['glImagePosBuffer']),this['ctx']['bufferData'](this['ctx']['ARRAY_BUFFER'],this['pImagePosVertices'],this['ctx']['STATIC_DRAW']);var _0x45cc3f=this['ctx']['getAttribLocation'](this['nImageShaderProgram'],'position');this['ctx']['enableVertexAttribArray'](_0x45cc3f),this['ctx']['vertexAttribPointer'](_0x45cc3f,0x2,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['glImageClrBuffer']),this['ctx']['bufferData'](this['ctx']['ARRAY_BUFFER'],this['pImageClrVertices'],this['ctx']['STATIC_DRAW']);var _0x42a406=this['ctx']['getAttribLocation'](this['nImageShaderProgram'],'texCoord');return this['ctx']['enableVertexAttribArray'](_0x42a406),this['ctx']['vertexAttribPointer'](_0x42a406,0x2,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null),this['ctx']['drawArrays'](this['ctx']['TRIANGLES'],0x0,0x6),this['ctx']['useProgram'](null),this['ctx']['disable'](this['ctx']['BLEND']),_0x24d60c;}},{'key':'SR_AddSubPort','value':function(_0x18fbb7){var _0x1e9176,_0xa800d1,_0x5d0c05=_0x3a9b00;if(null==this['ctx'])return _0x5d0c05;if(null!=this['pFishParamManager']?_0x5d0c05=this['pFishParamManager']['GetFECPort'](_0x18fbb7):_0x18fbb7==_0x15ec38['SR_DE_NULL']&&(_0x5d0c05=0x0),_0x5d0c05==_0x3a9b00)return _0x3a9b00;switch(this['nFECPort']=_0x5d0c05,_0x18fbb7){case _0x15ec38['SR_DE_NULL']:_0x1e9176=_0x483ef7,this['enPixelFormat']==_0x4d876c?_0xa800d1='\x0aprecision\x20mediump\x20float;\x0avarying\x20highp\x20vec2\x20v_uv;\x0auniform\x20sampler2D\x20texture;\x0auniform\x20float\x20fWndWidth;\x0auniform\x20float\x20fWndHeight;\x0auniform\x20float\x20fBrightness;\x0auniform\x20float\x20fHue;\x0auniform\x20float\x20fSaturation;\x0auniform\x20float\x20fContrast;\x0auniform\x20float\x20fSharpness;\x0auniform\x20int\x20nPostProc;\x0avec3\x20rgb2hsv(vec3\x20c)\x20\x0a{\x20\x0a\x20\x20\x20\x20vec4\x20K\x20=\x20vec4(0.0,\x20-1.0\x20/\x203.0,\x202.0\x20/\x203.0,\x20-1.0);\x20\x0a\x20\x20\x20\x20vec4\x20p\x20=\x20c.g\x20<\x20c.b\x20?\x20vec4(c.bg,\x20K.wz)\x20:\x20vec4(c.gb,\x20K.xy);\x20\x0a\x20\x20\x20\x20vec4\x20q\x20=\x20c.r\x20<\x20p.x\x20?\x20vec4(p.xyw,\x20c.r)\x20:\x20vec4(c.r,\x20p.yzx);\x20\x0a\x20\x20\x20\x20float\x20d\x20=\x20q.x\x20-\x20min(q.w,\x20q.y);\x20\x0a\x20\x20\x20\x20float\x20e\x20=\x201.0e-10;\x20\x0a\x20\x20\x20\x20return\x20vec3(abs(q.z\x20+\x20(q.w\x20-\x20q.y)\x20/\x20(6.0\x20*\x20d\x20+\x20e)),\x20d\x20/\x20(q.x\x20+\x20e),\x20q.x);\x20\x0a}\x20\x0avec3\x20hsv2rgb(vec3\x20c)\x20\x0a{\x20\x0a\x20\x20\x20\x20vec4\x20K\x20=\x20vec4(1.0,\x202.0\x20/\x203.0,\x201.0\x20/\x203.0,\x203.0);\x20\x0a\x20\x20\x20\x20vec3\x20p\x20=\x20abs(fract(c.xxx\x20+\x20K.xyz)\x20*\x206.0\x20-\x20K.www);\x20\x0a\x20\x20\x20\x20return\x20c.z\x20*\x20mix(K.xxx,\x20clamp(p\x20-\x20K.xxx,\x200.0,\x201.0),\x20c.y);\x20\x0a}\x20\x0avec3\x20sharpen()\x20\x0a{\x20\x0a\x20\x20\x20\x20vec3\x20sharpenColor;\x20\x0a\x20\x20\x20\x20float\x20offWidth\x20=\x201.0\x20/\x20fWndWidth;\x20\x0a\x20\x20\x20\x20float\x20offHeight\x20=\x201.0\x20/\x20fWndHeight;\x20\x0a\x20\x20\x20\x20float\x20tempSharpness\x20=\x20fSharpness\x20*\x20100.0;\x20\x0a\x20\x20\x20\x20vec2\x20uv\x20\x20\x20\x20\x20=\x20v_uv;\x20\x0a\x20\x20\x20\x20sharpenColor\x20\x20=\x20(1.0\x20+\x204.0\x20*\x20tempSharpness)\x20*\x20texture2D(texture,\x20uv).rgb;\x20\x0a\x0a\x20\x20\x20\x20uv\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20=\x20v_uv\x20+\x20vec2(offWidth,\x200);\x20\x0a\x20\x20\x20\x20sharpenColor\x20-=\x20tempSharpness\x20*\x20texture2D(texture,\x20uv).rgb;\x20\x0a\x0a\x20\x20\x20\x20uv\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20=\x20v_uv\x20+\x20vec2(-offWidth,\x200);\x20\x0a\x20\x20\x20\x20sharpenColor\x20-=\x20tempSharpness\x20*\x20texture2D(texture,\x20uv).rgb;\x20\x0a\x0a\x20\x20\x20\x20uv\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20=\x20v_uv\x20+\x20vec2(0,\x20offHeight);\x20\x0a\x20\x20\x20\x20sharpenColor\x20-=\x20tempSharpness\x20*\x20texture2D(texture,\x20uv).rgb;\x20\x0a\x0a\x20\x20\x20\x20uv\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20=\x20v_uv\x20+\x20vec2(0,\x20-offHeight);\x20\x0a\x20\x20\x20\x20sharpenColor\x20-=\x20tempSharpness\x20*\x20texture2D(texture,\x20uv).rgb;\x20\x0a\x0a\x20\x20\x20\x20return\x20sharpenColor;\x20\x0a}\x20\x0avoid\x20main(void)\x20\x0a{\x0a\x20\x20\x20\x20if(1\x20==\x20nPostProc)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20fragRGB\x20=\x20sharpen();\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//sharpen\x20锐度\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20fragHSV\x20=\x20rgb2hsv(fragRGB);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragHSV.x\x20=\x20fragHSV.x\x20+\x20fHue;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//hue\x20色度\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragHSV.y\x20=\x20fragHSV.y\x20*\x20(fSaturation\x20+\x201.0);\x20\x20\x20\x20//saturation\x20饱和度\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragRGB\x20=\x20hsv2rgb(fragHSV);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(fBrightness\x20>\x200.0)\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//brightness\x20亮度\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fragRGB\x20=\x20fragRGB\x20+\x20(1.0\x20-\x20fragRGB)\x20*\x20fBrightness;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fragRGB\x20=\x20fragRGB\x20+\x20fragRGB\x20*\x20fBrightness;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20tempContrast\x20=\x20fContrast\x20>\x200.0\x20?\x20fContrast\x20*\x2010.0\x20:\x20fContrast;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragRGB\x20=\x20((fragRGB\x20-\x200.5)\x20*\x20max(tempContrast\x20+\x201.0,\x200.0))\x20+\x200.5;\x20\x20\x20\x20\x20\x20//contrast\x20对比度\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(fragRGB,\x201.0);\x20\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20else\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(texture,\x20v_uv);\x0a\x20\x20\x20\x20}\x0a}\x0a':this['enPixelFormat']!=_0x407160&&this['enPixelFormat']!=_0x1300c9||(_0xa800d1='\x0aprecision\x20mediump\x20float;\x0avarying\x20highp\x20vec2\x20v_uv;\x0auniform\x20sampler2D\x20Ytexture;\x0auniform\x20sampler2D\x20Utexture;\x0auniform\x20sampler2D\x20Vtexture;\x0auniform\x20float\x20fWndWidth;\x0auniform\x20float\x20fWndHeight;\x0auniform\x20float\x20fBrightness;\x0auniform\x20float\x20fHue;\x0auniform\x20float\x20fSaturation;\x0auniform\x20float\x20fContrast;\x0auniform\x20float\x20fSharpness;\x0auniform\x20int\x20nPostProc;\x0avec3\x20rgb;\x0avec3\x20yuv2rgb(float\x20y,\x20float\x20u,\x20float\x20v)\x0a{\x0a\x20\x20\x20\x20float\x20r,g,b;\x20\x0a\x20\x20\x20\x20y\x20=\x201.1643\x20*\x20(y\x20-\x200.0625);\x20\x0a\x20\x20\x20\x20u\x20=\x20u\x20-\x200.5;\x20\x0a\x20\x20\x20\x20v\x20=\x20v\x20-\x200.5;\x20\x0a\x20\x20\x20\x20r\x20=\x20y\x20+\x201.5958\x20*\x20v;\x20\x0a\x20\x20\x20\x20g\x20=\x20y\x20-\x200.39173\x20*\x20u\x20-\x200.81290\x20*\x20v;\x20\x0a\x20\x20\x20\x20b\x20=\x20y\x20+\x202.017\x20*\x20u;\x20\x0a\x20\x20\x20\x20return\x20vec3(r,\x20g,\x20b);\x0a}\x0avec3\x20rgb2hsv(vec3\x20c)\x20\x0a{\x20\x0a\x20\x20\x20\x20vec4\x20K\x20=\x20vec4(0.0,\x20-1.0\x20/\x203.0,\x202.0\x20/\x203.0,\x20-1.0);\x20\x0a\x20\x20\x20\x20vec4\x20p\x20=\x20c.g\x20<\x20c.b\x20?\x20vec4(c.bg,\x20K.wz)\x20:\x20vec4(c.gb,\x20K.xy);\x20\x0a\x20\x20\x20\x20vec4\x20q\x20=\x20c.r\x20<\x20p.x\x20?\x20vec4(p.xyw,\x20c.r)\x20:\x20vec4(c.r,\x20p.yzx);\x20\x0a\x0a\x20\x20\x20\x20float\x20d\x20=\x20q.x\x20-\x20min(q.w,\x20q.y);\x20\x0a\x20\x20\x20\x20float\x20e\x20=\x201.0e-10;\x20\x0a\x20\x20\x20\x20return\x20vec3(abs(q.z\x20+\x20(q.w\x20-\x20q.y)\x20/\x20(6.0\x20*\x20d\x20+\x20e)),\x20d\x20/\x20(q.x\x20+\x20e),\x20q.x);\x20\x0a}\x20\x0a\x0avec3\x20hsv2rgb(vec3\x20c)\x20\x0a{\x20\x0a\x20\x20\x20\x20vec4\x20K\x20=\x20vec4(1.0,\x202.0\x20/\x203.0,\x201.0\x20/\x203.0,\x203.0);\x20\x0a\x20\x20\x20\x20vec3\x20p\x20=\x20abs(fract(c.xxx\x20+\x20K.xyz)\x20*\x206.0\x20-\x20K.www);\x20\x0a\x20\x20\x20\x20return\x20c.z\x20*\x20mix(K.xxx,\x20clamp(p\x20-\x20K.xxx,\x200.0,\x201.0),\x20c.y);\x20\x0a}\x20\x0a\x0avec3\x20sharpen(vec3\x20c)\x20\x0a{\x20\x0a\x20\x20\x20\x20vec3\x20sharpenColor;\x20\x0a\x20\x20\x20\x20float\x20sharpenColorY;\x0a\x20\x20\x20\x20float\x20sharpenColorU;\x0a\x20\x20\x20\x20float\x20sharpenColorV;\x0a\x20\x20\x20\x20float\x20offWidth\x20\x20=\x201.0\x20/\x20fWndWidth;\x20\x0a\x20\x20\x20\x20float\x20offHeight\x20=\x201.0\x20/\x20fWndHeight;\x20\x0a\x20\x20\x20\x20float\x20tempSharpness\x20=\x20fSharpness\x20*\x20100.0;\x20\x0a\x0a\x20\x20\x20\x20sharpenColor\x20=\x20(1.0\x20+\x204.0\x20*\x20tempSharpness)\x20*\x20c;\x0a\x0a\x20\x20\x20\x20vec2\x20uv\x20\x20\x20\x20\x20\x20\x20=\x20v_uv\x20+\x20vec2(offWidth,\x200);\x20\x0a\x20\x20\x20\x20sharpenColorY\x20=\x20texture2D(Ytexture,\x20uv).r;\x20\x0a\x20\x20\x20\x20sharpenColorU\x20=\x20texture2D(Utexture,\x20uv).r;\x20\x0a\x20\x20\x20\x20sharpenColorV\x20=\x20texture2D(Vtexture,\x20uv).r;\x20\x0a\x20\x20\x20\x20sharpenColor\x20-=\x20tempSharpness\x20*\x20\x20yuv2rgb(sharpenColorY,\x20sharpenColorU,\x20sharpenColorV);\x0a\x0a\x20\x20\x20\x20uv\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20=\x20v_uv\x20+\x20vec2(-offWidth,\x200);\x20\x0a\x20\x20\x20\x20sharpenColorY\x20=\x20texture2D(Ytexture,\x20uv).r;\x0a\x20\x20\x20\x20sharpenColorU\x20=\x20texture2D(Utexture,\x20uv).r;\x20\x0a\x20\x20\x20\x20sharpenColorV\x20=\x20texture2D(Vtexture,\x20uv).r;\x20\x0a\x20\x20\x20\x20sharpenColor\x20-=\x20tempSharpness\x20*\x20\x20yuv2rgb(sharpenColorY,\x20sharpenColorU,\x20sharpenColorV);\x0a\x0a\x20\x20\x20\x20uv\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20=\x20v_uv\x20+\x20vec2(0,\x20offHeight);\x0a\x20\x20\x20\x20sharpenColorY\x20=\x20texture2D(Ytexture,\x20uv).r;\x20\x0a\x20\x20\x20\x20sharpenColorU\x20=\x20texture2D(Utexture,\x20uv).r;\x20\x0a\x20\x20\x20\x20sharpenColorV\x20=\x20texture2D(Vtexture,\x20uv).r;\x20\x0a\x20\x20\x20\x20sharpenColor\x20-=\x20tempSharpness\x20*\x20yuv2rgb(sharpenColorY,\x20sharpenColorU,\x20sharpenColorV);\x0a\x0a\x20\x20\x20\x20uv\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20=\x20v_uv\x20+\x20vec2(0,\x20-offHeight);\x20\x0a\x20\x20\x20\x20sharpenColorY\x20=\x20texture2D(Ytexture,\x20uv).r;\x20\x0a\x20\x20\x20\x20sharpenColorU\x20=\x20texture2D(Utexture,\x20uv).r;\x20\x0a\x20\x20\x20\x20sharpenColorV\x20=\x20texture2D(Vtexture,\x20uv).r;\x20\x0a\x20\x20\x20\x20sharpenColor\x20-=\x20tempSharpness\x20*\x20\x20yuv2rgb(sharpenColorY,\x20sharpenColorU,\x20sharpenColorV);\x0a\x0a\x20\x20\x20\x20return\x20sharpenColor;\x20\x0a}\x20\x0avoid\x20main(void)\x0a{\x0a\x20\x20\x20\x20float\x20y,\x20u,\x20v;\x0a\x20\x20\x20\x20y\x20=\x20texture2D(Ytexture,\x20v_uv).r;\x0a\x20\x20\x20\x20u\x20=\x20texture2D(Utexture,\x20v_uv).r;\x0a\x20\x20\x20\x20v\x20=\x20texture2D(Vtexture,\x20v_uv).r;\x0a\x20\x20\x20\x20rgb\x20=\x20yuv2rgb(y,\x20u,\x20v);\x0a\x20\x20\x20\x20if(1\x20==\x20nPostProc)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20fragRGB\x20=\x20sharpen(rgb);\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//sharpen\x20锐度\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20fragHSV\x20=\x20rgb2hsv(fragRGB);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragHSV.x\x20=\x20fragHSV.x\x20+\x20fHue;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//hue\x20色度\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragHSV.y\x20=\x20fragHSV.y\x20*\x20(fSaturation\x20+\x201.0);\x20\x20\x20\x20//saturation\x20饱和度\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragRGB\x20=\x20hsv2rgb(fragHSV);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(fBrightness\x20>\x200.0)\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//brightness\x20亮度\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fragRGB\x20=\x20fragRGB\x20+\x20(1.0\x20-\x20fragRGB)\x20*\x20fBrightness;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fragRGB\x20=\x20fragRGB\x20+\x20fragRGB\x20*\x20fBrightness;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20tempContrast\x20=\x20fContrast\x20>\x200.0\x20?\x20fContrast\x20*\x2010.0\x20:\x20fContrast;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragRGB\x20=\x20((fragRGB\x20-\x200.5)\x20*\x20max(tempContrast\x20+\x201.0,\x200.0))\x20+\x200.5;\x20\x20\x20\x20\x20\x20//contrast\x20对比度\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(fragRGB,\x201.0);\x20\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20else\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(rgb,\x201.0);\x0a\x20\x20\x20\x20}\x0a}\x0a'),this['b3DPort']=!0x1;break;case _0x15ec38['SR_DE_FISH_ORIGINAL']:_0x1e9176=_0x483ef7,_0xa800d1='\x0aprecision\x20mediump\x20float;\x0avarying\x20vec2\x20v_uv;\x0auniform\x20sampler2D\x20texture;\x0auniform\x20float\x20fRX1;\x0auniform\x20float\x20fRX2;\x0auniform\x20float\x20fRY1;\x0auniform\x20float\x20fRY2;\x0auniform\x20int\x20bBlack;\x20\x0auniform\x20int\x20bCut;\x0a\x0avoid\x20main()\x0a{\x20\x0a\x09float\x20r,g,b;\x0a\x09vec4\x20origin;\x0a\x0a\x09float\x20\x20w;\x0a\x09float\x20\x20h;\x0a\x09float\x20\x20fCenterX;\x0a\x09float\x20\x20fCenterY;\x0a\x09float\x20\x20fRadius;\x0a\x09w\x20=\x201.0;\x0a\x09h\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x20(fRY2\x20-\x20fRY1);\x0a\x09fCenterX\x20=\x20(fRX1\x20+\x20fRX2)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20///<圆心实际坐标\x0a\x09fCenterY\x20=\x20(fRY1\x20+\x20fRY2)\x20/\x202.0\x20*\x20h;\x0a\x09fRadius\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20\x20///<半径实际长度\x0a\x09float\x20\x20leftCut\x20=\x200.0;\x0a\x09float\x20\x20rightCut\x20=\x201.0;\x0a\x09float\x20\x20topCut\x20=\x200.0;\x0a\x09float\x20\x20bottomCut\x20=\x201.0;\x0a\x09if(bCut\x20==\x201)\x0a\x09{\x0a\x09\x09if(fRX1\x20>\x200.0)\x0a\x09\x09{\x0a\x09\x09\x09leftCut\x20=\x20fRX1;\x0a\x09\x09}\x0a\x09\x09if(fRX2\x20<\x201.0)\x0a\x09\x09{\x0a\x09\x09\x09rightCut\x20=\x20fRX2;\x0a\x09\x09}\x0a\x09\x09if(fRY1\x20>\x200.0)\x0a\x09\x09{\x0a\x09\x09\x09topCut\x20=\x20fRY1;\x0a\x09\x09}\x0a\x09\x09if(fRY2\x20<\x201.0)\x0a\x09\x09{\x0a\x09\x09\x09bottomCut\x20=\x20fRY2;\x0a\x09\x09}\x0a\x09}\x0a\x09origin.s\x20=\x20v_uv.s\x20*\x20(rightCut-leftCut)\x20+\x20leftCut;\x0a\x09origin.t\x20=\x20v_uv.t\x20*\x20(bottomCut-topCut)\x20+\x20topCut;\x0a\x0a\x09r\x20=\x20texture2D(texture,\x20origin.st).r;\x20\x0a\x09g\x20=\x20texture2D(texture,\x20origin.st).g;\x20\x0a\x09b\x20=\x20texture2D(texture,\x20origin.st).b;\x20\x0a\x0a\x09if(bBlack\x20==\x201)\x0a\x09{\x0a\x09\x09float\x20tmpX,\x20tmpY;\x0a\x09\x09tmpX\x20=\x20origin.s\x20*\x20w;\x20\x0a\x09\x09tmpY\x20=\x20origin.t\x20*\x20h;\x20\x0a\x09\x09float\x20d2\x20=\x20(tmpX-fCenterX)*(tmpX-fCenterX)\x20+\x20(tmpY-fCenterY)*(tmpY-fCenterY);\x0a\x09\x09if(d2\x20>\x20fRadius*fRadius)\x0a\x09\x09{\x0a\x09\x09\x09r\x20=\x200.0;\x20\x0a\x09\x09\x09g\x20=\x200.0;\x20\x0a\x09\x09\x09b\x20=\x200.0;\x20\x0a\x09\x09}\x0a\x09}\x0a\x0a\x09gl_FragColor\x20=\x20vec4(r\x20,g\x20,b\x20,\x201.0);\x0a}\x0a',this['b3DPort']=!0x1;break;case _0x15ec38['SR_DE_FISH_PTZ_CEILING']:_0x1e9176=_0x483ef7,_0xa800d1='\x0aprecision\x20mediump\x20float;\x0avarying\x20vec2\x20v_uv;\x0auniform\x20sampler2D\x20texture;\x0auniform\x20float\x20fHAngleCos;\x0auniform\x20float\x20fHAngleSin;\x0auniform\x20float\x20fVAngleCos;\x0auniform\x20float\x20fVAngleSin;\x0auniform\x20float\x20fZoom;\x0a\x0auniform\x20float\x20fRX1;\x20\x0auniform\x20float\x20fRX2;\x20\x0auniform\x20float\x20fRY1;\x20\x0auniform\x20float\x20fRY2;\x20\x0a\x0avoid\x20main()\x0a{\x0a\x20\x20\x20\x20float\x20r,g,b;\x20\x20\x0a\x0a\x20\x20\x20\x20vec4\x20origin1;\x0a\x20\x20\x20\x20vec4\x20origin2;\x0a\x20\x20\x20\x20vec4\x20result;\x0a\x20\x20\x20\x20float\x20\x20z1;\x0a\x20\x20\x20\x20float\x20\x20z2;\x0a\x20\x20\x20\x20float\x20\x20dnew;\x0a\x0a\x20\x20\x20\x20float\x20\x20w;\x0a\x20\x20\x20\x20float\x20\x20h;\x0a\x20\x20\x20\x20float\x20\x20fCenterX;\x0a\x20\x20\x20\x20float\x20\x20fCenterY;\x0a\x20\x20\x20\x20float\x20\x20fRadius;\x0a\x20\x20\x20\x20w\x20=\x201.0;\x0a\x20\x20\x20\x20h\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x20(fRY2\x20-\x20fRY1);\x0a\x20\x20\x20\x20fCenterX\x20=\x20(fRX1\x20+\x20fRX2)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20\x0a\x20\x20\x20\x20fCenterY\x20=\x20(fRY1\x20+\x20fRY2)\x20/\x202.0\x20*\x20h;\x0a\x20\x20\x20\x20fRadius\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x202.0\x20*\x20w;\x20\x0a\x0a\x20\x20\x20\x20origin1.s\x20=\x20v_uv.s\x20-\x200.5;\x0a\x20\x20\x20\x20origin1.t\x20=\x200.5\x20-\x20v_uv.t;\x0a\x20\x20\x20\x20z1\x20=\x20fZoom\x20;\x0a\x0a\x20\x20\x20\x20origin2.s\x20=\x20origin1.s\x20;\x0a\x20\x20\x20\x20origin2.t\x20=\x20(origin1.t*fVAngleCos\x20+\x20z1*fVAngleSin);\x0a\x20\x20\x20\x20z2\x20=\x20z1*fVAngleCos\x20-\x20origin1.t*fVAngleSin;\x0a\x0a\x20\x20\x20\x20dnew\x20=\x20sqrt(origin2.s*origin2.s\x20+\x20origin2.t*origin2.t)\x20;\x0a\x20\x20\x20\x20float\x20d\x20=\x20sqrt(origin2.s*origin2.s\x20+\x20origin2.t*origin2.t\x20+\x20z2*z2);\x0a\x20\x20\x20\x20float\x20theta\x20=\x20asin(dnew/d);\x0a\x20\x20\x20\x20float\x20tmp\x20=\x20theta\x20/\x201.5707963\x20*\x200.5;\x0a\x20\x20\x20\x20origin2.s\x20=\x20tmp*origin2.s\x20/\x20dnew\x20;\x0a\x20\x20\x20\x20origin2.t\x20=\x20tmp*origin2.t\x20/\x20dnew\x20;\x0a\x0a\x20\x20\x20\x20result.s\x20=\x20((origin2.s*fHAngleCos\x20-\x20origin2.t*fHAngleSin)*fRadius*2.0+fCenterX)/w;\x0a\x20\x20\x20\x20result.t\x20=\x20(-(origin2.s*fHAngleSin\x20+\x20origin2.t*fHAngleCos)*fRadius*2.0+fCenterY)/h;\x0a\x0a\x20\x20\x20\x20r\x20=\x20texture2D(texture,\x20result.st).r;\x20\x0a\x20\x20\x20\x20g\x20=\x20texture2D(texture,\x20result.st).g;\x20\x0a\x20\x20\x20\x20b\x20=\x20texture2D(texture,\x20result.st).b;\x20\x0a\x20\x20\x20\x20if(result.s\x20>\x201.0\x20||\x20result.t\x20>\x201.0\x20||\x20result.s\x20<\x200.0\x20||\x20result.t\x20<\x200.0)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x200.0;\x20\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(r\x20,g\x20,b\x20,\x201.0);\x0a}\x20\x0a',this['b3DPort']=!0x1;break;case _0x15ec38['SR_DE_FISH_PTZ_FLOOR']:_0x1e9176=_0x483ef7,_0xa800d1='\x0aprecision\x20mediump\x20float;\x0avarying\x20vec2\x20v_uv;\x0auniform\x20sampler2D\x20texture;\x20\x20\x0auniform\x20float\x20fHAngleCos;\x20\x20\x0auniform\x20float\x20fHAngleSin;\x20\x0auniform\x20float\x20fVAngleCos;\x20\x20\x0auniform\x20float\x20fVAngleSin;\x20\x20\x0auniform\x20float\x20fZoom;\x0a\x0auniform\x20float\x20fRX1;\x20\x0auniform\x20float\x20fRX2;\x20\x0auniform\x20float\x20fRY1;\x20\x0auniform\x20float\x20fRY2;\x20\x0a\x0avoid\x20main()\x0a{\x0a\x20\x20\x20\x20float\x20r,g,b;\x0a\x0a\x20\x20\x20\x20vec4\x20origin1;\x0a\x20\x20\x20\x20vec4\x20origin2;\x0a\x20\x20\x20\x20vec4\x20result;\x0a\x20\x20\x20\x20float\x20\x20z1;\x0a\x20\x20\x20\x20float\x20\x20z2;\x0a\x20\x20\x20\x20float\x20\x20dnew;\x0a\x0a\x20\x20\x20\x20float\x20\x20w;\x0a\x20\x20\x20\x20float\x20\x20h;\x0a\x20\x20\x20\x20float\x20\x20fCenterX;\x0a\x20\x20\x20\x20float\x20\x20fCenterY;\x0a\x20\x20\x20\x20float\x20\x20fRadius;\x0a\x20\x20\x20\x20w\x20=\x201.0;\x0a\x20\x20\x20\x20h\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x20(fRY2\x20-\x20fRY1);\x0a\x20\x20\x20\x20fCenterX\x20=\x20(fRX1\x20+\x20fRX2)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20\x20///<Բ��ʵ������\x0a\x20\x20\x20\x20fCenterY\x20=\x20(fRY1\x20+\x20fRY2)\x20/\x202.0\x20*\x20h;\x0a\x20\x20\x20\x20fRadius\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20\x20///<�뾶ʵ�ʳ���\x0a\x20\x20\x20\x20origin1.s\x20=\x20v_uv.s\x20-\x200.5;\x0a\x20\x20\x20\x20origin1.t\x20=\x20v_uv.t\x20-\x200.5;\x0a\x20\x20\x20\x20z1\x20=\x20fZoom\x20;\x0a\x0a\x20\x20\x20\x20origin2.s\x20=\x20origin1.s\x20;\x0a\x20\x20\x20\x20origin2.t\x20=\x20(origin1.t*fVAngleCos\x20+\x20z1*fVAngleSin);\x0a\x20\x20\x20\x20z2\x20=\x20z1*fVAngleCos\x20-\x20origin1.t*fVAngleSin;\x0a\x0a\x20\x20\x20\x20dnew\x20=\x20sqrt(origin2.s*origin2.s\x20+\x20origin2.t*origin2.t)\x20;\x0a\x20\x20\x20\x20float\x20d\x20=\x20sqrt(origin2.s*origin2.s\x20+\x20origin2.t*origin2.t\x20+\x20z2*z2);\x0a\x20\x20\x20\x20float\x20theta\x20=\x20asin(dnew/d);\x0a\x20\x20\x20\x20float\x20tmp\x20=\x20theta\x20/\x201.5707963\x20*\x200.5;\x0a\x20\x20\x20\x20origin2.s\x20=\x20tmp*origin2.s\x20/\x20dnew\x20;\x0a\x20\x20\x20\x20origin2.t\x20=\x20tmp*origin2.t\x20/\x20dnew\x20;\x0a\x0a\x20\x20\x20\x20result.s\x20=\x20((origin2.s*fHAngleCos\x20-\x20origin2.t*fHAngleSin)*fRadius*2.0+fCenterX)/w;\x0a\x20\x20\x20\x20result.t\x20=\x20((origin2.s*fHAngleSin\x20+\x20origin2.t*fHAngleCos)*fRadius*2.0+fCenterY)/h;\x0a\x0a\x20\x20\x20\x20r\x20=\x20texture2D(texture,\x20result.st).r;\x20\x0a\x20\x20\x20\x20g\x20=\x20texture2D(texture,\x20result.st).g;\x20\x0a\x20\x20\x20\x20b\x20=\x20texture2D(texture,\x20result.st).b;\x20\x0a\x20\x20\x20\x20if(result.s\x20>\x201.0\x20||\x20result.t\x20>\x201.0\x20||\x20result.s\x20<\x200.0\x20||\x20result.t\x20<\x200.0)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x200.0;\x20\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(r\x20,g\x20,b\x20,\x201.0);\x0a}\x20\x0a',this['b3DPort']=!0x1;break;case _0x15ec38['SR_DE_FISH_PTZ_WALL']:_0x1e9176=_0x483ef7,_0xa800d1='\x0aprecision\x20mediump\x20float;\x0avarying\x20vec2\x20v_uv;\x0auniform\x20sampler2D\x20texture;\x0auniform\x20float\x20fHAngleCos;\x0auniform\x20float\x20fHAngleSin;\x20\x20\x0auniform\x20float\x20fVAngleCos;\x20\x20\x0auniform\x20float\x20fVAngleSin;\x20\x20\x0auniform\x20float\x20fZoom;\x0a\x0auniform\x20float\x20fRX1;\x20\x0auniform\x20float\x20fRX2;\x20\x0auniform\x20float\x20fRY1;\x20\x0auniform\x20float\x20fRY2;\x20\x0a\x0avoid\x20main()\x0a{\x0a\x20\x20\x20\x20float\x20r,g,b;\x20\x20\x0a\x0a\x20\x20\x20\x20vec4\x20origin1;\x0a\x20\x20\x20\x20vec4\x20origin2;\x0a\x20\x20\x20\x20vec4\x20origin3;\x0a\x20\x20\x20\x20vec4\x20result;\x0a\x20\x20\x20\x20float\x20\x20z1;\x0a\x20\x20\x20\x20float\x20\x20z2;\x0a\x20\x20\x20\x20float\x20\x20z3;\x0a\x20\x20\x20\x20float\x20\x20dnew;\x0a\x0a\x20\x20\x20\x20float\x20\x20w;\x0a\x20\x20\x20\x20float\x20\x20h;\x0a\x20\x20\x20\x20float\x20\x20fCenterX;\x0a\x20\x20\x20\x20float\x20\x20fCenterY;\x0a\x20\x20\x20\x20float\x20\x20fRadius;\x0a\x20\x20\x20\x20w\x20=\x201.0;\x0a\x20\x20\x20\x20h\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x20(fRY2\x20-\x20fRY1);\x0a\x20\x20\x20\x20fCenterX\x20=\x20(fRX1\x20+\x20fRX2)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20///<Բ��ʵ������\x0a\x20\x20\x20\x20fCenterY\x20=\x20(fRY1\x20+\x20fRY2)\x20/\x202.0\x20*\x20h;\x0a\x20\x20\x20\x20fRadius\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20///<�뾶ʵ�ʳ���\x0a\x0a\x20\x20\x20\x20origin1.s\x20=\x20v_uv.s\x20-\x200.5;\x0a\x20\x20\x20\x20origin1.t\x20=\x20v_uv.t\x20-\x200.5;\x0a\x20\x20\x20\x20z1\x20=\x20fZoom\x20;\x0a\x0a\x20\x20\x20\x20origin2.s\x20=\x20origin1.s\x20;\x0a\x20\x20\x20\x20origin2.t\x20=\x20(origin1.t*fVAngleCos\x20+\x20z1*fVAngleSin);\x0a\x20\x20\x20\x20z2\x20=\x20z1*fVAngleCos\x20-\x20origin1.t*fVAngleSin;\x0a\x0a\x20\x20\x20\x20origin3.s\x20=\x20origin2.s*fHAngleCos\x20+\x20z2*fHAngleSin\x20;\x0a\x20\x20\x20\x20origin3.t\x20=\x20origin2.y;\x0a\x20\x20\x20\x20z3\x20=\x20z2*fHAngleCos\x20-\x20origin2.x*fHAngleSin;\x0a\x0a\x20\x20\x20\x20dnew\x20=\x20sqrt(origin3.s*origin3.s\x20+\x20origin3.t*origin3.t)\x20;\x0a\x20\x20\x20\x20float\x20d\x20=\x20sqrt(origin3.s*origin3.s\x20+\x20origin3.t*origin3.t\x20+\x20z3*z3);\x0a\x20\x20\x20\x20float\x20theta\x20=\x20asin(dnew/d);\x0a\x20\x20\x20\x20float\x20tmp\x20=\x20theta\x20/\x201.5707963\x20*\x200.5;\x0a\x20\x20\x20\x20result.s\x20=\x20(tmp*origin3.s\x20/\x20dnew\x20*\x20fRadius\x20*\x202.0\x20+\x20fCenterX)/w;\x0a\x20\x20\x20\x20result.t\x20=\x20(tmp*origin3.t\x20/\x20dnew\x20*\x20fRadius\x20*\x202.0\x20+\x20fCenterY)/h;\x0a\x0a\x20\x20\x20\x20r\x20=\x20texture2D(texture,\x20result.st).r;\x20\x0a\x20\x20\x20\x20g\x20=\x20texture2D(texture,\x20result.st).g;\x20\x0a\x20\x20\x20\x20b\x20=\x20texture2D(texture,\x20result.st).b;\x20\x0a\x20\x20\x20\x20if(result.s\x20>\x201.0\x20||\x20result.t\x20>\x201.0\x20||\x20result.s\x20<\x200.0\x20||\x20result.t\x20<\x200.0)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x200.0;\x20\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(r\x20,g\x20,b\x20,\x201.0);\x0a}\x20\x0a',this['b3DPort']=!0x1;break;case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']:_0x1e9176=_0x483ef7,_0xa800d1='\x0a\x20\x20\x20\x20precision\x20highp\x20float;\x0a\x20\x20\x20\x20varying\x20vec2\x20v_uv;\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20texture;\x0a\x20\x20\x20\x20uniform\x20float\x20fAngle;\x0a\x20\x20\x20\x20uniform\x20float\x20fRX1;\x0a\x20\x20\x20\x20uniform\x20float\x20fRX2;\x0a\x20\x20\x20\x20uniform\x20float\x20fRY1;\x0a\x20\x20\x20\x20uniform\x20float\x20fRY2;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20r,g,b;\x20\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20origin;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20thetabase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20d;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fCenterX;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fCenterY;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20w\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20h\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x20(fRY2\x20-\x20fRY1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20fCenterX\x20=\x20(fRX1\x20+\x20fRX2)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20///<圆心实际坐标\x0a\x20\x20\x20\x20\x20\x20\x20\x20fCenterY\x20=\x20(fRY1\x20+\x20fRY2)\x20/\x202.0\x20*\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20fRadius\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20///<半径实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20fMax\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(fRX2\x20>\x201.0\x20||\x20fRY2\x20>\x201.0\x20||\x20fRX1\x20<\x200.0\x20||\x20fRY1\x20<\x200.0)\x20///<如果不是一个完整的圆\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRX1\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20-fRX1\x20*\x20w;\x20///<左边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRX2\x20>\x201.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20(fRX2\x20-\x201.0)\x20*\x20w;\x20///<右边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRY1\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20-fRY1\x20*\x20h;\x20///<上边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRY2\x20>\x201.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20(fRY2\x20-\x201.0)\x20*\x20h;\x20///<下边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20topCut\x20=\x20fMax\x20/\x20fRadius;\x20\x20///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomCut\x20=\x200.8;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20///<为矫正效果,最终矫正图固定切掉下面一部分\x0a\x20\x20\x20\x20\x20\x20\x20\x20origin.s\x20=\x20v_uv.s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20origin.t\x20=\x20(bottomCut\x20-\x20topCut)\x20*\x20v_uv.t\x20+\x20topCut;\x0a\x20\x20\x20\x20\x20\x20\x20\x20thetabase\x20=\x206.2831853\x20*\x20origin.s\x20+\x20fAngle;\x0a\x20\x20\x20\x20\x20\x20\x20\x20d\x20=\x20fRadius\x20*\x20(1.0\x20-\x20origin.t);\x0a\x20\x20\x20\x20\x20\x20\x20\x20result.s\x20=\x20(fCenterX\x20-\x20d*sin(thetabase))\x20/\x20w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20result.t\x20=\x20(fCenterY\x20+\x20d*cos(thetabase))\x20/\x20h;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x20texture2D(texture,\x20result.st).r;\x0a\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x20texture2D(texture,\x20result.st).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x20texture2D(texture,\x20result.st).b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(result.s\x20>\x201.0\x20||\x20result.t\x20>\x201.0\x20||\x20result.s\x20<\x200.0\x20||\x20result.t\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(r,\x20g,\x20b,\x201.0);\x0a\x20\x20\x20\x20}\x0a',this['b3DPort']=!0x1;break;case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']:_0x1e9176=_0x483ef7,_0xa800d1='\x0a\x20\x20\x20\x20precision\x20highp\x20float;\x0a\x20\x20\x20\x20varying\x20vec2\x20v_uv;\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20texture;\x0a\x20\x20\x20\x20uniform\x20float\x20fAngle;\x0a\x20\x20\x20\x20uniform\x20float\x20fRX1;\x20\x0a\x20\x20\x20\x20uniform\x20float\x20fRX2;\x20\x0a\x20\x20\x20\x20uniform\x20float\x20fRY1;\x20\x0a\x20\x20\x20\x20uniform\x20float\x20fRY2;\x20\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20r,g,b;\x20\x20\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20origin;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20thetabase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20d;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20newpp;\x20\x20///<180矫正pp纹理坐标的点对应360矫正newpp纹理坐标对应的点\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(v_uv.t\x20\x20<=\x200.5)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newpp.s\x20=\x20\x20v_uv.s\x20/\x202.0\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newpp.t\x20=\x20\x20v_uv.t\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newpp.s\x20=\x20\x20v_uv.s\x20/\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newpp.t\x20=\x20\x20(v_uv.t\x20-\x200.5)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fCenterX;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fCenterY;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20w\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20h\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x20(fRY2\x20-\x20fRY1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20fCenterX\x20=\x20(fRX1\x20+\x20fRX2)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20\x20///<圆心实际坐标\x0a\x20\x20\x20\x20\x20\x20\x20\x20fCenterY\x20=\x20(fRY1\x20+\x20fRY2)\x20/\x202.0\x20*\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20fRadius\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20\x20///<半径实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20fMax\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(fRX2\x20>\x201.0\x20||\x20fRY2\x20>\x201.0\x20||\x20fRX1\x20<\x200.0\x20||\x20fRY1\x20<\x200.0)\x20///<如果不是一个完整的圆\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRX1\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20-fRX1\x20*\x20w;\x20///<左边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRX2\x20>\x201.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20(fRX2\x20-\x201.0)\x20*\x20w;\x20///<右边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRY1\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20-fRY1\x20*\x20h;\x20///<上边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRY2\x20>\x201.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20(fRY2\x20-\x201.0)\x20*\x20h;\x20///<下边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20topCut\x20=\x20fMax\x20/\x20fRadius;\x20\x20\x20///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomCut\x20=\x200.8;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20///<为矫正效果,最终矫正图固定切掉下面一部分\x0a\x20\x20\x20\x20\x20\x20\x20\x20origin.s\x20=\x20newpp.s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20origin.t\x20=\x20(bottomCut\x20-\x20topCut)\x20*\x20newpp.t\x20+\x20topCut;\x0a\x20\x20\x20\x20\x20\x20\x20\x20thetabase\x20=\x206.2831853\x20*\x20origin.s\x20+\x20fAngle;\x0a\x20\x20\x20\x20\x20\x20\x20\x20d\x20=\x20fRadius\x20*\x20(1.0\x20-\x20origin.t);\x0a\x20\x20\x20\x20\x20\x20\x20\x20result.s\x20=\x20(fCenterX\x20-\x20d*sin(thetabase))\x20/\x20w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20result.t\x20=\x20(fCenterY\x20+\x20d*cos(thetabase))\x20/\x20h;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x20texture2D(texture,\x20result.st).r;\x0a\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x20texture2D(texture,\x20result.st).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x20texture2D(texture,\x20result.st).b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(result.s\x20>\x201.0\x20||\x20result.t\x20>\x201.0\x20||\x20result.s\x20<\x200.0\x20||\x20result.t\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(r\x20,g\x20,b\x20,\x201.0);\x0a\x20\x20\x20\x20}\x0a',this['b3DPort']=!0x1;break;case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']:_0x1e9176=_0x483ef7,_0xa800d1='\x0a\x20\x20\x20\x20precision\x20highp\x20float;\x0a\x20\x20\x20\x20varying\x20vec2\x20v_uv;\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20texture;\x0a\x20\x20\x20\x20uniform\x20float\x20fAngle;\x0a\x20\x20\x20\x20uniform\x20float\x20fRX1;\x0a\x20\x20\x20\x20uniform\x20float\x20fRX2;\x0a\x20\x20\x20\x20uniform\x20float\x20fRY1;\x0a\x20\x20\x20\x20uniform\x20float\x20fRY2;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20r,g,b;\x20\x20\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20origin;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20thetabase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20d;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fCenterX;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fCenterY;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20w\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20h\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x20(fRY2\x20-\x20fRY1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20fCenterX\x20=\x20(fRX1\x20+\x20fRX2)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20///<圆心实际坐标\x0a\x20\x20\x20\x20\x20\x20\x20\x20fCenterY\x20=\x20(fRY1\x20+\x20fRY2)\x20/\x202.0\x20*\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20fRadius\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20///<半径实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20fMax\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(fRX2\x20>\x201.0\x20||\x20fRY2\x20>\x201.0\x20||\x20fRX1\x20<\x200.0\x20||\x20fRY1\x20<\x200.0)\x20///<如果不是一个完整的圆\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRX1\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20-fRX1\x20*\x20w;\x20///<左边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRX2\x20>\x201.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20(fRX2\x20-\x201.0)\x20*\x20w;\x20///<右边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRY1\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20-fRY1\x20*\x20h;\x20///<上边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRY2\x20>\x201.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20(fRY2\x20-\x201.0)\x20*\x20h;\x20///<下边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20topCut\x20=\x20fMax\x20/\x20fRadius;\x20\x20\x20///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomCut\x20=\x200.8;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20///<为矫正效果,最终矫正图固定切掉下面一部分\x0a\x20\x20\x20\x20\x20\x20\x20\x20origin.s\x20=\x201.0\x20-\x20v_uv.s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20origin.t\x20=\x20(bottomCut\x20-\x20topCut)\x20*\x20(1.0\x20-\x20v_uv.t)\x20+\x20topCut;\x0a\x20\x20\x20\x20\x20\x20\x20\x20thetabase\x20=\x206.2831853\x20*\x20origin.s\x20+\x20fAngle;\x0a\x20\x20\x20\x20\x20\x20\x20\x20d\x20=\x20fRadius\x20*\x20(1.0\x20-\x20origin.t);\x0a\x20\x20\x20\x20\x20\x20\x20\x20result.s\x20=\x20(fCenterX\x20-\x20d*sin(thetabase))\x20/\x20w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20result.t\x20=\x20(fCenterY\x20+\x20d*cos(thetabase))\x20/\x20h;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x20texture2D(texture,\x20result.st).r;\x0a\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x20texture2D(texture,\x20result.st).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x20texture2D(texture,\x20result.st).b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(result.s\x20>\x201.0\x20||\x20result.t\x20>\x201.0\x20||\x20result.s\x20<\x200.0\x20||\x20result.t\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(r\x20,g\x20,b\x20,\x201.0);\x0a\x20\x20\x20\x20}\x0a',this['b3DPort']=!0x1;break;case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']:_0x1e9176=_0x483ef7,_0xa800d1='\x0a\x20\x20\x20\x20precision\x20highp\x20float;\x0a\x20\x20\x20\x20varying\x20vec2\x20v_uv;\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20texture;\x0a\x20\x20\x20\x20uniform\x20float\x20fAngle;\x0a\x20\x20\x20\x20uniform\x20float\x20fRX1;\x0a\x20\x20\x20\x20uniform\x20float\x20fRX2;\x0a\x20\x20\x20\x20uniform\x20float\x20fRY1;\x0a\x20\x20\x20\x20uniform\x20float\x20fRY2;\x0a\x0a\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20r,g,b;\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20origin;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20thetabase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20d;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20newpp;\x20\x20///<180矫正pp纹理坐标的点对应360矫正newpp纹理坐标对应的点\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(v_uv.t\x20\x20<=\x200.5)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newpp.s\x20=\x20\x20v_uv.s\x20/\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newpp.t\x20=\x20\x20v_uv.t\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newpp.s\x20=\x20\x20v_uv.s\x20/\x202.0\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newpp.t\x20=\x20\x20(v_uv.t\x20-\x200.5)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fCenterX;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fCenterY;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20w\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20h\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x20(fRY2\x20-\x20fRY1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20fCenterX\x20=\x20(fRX1\x20+\x20fRX2)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20///<圆心实际坐标\x0a\x20\x20\x20\x20\x20\x20\x20\x20fCenterY\x20=\x20(fRY1\x20+\x20fRY2)\x20/\x202.0\x20*\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20fRadius\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20\x20///<半径实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20fMax\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(fRX2\x20>\x201.0\x20||\x20fRY2\x20>\x201.0\x20||\x20fRX1\x20<\x200.0\x20||\x20fRY1\x20<\x200.0)\x20///<如果不是一个完整的圆\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRX1\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20-fRX1\x20*\x20w;\x20///<左边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRX2\x20>\x201.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20(fRX2\x20-\x201.0)\x20*\x20w;\x20///<右边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRY1\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20-fRY1\x20*\x20h;\x20///<上边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(fRY2\x20>\x201.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20(fRY2\x20-\x201.0)\x20*\x20h;\x20///<下边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20fMax)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fMax\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20topCut\x20=\x20fMax\x20/\x20fRadius;\x20\x20\x20///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomCut\x20=\x200.8;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20///<为矫正效果,最终矫正图固定切掉下面一部分\x0a\x20\x20\x20\x20\x20\x20\x20\x20origin.s\x20=\x201.0\x20-\x20newpp.s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20origin.t\x20=\x20(bottomCut\x20-\x20topCut)\x20*\x20(1.0\x20-\x20newpp.t)\x20+\x20topCut;\x0a\x20\x20\x20\x20\x20\x20\x20\x20thetabase\x20=\x206.2831853\x20*\x20origin.s\x20+\x20fAngle;\x0a\x20\x20\x20\x20\x20\x20\x20\x20d\x20=\x20fRadius\x20*\x20(1.0\x20-\x20origin.t);\x0a\x20\x20\x20\x20\x20\x20\x20\x20result.s\x20=\x20(fCenterX\x20-\x20d*sin(thetabase))\x20/\x20w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20result.t\x20=\x20(fCenterY\x20+\x20d*cos(thetabase))\x20/\x20h;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x20texture2D(texture,\x20result.st).r;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x20texture2D(texture,\x20result.st).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x20texture2D(texture,\x20result.st).b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(result.s\x20>\x201.0\x20||\x20result.t\x20>\x201.0\x20||\x20result.s\x20<\x200.0\x20||\x20result.t\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(r\x20,g\x20,b\x20,\x201.0);\x0a\x20\x20\x20\x20}\x20\x0a',this['b3DPort']=!0x1;break;case _0x15ec38['SR_DE_FISH_PANORAMA_WALL']:_0x1e9176=_0x483ef7,_0xa800d1='\x0a\x20\x20\x20\x20precision\x20highp\x20float;\x0a\x20\x20\x20\x20varying\x20vec2\x20v_uv;\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20texture;\x0a\x20\x20\x20\x20uniform\x20float\x20fRX1;\x0a\x20\x20\x20\x20uniform\x20float\x20fRX2;\x0a\x20\x20\x20\x20uniform\x20float\x20fRY1;\x20\x0a\x20\x20\x20\x20uniform\x20float\x20fRY2;\x20\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20r,g,b;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20origin;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20d;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fCenterX;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fCenterY;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20fRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20w\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20h\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x20(fRY2\x20-\x20fRY1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20fCenterX\x20=\x20(fRX1\x20+\x20fRX2)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20\x20///<圆心实际坐标\x0a\x20\x20\x20\x20\x20\x20\x20\x20fCenterY\x20=\x20(fRY1\x20+\x20fRY2)\x20/\x202.0\x20*\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20fRadius\x20=\x20(fRX2\x20-\x20fRX1)\x20/\x202.0\x20*\x20w;\x20\x20\x20\x20\x20///<半径实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20defaultTopCut\x20=\x200.1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20defaultBottomCut\x20=\x200.9;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20leftCut\x20=\x200.0;\x20\x20\x20\x20///<当图像中圆不完整时需要切掉无图像部分,即使图像完整,为了效果,也要切掉上下固定的一部分\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20rightCut\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20topCut\x20=\x20defaultTopCut;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20\x20bottomCut\x20=\x20defaultBottomCut;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(fRX1\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20-fRX1\x20*\x20w;\x20///<左边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20tmp\x20/\x20(2.0*fRadius);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20leftCut\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(fRX2\x20>\x201.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20(fRX2\x20-\x201.0)\x20*\x20w;\x20///<右边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20tmp\x20/\x20(2.0*fRadius);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rightCut\x20=\x201.0\x20-\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(fRY1\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20-fRY1\x20*\x20h;\x20///<上边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20tmp\x20/\x20(2.0*fRadius);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x20defaultTopCut)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topCut\x20=\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topCut\x20=\x20defaultTopCut;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(fRY2\x20>\x201.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20(fRY2\x20-\x201.0)\x20*\x20h;\x20///<下边超出图像部分最大实际长度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tmp\x20=\x20tmp\x20/\x20(2.0*fRadius);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(tmp\x20>\x201.0\x20-\x20defaultBottomCut)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottomCut\x20=\x201.0\x20-\x20tmp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottomCut\x20=\x20defaultBottomCut;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20origin.s\x20=\x20v_uv.s\x20*\x20(rightCut-leftCut)\x20+\x20leftCut;\x0a\x20\x20\x20\x20\x20\x20\x20\x20origin.t\x20=\x20v_uv.t\x20*\x20(bottomCut-topCut)\x20+\x20topCut;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20tmpx\x20=\x20origin.s\x20*\x202.0\x20*\x20fRadius\x20+\x20fCenterX\x20-\x20fRadius;\x20///<纹理坐标转化为原图上的实际坐标\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20tmpy\x20=\x20origin.t\x20*\x202.0\x20*\x20fRadius\x20+\x20fCenterY\x20-\x20fRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20d\x20=\x20sqrt(fRadius*fRadius\x20-\x20(tmpy-fCenterY)*(tmpy-fCenterY));\x0a\x20\x20\x20\x20\x20\x20\x20\x20result.s\x20=\x20((tmpx-fCenterX)\x20*\x20d\x20/\x20fRadius\x20+\x20fCenterX)\x20/\x20w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20result.t\x20=\x20tmpy\x20/\x20h;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x20texture2D(texture,\x20result.st).r;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x20texture2D(texture,\x20result.st).g;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x20texture2D(texture,\x20result.st).b;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(result.s\x20>\x201.0\x20||\x20result.t\x20>\x201.0\x20||\x20result.s\x20<\x200.0\x20||\x20result.t\x20<\x200.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x200.0;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(r\x20,g\x20,b\x20,\x201.0);\x0a\x20\x20\x20\x20}\x0a',this['b3DPort']=!0x1;break;case _0x15ec38['SR_DE_FISH_SEMISPHERE']:case _0x15ec38['SR_DE_FISH_CYLINDER_CEILING']:case _0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']:case _0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']:case _0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']:_0x18fbb7==_0x15ec38['SR_DE_FISH_SEMISPHERE']&&(this['bCullBack']=!0x0),_0x1e9176='\x0a\x20\x20\x20\x20attribute\x20vec4\x20xy;\x0a\x20\x20\x20\x20attribute\x20vec2\x20uv;\x0a\x20\x20\x20\x20varying\x20highp\x20vec2\x20v_uv;\x0a\x20\x20\x20\x20uniform\x20int\x20bCapture;\x0a\x0a\x20\x20\x20\x20uniform\x20mat4\x20matProj;\x0a\x20\x20\x20\x20uniform\x20mat4\x20matView;\x0a\x20\x20\x20\x20void\x20main(void)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20matProj\x20*\x20matView\x20*\x20xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20v_uv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(bCapture\x20==\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_uv.y\x20=\x201.0\x20-\x20uv.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a',_0xa800d1='\x0a\x20\x20\x20\x20varying\x20highp\x20vec2\x20v_uv;\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20texture;\x0a\x20\x20\x20\x20void\x20main(void)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(texture,\x20v_uv);\x0a\x20\x20\x20\x20}\x0a',this['b3DPort']=!0x0;break;default:return _0x58915e;}var _0x45b256=this['CompileProgram'](_0x1e9176,_0xa800d1);if(_0x45b256<=0x0)return _0x1d3582;this['videoShaderProgram']=_0x45b256;var _0xccaf28=null,_0x5a5ffe=null,_0x593340=_0x24d60c;if(0x0==this['b3DPort'])_0xccaf28=new Float32Array([-0x1,-0x1,0x0,-0x1,0x1,0x0,0x1,0x1,0x0,0x1,-0x1,0x0]),_0x5a5ffe=new Float32Array([0x0,0x1,0x0,0x0,0x1,0x0,0x1,0x1]);else {var _0x57139a={},_0x5bf8bf=!0x1;if(null==this['pFishParamManager'])return _0x19c02b;for(var _0x322bf4=0x0;_0x322bf4<_0x39ae26;++_0x322bf4)if(_0x322bf4!=_0x5d0c05&&_0x24d60c==this['pFishParamManager']['GetRenderParam'](_0x322bf4,_0x57139a)){_0x5bf8bf=!0x0;break;}var _0xb1fc28=0x0,_0xf64ac0=0x1,_0x211dbd=0x0,_0x4d5779=0x1;if(0x1==_0x5bf8bf&&(_0xb1fc28=_0x57139a['fRXLeft'],_0xf64ac0=_0x57139a['fRXRight'],_0x211dbd=_0x57139a['fRYTop'],_0x4d5779=_0x57139a['fRYBottom']),_0x18fbb7==_0x15ec38['SR_DE_FISH_SEMISPHERE'])_0x593340=this['_CreateSemiSphere'](_0xb1fc28,_0xf64ac0,_0x211dbd,_0x4d5779),_0xccaf28=this['pSemiSpherePos'],_0x5a5ffe=this['pSemiSphereTex'];else {if(_0x18fbb7==_0x15ec38['SR_DE_FISH_CYLINDER_CEILING']||_0x18fbb7==_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR'])_0x593340=this['_CreateCylinder'](_0x18fbb7,_0xb1fc28,_0xf64ac0,_0x211dbd,_0x4d5779,0x2,0x2),_0xccaf28=this['pCylinderPos'],_0x5a5ffe=this['pCylinderTex'];else {if(_0x18fbb7!=_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']&&_0x18fbb7!=_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL'])return _0x58915e;0x0==_0x5bf8bf?_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']==_0x18fbb7?(_0xb1fc28=0.05,_0xf64ac0=0.95,_0x211dbd=-0.3,_0x4d5779=1.3):_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']==_0x18fbb7&&(_0xb1fc28=-0.16,_0xf64ac0=1.16,_0x211dbd=0.005,_0x4d5779=0.995):_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']==_0x18fbb7?(_0x57139a['fRYTop']>0x0||_0x57139a['fRYBottom']<0x1)&&(_0xb1fc28=0.05,_0xf64ac0=0.95,_0x211dbd=-0.3,_0x4d5779=1.3):_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']==_0x18fbb7&&(_0x57139a['fRXLeft']>0x0||_0x57139a['fRXRight']<0x1)&&(_0xb1fc28=-0.16,_0xf64ac0=1.16,_0x211dbd=0.005,_0x4d5779=0.995),_0x593340=this['_CreateArcSphere'](_0x18fbb7,_0xb1fc28,_0xf64ac0,_0x211dbd,_0x4d5779),_0xccaf28=this['pArcSpherePos'],_0x5a5ffe=this['pArcSphereTex'];}}if(_0x593340!=_0x24d60c)return _0x593340;var _0x4c4f18={};if((_0x593340=this['pFishParamManager']['GetFishParam'](this['nFECPort'],_0x4c4f18))!=_0x24d60c)return _0x593340;if(_0x4c4f18['nFishParamType']=_0x485c73,_0x4c4f18['fRXLeft']=_0xb1fc28,_0x4c4f18['fRXRight']=_0xf64ac0,_0x4c4f18['fRYTop']=_0x211dbd,_0x4c4f18['fRYBottom']=_0x4d5779,this['pFishParamManager']['SetFishParam'](this['nFECPort'],_0x4c4f18),_0x593340!=_0x24d60c)return _0x593340;}if(null==_0xccaf28||null==_0x5a5ffe)return _0x58915e;var _0x2f896a=this['ctx']['createBuffer']();this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],_0x2f896a),this['ctx']['bufferData'](this['ctx']['ARRAY_BUFFER'],_0xccaf28,this['ctx']['STATIC_DRAW']),this['vertexPosBuffer']=_0x2f896a;var _0x3f7d2f=this['ctx']['createBuffer']();return this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],_0x3f7d2f),this['ctx']['bufferData'](this['ctx']['ARRAY_BUFFER'],_0x5a5ffe,this['ctx']['STATIC_DRAW']),this['texturePosBuffer']=_0x3f7d2f,this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null),0x0==this['b3DPort']&&(_0xccaf28=null,_0x5a5ffe=null),_0x593340=this['InitCamera'](_0x18fbb7),_0x24d60c!=_0x593340?_0x593340:(this['enDisplayEffect']=_0x18fbb7,this['nFECPort']);}},{'key':'SR_DelSubPort','value':function(_0x505bf2){return null==this['ctx']?_0x19c02b:(null!=this['pFishParamManager']&&this['nFECPort']==_0x505bf2&&this['pFishParamManager']['FreeFECPort'](this['nFECPort']),this['enDisplayEffect']=_0x15ec38['SR_DE_NULL'],0x0!=this['videoShaderProgram']&&null!=this['ctx']&&(this['ctx']['deleteProgram'](this['videoShaderProgram']),this['videoShaderProgram']=0x0),0x0!=this['vertexPosBuffer']&&null!=this['ctx']&&(this['ctx']['deleteBuffer'](this['vertexPosBuffer']),this['vertexPosBuffer']=0x0),0x0!=this['texturePosBuffer']&&null!=this['ctx']&&(this['ctx']['deleteBuffer'](this['texturePosBuffer']),this['texturePosBuffer']=0x0),this['nMaxPointNum']=0x0,this['pLinePosVertices']=null,this['pLineClrVertices']=null,0x0!=this['glLinePosBuffer']&&null!=this['ctx']&&(this['ctx']['deleteBuffer'](this['glLinePosBuffer']),this['glLinePosBuffer']=0x0),0x0!=this['glLineTexBuffer']&&null!=this['ctx']&&(this['ctx']['deleteBuffer'](this['glLineTexBuffer']),this['glLineTexBuffer']=0x0),this['nLineTriangleNum']=0x0,0x0!=this['nLineShaderProgram']&&null!=this['ctx']&&(this['ctx']['deleteProgram'](this['nLineShaderProgram']),this['nLineShaderProgram']=0x0),this['pFillBlockPosVertices']=null,this['pFillBlockClrVertices']=null,this['nMaxFillBlockTriNum']=0x0,0x0!=this['glBlockPosBuffer']&&null!=this['ctx']&&(this['ctx']['deleteBuffer'](this['glBlockPosBuffer']),this['glBlockPosBuffer']=0x0),0x0!=this['glBlockClrBuffer']&&null!=this['ctx']&&(this['ctx']['deleteBuffer'](this['glBlockClrBuffer']),this['glBlockClrBuffer']=0x0),0x0!=this['nBlockShaderProgram']&&null!=this['ctx']&&(this['ctx']['deleteProgram'](this['nBlockShaderProgram']),this['nBlockShaderProgram']=0x0),this['nDrawFontWidth']=0x0,this['nDrawFontHeight']=0x0,0x0!=this['nFontColorTexture']&&null!=this['ctx']&&(this['ctx']['deleteTexture'](this['nFontColorTexture']),this['nFontColorTexture']=0x0),this['pFontColorBuffer']=0x0,0x0!=this['nFontShaderProgram']&&null!=this['ctx']&&(this['ctx']['deleteProgram'](this['nFontShaderProgram']),this['nFontShaderProgram']=0x0),0x0!=this['nCaptureRTTex']&&(this['ctx']['deleteTexture'](this['nCaptureRTTex']),this['nCaptureRTTex']=0x0),0x0!=this['nCaptureFBO']&&(this['ctx']['deleteFramebuffer'](this['nCaptureFBO']),this['nCaptureFBO']=0x0),0x0!=this['nCaptureDepthbuffer']&&(this['ctx']['deleteRenderbuffer'](this['nCaptureDepthbuffer']),this['nCaptureDepthbuffer']=0x0),this['bCaptureResInit']=!0x1,this['pSemiSpherePos']=null,this['pSemiSphereTex']=null,this['nSemiSpherePosNum']=0x0,this['nSemiSpherePosSize']=0x0,this['nSemiSphereTexSize']=0x0,this['pCylinderPos']=null,this['pCylinderTex']=null,this['nCylinderPosNum']=0x0,this['nCylinderPosSize']=0x0,this['nCylinderTexSize']=0x0,this['fCylinderHeight']=0x0,this['fCylinderRadius']=0x0,this['pArcSpherePos']=null,this['pArcSphereTex']=null,this['nArcSpherePosNum']=0x0,this['nArcSpherePosSize']=0x0,this['nArcSphereTexSize']=0x0,this['b3DPort']=!0x1,this['pCamera']=null,this['fRotateX']=0x0,this['fRotateY']=0x0,this['fScale']=0x0,this['pfuncCBIn']=null,this['pfuncCBOut']=null,this['pUserIn']=null,this['pUserOut']=null,this['ctx']['disable'](this['ctx']['CULL_FACE']),this['ctx']['disable'](this['ctx']['DEPTH_TEST']),_0x24d60c);}},{'key':'SR_GetFishParam','value':function(_0x57943f){return null==_0x57943f?_0x1c46d8:null==this['pFishParamManager']?_0x19c02b:this['pFishParamManager']['GetFishParam'](this['nFECPort'],_0x57943f);}},{'key':'SR_SetFishParam','value':function(_0x596017){return null==_0x596017?_0x1c46d8:null==this['pFishParamManager']?_0x19c02b:this['pFishParamManager']['SetFishParam'](this['nFECPort'],_0x596017);}},{'key':'SR_SetDisplayRect','value':function(_0x263634,_0x174327,_0x11ada0,_0x299783,_0x4a167d){if(null==this['ctx'])return _0x19c02b;var _0x2a1fa9=_0x263634,_0x30db04=_0x174327,_0x3e8579=_0x263634+_0x11ada0,_0x1b8eed=_0x174327+_0x299783,_0x533ae9=null,_0x4269c1=null;switch(_0x4a167d){case _0x3f510a:if(this['frameDisplayWidth']>0x0&&this['frameDisplayHeight']>0x0){if(this['fSrcUseLeft']=_0x2a1fa9/this['frameDisplayWidth'],this['fSrcUseLeft']<0x0?this['fSrcUseLeft']=0x0:this['fSrcUseLeft']>0x1&&(this['fSrcUseLeft']=0x1),this['fSrcUseTop']=_0x30db04/this['frameDisplayHeight'],this['fSrcUseTop']<0x0?this['fSrcUseTop']=0x0:this['fSrcUseTop']>0x1&&(this['fSrcUseTop']=0x1),this['fSrcUseRight']=_0x3e8579/this['frameDisplayWidth'],this['fSrcUseRight']<0x0?this['fSrcUseRight']=0x0:this['fSrcUseRight']>0x1&&(this['fSrcUseRight']=0x1),this['fSrcUseBottom']=_0x1b8eed/this['frameDisplayHeight'],this['fSrcUseBottom']<0x0?this['fSrcUseBottom']=0x0:this['fSrcUseBottom']>0x1&&(this['fSrcUseBottom']=0x1),this['fSrcUseLeft']>=this['fSrcUseRight']||this['fSrcUseTop']>=this['fSrcUseBottom'])return _0x1c46d8;_0x533ae9=new Float32Array([this['fSrcUseLeft'],this['fSrcUseBottom'],this['fSrcUseLeft'],this['fSrcUseTop'],this['fSrcUseRight'],this['fSrcUseTop'],this['fSrcUseRight'],this['fSrcUseBottom']]);}else _0x533ae9=new Float32Array([0x0,0x1,0x0,0x0,0x1,0x0,0x1,0x1]);this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['texturePosBuffer']),this['ctx']['bufferSubData'](this['ctx']['ARRAY_BUFFER'],0x0,_0x533ae9),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null),_0x533ae9=null;break;case _0x1cdfc1:if(this['frameDisplayWidth']>0x0&&this['frameDisplayHeight']>0x0){if(this['fDstUseLeft']=_0x2a1fa9/this['frameDisplayWidth'],this['fDstUseLeft']<0x0?this['fDstUseLeft']=0x0:this['fDstUseLeft']>0x1&&(this['fDstUseLeft']=0x1),this['fDstUseTop']=_0x30db04/this['frameDisplayHeight'],this['fDstUseTop']<0x0?this['fDstUseTop']=0x0:this['fDstUseTop']>0x1&&(this['fDstUseTop']=0x1),this['fDstUseRight']=_0x3e8579/this['frameDisplayWidth'],this['fDstUseRight']<0x0?this['fDstUseRight']=0x0:this['fDstUseRight']>0x1&&(this['fDstUseRight']=0x1),this['fDstUseBottom']=_0x1b8eed/this['frameDisplayHeight'],this['fDstUseBottom']<0x0?this['fDstUseBottom']=0x0:this['fDstUseBottom']>0x1&&(this['fDstUseBottom']=0x1),this['fDstUseLeft']>=this['fDstUseRight']||this['fDstUseTop']>=this['fDstUseBottom'])return _0x1c46d8;(_0x4269c1=new Float32Array(0xc))[0x0]=0x2*this['fDstUseLeft']-0x1,_0x4269c1[0x1]=0x1-0x2*this['fDstUseBottom'],_0x4269c1[0x2]=0x0,_0x4269c1[0x3]=0x2*this['fDstUseLeft']-0x1,_0x4269c1[0x4]=0x1-0x2*this['fDstUseTop'],_0x4269c1[0x5]=0x0,_0x4269c1[0x6]=0x2*this['fDstUseRight']-0x1,_0x4269c1[0x7]=0x1-0x2*this['fDstUseTop'],_0x4269c1[0x8]=0x0,_0x4269c1[0x9]=0x2*this['fDstUseRight']-0x1,_0x4269c1[0xa]=0x1-0x2*this['fDstUseBottom'],_0x4269c1[0xb]=0x0,this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['vertexPosBuffer']),this['ctx']['bufferSubData'](this['ctx']['ARRAY_BUFFER'],0x0,_0x4269c1),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null),_0x4269c1=null;}break;default:return _0x58915e;}return _0x24d60c;}},{'key':'SR_Destroy','value':function(){if(null==this['ctx'])return _0x19c02b;this['frameDisplayWidth']=0x0,this['frameDisplayHeight']=0x0,this['pFrameData']=null;for(var _0x23129f=0x0;_0x23129f<this['nTextureNum'];_0x23129f++)0x0!=this['nSurfaceTexture'][_0x23129f]&&null!=this['ctx']&&(this['ctx']['deleteTexture'](this['nSurfaceTexture'][_0x23129f]),this['nSurfaceTexture'][_0x23129f]=0x0);return this['SR_DelSubPort'](this['nFECPort']),this['ctx']['getExtension']('WEBGL_lose_context')['loseContext'](),this['ctx']=null,this['onlySupportedWebGL1']=!0x1,this['bAntialias']=!0x1,this['bRecreateTex']=!0x0,this['pFishParamManager']=null,_0x24d60c;}},{'key':'SR_SetCanvasSize','value':function(_0x479362,_0x5c54b1){return this['canvas']['width']=_0x479362,this['canvas']['height']=_0x5c54b1,_0x24d60c;}},{'key':'SR_GetCanvasSize','value':function(){return console['log']('canvas\x20width:'+this['canvas']['width']+',height:'+this['canvas']['height']),_0x24d60c;}},{'key':'SR_SetAntialias','value':function(_0xa08472){return 0x1==this['onlySupportedWebGL1']?_0x58915e:(this['bAntialias']!=_0xa08472&&(this['bRecreateTex']=!0x0,this['bAntialias']=_0xa08472),_0x24d60c);}},{'key':'SR_SetPTZDisplayMode','value':function(_0x5b2d07){return null==this['pFishParamManager']?_0x19c02b:this['pFishParamManager']['SetPTZDisplayMode'](_0x5b2d07);}},{'key':'SR_SetFishParamManager','value':function(_0xf6e226){return null!=this['pFishParamManager']?_0x58915e:(this['pFishParamManager']=_0xf6e226,_0x24d60c);}},{'key':'_CreateSemiSphere','value':function(_0x21f251,_0x27edbb,_0x5e4a80,_0x1db7dd){if(null!=this['pSemiSpherePos']||null!=this['pSemiSphereTex'])return _0x19c02b;this['pSemiSpherePos']=new Float32Array(0xa8c0),this['pSemiSphereTex']=new Float32Array(0x7080);for(var _0x2453e9=(_0x27edbb-_0x21f251)/(_0x1db7dd-_0x5e4a80),_0x154767=(_0x27edbb-_0x21f251)/0x2*0x1,_0x61be0c=6.2831852/0x3c,_0x1e2786=0.0392699075,_0x284f4e=0x0,_0xaa5c66=0x0,_0x2e631a=0x0,_0x20b2c8=0x0;_0x20b2c8<0x3c;++_0x20b2c8)for(var _0x3d9865=0x0;_0x3d9865<0x28;++_0x3d9865){var _0x37fc35=_0x20b2c8*_0x61be0c;0x0==_0x20b2c8&&(_0x284f4e=_0x37fc35);var _0x4459b5=0x3b==_0x20b2c8?_0x284f4e:(_0x20b2c8+0x1)*_0x61be0c,_0x7f0fe0=-_0x3d9865*_0x1e2786,_0x48b890=-(_0x3d9865+0x1)*_0x1e2786,_0x89e4a=void 0x0,_0x20172d=void 0x0;this['pSemiSpherePos'][_0xaa5c66]=-0x1*Math['cos'](_0x7f0fe0)*Math['cos'](_0x37fc35),this['pSemiSpherePos'][_0xaa5c66+0x1]=0x1*Math['sin'](_0x7f0fe0),this['pSemiSpherePos'][_0xaa5c66+0x2]=-0x1*Math['cos'](_0x7f0fe0)*Math['sin'](_0x37fc35),_0x20172d=0.5-0.5*(0x1+_0x7f0fe0/1.5707963)*Math['sin'](_0x37fc35),_0x89e4a=0.5-0.5*(0x1+_0x7f0fe0/1.5707963)*Math['cos'](_0x37fc35),this['pSemiSphereTex'][_0x2e631a++]=(0x2*_0x89e4a*_0x154767+0x1*_0x21f251)/0x1,this['pSemiSphereTex'][_0x2e631a++]=(0x2*_0x20172d*_0x154767+_0x5e4a80*_0x2453e9)/_0x2453e9,_0xaa5c66+=0x3,this['pSemiSpherePos'][_0xaa5c66]=-0x1*Math['cos'](_0x48b890)*Math['cos'](_0x37fc35),this['pSemiSpherePos'][_0xaa5c66+0x1]=0x1*Math['sin'](_0x48b890),this['pSemiSpherePos'][_0xaa5c66+0x2]=-0x1*Math['cos'](_0x48b890)*Math['sin'](_0x37fc35),_0x20172d=0.5-0.5*(0x1+_0x48b890/1.5707963)*Math['sin'](_0x37fc35),_0x89e4a=0.5-0.5*(0x1+_0x48b890/1.5707963)*Math['cos'](_0x37fc35),this['pSemiSphereTex'][_0x2e631a++]=(0x2*_0x89e4a*_0x154767+0x1*_0x21f251)/0x1,this['pSemiSphereTex'][_0x2e631a++]=(0x2*_0x20172d*_0x154767+_0x5e4a80*_0x2453e9)/_0x2453e9,_0xaa5c66+=0x3,this['pSemiSpherePos'][_0xaa5c66]=-0x1*Math['cos'](_0x7f0fe0)*Math['cos'](_0x4459b5),this['pSemiSpherePos'][_0xaa5c66+0x1]=0x1*Math['sin'](_0x7f0fe0),this['pSemiSpherePos'][_0xaa5c66+0x2]=-0x1*Math['cos'](_0x7f0fe0)*Math['sin'](_0x4459b5),_0x20172d=0.5-0.5*(0x1+_0x7f0fe0/1.5707963)*Math['sin'](_0x4459b5),_0x89e4a=0.5-0.5*(0x1+_0x7f0fe0/1.5707963)*Math['cos'](_0x4459b5),this['pSemiSphereTex'][_0x2e631a++]=(0x2*_0x89e4a*_0x154767+0x1*_0x21f251)/0x1,this['pSemiSphereTex'][_0x2e631a++]=(0x2*_0x20172d*_0x154767+_0x5e4a80*_0x2453e9)/_0x2453e9,_0xaa5c66+=0x3,this['pSemiSpherePos'][_0xaa5c66]=-0x1*Math['cos'](_0x7f0fe0)*Math['cos'](_0x4459b5),this['pSemiSpherePos'][_0xaa5c66+0x1]=0x1*Math['sin'](_0x7f0fe0),this['pSemiSpherePos'][_0xaa5c66+0x2]=-0x1*Math['cos'](_0x7f0fe0)*Math['sin'](_0x4459b5),_0x20172d=0.5-0.5*(0x1+_0x7f0fe0/1.5707963)*Math['sin'](_0x4459b5),_0x89e4a=0.5-0.5*(0x1+_0x7f0fe0/1.5707963)*Math['cos'](_0x4459b5),this['pSemiSphereTex'][_0x2e631a++]=(0x2*_0x89e4a*_0x154767+0x1*_0x21f251)/0x1,this['pSemiSphereTex'][_0x2e631a++]=(0x2*_0x20172d*_0x154767+_0x5e4a80*_0x2453e9)/_0x2453e9,_0xaa5c66+=0x3,this['pSemiSpherePos'][_0xaa5c66]=-0x1*Math['cos'](_0x48b890)*Math['cos'](_0x37fc35),this['pSemiSpherePos'][_0xaa5c66+0x1]=0x1*Math['sin'](_0x48b890),this['pSemiSpherePos'][_0xaa5c66+0x2]=-0x1*Math['cos'](_0x48b890)*Math['sin'](_0x37fc35),_0x20172d=0.5-0.5*(0x1+_0x48b890/1.5707963)*Math['sin'](_0x37fc35),_0x89e4a=0.5-0.5*(0x1+_0x48b890/1.5707963)*Math['cos'](_0x37fc35),this['pSemiSphereTex'][_0x2e631a++]=(0x2*_0x89e4a*_0x154767+0x1*_0x21f251)/0x1,this['pSemiSphereTex'][_0x2e631a++]=(0x2*_0x20172d*_0x154767+_0x5e4a80*_0x2453e9)/_0x2453e9,_0xaa5c66+=0x3,this['pSemiSpherePos'][_0xaa5c66]=-0x1*Math['cos'](_0x48b890)*Math['cos'](_0x4459b5),this['pSemiSpherePos'][_0xaa5c66+0x1]=0x1*Math['sin'](_0x48b890),this['pSemiSpherePos'][_0xaa5c66+0x2]=-0x1*Math['cos'](_0x48b890)*Math['sin'](_0x4459b5),_0x20172d=0.5-0.5*(0x1+_0x48b890/1.5707963)*Math['sin'](_0x4459b5),_0x89e4a=0.5-0.5*(0x1+_0x48b890/1.5707963)*Math['cos'](_0x4459b5),this['pSemiSphereTex'][_0x2e631a++]=(0x2*_0x89e4a*_0x154767+0x1*_0x21f251)/0x1,this['pSemiSphereTex'][_0x2e631a++]=(0x2*_0x20172d*_0x154767+_0x5e4a80*_0x2453e9)/_0x2453e9,_0xaa5c66+=0x3;}return this['nSemiSpherePosNum']=_0xaa5c66/0x3,this['nSemiSpherePosSize']=0x3,this['nSemiSphereTexSize']=0x2,_0x24d60c;}},{'key':'_CreateCylinder','value':function(_0x12814c,_0x1ad863,_0x383d99,_0x50c594,_0x1f1324,_0x50c178,_0x82f2c0){if(null!=this['pCylinderPos']||null!=this['pCylinderTex'])return _0x19c02b;if(Math['abs'](_0x50c178-0x0)<_0x41c124)this['fCylinderHeight']=0x2;else {if(_0x50c178<0.5||_0x50c178>0x6)return _0x1c46d8;this['fCylinderHeight']=_0x50c178;}if(Math['abs'](_0x82f2c0-0x0)<_0x41c124)this['fCylinderRadius']=_0x12814c==_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']||_0x12814c==_0x15ec38['SR_DE_FISH_CYLINDER_CEILING']?0x2:0x1;else {if(_0x82f2c0<0.5||_0x82f2c0>0x4)return _0x1c46d8;this['fCylinderRadius']=_0x82f2c0;}if(this['pCylinderPos']=new Float32Array(0xa8c0),this['pCylinderTex']=new Float32Array(0x7080),null==this['pCylinderPos']||null==this['pCylinderTex'])return this['pCylinderPos']=null,this['pCylinderTex']=null,_0x46c175;for(var _0x5ee868=(_0x383d99-_0x1ad863)/(_0x1f1324-_0x50c594),_0x5a91de=(_0x383d99-_0x1ad863)/0x2*0x1,_0x4ebf63=6.2831852/0x3c,_0x376dee=this['fCylinderHeight']/_0x568af2,_0xfd2586=0x0,_0x1b814e=0x0,_0x2df2ee=0x0;_0x2df2ee<0x3c;++_0x2df2ee)for(var _0x45c2a5=0x0;_0x45c2a5<_0x568af2;++_0x45c2a5){var _0x24ce92=_0x2df2ee*_0x4ebf63,_0x5ac71e=(_0x2df2ee+0x1)*_0x4ebf63,_0x1ae822=void 0x0,_0x48a8c8=void 0x0;this['pCylinderPos'][_0xfd2586]=-this['fCylinderRadius']*Math['sin'](_0x24ce92),this['pCylinderPos'][_0xfd2586+0x1]=this['fCylinderHeight']/0x2-_0x45c2a5*_0x376dee,this['pCylinderPos'][_0xfd2586+0x2]=-this['fCylinderRadius']*Math['cos'](_0x24ce92),_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']==_0x12814c||_0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_FLOOR']==_0x12814c?(_0x1ae822=0.5+(0.1+0.01*_0x45c2a5)*Math['sin'](_0x24ce92),_0x48a8c8=0.5+(0.1+0.01*_0x45c2a5)*Math['cos'](_0x24ce92)):(_0x1ae822=0.5-(0.5-0.01*_0x45c2a5)*Math['sin'](_0x24ce92),_0x48a8c8=0.5+(0.5-0.01*_0x45c2a5)*Math['cos'](_0x24ce92)),this['pCylinderTex'][_0x1b814e++]=(0x2*_0x1ae822*_0x5a91de+0x1*_0x1ad863)/0x1,this['pCylinderTex'][_0x1b814e++]=(0x2*_0x48a8c8*_0x5a91de+_0x50c594*_0x5ee868)/_0x5ee868,_0xfd2586+=0x3,this['pCylinderPos'][_0xfd2586]=-this['fCylinderRadius']*Math['sin'](_0x24ce92),this['pCylinderPos'][_0xfd2586+0x1]=this['fCylinderHeight']/0x2-(_0x45c2a5+0x1)*_0x376dee,this['pCylinderPos'][_0xfd2586+0x2]=-this['fCylinderRadius']*Math['cos'](_0x24ce92),_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']==_0x12814c||_0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_FLOOR']==_0x12814c?(_0x1ae822=0.5+(0.1+0.01*(_0x45c2a5+0x1))*Math['sin'](_0x24ce92),_0x48a8c8=0.5+(0.1+0.01*(_0x45c2a5+0x1))*Math['cos'](_0x24ce92)):(_0x1ae822=0.5-(0.5-0.01*(_0x45c2a5+0x1))*Math['sin'](_0x24ce92),_0x48a8c8=0.5+(0.5-0.01*(_0x45c2a5+0x1))*Math['cos'](_0x24ce92)),this['pCylinderTex'][_0x1b814e++]=(0x2*_0x1ae822*_0x5a91de+0x1*_0x1ad863)/0x1,this['pCylinderTex'][_0x1b814e++]=(0x2*_0x48a8c8*_0x5a91de+_0x50c594*_0x5ee868)/_0x5ee868,_0xfd2586+=0x3,this['pCylinderPos'][_0xfd2586]=-this['fCylinderRadius']*Math['sin'](_0x5ac71e),this['pCylinderPos'][_0xfd2586+0x1]=this['fCylinderHeight']/0x2-_0x45c2a5*_0x376dee,this['pCylinderPos'][_0xfd2586+0x2]=-this['fCylinderRadius']*Math['cos'](_0x5ac71e),_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']==_0x12814c||_0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_FLOOR']==_0x12814c?(_0x1ae822=0.5+(0.1+0.01*_0x45c2a5)*Math['sin'](_0x5ac71e),_0x48a8c8=0.5+(0.1+0.01*_0x45c2a5)*Math['cos'](_0x5ac71e)):(_0x1ae822=0.5-(0.5-0.01*_0x45c2a5)*Math['sin'](_0x5ac71e),_0x48a8c8=0.5+(0.5-0.01*_0x45c2a5)*Math['cos'](_0x5ac71e)),this['pCylinderTex'][_0x1b814e++]=(0x2*_0x1ae822*_0x5a91de+0x1*_0x1ad863)/0x1,this['pCylinderTex'][_0x1b814e++]=(0x2*_0x48a8c8*_0x5a91de+_0x50c594*_0x5ee868)/_0x5ee868,_0xfd2586+=0x3,this['pCylinderPos'][_0xfd2586]=-this['fCylinderRadius']*Math['sin'](_0x5ac71e),this['pCylinderPos'][_0xfd2586+0x1]=this['fCylinderHeight']/0x2-_0x45c2a5*_0x376dee,this['pCylinderPos'][_0xfd2586+0x2]=-this['fCylinderRadius']*Math['cos'](_0x5ac71e),_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']==_0x12814c||_0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_FLOOR']==_0x12814c?(_0x1ae822=0.5+(0.1+0.01*_0x45c2a5)*Math['sin'](_0x5ac71e),_0x48a8c8=0.5+(0.1+0.01*_0x45c2a5)*Math['cos'](_0x5ac71e)):(_0x1ae822=0.5-(0.5-0.01*_0x45c2a5)*Math['sin'](_0x5ac71e),_0x48a8c8=0.5+(0.5-0.01*_0x45c2a5)*Math['cos'](_0x5ac71e)),this['pCylinderTex'][_0x1b814e++]=(0x2*_0x1ae822*_0x5a91de+0x1*_0x1ad863)/0x1,this['pCylinderTex'][_0x1b814e++]=(0x2*_0x48a8c8*_0x5a91de+_0x50c594*_0x5ee868)/_0x5ee868,_0xfd2586+=0x3,this['pCylinderPos'][_0xfd2586]=-this['fCylinderRadius']*Math['sin'](_0x24ce92),this['pCylinderPos'][_0xfd2586+0x1]=this['fCylinderHeight']/0x2-(_0x45c2a5+0x1)*_0x376dee,this['pCylinderPos'][_0xfd2586+0x2]=-this['fCylinderRadius']*Math['cos'](_0x24ce92),_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']==_0x12814c||_0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_FLOOR']==_0x12814c?(_0x1ae822=0.5+(0.1+0.01*(_0x45c2a5+0x1))*Math['sin'](_0x24ce92),_0x48a8c8=0.5+(0.1+0.01*(_0x45c2a5+0x1))*Math['cos'](_0x24ce92)):(_0x1ae822=0.5-(0.5-0.01*(_0x45c2a5+0x1))*Math['sin'](_0x24ce92),_0x48a8c8=0.5+(0.5-0.01*(_0x45c2a5+0x1))*Math['cos'](_0x24ce92)),this['pCylinderTex'][_0x1b814e++]=(0x2*_0x1ae822*_0x5a91de+0x1*_0x1ad863)/0x1,this['pCylinderTex'][_0x1b814e++]=(0x2*_0x48a8c8*_0x5a91de+_0x50c594*_0x5ee868)/_0x5ee868,_0xfd2586+=0x3,this['pCylinderPos'][_0xfd2586]=-this['fCylinderRadius']*Math['sin'](_0x5ac71e),this['pCylinderPos'][_0xfd2586+0x1]=this['fCylinderHeight']/0x2-(_0x45c2a5+0x1)*_0x376dee,this['pCylinderPos'][_0xfd2586+0x2]=-this['fCylinderRadius']*Math['cos'](_0x5ac71e),_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']==_0x12814c||_0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_FLOOR']==_0x12814c?(_0x1ae822=0.5+(0.1+0.01*(_0x45c2a5+0x1))*Math['sin'](_0x5ac71e),_0x48a8c8=0.5+(0.1+0.01*(_0x45c2a5+0x1))*Math['cos'](_0x5ac71e)):(_0x1ae822=0.5-(0.5-0.01*(_0x45c2a5+0x1))*Math['sin'](_0x5ac71e),_0x48a8c8=0.5+(0.5-0.01*(_0x45c2a5+0x1))*Math['cos'](_0x5ac71e)),this['pCylinderTex'][_0x1b814e++]=(0x2*_0x1ae822*_0x5a91de+0x1*_0x1ad863)/0x1,this['pCylinderTex'][_0x1b814e++]=(0x2*_0x48a8c8*_0x5a91de+_0x50c594*_0x5ee868)/_0x5ee868,_0xfd2586+=0x3;}return this['nCylinderPosNum']=_0xfd2586/0x3,this['nCylinderPosSize']=0x3,this['nCylinderTexSize']=0x2,_0x24d60c;}},{'key':'_CreateArcSphere','value':function(_0x3dffc9,_0x419bce,_0x37b743,_0x4ec95b,_0x3e3b83){if(null!=this['pArcSpherePos']||null!=this['pArcSphereTex'])return _0x19c02b;if(_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']){if(_0x4ec95b>0x0||_0x3e3b83<0x1)return SR_ERR_PARAM;}else {if(_0x3dffc9!=_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL'])return _0x58915e;if(_0x419bce>0x0||_0x37b743<0x1)return SR_ERR_PARAM;}this['fImageWidth']=0x1,this['fImageHeight']=(_0x37b743-_0x419bce)/(_0x3e3b83-_0x4ec95b),this['fTexCenterX']=(_0x419bce+_0x37b743)/0x2*this['fImageWidth'],this['fTexCenterY']=(_0x4ec95b+_0x3e3b83)/0x2*this['fImageHeight'],this['fTexRadius']=(_0x37b743-_0x419bce)/0x2*this['fImageWidth'];var _0x16c0ae=0x19;if(null==this['pArcSphereTex']&&(this['pArcSphereTex']=new Float32Array(0x3960),null==this['pArcSphereTex']))return _0x46c175;if(null==this['pArcSpherePos']&&(this['pArcSpherePos']=new Float32Array(0x5610),null==this['pArcSpherePos']))return _0x46c175;var _0x5e28c6=new Float32Array(0x40);if(null==_0x5e28c6)return _0x46c175;var _0x28dda9=_0x24d60c;if(_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']?_0x28dda9=this['_ComputeLatitudeHorizontal'](_0x5e28c6,_0x16c0ae,0x28,0x1):_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']&&(_0x28dda9=this['_ComputeLatitudeVertical'](_0x5e28c6,_0x16c0ae,0x28,0x1)),_0x24d60c!=_0x28dda9)return this['pArcSpherePos']=null,this['pArcSphereTex']=null,_0x28dda9;this['fFirstLatitude']=_0x5e28c6[0xc],this['fLastLatitude']=_0x5e28c6[0x33];var _0x4a6a88=0x0,_0x5d8eeb=0x0,_0x1f0c5=new Float32Array(0x5);if(null==_0x1f0c5)return this['pArcSpherePos']=null,this['pArcSphereTex']=null,_0x46c175;for(var _0x3c8f09=_0x18bc1a/0x18,_0x518c4f=-0xc;_0x518c4f<0xc;++_0x518c4f)for(var _0x3832f2=_0x518c4f<0x0?-_0x518c4f:_0x518c4f,_0x131bf3=_0x518c4f<0x0?_0x3832f2:_0x3832f2+0x1,_0x1664d8=_0x518c4f<0x0?0x40-0x2*(_0x3832f2-0x1)-0x2:0x40-0x2*_0x3832f2-0x2,_0x526c8e=0x0;_0x526c8e<_0x1664d8;++_0x526c8e,++_0x131bf3)_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']?this['_ComputeVertexAndTexturePosHorizontal'](0x1,1.5707963-_0x3c8f09*_0x518c4f,_0x5e28c6[_0x131bf3],_0x1f0c5):_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']&&this['_ComputeVertexAndTexturePosVertical'](0x1,1.5707963-_0x3c8f09*_0x518c4f,_0x5e28c6[_0x131bf3],_0x1f0c5),this['pArcSpherePos'][_0x4a6a88]=_0x1f0c5[0x0],this['pArcSpherePos'][_0x4a6a88+0x1]=_0x1f0c5[0x1],this['pArcSpherePos'][_0x4a6a88+0x2]=_0x1f0c5[0x2],this['pArcSphereTex'][_0x5d8eeb++]=_0x1f0c5[0x3],this['pArcSphereTex'][_0x5d8eeb++]=_0x1f0c5[0x4],_0x4a6a88+=0x3,_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']?this['_ComputeVertexAndTexturePosHorizontal'](0x1,1.5707963-_0x3c8f09*(_0x518c4f+0x1),_0x5e28c6[_0x131bf3],_0x1f0c5):_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']&&this['_ComputeVertexAndTexturePosVertical'](0x1,1.5707963-_0x3c8f09*(_0x518c4f+0x1),_0x5e28c6[_0x131bf3],_0x1f0c5),this['pArcSpherePos'][_0x4a6a88]=_0x1f0c5[0x0],this['pArcSpherePos'][_0x4a6a88+0x1]=_0x1f0c5[0x1],this['pArcSpherePos'][_0x4a6a88+0x2]=_0x1f0c5[0x2],this['pArcSphereTex'][_0x5d8eeb++]=_0x1f0c5[0x3],this['pArcSphereTex'][_0x5d8eeb++]=_0x1f0c5[0x4],_0x4a6a88+=0x3,_0x518c4f>=0x0&&0x0==_0x526c8e?_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']?this['_ComputeVertexAndTexturePosHorizontal'](0x1,1.5707963-_0x3c8f09*_0x518c4f,_0x5e28c6[_0x131bf3-0x1],_0x1f0c5):_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']&&this['_ComputeVertexAndTexturePosVertical'](0x1,1.5707963-_0x3c8f09*_0x518c4f,_0x5e28c6[_0x131bf3-0x1],_0x1f0c5):_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']?this['_ComputeVertexAndTexturePosHorizontal'](0x1,1.5707963-_0x3c8f09*(_0x518c4f+0x1),_0x5e28c6[_0x131bf3-0x1],_0x1f0c5):_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']&&this['_ComputeVertexAndTexturePosVertical'](0x1,1.5707963-_0x3c8f09*(_0x518c4f+0x1),_0x5e28c6[_0x131bf3-0x1],_0x1f0c5),this['pArcSpherePos'][_0x4a6a88]=_0x1f0c5[0x0],this['pArcSpherePos'][_0x4a6a88+0x1]=_0x1f0c5[0x1],this['pArcSpherePos'][_0x4a6a88+0x2]=_0x1f0c5[0x2],this['pArcSphereTex'][_0x5d8eeb++]=_0x1f0c5[0x3],this['pArcSphereTex'][_0x5d8eeb++]=_0x1f0c5[0x4],_0x4a6a88+=0x3,_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']?this['_ComputeVertexAndTexturePosHorizontal'](0x1,1.5707963-_0x3c8f09*(_0x518c4f+0x1),_0x5e28c6[_0x131bf3],_0x1f0c5):_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']&&this['_ComputeVertexAndTexturePosVertical'](0x1,1.5707963-_0x3c8f09*(_0x518c4f+0x1),_0x5e28c6[_0x131bf3],_0x1f0c5),this['pArcSpherePos'][_0x4a6a88]=_0x1f0c5[0x0],this['pArcSpherePos'][_0x4a6a88+0x1]=_0x1f0c5[0x1],this['pArcSpherePos'][_0x4a6a88+0x2]=_0x1f0c5[0x2],this['pArcSphereTex'][_0x5d8eeb++]=_0x1f0c5[0x3],this['pArcSphereTex'][_0x5d8eeb++]=_0x1f0c5[0x4],_0x4a6a88+=0x3,_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']?this['_ComputeVertexAndTexturePosHorizontal'](0x1,1.5707963-_0x3c8f09*_0x518c4f,_0x5e28c6[_0x131bf3],_0x1f0c5):_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']&&this['_ComputeVertexAndTexturePosVertical'](0x1,1.5707963-_0x3c8f09*_0x518c4f,_0x5e28c6[_0x131bf3],_0x1f0c5),this['pArcSpherePos'][_0x4a6a88]=_0x1f0c5[0x0],this['pArcSpherePos'][_0x4a6a88+0x1]=_0x1f0c5[0x1],this['pArcSpherePos'][_0x4a6a88+0x2]=_0x1f0c5[0x2],this['pArcSphereTex'][_0x5d8eeb++]=_0x1f0c5[0x3],this['pArcSphereTex'][_0x5d8eeb++]=_0x1f0c5[0x4],_0x4a6a88+=0x3,_0x518c4f<0x0&&_0x526c8e==_0x1664d8-0x1?_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']?this['_ComputeVertexAndTexturePosHorizontal'](0x1,1.5707963-_0x3c8f09*(_0x518c4f+0x1),_0x5e28c6[_0x131bf3+0x1],_0x1f0c5):_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']&&this['_ComputeVertexAndTexturePosVertical'](0x1,1.5707963-_0x3c8f09*(_0x518c4f+0x1),_0x5e28c6[_0x131bf3+0x1],_0x1f0c5):_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']?this['_ComputeVertexAndTexturePosHorizontal'](0x1,1.5707963-_0x3c8f09*_0x518c4f,_0x5e28c6[_0x131bf3+0x1],_0x1f0c5):_0x3dffc9==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']&&this['_ComputeVertexAndTexturePosVertical'](0x1,1.5707963-_0x3c8f09*_0x518c4f,_0x5e28c6[_0x131bf3+0x1],_0x1f0c5),this['pArcSpherePos'][_0x4a6a88]=_0x1f0c5[0x0],this['pArcSpherePos'][_0x4a6a88+0x1]=_0x1f0c5[0x1],this['pArcSpherePos'][_0x4a6a88+0x2]=_0x1f0c5[0x2],this['pArcSphereTex'][_0x5d8eeb++]=_0x1f0c5[0x3],this['pArcSphereTex'][_0x5d8eeb++]=_0x1f0c5[0x4],_0x4a6a88+=0x3;return this['nArcSpherePosNum']=_0x4a6a88/0x3,this['nArcSpherePosSize']=0x3,this['nArcSphereTexSize']=0x2,_0x5e28c6=null,_0x1f0c5=null,_0x24d60c;}},{'key':'_ComputeIntersectionOfPlaneAndLongtitude','value':function(_0x2509b0,_0x195df7,_0x1129fc){if(null==_0x2509b0)return _0x1c46d8;var _0x1f8dd8,_0x92db3e=_0x2509b0[0x1]*_0x1129fc,_0x561b96=_0x2509b0[0x2]*_0x1129fc*Math['sin'](_0x195df7),_0x2814ad=-_0x2509b0[0x3],_0x8b9931=0x0;if(_0x2509b0[0x1]>0x0){var _0x56fdf6=_0x92db3e*_0x92db3e*_0x2814ad*_0x2814ad-(_0x92db3e*_0x92db3e+_0x561b96*_0x561b96)*(_0x2814ad*_0x2814ad-_0x561b96*_0x561b96);_0x8b9931=(-_0x92db3e*_0x2814ad-Math['sqrt'](_0x56fdf6))/(_0x92db3e*_0x92db3e+_0x561b96*_0x561b96),_0x56fdf6=_0x561b96*_0x561b96*_0x2814ad*_0x2814ad-(_0x92db3e*_0x92db3e+_0x561b96*_0x561b96)*(_0x2814ad*_0x2814ad-_0x92db3e*_0x92db3e);}if(_0x2509b0[0x1]<0x0){var _0x35b5f5=_0x92db3e*_0x92db3e*_0x2814ad*_0x2814ad-(_0x92db3e*_0x92db3e+_0x561b96*_0x561b96)*(_0x2814ad*_0x2814ad-_0x561b96*_0x561b96);_0x8b9931=(-_0x92db3e*_0x2814ad+Math['sqrt'](_0x35b5f5))/(_0x92db3e*_0x92db3e+_0x561b96*_0x561b96),_0x35b5f5=_0x561b96*_0x561b96*_0x2814ad*_0x2814ad-(_0x92db3e*_0x92db3e+_0x561b96*_0x561b96)*(_0x2814ad*_0x2814ad-_0x92db3e*_0x92db3e);}return _0x1f8dd8=-_0x1129fc*_0x8b9931,Math['asin'](_0x1f8dd8/_0x1129fc);}},{'key':'_ComputeLatitudeHorizontal','value':function(_0x28c2d5,_0x45b309,_0x16aa4c,_0x36f76a){if(null==_0x28c2d5)return _0x1c46d8;var _0x42f77b=0x0,_0xb01fa=(this['fTexCenterY'],_0x18bc1a/(_0x45b309-0x1)),_0x23f512=_0x18bc1a*this['fTexCenterY']/(0x2*this['fTexRadius']),_0x289703=Math['asin'](this['fTexCenterY']/this['fTexRadius']),_0x3fa28f=Math['atan'](Math['cos'](_0x23f512)/(Math['sin'](_0x23f512)-Math['sin'](_0x289703))),_0x32c2a7=new Float32Array(0x4);_0x32c2a7[0x0]=0x0,_0x32c2a7[0x1]=Math['sin'](_0x3fa28f),_0x32c2a7[0x2]=Math['cos'](_0x3fa28f),_0x32c2a7[0x3]=-_0x36f76a*Math['sin'](_0x3fa28f)*Math['sin'](_0x289703),_0x28c2d5[_0x42f77b++]=_0x23f512;for(var _0x358f0a=0x1;_0x358f0a<=(_0x45b309-0x3)/0x2;++_0x358f0a){var _0xd27215=this['_ComputeIntersectionOfPlaneAndLongtitude'](_0x32c2a7,1.5707963-_0xb01fa*_0x358f0a,_0x36f76a);_0x28c2d5[_0x42f77b++]=_0xd27215;}for(var _0x134fe7=-Math['asin']((this['fImageHeight']-this['fTexCenterY'])/this['fTexRadius']),_0x2256a7=_0x289703,_0x1cee22=(_0x2256a7-_0x134fe7)/(_0x16aa4c-0x1),_0x598077=0x0;_0x598077<_0x16aa4c;++_0x598077)_0x28c2d5[_0x42f77b++]=_0x2256a7-_0x598077*_0x1cee22;var _0x3f41c6=_0x134fe7,_0x41cbf6=_0x18bc1a*(this['fTexCenterY']-this['fImageHeight'])/(0x2*this['fTexRadius']);_0x3fa28f=Math['atan'](Math['cos'](_0x41cbf6)/(Math['sin'](_0x3f41c6)-Math['sin'](_0x41cbf6)));var _0x5ec108=new Float32Array(0x4);_0x5ec108[0x0]=0x0,_0x5ec108[0x1]=-Math['sin'](_0x3fa28f),_0x5ec108[0x2]=Math['cos'](_0x3fa28f),_0x5ec108[0x3]=_0x36f76a*Math['sin'](_0x3fa28f)*Math['sin'](_0x3f41c6);for(var _0x31cbf5=0x1;_0x31cbf5<=(_0x45b309-0x3)/0x2;++_0x31cbf5){var _0xcc6894=this['_ComputeIntersectionOfPlaneAndLongtitude'](_0x5ec108,_0xb01fa*_0x31cbf5,_0x36f76a);_0x28c2d5[_0x42f77b++]=_0xcc6894;}return _0x28c2d5[_0x42f77b++]=_0x41cbf6,_0x32c2a7=null,_0x5ec108=null,_0x24d60c;}},{'key':'_ComputeVertexAndTexturePosHorizontal','value':function(_0x5d3215,_0x1dc7a2,_0x28008a,_0x199cea){if(null==_0x199cea)return _0x1c46d8;_0x199cea[0x2]=-_0x5d3215*Math['cos'](_0x28008a)*Math['sin'](_0x1dc7a2),_0x199cea[0x0]=_0x5d3215*Math['cos'](_0x28008a)*Math['cos'](_0x1dc7a2),_0x199cea[0x1]=_0x5d3215*Math['sin'](_0x28008a);var _0x1a3c73,_0x21a4ce=-Math['asin'](-_0x199cea[0x2]/_0x5d3215)/_0x18bc1a;_0x1a3c73=_0x28008a>=0x0?Math['acos'](_0x199cea[0x0]/Math['sqrt'](_0x199cea[0x0]*_0x199cea[0x0]+_0x199cea[0x1]*_0x199cea[0x1])):6.2831852-Math['acos'](_0x199cea[0x0]/Math['sqrt'](_0x199cea[0x0]*_0x199cea[0x0]+_0x199cea[0x1]*_0x199cea[0x1]));var _0x4d2a9a=this['fTexCenterX']-this['fTexRadius'],_0x49265d=this['fTexRadius']-this['fTexCenterY'];return _0x199cea[0x3]=(Math['cos'](_0x1a3c73)*this['fTexRadius']*(0x1+0x2*_0x21a4ce)+this['fTexRadius']+_0x4d2a9a)/this['fImageWidth'],_0x199cea[0x4]=(Math['sin'](_0x1a3c73)*this['fTexRadius']*(-0x1-0x2*_0x21a4ce)+this['fTexRadius']-_0x49265d)/this['fImageHeight'],_0x24d60c;}},{'key':'_ComputeLatitudeVertical','value':function(_0x47d01e,_0x573d1c,_0x53bf0d,_0x5895a1){if(null==_0x47d01e)return SR_ERR_PARAM;var _0xde8249=0x0,_0x5044b1=_0x18bc1a/(_0x573d1c-0x1),_0x2c704d=_0x18bc1a*this['fTexCenterX']/(0x2*this['fTexRadius']),_0x3f4f35=Math['asin'](this['fTexCenterX']/this['fTexRadius']),_0x41bdb9=Math['atan'](Math['cos'](_0x2c704d)/(Math['sin'](_0x2c704d)-Math['sin'](_0x3f4f35))),_0x4b1df6=new Float32Array(0x4);_0x4b1df6[0x0]=0x0,_0x4b1df6[0x1]=Math['sin'](_0x41bdb9),_0x4b1df6[0x2]=Math['cos'](_0x41bdb9),_0x4b1df6[0x3]=-_0x5895a1*Math['sin'](_0x41bdb9)*Math['sin'](_0x3f4f35),_0x47d01e[_0xde8249++]=_0x2c704d;for(var _0x467604=0x1;_0x467604<=(_0x573d1c-0x3)/0x2;++_0x467604){var _0x5edda6=this['_ComputeIntersectionOfPlaneAndLongtitude'](_0x4b1df6,1.5707963-_0x5044b1*_0x467604,_0x5895a1);_0x47d01e[_0xde8249++]=_0x5edda6;}for(var _0x32b7ab=-Math['asin']((this['fImageWidth']-this['fTexCenterX'])/this['fTexRadius']),_0x12a006=_0x3f4f35,_0x436edf=(_0x12a006-_0x32b7ab)/(_0x53bf0d-0x1),_0x4abc00=0x0;_0x4abc00<_0x53bf0d;++_0x4abc00)_0x47d01e[_0xde8249++]=_0x12a006-_0x4abc00*_0x436edf;var _0x3e1f93=_0x32b7ab,_0x216cc8=_0x18bc1a*(this['fTexCenterX']-this['fImageWidth'])/(0x2*this['fTexRadius']);_0x41bdb9=Math['atan'](Math['cos'](_0x216cc8)/(Math['sin'](_0x3e1f93)-Math['sin'](_0x216cc8)));var _0x30b17c=new Float32Array(0x4);_0x30b17c[0x0]=0x0,_0x30b17c[0x1]=-Math['sin'](_0x41bdb9),_0x30b17c[0x2]=Math['cos'](_0x41bdb9),_0x30b17c[0x3]=_0x5895a1*Math['sin'](_0x41bdb9)*Math['sin'](_0x3e1f93);for(var _0xa916a5=0x1;_0xa916a5<=(_0x573d1c-0x3)/0x2;++_0xa916a5){var _0x34b4bc=this['_ComputeIntersectionOfPlaneAndLongtitude'](_0x30b17c,_0x5044b1*_0xa916a5,_0x5895a1);_0x47d01e[_0xde8249++]=_0x34b4bc;}return _0x47d01e[_0xde8249++]=_0x216cc8,_0x4b1df6=null,_0x30b17c=null,_0x24d60c;}},{'key':'_ComputeVertexAndTexturePosVertical','value':function(_0x282ecb,_0x802505,_0x1d5305,_0x29c9d3){if(null==_0x29c9d3)return SR_ERR_PARAM;_0x29c9d3[0x2]=-_0x282ecb*Math['cos'](_0x1d5305)*Math['sin'](_0x802505),_0x29c9d3[0x1]=_0x282ecb*Math['cos'](_0x1d5305)*Math['cos'](_0x802505),_0x29c9d3[0x0]=-_0x282ecb*Math['sin'](_0x1d5305);var _0x188452,_0xbf1ea6=-Math['asin'](-_0x29c9d3[0x2]/_0x282ecb)/_0x18bc1a;_0x188452=_0x802505<=1.5707963?Math['acos'](_0x29c9d3[0x0]/Math['sqrt'](_0x29c9d3[0x0]*_0x29c9d3[0x0]+_0x29c9d3[0x1]*_0x29c9d3[0x1])):6.2831852-Math['acos'](_0x29c9d3[0x0]/Math['sqrt'](_0x29c9d3[0x0]*_0x29c9d3[0x0]+_0x29c9d3[0x1]*_0x29c9d3[0x1]));var _0x4f7297=this['fTexCenterX']-this['fTexRadius'],_0x3c3fa6=this['fTexRadius']-this['fTexCenterY'];return _0x29c9d3[0x3]=(Math['cos'](_0x188452)*this['fTexRadius']*(0x1+0x2*_0xbf1ea6)+this['fTexRadius']+_0x4f7297)/this['fImageWidth'],_0x29c9d3[0x4]=(Math['sin'](_0x188452)*this['fTexRadius']*(-0x1-0x2*_0xbf1ea6)+this['fTexRadius']-_0x3c3fa6)/this['fImageHeight'],_0x24d60c;}},{'key':'InitCamera','value':function(_0x35ec60){if(null!=this['pCamera'])return SR_ERR_CALL_ORDER;switch(_0x35ec60){case _0x15ec38['SR_DE_NULL']:case _0x15ec38['SR_DE_FISH_ORIGINAL']:case _0x15ec38['SR_DE_FISH_PTZ_CEILING']:case _0x15ec38['SR_DE_FISH_PTZ_FLOOR']:case _0x15ec38['SR_DE_FISH_PTZ_WALL']:case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']:case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']:case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']:case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']:case _0x15ec38['SR_DE_FISH_PANORAMA_WALL']:return _0x24d60c;case _0x15ec38['SR_DE_FISH_SEMISPHERE']:if(this['pCamera']=new _0xfaa40e(),null==this['pCamera'])return _0x46c175;this['pCamera']['SetFov'](_0x225dc6),this['pCamera']['SetNear'](_0x3bf753),this['pCamera']['SetFar'](_0x1067da),this['fRotateX']=1.57,this['pCamera']['SetPitch'](3.14-this['fRotateX']),this['fScale']=0x3,this['pCamera']['SetScale'](this['fScale']);break;case _0x15ec38['SR_DE_FISH_CYLINDER_CEILING']:case _0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']:if(this['pCamera']=new _0xfaa40e(),null==this['pCamera'])return _0x46c175;this['pCamera']['SetFov'](_0x225dc6),this['pCamera']['SetNear'](_0x3bf753),this['pCamera']['SetFar'](_0x1067da),this['fRotateX']=0.785,this['pCamera']['SetPitch'](-this['fRotateX']),this['fScale']=0x6,this['pCamera']['SetScale'](this['fScale']);break;case _0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_CEILING']:case _0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_FLOOR']:if(this['pCamera']=new _0xfaa40e(),null==this['pCamera'])return _0x46c175;this['pCamera']['SetOrtho'](!0x0),this['pCamera']['SetNear'](_0x3bf753),this['pCamera']['SetFar'](_0x1067da),this['fScale']=0x3,this['pCamera']['SetScale'](this['fScale']);break;case _0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']:case _0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']:if(this['pCamera']=new _0xfaa40e(),null==this['pCamera'])return _0x46c175;this['pCamera']['SetFov'](_0x225dc6),this['pCamera']['SetNear'](_0x3bf753),this['pCamera']['SetFar'](_0x1067da),this['fScale']=0x2,this['pCamera']['SetScale'](this['fScale']),_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']==_0x35ec60?(this['fRotateLimitX']=_0x2b6899,this['fRotateLimitY']=_0x21110e):(this['fRotateLimitX']=_0x57caac,this['fRotateLimitY']=_0x3eee7d);break;default:return _0x58915e;}return _0x24d60c;}},{'key':'SR_SetViewParam','value':function(_0x1b1bdd,_0x50bb34){if(!this['b3DPort'])return _0x58915e;switch(_0x1b1bdd){case _0x3daa26:if((this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']||this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL'])&&(_0x50bb34>this['fRotateLimitX']||_0x50bb34<-this['fRotateLimitX']))return _0x1c46d8;this['fRotateX']=_0x50bb34;break;case _0x275107:if((this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']||this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL'])&&(_0x50bb34>this['fRotateLimitY']||_0x50bb34<-this['fRotateLimitY']))return _0x1c46d8;this['fRotateY']=_0x50bb34;break;case _0x25f1a7:if(this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_SEMISPHERE']){if(_0x50bb34<-0.8||_0x50bb34>0x384)return _0x1c46d8;}else {if(this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']||this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_CYLINDER_CEILING']){if(_0x50bb34<0x0||_0x50bb34>0x384)return _0x1c46d8;}else {if(this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']||this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']){if(_0x50bb34<-0.3||_0x50bb34>0x5)return _0x1c46d8;this['_ComputeRotateLimits']();}}}this['fScale']=_0x50bb34;break;default:return _0x58915e;}return _0x24d60c;}},{'key':'SR_GetViewParam','value':function(_0x82e80e,_0x450a04){if(!this['b3DPort'])return _0x19c02b;var _0x39e522=0x0;switch(_0x82e80e){case _0x3daa26:_0x39e522=this['fRotateX'];break;case _0x275107:_0x39e522=this['fRotateY'];break;case _0x25f1a7:_0x39e522=this['fScale'];break;default:return _0x58915e;}return _0x450a04['fValue']=_0x39e522,_0x24d60c;}},{'key':'SR_SetCallBack','value':function(_0x2392e7,_0x344d90,_0x117b86){switch(_0x117b86){case _0x49769e:this['pfuncCBIn']=_0x2392e7,this['pUserIn']=_0x344d90;break;case _0x4ee88e:this['pfuncCBOut']=_0x2392e7,this['pUserOut']=_0x344d90;break;default:return _0x58915e;}return _0x24d60c;}},{'key':'SR_SetRenderState','value':function(_0x55f43a,_0x10532c){switch(_0x55f43a){case _0x3ff5fc:if(this['b3DPort'])return _0x58915e;break;case _0x5b0220:if(!this['b3DPort'])return _0x58915e;Math['abs'](_0x10532c-0x0)<_0x41c124?this['bCullBack']=!0x1:this['bCullBack']=!0x0;break;default:return _0x58915e;}return _0x24d60c;}},{'key':'SR_SetPTZColor','value':function(_0x17dd42,_0x4e7cb0){return null==this['pFishParamManager']?_0x19c02b:this['pFishParamManager']['SetPTZColor'](_0x17dd42,_0x4e7cb0);}},{'key':'SR_GetPTZColor','value':function(_0x2e745b,_0x405e0e){return null==this['pFishParamManager']?_0x19c02b:this['pFishParamManager']['GetPTZColor'](_0x2e745b,_0x405e0e);}},{'key':'SR_SetPTZPort','value':function(_0xf35c5a){return null==this['pFishParamManager']?_0x19c02b:this['pFishParamManager']['SetPTZPort'](_0xf35c5a);}},{'key':'SR_GetPTZPort','value':function(_0x492759,_0xbf63c7,_0x2ffcaf){return null==this['pFishParamManager']?_0x19c02b:null==_0x2ffcaf?_0x1c46d8:this['pFishParamManager']['GetPTZPort'](_0x492759,_0xbf63c7,_0x2ffcaf);}},{'key':'SR_GetCaptureSize','value':function(_0x46e201){if(null==_0x46e201)return _0x1c46d8;if(null==this['ctx'])return _0x19c02b;if(null==_0x46e201['nWidth']||null==_0x46e201['nWidth']||null==_0x46e201['nHeight']||null==_0x46e201['nHeight'])return _0x1c46d8;var _0x65c215=0x0,_0x12d732=0x0;if(0x0==_0x46e201['nWidth']&&0x0==_0x46e201['nHeight'])switch(this['enDisplayEffect']){case _0x15ec38['SR_DE_FISH_PTZ_WALL']:case _0x15ec38['SR_DE_FISH_PTZ_CEILING']:case _0x15ec38['SR_DE_FISH_PTZ_FLOOR']:_0x65c215=Math['round'](0x5*this['frameDisplayHeight']/0x8),_0x12d732=Math['round'](0x3*_0x65c215/0x4);break;case _0x15ec38['SR_DE_NULL']:_0x65c215=Math['round']((this['fSrcUseRight']-this['fSrcUseLeft'])*this['frameDisplayWidth']),_0x12d732=Math['round']((this['fSrcUseBottom']-this['fSrcUseTop'])*this['frameDisplayHeight']);break;case _0x15ec38['SR_DE_FISH_ORIGINAL']:case _0x15ec38['SR_DE_FISH_SEMISPHERE']:case _0x15ec38['SR_DE_FISH_CYLINDER_CEILING']:case _0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']:case _0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']:case _0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']:_0x65c215=Math['round'](this['frameDisplayWidth']),_0x12d732=Math['round'](this['frameDisplayHeight']);break;case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']:case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']:this['frameDisplayHeight']>=0x800?(_0x65c215=0x1800,_0x12d732=0x360):this['frameDisplayHeight']>=0x600&&0x800>this['frameDisplayHeight']?(_0x65c215=0x1000,_0x12d732=0x240):(_0x65c215=Math['round'](3.14*this['frameDisplayHeight']/1.6),_0x12d732=Math['round'](0x9*this['frameDisplayWidth']/0x10),_0x65c215=Math['round'](0x2*_0x65c215),_0x12d732=Math['round'](_0x12d732/0x2));break;case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']:case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']:this['frameDisplayHeight']>=0xc00?(_0x65c215=0x1000,_0x12d732=0x900):this['frameDisplayHeight']>=0x800&&0xc00>this['frameDisplayHeight']?(_0x65c215=0xc00,_0x12d732=0x6c0):this['frameDisplayHeight']>=0x600&&0x800>this['frameDisplayHeight']?(_0x65c215=0x800,_0x12d732=0x480):(_0x65c215=Math['round'](3.14*this['frameDisplayHeight']/1.6),_0x12d732=Math['round'](0x9*_0x65c215/0x10));break;case _0x15ec38['SR_DE_FISH_PANORAMA_WALL']:_0x65c215=Math['round'](this['frameDisplayHeight']),_0x12d732=Math['round'](0x9*_0x65c215/0x10);break;default:return _0x1c46d8;}else _0x65c215=Math['round'](_0x46e201['nWidth']),_0x12d732=Math['round'](_0x46e201['nHeight']);return _0x65c215<0x10||_0x12d732<0x10?_0x1c46d8:(this['nCaptureWidth']=0x4*Math['round'](_0x65c215/0x4),this['nCaptureHeight']=Math['round'](_0x12d732),_0x46e201['nWidth']=this['nCaptureWidth'],_0x46e201['nHeight']=this['nCaptureHeight'],_0x46e201['nBufferLen']=this['nCaptureWidth']*this['nCaptureHeight']*0x4,_0x24d60c);}},{'key':'SR_CaptureScreen','value':function(_0x430636){var _0x56a0c9=_0x24d60c;if(_0x56a0c9=this['_BeginCapture'](),_0x24d60c!=_0x56a0c9)return _0x56a0c9;if(0x0==this['videoShaderProgram']||0x0==this['vertexPosBuffer']||0x0==this['texturePosBuffer'])return _0x19c02b;this['ctx']['useProgram'](this['videoShaderProgram']),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['vertexPosBuffer']);var _0x4b69c2=this['ctx']['getAttribLocation'](this['videoShaderProgram'],'xy');if(_0x4b69c2<0x0)return _0x1d3582;this['ctx']['vertexAttribPointer'](_0x4b69c2,0x3,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['enableVertexAttribArray'](_0x4b69c2),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],this['texturePosBuffer']);var _0x161884=this['ctx']['getAttribLocation'](this['videoShaderProgram'],'uv');if(_0x161884<0x0)return _0x1d3582;this['ctx']['vertexAttribPointer'](_0x161884,0x2,this['ctx']['FLOAT'],!0x1,0x0,0x0),this['ctx']['enableVertexAttribArray'](_0x161884),this['ctx']['bindBuffer'](this['ctx']['ARRAY_BUFFER'],null);var _0x25d31e=this['enDisplayEffect'],_0x1aa9da=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'bCapture');if(_0x1aa9da<=0x0)return _0x1d3582;switch(this['ctx']['uniform1i'](_0x1aa9da,0x1),_0x25d31e){case _0x15ec38['SR_DE_NULL']:break;case _0x15ec38['SR_DE_FISH_ORIGINAL']:case _0x15ec38['SR_DE_FISH_PTZ_CEILING']:case _0x15ec38['SR_DE_FISH_PTZ_FLOOR']:case _0x15ec38['SR_DE_FISH_PTZ_WALL']:case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']:case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']:case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']:case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']:case _0x15ec38['SR_DE_FISH_PANORAMA_WALL']:if(null==this['pFishParamManager'])return _0x19c02b;var _0x3e05aa={};if(_0x56a0c9=this['pFishParamManager']['GetRenderParam'](this['nFECPort'],_0x3e05aa),_0x24d60c!=_0x56a0c9)return _0x56a0c9;if(_0x15ec38['SR_DE_FISH_ORIGINAL']==_0x25d31e){var _0x482fc5=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'bBlack');if(_0x482fc5<=0x0)return _0x1d3582;this['ctx']['uniform1i'](_0x482fc5,_0x3e05aa['bBlack']);var _0x260d0a=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'bCut');if(_0x260d0a<=0x0)return _0x1d3582;this['ctx']['uniform1i'](_0x260d0a,_0x3e05aa['bCut']);}if(_0x15ec38['SR_DE_FISH_PTZ_CEILING']==_0x25d31e||_0x15ec38['SR_DE_FISH_PTZ_FLOOR']==_0x25d31e||_0x15ec38['SR_DE_FISH_PTZ_WALL']==_0x25d31e){var _0x13bf3c=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fHAngleCos');if(_0x13bf3c<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x13bf3c,_0x3e05aa['fCosH']);var _0x3f11da=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fHAngleSin');if(_0x3f11da<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x3f11da,_0x3e05aa['fSinH']);var _0xeef54e=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fVAngleCos');if(_0xeef54e<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0xeef54e,_0x3e05aa['fCosV']);var _0x40a0fb=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fVAngleSin');if(_0x40a0fb<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x40a0fb,_0x3e05aa['fSinV']);var _0x401fcd=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fZoom');if(_0x401fcd<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x401fcd,_0x3e05aa['fZoom']);}if(_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']==_0x25d31e||_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']==_0x25d31e||_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']==_0x25d31e||_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']==_0x25d31e){var _0x4b9e27=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fAngle');if(_0x4b9e27<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x4b9e27,_0x3e05aa['fAngle']);}var _0x31ddaf=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fRX1');if(_0x31ddaf<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x31ddaf,_0x3e05aa['fRXLeft']);var _0x552042=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fRX2');if(_0x552042<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x552042,_0x3e05aa['fRXRight']);var _0x30a986=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fRY1');if(_0x30a986<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x30a986,_0x3e05aa['fRYTop']);var _0x3133e3=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fRY2');if(_0x3133e3<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x3133e3,_0x3e05aa['fRYBottom']);break;case _0x15ec38['SR_DE_FISH_SEMISPHERE']:this['pCamera']['SetScale'](this['fScale']),this['pCamera']['SetPitch'](3.14-this['fRotateX']),this['pCamera']['SetYaw'](-this['fRotateY']),this['pCamera']['UpdateCamera'](this['canvas']['width'],this['canvas']['height']);var _0x42a481=this['pCamera']['GetView'](),_0x41383a=this['pCamera']['GetProj'](),_0x468514=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'matView');if(_0x468514<=0x0)return _0x1d3582;this['ctx']['uniformMatrix4fv'](_0x468514,!0x1,_0x42a481);var _0x434fc0=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'matProj');if(_0x434fc0<=0x0)return _0x1d3582;this['ctx']['uniformMatrix4fv'](_0x434fc0,!0x1,_0x41383a);break;case _0x15ec38['SR_DE_FISH_CYLINDER_CEILING']:case _0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']:case _0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']:case _0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']:this['pCamera']['SetScale'](this['fScale']),this['pCamera']['SetPitch'](-this['fRotateX']),this['pCamera']['SetYaw'](-this['fRotateY']),this['pCamera']['UpdateCamera'](this['canvas']['width'],this['canvas']['height']);var _0x597a43=this['pCamera']['GetView'](),_0x16dca6=this['pCamera']['GetProj'](),_0x83bf86=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'matView');if(_0x83bf86<=0x0)return _0x1d3582;this['ctx']['uniformMatrix4fv'](_0x83bf86,!0x1,_0x597a43);var _0xfd2a44=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'matProj');if(_0xfd2a44<=0x0)return _0x1d3582;this['ctx']['uniformMatrix4fv'](_0xfd2a44,!0x1,_0x16dca6);break;default:return _0x58915e;}if(this['nCaptureWidth']<=0x0||this['nCaptureHeight']<=0x0)return _0x392661;if(this['ctx']['viewport'](0x0,0x0,this['nCaptureWidth'],this['nCaptureHeight']),this['ctx']['clearColor'](0x0,0x0,0x0,0x1),this['ctx']['clear'](this['ctx']['COLOR_BUFFER_BIT']|this['ctx']['DEPTH_BUFFER_BIT']),this['b3DPort']&&(this['ctx']['enable'](this['ctx']['DEPTH_TEST']),this['ctx']['depthFunc'](this['ctx']['LESS']),this['ctx']['depthMask'](!0x0),0x1==this['bCullBack']?this['ctx']['enable'](this['ctx']['CULL_FACE']):this['ctx']['disable'](this['ctx']['CULL_FACE'])),this['enPixelFormat']==_0x4d876c?this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nSurfaceTexture'][0x0]):(this['enPixelFormat']==_0x407160||this['enPixelFormat']==_0x1300c9)&&(this['ctx']['activeTexture'](this['ctx']['TEXTURE0']),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nSurfaceTexture'][0x0]),this['ctx']['activeTexture'](this['ctx']['TEXTURE1']),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nSurfaceTexture'][0x1]),this['ctx']['activeTexture'](this['ctx']['TEXTURE2']),this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nSurfaceTexture'][0x2])),this['onlySupportedWebGL1']||this['ctx']['clearBufferfi'](this['ctx']['DEPTH_STENCIL'],0x0,0x1,0x0),0x0==this['b3DPort'])this['ctx']['drawArrays'](this['ctx']['TRIANGLE_FAN'],0x0,0x4);else {if(this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_SEMISPHERE']){if(this['nSemiSpherePosNum']<=0x0)return _0x19c02b;this['ctx']['drawArrays'](this['ctx']['TRIANGLES'],0x0,this['nSemiSpherePosNum']);}else {if(this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_CYLINDER_CEILING']||this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']){if(this['nCylinderPosNum']<=0x0)return _0x19c02b;this['ctx']['drawArrays'](this['ctx']['TRIANGLES'],0x0,this['nCylinderPosNum']);}else {if(this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']||this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']){if(this['nArcSpherePosNum']<=0x0)return _0x19c02b;this['ctx']['drawArrays'](this['ctx']['TRIANGLES'],0x0,this['nArcSpherePosNum']);}}}}return this['ctx']['useProgram'](null),null!=this['pfuncCBIn']&&this['pfuncCBIn'](this['pUserIn']),null!=this['pfuncCBOut']&&this['pfuncCBOut'](this['pUserOut']),_0x56a0c9=this['_EndCapture'](_0x430636),_0x24d60c!=_0x56a0c9?_0x56a0c9:_0x24d60c;}},{'key':'SR_SetImagePostProcess','value':function(_0x2cc8cf,_0xddca3e){if(null==this['ctx'])return _0x19c02b;if(_0x10e6fd==_0x2cc8cf||_0x3a40d2==_0x2cc8cf){if(0x0-_0xddca3e>_0x41c124||_0xddca3e-0x1>_0x41c124)return _0x1c46d8;}else {if((_0x21ecc9==_0x2cc8cf||_0x7e05ab==_0x2cc8cf||_0x379ee0==_0x2cc8cf)&&(-0x1-_0xddca3e>_0x41c124||_0xddca3e-0x1>_0x41c124))return _0x1c46d8;}switch(_0x2cc8cf){case _0x21ecc9:this['fBrightness']=_0xddca3e;break;case _0x3a40d2:this['fHue']=_0xddca3e;break;case _0x7e05ab:this['fSaturation']=_0xddca3e;break;case _0x379ee0:this['fContrast']=_0xddca3e;break;case _0x10e6fd:this['fSharpness']=_0xddca3e;break;default:return _0x58915e;}return Math['abs'](this['fBrightness']-0x0)<_0x41c124&&Math['abs'](this['fHue']-0x0)<_0x41c124&&Math['abs'](this['fSaturation']-0x0)<_0x41c124&&Math['abs'](this['fContrast']-0x0)<_0x41c124&&Math['abs'](this['fSharpness']-0x0)<_0x41c124?this['nPostProc']=0x0:this['nPostProc']=0x1,_0x24d60c;}},{'key':'_BeginCapture','value':function(){var _0x4e823a=_0x24d60c;return 0x0==this['bCaptureResInit']&&(_0x4e823a=this['_InitRenderTarget'](this['nCaptureWidth'],this['nCaptureHeight'],!0x1,!0x0),_0x24d60c!=_0x4e823a)?_0x4e823a:(_0x4e823a=this['_Resize'](this['nCaptureWidth'],this['nCaptureHeight'],!0x1,!0x0),_0x24d60c!=_0x4e823a?_0x4e823a:(this['ctx']['bindFramebuffer'](this['ctx']['FRAMEBUFFER'],this['nCaptureFBO']),this['bIsCapturing']=!0x0,_0x24d60c));}},{'key':'_InitRenderTarget','value':function(_0x56dbf7,_0x2eb3ed,_0x246405,_0x3ccf0c){if(0x0!=this['nCaptureRTTex']||0x0!=this['nCaptureFBO'])return _0x19c02b;if(_0x56dbf7<=0x0||_0x2eb3ed<=0x0)return _0x1c46d8;if(this['nCaptureRTTex']=this['ctx']['createTexture'](),this['nCaptureRTTex']<=0x0)return _0x1d3582;if(this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nCaptureRTTex']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MAG_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MIN_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_S'],this['ctx']['CLAMP_TO_EDGE']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_T'],this['ctx']['CLAMP_TO_EDGE']),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['RGBA'],_0x56dbf7,_0x2eb3ed,0x0,this['ctx']['RGBA'],this['ctx']['UNSIGNED_BYTE'],null),0x0==this['nCaptureFBO']&&(this['nCaptureFBO']=this['ctx']['createFramebuffer'](),this['nCaptureFBO']<=0x0))return _0x1d3582;if(this['ctx']['bindFramebuffer'](this['ctx']['FRAMEBUFFER'],this['nCaptureFBO']),this['ctx']['framebufferTexture2D'](this['ctx']['FRAMEBUFFER'],this['ctx']['COLOR_ATTACHMENT0'],this['ctx']['TEXTURE_2D'],this['nCaptureRTTex'],0x0),0x1==_0x3ccf0c&&0x0==this['nCaptureDepthbuffer']){if(this['nCaptureDepthbuffer']=this['ctx']['createRenderbuffer'](),this['nCaptureDepthbuffer']<=0x0)return _0x1d3582;this['ctx']['bindRenderbuffer'](this['ctx']['RENDERBUFFER'],this['nCaptureDepthbuffer']),this['ctx']['renderbufferStorage'](this['ctx']['RENDERBUFFER'],this['ctx']['DEPTH_COMPONENT16'],_0x56dbf7,_0x2eb3ed),this['ctx']['framebufferRenderbuffer'](this['ctx']['FRAMEBUFFER'],this['ctx']['DEPTH_ATTACHMENT'],this['ctx']['RENDERBUFFER'],this['nCaptureDepthbuffer']);}return this['ctx']['bindFramebuffer'](this['ctx']['FRAMEBUFFER'],null),this['nCaptureFBOWidth']=_0x56dbf7,this['nCaptureFBOHeight']=_0x2eb3ed,this['bCaptureResInit']=!0x0,_0x24d60c;}},{'key':'_Resize','value':function(_0x411259,_0x27d834,_0x21c86c,_0x51c73b){if(this['nCaptureFBOWidth']!=_0x411259||this['nCaptureFBOHeight']!=_0x27d834){if(this['nCaptureFBOWidth']=_0x411259,this['nCaptureFBOHeight']=_0x27d834,0x0!=this['nCaptureRTTex']&&(this['ctx']['deleteTexture'](this['nCaptureRTTex']),this['nCaptureRTTex']=0x0),0x0!=this['nCaptureDepthbuffer']&&(this['ctx']['deleteRenderbuffer'](this['nCaptureDepthbuffer']),this['nCaptureDepthbuffer']=0x0),0x0==this['nCaptureRTTex']&&(this['nCaptureRTTex']=this['ctx']['createTexture'](),this['nCaptureRTTex']<=0x0))return _0x1d3582;if(this['ctx']['bindTexture'](this['ctx']['TEXTURE_2D'],this['nCaptureRTTex']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MAG_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_MIN_FILTER'],this['ctx']['LINEAR']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_S'],this['ctx']['CLAMP_TO_EDGE']),this['ctx']['texParameteri'](this['ctx']['TEXTURE_2D'],this['ctx']['TEXTURE_WRAP_T'],this['ctx']['CLAMP_TO_EDGE']),this['ctx']['texImage2D'](this['ctx']['TEXTURE_2D'],0x0,this['ctx']['RGBA'],this['nCaptureFBOWidth'],this['nCaptureFBOHeight'],0x0,this['ctx']['RGBA'],this['ctx']['UNSIGNED_BYTE'],null),this['ctx']['bindFramebuffer'](this['ctx']['FRAMEBUFFER'],this['nCaptureFBO']),this['ctx']['framebufferTexture2D'](this['ctx']['FRAMEBUFFER'],this['ctx']['COLOR_ATTACHMENT0'],this['ctx']['TEXTURE_2D'],this['nCaptureRTTex'],0x0),0x1==_0x51c73b&&0x0==this['nCaptureDepthbuffer']){if(this['nCaptureDepthbuffer']=this['ctx']['createRenderbuffer'](),this['nCaptureDepthbuffer']<=0x0)return _0x1d3582;this['ctx']['bindRenderbuffer'](this['ctx']['RENDERBUFFER'],this['nCaptureDepthbuffer']),this['ctx']['renderbufferStorage'](this['ctx']['RENDERBUFFER'],this['ctx']['DEPTH_COMPONENT16'],_0x411259,_0x27d834),this['ctx']['framebufferRenderbuffer'](this['ctx']['FRAMEBUFFER'],this['ctx']['DEPTH_ATTACHMENT'],this['ctx']['RENDERBUFFER'],this['nCaptureDepthbuffer']);}this['ctx']['bindFramebuffer'](this['ctx']['FRAMEBUFFER'],null);}return _0x24d60c;}},{'key':'_EndCapture','value':function(_0x4767f0){return null==this['ctx']?_0x19c02b:null==_0x4767f0['pBuffer']||null==_0x4767f0['pBuffer']?_0x1c46d8:(this['ctx']['readPixels'](0x0,0x0,this['nCaptureWidth'],this['nCaptureHeight'],this['ctx']['RGBA'],this['ctx']['UNSIGNED_BYTE'],_0x4767f0['pBuffer']),this['ctx']['bindFramebuffer'](this['ctx']['FRAMEBUFFER'],null),this['bIsCapturing']=!0x1,_0x24d60c);}},{'key':'_ResizeFrameData','value':function(_0x4e30f7,_0x140393,_0x3a0b8e,_0x1bdf5a){if(0x0==_0x140393%0x8&&null==_0x1bdf5a)return this['frameDisplayWidth']=Math['round'](_0x140393),this['frameDisplayHeight']=Math['round'](_0x3a0b8e),this['pFrameData']=_0x4e30f7,_0x24d60c;if(null!=_0x1bdf5a&&0x0==_0x1bdf5a['nCropBottom']&&0x0==_0x1bdf5a['nCropLeft']&&0x0==_0x1bdf5a['nCropRight']&&0x0==_0x1bdf5a['nCropTop']&&0x0==_0x140393%0x8)return this['frameDisplayWidth']=Math['round'](_0x140393),this['frameDisplayHeight']=Math['round'](_0x3a0b8e),this['pFrameData']=_0x4e30f7,_0x24d60c;if((null==this['pFrameData']||this['frameDisplayWidth']!=_0x140393/0x8*0x8||this['frameDisplayHeight']!=_0x3a0b8e)&&(this['frameDisplayWidth']=0x8*Math['round'](_0x140393/0x8),this['frameDisplayHeight']=Math['round'](_0x3a0b8e),this['pFrameData']=null,this['pFrameData']=new Uint8Array(this['frameDisplayWidth']*this['frameDisplayHeight']*0x3/0x2),null==this['pFrameData']))return _0x46c175;var _0x5c1c5b=0x0,_0x42077c=0x0,_0x472660=Math['round'](_0x1bdf5a['nCodeWidth']),_0x2f129c=Math['round'](_0x1bdf5a['nCodeHeight']),_0x4d4a53=0x0;if(_0x407160==this['enPixelFormat']||_0x1300c9==this['enPixelFormat']){var _0x30202f,_0x52495a,_0xb68016;null!=_0x1bdf5a?(_0x5c1c5b=Math['round'](_0x1bdf5a['nCropLeft']),_0x42077c=Math['round'](_0x1bdf5a['nCropTop']),_0x30202f=_0x4e30f7['subarray'](_0x5c1c5b*_0x472660+_0x42077c,_0x472660*_0x2f129c),_0x52495a=_0x4e30f7['subarray'](_0x472660*_0x2f129c+_0x42077c*_0x472660/0x4+_0x5c1c5b/0x2,_0x472660*_0x2f129c*0x5/0x4),_0xb68016=_0x4e30f7['subarray'](_0x472660*_0x2f129c*0x5/0x4+_0x42077c*_0x472660/0x4+_0x5c1c5b/0x2,_0x472660*_0x2f129c*0x3/0x2),_0x4d4a53=_0x472660):(_0x30202f=_0x4e30f7['subarray'](0x0,_0x140393*_0x3a0b8e),_0x52495a=_0x4e30f7['subarray'](_0x140393*_0x3a0b8e,_0x140393*_0x3a0b8e*0x5/0x4),_0xb68016=_0x4e30f7['subarray'](_0x140393*_0x3a0b8e*0x5/0x4,_0x140393*_0x3a0b8e*0x3/0x2),_0x4d4a53=this['frameDisplayWidth']);for(var _0x9d83e6=null,_0x1da78e=0x0;_0x1da78e<this['frameDisplayHeight'];++_0x1da78e){var _0x55f443=Math['round'](_0x1da78e*_0x4d4a53),_0x5df111=Math['round'](_0x1da78e*_0x4d4a53+this['frameDisplayWidth']);_0x9d83e6=_0x30202f['slice'](_0x55f443,_0x5df111);var _0x34fc32=Math['round'](_0x1da78e*this['frameDisplayWidth']);this['pFrameData']['set'](_0x9d83e6,_0x34fc32);}for(var _0x1695c9=0x0;_0x1695c9<this['frameDisplayHeight']/0x2;++_0x1695c9){var _0x11e3d8=Math['round'](_0x1695c9*_0x4d4a53/0x2),_0x5427ca=Math['round'](_0x1695c9*_0x4d4a53/0x2+this['frameDisplayWidth']/0x2);_0x9d83e6=_0x52495a['slice'](_0x11e3d8,_0x5427ca);var _0x19fab0=Math['round'](this['frameDisplayWidth']*this['frameDisplayHeight']+_0x1695c9*this['frameDisplayWidth']/0x2);this['pFrameData']['set'](_0x9d83e6,_0x19fab0);}for(var _0x4f9c21=0x0;_0x4f9c21<this['frameDisplayHeight']/0x2;++_0x4f9c21){var _0x20ca21=Math['round'](_0x4f9c21*_0x4d4a53/0x2),_0x326868=Math['round'](_0x4f9c21*_0x4d4a53/0x2+this['frameDisplayWidth']/0x2);_0x9d83e6=_0xb68016['slice'](_0x20ca21,_0x326868);var _0x1544c8=Math['round'](this['frameDisplayWidth']*this['frameDisplayHeight']*0x5/0x4+_0x4f9c21*this['frameDisplayWidth']/0x2);this['pFrameData']['set'](_0x9d83e6,_0x1544c8);}_0x30202f=null,_0x52495a=null,_0xb68016=null,_0x9d83e6=null;}else {if(_0xbd40a==this['enPixelFormat']){var _0x59db24,_0x203e37,_0x33ccf0;null!=_0x1bdf5a?(_0x5c1c5b=Math['round'](_0x1bdf5a['nCropLeft']),_0x42077c=Math['round'](_0x1bdf5a['nCropTop']),_0x59db24=_0x4e30f7['subarray'](_0x42077c*_0x472660+_0x5c1c5b,_0x472660*_0x2f129c),_0x203e37=_0x4e30f7['subarray'](_0x472660*_0x2f129c+_0x42077c*_0x472660/0x4+_0x5c1c5b/0x2,_0x472660*_0x2f129c*0x3/0x2),_0x4d4a53=Math['round'](_0x1bdf5a['nCodeWidth'])):(_0x59db24=_0x4e30f7['subarray'](0x0,_0x472660*_0x2f129c),_0x203e37=_0x4e30f7['subarray'](_0x472660*_0x2f129c,_0x472660*_0x2f129c*0x3/0x2),_0x4d4a53=this['frameDisplayWidth']);for(var _0x1e0e73=0x0;_0x1e0e73<this['frameDisplayHeight'];++_0x1e0e73){var _0x181bfc=Math['round'](_0x1e0e73*_0x4d4a53),_0x3a5017=Math['round'](_0x1e0e73*_0x4d4a53+this['frameDisplayWidth']);_0x33ccf0=_0x59db24['slice'](_0x181bfc,_0x3a5017);var _0x5cf9af=Math['round'](_0x1e0e73*this['frameDisplayWidth']);this['pFrameData']['set'](_0x33ccf0,_0x5cf9af);}for(var _0x3a3510=0x0;_0x3a3510<this['frameDisplayHeight']/0x2;++_0x3a3510){var _0x4501e0=Math['round'](_0x3a3510*_0x4d4a53),_0x5c8068=Math['round'](_0x3a3510*_0x4d4a53+this['frameDisplayWidth']);_0x33ccf0=_0x203e37['slice'](_0x4501e0,_0x5c8068);var _0x3e472e=Math['round'](this['frameDisplayWidth']*this['frameDisplayHeight']+_0x3a3510*this['frameDisplayWidth']);this['pFrameData']['set'](_0x33ccf0,_0x3e472e);}_0x59db24=null,_0x203e37=null,_0x33ccf0=null;}}return _0x24d60c;}},{'key':'_SetImagePostProcess','value':function(){var _0x476f3f=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fBrightness');if(_0x476f3f<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x476f3f,this['fBrightness']);var _0x12d467=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fHue');if(_0x12d467<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x12d467,this['fHue']);var _0x3c4d73=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fSaturation');if(_0x3c4d73<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x3c4d73,this['fSaturation']);var _0x365eee=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fContrast');if(_0x365eee<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x365eee,this['fContrast']);var _0x4df624=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fSharpness');if(_0x4df624<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x4df624,this['fSharpness']);var _0x1a8bed=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fWndWidth');if(_0x1a8bed<=0x0)return _0x1d3582;this['ctx']['uniform1f'](_0x1a8bed,this['frameDisplayWidth']);var _0x347cd1=this['ctx']['getUniformLocation'](this['videoShaderProgram'],'fWndHeight');return _0x347cd1<=0x0?_0x1d3582:(this['ctx']['uniform1f'](_0x347cd1,this['frameDisplayHeight']),_0x24d60c);}},{'key':'_ComputeRotateLimits','value':function(){if(this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']||this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']){var _0x3ee42a,_0x10ec6b;if(this['enDisplayEffect']==_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']?(_0x3ee42a=_0x2b6899,_0x10ec6b=_0x21110e):(_0x3ee42a=_0x57caac,_0x10ec6b=_0x3eee7d),0x0==this['canvas']['width']||0x0==this['canvas']['height'])this['fRotateLimitX']=_0x3ee42a,this['fRotateLimitY']=_0x10ec6b;else {var _0x363cf9=Math['tan'](2.748893525);if(Math['abs'](_0x363cf9*this['fScale'])<0x1){var _0x1dcd2b=_0x363cf9*_0x363cf9+0x1,_0x5bbf3d=-0x2*_0x363cf9*_0x363cf9*this['fScale'],_0x4e7e41=_0x363cf9*_0x363cf9*this['fScale']*this['fScale']-0x1,_0x28dbc0=(-_0x5bbf3d-Math['sqrt'](_0x5bbf3d*_0x5bbf3d-0x4*_0x1dcd2b*_0x4e7e41))/(0x2*_0x1dcd2b),_0x52d017=_0x363cf9*(_0x28dbc0-this['fScale']);this['fRotateLimitX']=Math['acos'](_0x52d017/Math['sqrt'](_0x28dbc0*_0x28dbc0+_0x52d017*_0x52d017)),this['fRotateLimitX']<_0x3ee42a&&(this['fRotateLimitX']=_0x3ee42a);}else this['fRotateLimitX']=_0x3ee42a;var _0x4f89eb=Math['atan'](this['canvas']['width']/this['canvas']['height']*Math['tan'](_0x225dc6/0x2));if(_0x363cf9=Math['tan'](_0x18bc1a-_0x4f89eb),Math['abs'](_0x363cf9*this['fScale'])<0x1){var _0x554972=_0x363cf9*_0x363cf9+0x1,_0x21fd78=-0x2*_0x363cf9*_0x363cf9*this['fScale'],_0x279b77=_0x363cf9*_0x363cf9*this['fScale']*this['fScale']-0x1,_0x55a790=(-_0x21fd78-Math['sqrt'](_0x21fd78*_0x21fd78-0x4*_0x554972*_0x279b77))/(0x2*_0x554972),_0x2a8a27=_0x363cf9*(_0x55a790-this['fScale']);this['fRotateLimitY']=Math['acos'](_0x2a8a27/Math['sqrt'](_0x55a790*_0x55a790+_0x2a8a27*_0x2a8a27)),this['fRotateLimitY']<_0x10ec6b&&(this['fRotateLimitY']=_0x10ec6b);}else this['fRotateLimitY']=_0x10ec6b;}this['fRotateX']>this['fRotateLimitX']&&(this['fRotateX']=this['fRotateLimitX']),this['fRotateX']<-this['fRotateLimitX']&&(this['fRotateX']=-this['fRotateLimitX']),this['fRotateY']>this['fRotateLimitY']&&(this['fRotateY']=this['fRotateLimitX']),this['fRotateY']<-this['fRotateLimitX']&&(this['fRotateY']=-this['fRotateLimitX']);}return _0x24d60c;}}]),_0x28f7e7;}(),_0x39f55b=function(){function _0x23e5dd(){_0x162c92(this,_0x23e5dd),this['canvas']=null,this['ctx']=null,this['regionSx']=0x0,this['regionSy']=0x0,this['regionSw']=0x0,this['regionSh']=0x0,this['needRect']=!0x1,this['bAntialias']=!0x1,this['bRecreateAntia']=!0x1,this['pfuncCBIn']=null,this['pUserIn']=null,this['pfuncCBOut']=null,this['pUserOut']=null;}return _0x5ab2cc(_0x23e5dd,[{'key':'SR_Init','value':function(_0x267cc7){this['canvas']=_0x267cc7,this['ctx']=this['canvas']['getContext']('2d'),this['ctx']||console['log']('your\x20browser\x20does\x20not\x20support\x202d\x20render');}},{'key':'SR_Draw','value':function(_0x358be7){return this['needRect']?this['ctx']['drawImage'](_0x358be7,this['regionSx'],this['regionSy'],this['regionSw'],this['regionSh'],0x0,0x0,this['canvas']['width'],this['canvas']['height']):this['ctx']['drawImage'](_0x358be7,0x0,0x0,_0x358be7['displayWidth'],_0x358be7['displayHeight'],0x0,0x0,this['canvas']['width'],this['canvas']['height']),null!=this['pfuncCBIn']&&this['pfuncCBIn'](this['pUserIn']),0x1;}},{'key':'GetCanvasData','value':function(_0xaea169){console['log']('%c\x20start\x20time:'+new Date()['getMinutes']()+':'+new Date()['getSeconds']()+'.'+new Date()['getMilliseconds'](),'color:\x20blue');var _0x2b9953=this['ctx']['getImageData'](0x0,0x0,this['canvas']['width'],this['canvas']['height']);console['log']('%c\x202\x20time:'+new Date()['getMinutes']()+':'+new Date()['getSeconds']()+'.'+new Date()['getMilliseconds'](),'color:\x20blue');var _0x138d1a='jpeg',_0x339338='image/jpeg',_0x2b3ab3=document['createElement']('canvas'),_0x94a20d=_0x2b3ab3['getContext']('2d');_0x2b3ab3['width']=this['canvas']['width'],_0x2b3ab3['height']=this['canvas']['height'],_0x94a20d['putImageData'](_0x2b9953,0x0,0x0);var _0x7f207a=_0x2b3ab3['toDataURL'](),_0x499f27=document['createElement']('a');_0x499f27['download']=new Date()['getTime']()+'.'+_0x138d1a,_0x499f27['href']=_0x7f207a,_0x499f27['dataset']['downloadurl']=[_0x339338,_0x499f27['download'],_0x499f27['href']]['join'](':'),document['body']['appendChild'](_0x499f27),_0x499f27['click'](),document['body']['removeChild'](_0x499f27),console['log']('%c\x20end\x20time:'+new Date()['getMinutes']()+':'+new Date()['getSeconds']()+'.'+new Date()['getMilliseconds'](),'color:\x20blue');}},{'key':'SR_DelSubPort','value':function(_0x421c59){return 0x0;}},{'key':'SR_AddSubPort','value':function(_0x3711c4){return 0x0;}},{'key':'SR_SetDisplayRect','value':function(_0x474417,_0x559cff,_0x56ae25,_0x246f4e){this['regionSx']=_0x474417,this['regionSy']=_0x559cff,this['regionSw']=_0x56ae25,this['regionSh']=_0x246f4e,this['needRect']=!0x0;}},{'key':'SR_Destroy','value':function(){this['canvas']=null,this['ctx']=null,this['regionSx']=0x0,this['regionSy']=0x0,this['regionSw']=0x0,this['regionSh']=0x0,this['needRect']=!0x1;}},{'key':'SR_SetCanvasSize','value':function(_0x5c1b92,_0x3086cc){this['canvas']['width']=_0x5c1b92,this['canvas']['height']=_0x3086cc;}},{'key':'SR_GetCanvasSize','value':function(){console['log']('canvas\x20width:'+this['canvas']['width']+',height:'+this['canvas']['height']);}},{'key':'SR_SetAntialias','value':function(_0x3dab3f){return _0x3dab3f!=this['bAntialias']?(this['bAntialias']=_0x3dab3f,this['bRecreateAntia']=!0x0):this['bRecreateAntia']=!0x1,this['bRecreateAntia']&&(this['bAntialias']?(this['canvas']['width']=0x5*this['canvas']['width'],this['canvas']['height']=0x5*this['canvas']['height'],this['canvas']['style']['transform']='scale(0.2)',this['canvas']['style']['transformOrigin']='0\x200'):(this['canvas']['width']=this['canvas']['width']/0x5,this['canvas']['height']=this['canvas']['height']/0x5,this['canvas']['style']['transform']='scale(1)',this['canvas']['style']['transformOrigin']='0\x200')),0x1;}},{'key':'SR_SetCallBack','value':function(_0x25a2bb,_0x3acb59,_0x437839){switch(_0x437839){case _0x49769e:this['pfuncCBIn']=_0x25a2bb,this['pUserIn']=_0x3acb59;break;case _0x4ee88e:this['pfuncCBOut']=_0x25a2bb,this['pUserOut']=_0x3acb59;break;default:return 0x0;}return 0x1;}},{'key':'SR_DrawFont','value':function(_0x365225,_0x2410e0,_0x2b0171,_0x4ffa93,_0x26d180,_0x244bf6,_0x52e8a2,_0x202a13,_0x4a0082){var _0x231ee2=[],_0x2c1241={};return _0x2c1241['bBackground']=_0x244bf6,_0x2c1241['nFontWidth']=_0x4ffa93,_0x2c1241['nFontHeight']=_0x26d180,_0x2c1241['pstBGColor']=_0x52e8a2,_0x2c1241['pstFontColor']=_0x2b0171,_0x2c1241['pString']=_0x365225,_0x2c1241['pstStartPos']=_0x2410e0,_0x2c1241['fRotateAngle']=_0x202a13,_0x2c1241['pFontFamily']=_0x4a0082,_0x231ee2['push'](_0x2c1241),this['SR_DrawFontEx'](_0x231ee2,0x1),0x1;}},{'key':'SR_DrawFontEx','value':function(_0x414647,_0x4a1737){for(var _0x362404=0x0;_0x362404<_0x4a1737;_0x362404++){this['ctx']['textBaseline']='top';var _0x24b15e=_0x414647[_0x362404]['nFontWidth'],_0x34a27c=_0x414647[_0x362404]['nFontHeight'],_0x282ad9=(_0x24b15e=Math['round'](_0x24b15e))<(_0x34a27c=Math['round'](_0x34a27c))?_0x24b15e:_0x34a27c;this['ctx']['font']=_0x282ad9['toString']()+'px\x20'+_0x414647[_0x362404]['pFontFamily'];var _0x3ef4ee=parseInt(0xff*_0x414647[_0x362404]['pstFontColor']['fR']),_0x109c5d=parseInt(0xff*_0x414647[_0x362404]['pstFontColor']['fG']),_0x54ef04=parseInt(0xff*_0x414647[_0x362404]['pstFontColor']['fB']),_0x4d0adb=_0x3ef4ee<0x10?'0'+_0x3ef4ee['toString'](0x10):_0x3ef4ee['toString'](0x10),_0x1fbdce=_0x109c5d<0x10?'0'+_0x109c5d['toString'](0x10):_0x109c5d['toString'](0x10),_0x1817dd=_0x54ef04<0x10?'0'+_0x54ef04['toString'](0x10):_0x54ef04['toString'](0x10);this['ctx']['fillStyle']='#'+_0x4d0adb+_0x1fbdce+_0x1817dd,this['ctx']['globalAlpha']=_0x414647[_0x362404]['pstFontColor']['fA'],this['ctx']['fillText'](_0x414647[_0x362404]['pString'],_0x414647[_0x362404]['pstStartPos']['fX']*this['canvas']['width'],_0x414647[_0x362404]['pstStartPos']['fY']*this['canvas']['height']);}return 0x1;}},{'key':'SR_DrawImage','value':function(_0x1156c7,_0x387d54,_0x32314c,_0x1938f9,_0x33da8a,_0x2074ff){return 0x1;}},{'key':'SR_DrawLinesEx','value':function(_0x17ff44,_0x2b0260,_0x3f79fb,_0x4a9b6c){return 0x1;}}]),_0x23e5dd;}(),_0xf9aebc=function(){function _0x1af999(){_0x162c92(this,_0x1af999),this['bPortAllocated']=[],this['pRenderParam']=[],this['pFishParam']=[],this['stPTZColor']=[],this['pPTZSetColor']=null,this['nBasePTZPointNum']=[],this['nOriPTZPointNum']=[],this['nPanoPTZPointNum']=[],this['nPTZFragmentNum']=[],this['pBasePTZPoints']=[],this['pPanoPTZPoints']=[],this['pRectPoints']=[],this['nPTZRectNum']=[],this['nPTZDisplayMode']=_0x339062,this['fRX1']=0x0,this['fRX2']=0x1,this['fRY1']=0x0,this['fRY2']=0x1,this['bBlack']=!0x1,this['pOriPTZPoints']=[],this['nWndPort']=_0x3a9b00,this['nPlaceType']=0x0,this['nPTZFragmentNode']=[],this['bPTZSelected']=[],this['nPTZDisplayMode']=_0x3212b8;for(var _0x41e383=0x0;_0x41e383<_0x39ae26;++_0x41e383){this['bPortAllocated'][_0x41e383]=!0x1,this['bPTZSelected'][_0x41e383]=!0x1,this['pRenderParam'][_0x41e383]=null,this['pFishParam'][_0x41e383]=null,this['stPTZColor'][_0x41e383]={},this['stPTZColor'][_0x41e383]['fR']=0x0,this['stPTZColor'][_0x41e383]['fG']=0x0,this['stPTZColor'][_0x41e383]['fB']=0x0,this['stPTZColor'][_0x41e383]['fA']=0x0,this['nBasePTZPointNum'][_0x41e383]=0x0,this['nOriPTZPointNum'][_0x41e383]=0x0,this['nPanoPTZPointNum'][_0x41e383]=0x0,this['nPTZRectNum'][_0x41e383]=0x0,this['pPanoPTZPoints'][_0x41e383]=[],this['pRectPoints'][_0x41e383]=[],this['pBasePTZPoints'][_0x41e383]=[],this['pOriPTZPoints'][_0x41e383]=[];for(var _0x49c563=0x0;_0x49c563<0x4;++_0x49c563)this['pRectPoints'][_0x41e383][_0x49c563]={},this['pRectPoints'][_0x41e383][_0x49c563]['fX']=0x0,this['pRectPoints'][_0x41e383][_0x49c563]['fY']=0x0;for(var _0x3b481b=0x0;_0x3b481b<_0x625c7b;++_0x3b481b)this['pBasePTZPoints'][_0x41e383][_0x3b481b]={},this['pBasePTZPoints'][_0x41e383][_0x3b481b]['fX']=0x0,this['pBasePTZPoints'][_0x41e383][_0x3b481b]['fY']=0x0,this['pOriPTZPoints'][_0x41e383][_0x3b481b]={},this['pOriPTZPoints'][_0x41e383][_0x3b481b]['fX']=0x0,this['pOriPTZPoints'][_0x41e383][_0x3b481b]['fY']=0x0,this['pPanoPTZPoints'][_0x41e383][_0x3b481b]={},this['pPanoPTZPoints'][_0x41e383][_0x3b481b]['fX']=0x0,this['pPanoPTZPoints'][_0x41e383][_0x3b481b]['fY']=0x0;this['nPTZFragmentNum'][_0x41e383]=0x0,this['nPTZFragmentNode'][_0x41e383]=[];for(var _0x37bd20=0x0;_0x37bd20<0x64;++_0x37bd20)this['nPTZFragmentNode'][_0x41e383][_0x37bd20]=0x0;}this['InitColorList']();}return _0x5ab2cc(_0x1af999,[{'key':'GetFECPort','value':function(_0x44fe05){for(var _0x35eede=_0x3a9b00,_0x277eab=0x0;_0x277eab<_0x39ae26;++_0x277eab)if(0x0==this['bPortAllocated'][_0x277eab]){_0x35eede=_0x277eab;break;}if(_0x35eede==_0x3a9b00)return _0x35eede;if(_0x44fe05==_0x15ec38['SR_DE_NULL'])return _0x35eede;var _0x2411a1=this['JudgeDisplayEffect'](_0x44fe05);if(_0x24d60c!=_0x2411a1)return this['FreeFECPort'](_0x35eede),_0x35eede=_0x3a9b00;if(_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']==_0x44fe05||_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']==_0x44fe05||_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']==_0x44fe05||_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']==_0x44fe05||_0x15ec38['SR_DE_FISH_PANORAMA_WALL']==_0x44fe05||_0x15ec38['SR_DE_FISH_ORIGINAL']==_0x44fe05){if(_0x3a9b00!=this['nWndPort'])return this['FreeFECPort'](_0x35eede),_0x35eede=_0x3a9b00;this['nWndPort']=_0x35eede;}if(!(_0x15ec38['SR_DE_FISH_PTZ_CEILING']!=_0x44fe05&&_0x15ec38['SR_DE_FISH_PTZ_FLOOR']!=_0x44fe05&&_0x15ec38['SR_DE_FISH_PTZ_WALL']!=_0x44fe05||_0x3a9b00==this['nWndPort']||null==this['pRenderParam'][this['nWndPort']]||_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']!=this['pRenderParam'][this['nWndPort']]['nDisplayEffect']&&_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']!=this['pRenderParam'][this['nWndPort']]['nDisplayEffect']))return this['FreeFECPort'](_0x35eede),_0x35eede=_0x3a9b00;if(_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']==_0x44fe05||_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']==_0x44fe05){for(var _0x2dbf1e=0x0;_0x2dbf1e<_0x39ae26;++_0x2dbf1e)if(null!=this['pRenderParam'][_0x2dbf1e]&&(_0x15ec38['SR_DE_FISH_PTZ_CEILING']==this['pRenderParam'][_0x2dbf1e]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PTZ_FLOOR']==this['pRenderParam'][_0x2dbf1e]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PTZ_WALL']==this['pRenderParam'][_0x2dbf1e]['nDisplayEffect']))return this['FreeFECPort'](_0x35eede),_0x35eede=_0x3a9b00;}if(_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']==_0x44fe05){for(var _0x21f139=0x0;_0x21f139<_0x39ae26;++_0x21f139)if(null!=this['pRenderParam'][_0x21f139]&&_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']==this['pRenderParam'][_0x21f139]['nDisplayEffect'])return this['FreeFECPort'](_0x35eede),_0x35eede=_0x3a9b00;}if(_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']==_0x44fe05){for(var _0x45d18d=0x0;_0x45d18d<_0x39ae26;++_0x45d18d)if(null!=this['pRenderParam'][_0x45d18d]&&_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']==this['pRenderParam'][_0x45d18d]['nDisplayEffect'])return this['FreeFECPort'](_0x35eede),_0x35eede=_0x3a9b00;}return this['pRenderParam'][_0x35eede]={},this['pRenderParam'][_0x35eede]['fCosH']=0x1,this['pRenderParam'][_0x35eede]['fSinH']=0x0,this['pRenderParam'][_0x35eede]['fCosV']=0x1,this['pRenderParam'][_0x35eede]['fSinV']=0x0,this['pRenderParam'][_0x35eede]['fAngle']=0x0,this['pRenderParam'][_0x35eede]['fRX1']=this['fRX1'],this['pRenderParam'][_0x35eede]['fRX2']=this['fRX2'],this['pRenderParam'][_0x35eede]['fRY1']=this['fRY1'],this['pRenderParam'][_0x35eede]['fRY2']=this['fRY2'],this['pRenderParam'][_0x35eede]['bBlack']=this['bBlack'],this['pRenderParam'][_0x35eede]['fZoom']=0.035+0.8,this['pRenderParam'][_0x35eede]['nDisplayEffect']=_0x44fe05,this['pRenderParam'][_0x35eede]['bBlack']=!0x1,this['pRenderParam'][_0x35eede]['bCut']=!0x1,this['pFishParam'][_0x35eede]={},this['pFishParam'][_0x35eede]['nFishParamType']=0x0,this['pFishParam'][_0x35eede]['bCut']=!0x1,this['pFishParam'][_0x35eede]['fAngle']=this['pRenderParam'][_0x35eede]['fAngle'],this['pFishParam'][_0x35eede]['fPTZX']=0.5,this['pFishParam'][_0x35eede]['fPTZY']=0.5,this['pFishParam'][_0x35eede]['fRXLeft']=this['pRenderParam'][_0x35eede]['fRX1'],this['pFishParam'][_0x35eede]['fRXRight']=this['pRenderParam'][_0x35eede]['fRX2'],this['pFishParam'][_0x35eede]['fRYTop']=this['pRenderParam'][_0x35eede]['fRY1'],this['pFishParam'][_0x35eede]['fRYBottom']=this['pRenderParam'][_0x35eede]['fRY2'],this['pFishParam'][_0x35eede]['bBlack']=this['pRenderParam'][_0x35eede]['bBlack'],this['pFishParam'][_0x35eede]['fZoom']=(this['pRenderParam'][_0x35eede]['fZoom']-0.8)/0x7,this['bPortAllocated'][_0x35eede]=!0x0,_0x35eede;}},{'key':'FreeFECPort','value':function(_0x2f776a){if(_0x2f776a<0x0||_0x2f776a>=_0x39ae26)return _0x1c46d8;this['nWndPort']==_0x2f776a&&(this['nWndPort']=_0x3a9b00),null!=this['pRenderParam'][_0x2f776a]&&(this['pRenderParam'][_0x2f776a]['fCosH']=0x1,this['pRenderParam'][_0x2f776a]['fSinH']=0x0,this['pRenderParam'][_0x2f776a]['fCosV']=0x1,this['pRenderParam'][_0x2f776a]['fSinV']=0x0,this['pRenderParam'][_0x2f776a]['fAngle']=0x0,this['pRenderParam'][_0x2f776a]['fZoom']=0x0,this['pRenderParam'][_0x2f776a]['fRX1']=0x0,this['pRenderParam'][_0x2f776a]['fRX2']=0x1,this['pRenderParam'][_0x2f776a]['fRY1']=0x0,this['pRenderParam'][_0x2f776a]['fRY2']=0x1,this['pRenderParam'][_0x2f776a]['nDisplayEffect']=0x0,this['pRenderParam'][_0x2f776a]['bBlack']=!0x1,this['pRenderParam'][_0x2f776a]['bCut']=!0x1),null!=this['pFishParam'][_0x2f776a]&&(this['pFishParam'][_0x2f776a]['nFishParamType']=0x0,this['pFishParam'][_0x2f776a]['fRXLeft']=0x0,this['pFishParam'][_0x2f776a]['fRXRight']=0x1,this['pFishParam'][_0x2f776a]['fRYTop']=0x0,this['pFishParam'][_0x2f776a]['fRYBottom']=0x1,this['pFishParam'][_0x2f776a]['bBlack']=!0x1,this['pFishParam'][_0x2f776a]['bCut']=!0x1,this['pFishParam'][_0x2f776a]['fAngle']=0x0,this['pFishParam'][_0x2f776a]['fZoom']=0x0,this['pFishParam'][_0x2f776a]['fPTZX']=0.5,this['pFishParam'][_0x2f776a]['fPTZY']=0.5),this['nBasePTZPointNum'][_0x2f776a]=0x0,this['nOriPTZPointNum'][_0x2f776a]=0x0,this['nPanoPTZPointNum'][_0x2f776a]=0x0,this['nPTZRectNum'][_0x2f776a]=0x0;for(var _0x543a5b=0x0;_0x543a5b<0x4;++_0x543a5b)this['pRectPoints'][_0x2f776a][_0x543a5b]['fX']=0x0,this['pRectPoints'][_0x2f776a][_0x543a5b]['fY']=0x0;for(var _0x1b90c8=0x0;_0x1b90c8<_0x625c7b;++_0x1b90c8)this['pBasePTZPoints'][_0x2f776a][_0x1b90c8]['fX']=0x0,this['pBasePTZPoints'][_0x2f776a][_0x1b90c8]['fY']=0x0,this['pOriPTZPoints'][_0x2f776a][_0x1b90c8]['fX']=0x0,this['pOriPTZPoints'][_0x2f776a][_0x1b90c8]['fY']=0x0,this['pPanoPTZPoints'][_0x2f776a][_0x1b90c8]['fX']=0x0,this['pPanoPTZPoints'][_0x2f776a][_0x1b90c8]['fY']=0x0;if(null!=this['pPTZSetColor']&&(this['pPTZSetColor'][_0x2f776a]['fA']=0x0,this['pPTZSetColor'][_0x2f776a]['fR']=0x0,this['pPTZSetColor'][_0x2f776a]['fG']=0x0,this['pPTZSetColor'][_0x2f776a]['fB']=0x0),this['bPTZSelected'][_0x2f776a]=!0x1,0x0!=this['nPlaceType']){var _0xfbe74c=!0x1;if(null!=this['pRenderParam'][i]){for(var _0x363fb5=0x0;_0x363fb5<_0x39ae26;++_0x363fb5)if(null!=this['pRenderParam'][_0x363fb5]&&(_0x15ec38['SR_DE_FISH_PTZ_CEILING']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PTZ_FLOOR']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PTZ_WALL']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PANORAMA_WALL']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_CYLINDER_CEILING']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_CEILING']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_FLOOR']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']==this['pRenderParam'][_0x363fb5]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']==this['pRenderParam'][_0x363fb5]['nDisplayEffect'])){_0xfbe74c=!0x0;break;}}_0xfbe74c||(this['nPlaceType']=0x0);}for(var _0x1895f0=!0x1,_0x2bb28c=0x0;_0x2bb28c<_0x39ae26;++_0x2bb28c)if(null!=this['pRenderParam'][_0x2bb28c]){_0x1895f0=!0x0;break;}_0x1895f0||(this['fRX1']=0x0,this['fRX2']=0x1,this['fRY1']=0x0,this['fRY2']=0x1,this['bBlack']=!0x1),this['nPTZFragmentNum'][_0x2f776a]=0x0;for(var _0x1cb35a=0x0;_0x1cb35a<0x64;++_0x1cb35a)this['nPTZFragmentNode'][_0x2f776a][_0x1cb35a]=0x0;return this['bPortAllocated'][_0x2f776a]=!0x1,_0x24d60c;}},{'key':'DeInit','value':function(){for(var _0x2950fd=0x0;_0x2950fd<_0x39ae26;++_0x2950fd){for(var _0x16689a=0x0;_0x16689a<0x4;++_0x16689a)this['pRectPoints'][_0x2950fd][_0x16689a]=null;for(var _0x36cf3f=0x0;_0x36cf3f<_0x625c7b;++_0x36cf3f)this['pBasePTZPoints'][_0x2950fd][_0x36cf3f]=null,this['pOriPTZPoints'][_0x2950fd][_0x36cf3f]=null,this['pPanoPTZPoints'][_0x2950fd][_0x36cf3f]=null;this['nPTZFragmentNum'][_0x2950fd]=0x0,this['nPTZFragmentNode'][_0x2950fd]=null,this['bPortAllocated'][_0x2950fd]=!0x1,this['bPTZSelected'][_0x2950fd]=!0x1,this['pRenderParam'][_0x2950fd]=null,this['pFishParam'][_0x2950fd]=null,this['stPTZColor'][_0x2950fd]=null,this['nBasePTZPointNum'][_0x2950fd]=0x0,this['nOriPTZPointNum'][_0x2950fd]=0x0,this['nPanoPTZPointNum'][_0x2950fd]=0x0,this['nPTZRectNum'][_0x2950fd]=0x0,this['pPanoPTZPoints'][_0x2950fd]=null,this['pRectPoints'][_0x2950fd]=null,this['pBasePTZPoints'][_0x2950fd]=null,this['pOriPTZPoints'][_0x2950fd]=null;}return this['bPortAllocated']=null,this['pRenderParam']=null,this['pFishParam']=null,this['stPTZColor']=null,this['pPTZSetColor']=null,this['nBasePTZPointNum']=null,this['nOriPTZPointNum']=null,this['nPanoPTZPointNum']=null,this['nPTZFragmentNum']=null,this['pBasePTZPoints']=null,this['pPanoPTZPoints']=null,this['pRectPoints']=null,this['nPTZRectNum']=null,this['nPTZDisplayMode']=_0x339062,this['fRX1']=0x0,this['fRX2']=0x1,this['fRY1']=0x0,this['fRY2']=0x1,this['bBlack']=!0x1,this['pOriPTZPoints']=null,this['pBasePTZPoints']=null,this['nWndPort']=_0x3a9b00,this['nPlaceType']=0x0,this['nPTZFragmentNode']=null,this['bPTZSelected']=null,this['nPTZDisplayMode']=_0x3212b8,_0x24d60c;}},{'key':'InitColorList','value':function(){this['stPTZColor'][0x0]['fR']=0.5,this['stPTZColor'][0x0]['fG']=0.5,this['stPTZColor'][0x0]['fB']=0x0,this['stPTZColor'][0x0]['fA']=0x1,this['stPTZColor'][0x1]['fR']=0x1,this['stPTZColor'][0x1]['fG']=0x0,this['stPTZColor'][0x1]['fB']=0x0,this['stPTZColor'][0x1]['fA']=0x1,this['stPTZColor'][0x2]['fR']=0x0,this['stPTZColor'][0x2]['fG']=0x1,this['stPTZColor'][0x2]['fB']=0x0,this['stPTZColor'][0x2]['fA']=0x1,this['stPTZColor'][0x3]['fR']=0x0,this['stPTZColor'][0x3]['fG']=0x0,this['stPTZColor'][0x3]['fB']=0x1,this['stPTZColor'][0x3]['fA']=0x1,this['stPTZColor'][0x4]['fR']=0x1,this['stPTZColor'][0x4]['fG']=0x1,this['stPTZColor'][0x4]['fB']=0x0,this['stPTZColor'][0x4]['fA']=0x1,this['stPTZColor'][0x5]['fR']=0.5,this['stPTZColor'][0x5]['fG']=0x0,this['stPTZColor'][0x5]['fB']=0x1,this['stPTZColor'][0x5]['fA']=0x1,this['stPTZColor'][0x6]['fR']=0x0,this['stPTZColor'][0x6]['fG']=0x1,this['stPTZColor'][0x6]['fB']=0x1,this['stPTZColor'][0x6]['fA']=0x1,this['stPTZColor'][0x7]['fR']=0x1,this['stPTZColor'][0x7]['fG']=0.5,this['stPTZColor'][0x7]['fB']=0x0,this['stPTZColor'][0x7]['fA']=0x1,this['stPTZColor'][0x8]['fR']=0x0,this['stPTZColor'][0x8]['fG']=0.5,this['stPTZColor'][0x8]['fB']=0.5,this['stPTZColor'][0x8]['fA']=0x1;for(var _0x3b1edc=0x9;_0x3b1edc<_0x39ae26;_0x3b1edc++)this['stPTZColor'][_0x3b1edc]['fR']=0x1*_0x3b1edc/_0x39ae26,this['stPTZColor'][_0x3b1edc]['fG']=0x1*_0x3b1edc/_0x39ae26,this['stPTZColor'][_0x3b1edc]['fB']=0x1*_0x3b1edc/_0x39ae26,this['stPTZColor'][_0x3b1edc]['fA']=0x1;return _0x24d60c;}},{'key':'GetRangePoints','value':function(_0x26b564){if(_0x26b564<0x0||_0x26b564>=_0x39ae26)return _0x1c46d8;if(null==this['pRenderParam'][_0x26b564])return _0x19c02b;var _0x633fbd=0x0,_0x5a8c5d=0x0;switch(this['nOriPTZPointNum'][_0x26b564]=0x0,this['nBasePTZPointNum'][_0x26b564]=0x0,this['pRenderParam'][_0x26b564]['nDisplayEffect']){case _0x15ec38['SR_DE_FISH_PTZ_CEILING']:for(_0x5a8c5d=0x0;_0x5a8c5d<0x1;_0x5a8c5d+=0.01)this['GetFishPTZCeiling'](_0x633fbd,_0x5a8c5d,_0x26b564);for(_0x5a8c5d=0.9995,_0x633fbd=0x0;_0x633fbd<0x1;_0x633fbd+=0.02)this['GetFishPTZCeiling'](_0x633fbd,_0x5a8c5d,_0x26b564);for(_0x633fbd=0.999,_0x5a8c5d=0.9995;_0x5a8c5d>=0x0;_0x5a8c5d-=0.01)this['GetFishPTZCeiling'](_0x633fbd,_0x5a8c5d,_0x26b564);for(_0x5a8c5d=0x0,_0x633fbd=0.999;_0x633fbd>=0x0;_0x633fbd-=0.02)this['GetFishPTZCeiling'](_0x633fbd,_0x5a8c5d,_0x26b564);break;case _0x15ec38['SR_DE_FISH_PTZ_FLOOR']:for(_0x5a8c5d=0x0;_0x5a8c5d<0x1;_0x5a8c5d+=0.01)this['GetFishPTZFloor'](_0x633fbd,_0x5a8c5d,_0x26b564);for(_0x5a8c5d=0.9995,_0x633fbd=0x0;_0x633fbd<0x1;_0x633fbd+=0.02)this['GetFishPTZFloor'](_0x633fbd,_0x5a8c5d,_0x26b564);for(_0x633fbd=0.999,_0x5a8c5d=0.9995;_0x5a8c5d>=0x0;_0x5a8c5d-=0.01)this['GetFishPTZFloor'](_0x633fbd,_0x5a8c5d,_0x26b564);for(_0x5a8c5d=0x0,_0x633fbd=0.999;_0x633fbd>=0x0;_0x633fbd-=0.02)this['GetFishPTZFloor'](_0x633fbd,_0x5a8c5d,_0x26b564);break;case _0x15ec38['SR_DE_FISH_PTZ_WALL']:for(_0x5a8c5d=0x0;_0x5a8c5d<0x1;_0x5a8c5d+=0.01)this['GetFishPTZWALL'](_0x633fbd,_0x5a8c5d,_0x26b564);for(_0x5a8c5d=0.9995,_0x633fbd=0x0;_0x633fbd<0x1;_0x633fbd+=0.02)this['GetFishPTZWALL'](_0x633fbd,_0x5a8c5d,_0x26b564);for(_0x633fbd=0.999,_0x5a8c5d=0.9995;_0x5a8c5d>=0x0;_0x5a8c5d-=0.01)this['GetFishPTZWALL'](_0x633fbd,_0x5a8c5d,_0x26b564);for(_0x5a8c5d=0x0,_0x633fbd=0.999;_0x633fbd>=0x0;_0x633fbd-=0.02)this['GetFishPTZWALL'](_0x633fbd,_0x5a8c5d,_0x26b564);break;default:return _0x58915e;}return _0x24d60c;}},{'key':'TransformPTZRangePoints','value':function(_0xc76b25){if(_0x3a9b00==this['nWndPort'])return _0x19c02b;if(null==this['pBasePTZPoints'][_0xc76b25]||null==this['pRenderParam'][this['nWndPort']])return _0x19c02b;this['nPanoPTZPointNum'][_0xc76b25]=0x0;var _0x5414ef=_0x24d60c,_0x38b8d5=this['nWndPort'];switch(this['pRenderParam'][_0x38b8d5]['nDisplayEffect']){case _0x15ec38['SR_DE_FISH_PANORAMA_WALL']:if(_0x5414ef=this['GetPanoPTZWall'](_0xc76b25),_0x24d60c!=_0x5414ef)return _0x5414ef;break;case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']:if(_0x5414ef=this['GetPanoPTZFloor'](_0xc76b25),_0x24d60c!=_0x5414ef)return _0x5414ef;break;case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']:if(_0x5414ef=this['GetPanoPTZCeiling'](_0xc76b25),_0x24d60c!=_0x5414ef)return _0x5414ef;}return this['CalcPTZFragmentPoints'](_0xc76b25),_0x24d60c;}},{'key':'GetRectPoints','value':function(_0x57ca0e){if(_0x57ca0e<0x0||_0x57ca0e>=_0x39ae26)return _0x1c46d8;if(this['nWndPort']==_0x3a9b00)return _0x19c02b;if(null==this['pRenderParam'][this['nWndPort']]||null==this['pFishParam'][_0x57ca0e])return _0x19c02b;var _0x505c21=this['pRenderParam'][this['nWndPort']]['nDisplayEffect'],_0x1768e6=_0x24d60c,_0x236afb={'fX':0x0,'fY':0x0};switch(_0x505c21){case _0x15ec38['SR_DE_FISH_PANORAMA_WALL']:if(_0x1768e6=this['GetPointFish2PanoWall'](_0x236afb,this['pFishParam'][_0x57ca0e]['fPTZX'],this['pFishParam'][_0x57ca0e]['fPTZY']),_0x24d60c!=_0x1768e6)return _0x1768e6;break;case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']:if(_0x1768e6=this['GetPointFish2PanoFloor'](_0x236afb,this['pFishParam'][_0x57ca0e]['fPTZX'],this['pFishParam'][_0x57ca0e]['fPTZY']),_0x24d60c!=_0x1768e6)return _0x58915e==_0x1768e6&&(this['pRectPoints'][_0x57ca0e]=null),_0x1768e6;break;case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']:if(_0x1768e6=this['GetPointFish2PanoCeiling'](_0x236afb,this['pFishParam'][_0x57ca0e]['fPTZX'],this['pFishParam'][_0x57ca0e]['fPTZY']),_0x24d60c!=_0x1768e6)return _0x58915e==_0x1768e6&&(this['pRectPoints'][_0x57ca0e]=null),_0x1768e6;break;case _0x15ec38['SR_DE_FISH_ORIGINAL']:_0x236afb['fX']=this['pFishParam'][_0x57ca0e]['fPTZX'],_0x236afb['fY']=this['pFishParam'][_0x57ca0e]['fPTZY'];}if(null==this['pRectPoints'][_0x57ca0e]){this['pRectPoints'][_0x57ca0e]=[];for(var _0xe02cbf=0x0;_0xe02cbf<0x4;++_0xe02cbf)this['pRectPoints'][_0x57ca0e][_0xe02cbf]={},this['pRectPoints'][_0x57ca0e][_0xe02cbf]['fX']=0x0,this['pRectPoints'][_0x57ca0e][_0xe02cbf]['fY']=0x0;}return this['pRectPoints'][_0x57ca0e][0x0]['fX']=_0x236afb['fX']-_0x4eb634,this['pRectPoints'][_0x57ca0e][0x0]['fY']=_0x236afb['fY']-_0x4eb634,this['pRectPoints'][_0x57ca0e][0x1]['fX']=_0x236afb['fX']+_0x4eb634,this['pRectPoints'][_0x57ca0e][0x1]['fY']=_0x236afb['fY']-_0x4eb634,this['pRectPoints'][_0x57ca0e][0x2]['fX']=_0x236afb['fX']+_0x4eb634,this['pRectPoints'][_0x57ca0e][0x2]['fY']=_0x236afb['fY']+_0x4eb634,this['pRectPoints'][_0x57ca0e][0x3]['fX']=_0x236afb['fX']-_0x4eb634,this['pRectPoints'][_0x57ca0e][0x3]['fY']=_0x236afb['fY']+_0x4eb634,this['nPTZRectNum'][_0x57ca0e]=0x4,_0x24d60c;}},{'key':'GetFishPTZCeiling','value':function(_0x2ebc82,_0x396c4e,_0xc8580){var _0x589098,_0x255fe7,_0xf3bf6c,_0x571f59,_0x353e12,_0x227db3,_0x248604,_0x514980={'fX':0x0,'fY':0x0},_0x5e96ee={'fX':0x0,'fY':0x0},_0x9829f0={'fX':0x0,'fY':0x0},_0x4774f5={};_0x571f59=(this['fRX2']-this['fRX1'])/(this['fRY2']-this['fRY1']),_0x353e12=(this['fRX1']+this['fRX2'])/0x2*0x1,_0x227db3=(this['fRY1']+this['fRY2'])/0x2*_0x571f59,_0x248604=(this['fRX2']-this['fRX1'])/0x2*0x1,_0x514980['fX']=_0x396c4e-0.5,_0x514980['fY']=0.5-_0x2ebc82,_0x589098=this['pRenderParam'][_0xc8580]['fZoom'],_0x5e96ee['fX']=_0x514980['fX'],_0x5e96ee['fY']=_0x514980['fY']*this['pRenderParam'][_0xc8580]['fCosV']+_0x589098*this['pRenderParam'][_0xc8580]['fSinV'],_0x255fe7=_0x589098*this['pRenderParam'][_0xc8580]['fCosV']-_0x514980['fY']*this['pRenderParam'][_0xc8580]['fSinV'],_0xf3bf6c=Math['sqrt'](_0x5e96ee['fX']*_0x5e96ee['fX']+_0x5e96ee['fY']*_0x5e96ee['fY']);var _0x331c22=Math['sqrt'](_0x5e96ee['fX']*_0x5e96ee['fX']+_0x5e96ee['fY']*_0x5e96ee['fY']+_0x255fe7*_0x255fe7),_0xec3af9=Math['asin'](_0xf3bf6c/_0x331c22)/1.5707963*0.5;_0x5e96ee['fX']=_0xec3af9*_0x5e96ee['fX']/_0xf3bf6c,_0x5e96ee['fY']=_0xec3af9*_0x5e96ee['fY']/_0xf3bf6c,_0x9829f0['fX']=_0x5e96ee['fX']*this['pRenderParam'][_0xc8580]['fCosH']-_0x5e96ee['fY']*this['pRenderParam'][_0xc8580]['fSinH'],_0x9829f0['fY']=_0x5e96ee['fX']*this['pRenderParam'][_0xc8580]['fSinH']+_0x5e96ee['fY']*this['pRenderParam'][_0xc8580]['fCosH'],_0x4774f5['fX']=0x2*_0x9829f0['fX']*_0x248604+_0x353e12,_0x4774f5['fY']=0x2*-_0x9829f0['fY']*_0x248604+_0x227db3;var _0x17f2cf=this['nBasePTZPointNum'][_0xc8580];this['pBasePTZPoints'][_0xc8580][_0x17f2cf]['fX']=_0x9829f0['fX']+0.5,this['pBasePTZPoints'][_0xc8580][_0x17f2cf]['fY']=0.5-_0x9829f0['fY'],this['nBasePTZPointNum'][_0xc8580]=this['nBasePTZPointNum'][_0xc8580]+0x1;var _0x1d85e9=this['fRX1']<=0x0?0x0:0x1*this['fRX1'],_0x23cf5e=this['fRY1']<=0x0?0x0:this['fRY1']*_0x571f59,_0x4d0b8d=this['fRX2']>=0x1?0x1-_0x1d85e9:0x1*this['fRX2']-_0x1d85e9,_0x3411d1=this['fRY2']>=0x1?_0x571f59-_0x23cf5e:this['fRY2']*_0x571f59-_0x23cf5e;if(_0x4774f5['fX']=(_0x4774f5['fX']-_0x1d85e9)/_0x4d0b8d,_0x4774f5['fY']=(_0x4774f5['fY']-_0x23cf5e)/_0x3411d1,_0x4774f5['fX']<=0x1&&_0x4774f5['fY']<=0x1&&_0x4774f5['fX']>=0x0&&_0x4774f5['fY']>=0x0){var _0x560ee2=this['nOriPTZPointNum'][_0xc8580];this['pOriPTZPoints'][_0xc8580][_0x560ee2]['fX']=_0x4774f5['fX'],this['pOriPTZPoints'][_0xc8580][_0x560ee2]['fY']=_0x4774f5['fY'],this['nOriPTZPointNum'][_0xc8580]=this['nOriPTZPointNum'][_0xc8580]+0x1;}return _0x24d60c;}},{'key':'GetFishPTZFloor','value':function(_0x20f13f,_0x355e2d,_0x5d97fe){var _0x34ef6f,_0x537131,_0x102ed2,_0x463f45,_0x50f1f6,_0x40b015,_0x43c4d4,_0x1189c3={'fX':0x0,'fY':0x0},_0x39301b={'fX':0x0,'fY':0x0},_0x18ea45={'fX':0x0,'fY':0x0},_0x2cea3b={};_0x463f45=(this['fRX2']-this['fRX1'])/(this['fRY2']-this['fRY1']),_0x50f1f6=(this['fRX1']+this['fRX2'])/0x2*0x1,_0x40b015=(this['fRY1']+this['fRY2'])/0x2*_0x463f45,_0x43c4d4=(this['fRX2']-this['fRX1'])/0x2*0x1,_0x1189c3['fX']=_0x20f13f-0.5,_0x1189c3['fY']=_0x355e2d-0.5,_0x34ef6f=this['pRenderParam'][_0x5d97fe]['fZoom'],_0x39301b['fX']=_0x1189c3['fX'],_0x39301b['fY']=_0x1189c3['fY']*this['pRenderParam'][_0x5d97fe]['fCosV']+_0x34ef6f*this['pRenderParam'][_0x5d97fe]['fSinV'],_0x537131=_0x34ef6f*this['pRenderParam'][_0x5d97fe]['fCosV']-_0x1189c3['fY']*this['pRenderParam'][_0x5d97fe]['fSinV'],_0x102ed2=Math['sqrt'](_0x39301b['fX']*_0x39301b['fX']+_0x39301b['fY']*_0x39301b['fY']);var _0x230782=Math['sqrt'](_0x39301b['fX']*_0x39301b['fX']+_0x39301b['fY']*_0x39301b['fY']+_0x537131*_0x537131),_0x4c7f4f=Math['asin'](_0x102ed2/_0x230782)/1.5707963*0.5;_0x39301b['fX']=_0x4c7f4f*_0x39301b['fX']/_0x102ed2,_0x39301b['fY']=_0x4c7f4f*_0x39301b['fY']/_0x102ed2,_0x18ea45['fX']=_0x39301b['fX']*this['pRenderParam'][_0x5d97fe]['fCosH']-_0x39301b['fY']*this['pRenderParam'][_0x5d97fe]['fSinH'],_0x18ea45['fY']=_0x39301b['fX']*this['pRenderParam'][_0x5d97fe]['fSinH']+_0x39301b['fY']*this['pRenderParam'][_0x5d97fe]['fCosH'],_0x2cea3b['fX']=0x2*_0x18ea45['fX']*_0x43c4d4+_0x50f1f6,_0x2cea3b['fY']=0x2*_0x18ea45['fY']*_0x43c4d4+_0x40b015;var _0x59dfc6=this['nBasePTZPointNum'][_0x5d97fe];this['pBasePTZPoints'][_0x5d97fe][_0x59dfc6]['fX']=_0x18ea45['fX']+0.5,this['pBasePTZPoints'][_0x5d97fe][_0x59dfc6]['fY']=_0x18ea45['fY']+0.5,this['nBasePTZPointNum'][_0x5d97fe]=this['nBasePTZPointNum'][_0x5d97fe]+0x1;var _0x1bc992=this['fRX1']<=0x0?0x0:0x1*this['fRX1'],_0x3a13d5=this['fRY1']<=0x0?0x0:this['fRY1']*_0x463f45,_0x39b569=this['fRX2']>=0x1?0x1-_0x1bc992:0x1*this['fRX2']-_0x1bc992,_0xbb4af7=this['fRY2']>=0x1?_0x463f45-_0x3a13d5:this['fRY2']*_0x463f45-_0x3a13d5;if(_0x2cea3b['fX']=(_0x2cea3b['fX']-_0x1bc992)/_0x39b569,_0x2cea3b['fY']=(_0x2cea3b['fY']-_0x3a13d5)/_0xbb4af7,_0x2cea3b['fX']<=0x1&&_0x2cea3b['fY']<=0x1&&_0x2cea3b['fX']>=0x0&&_0x2cea3b['fY']>=0x0){var _0x4b2258=this['nOriPTZPointNum'][_0x5d97fe];this['pOriPTZPoints'][_0x5d97fe][_0x4b2258]['fX']=_0x2cea3b['fX'],this['pOriPTZPoints'][_0x5d97fe][_0x4b2258]['fY']=_0x2cea3b['fY'],this['nOriPTZPointNum'][_0x5d97fe]=this['nOriPTZPointNum'][_0x5d97fe]+0x1;}return _0x24d60c;}},{'key':'GetFishPTZWALL','value':function(_0xd22ea0,_0x28a417,_0x43a65d){var _0x1ead88,_0x10d10d,_0x852ee2,_0x2d20aa,_0x47befa,_0x13efd4,_0x1bb11f,_0xa43743,_0x577acf={'fX':0x0,'fY':0x0},_0x117e2d={'fX':0x0,'fY':0x0},_0x173475={'fX':0x0,'fY':0x0},_0x14922c={};_0x47befa=(this['fRX2']-this['fRX1'])/(this['fRY2']-this['fRY1']),_0x13efd4=(this['fRX1']+this['fRX2'])/0x2*0x1,_0x1bb11f=(this['fRY1']+this['fRY2'])/0x2*_0x47befa,_0xa43743=(this['fRX2']-this['fRX1'])/0x2*0x1,_0x577acf['fX']=_0x28a417-0.5,_0x577acf['fY']=_0xd22ea0-0.5,_0x1ead88=this['pRenderParam'][_0x43a65d]['fZoom'],_0x117e2d['fX']=_0x577acf['fX'],_0x117e2d['fY']=_0x577acf['fY']*this['pRenderParam'][_0x43a65d]['fCosV']+_0x1ead88*this['pRenderParam'][_0x43a65d]['fSinV'],_0x10d10d=_0x1ead88*this['pRenderParam'][_0x43a65d]['fCosV']-_0x577acf['fY']*this['pRenderParam'][_0x43a65d]['fSinV'],_0x173475['fX']=_0x117e2d['fX']*this['pRenderParam'][_0x43a65d]['fCosH']+_0x10d10d*this['pRenderParam'][_0x43a65d]['fSinH'],_0x173475['fY']=_0x117e2d['fY'],_0x852ee2=_0x10d10d*this['pRenderParam'][_0x43a65d]['fCosH']-_0x117e2d['fX']*this['pRenderParam'][_0x43a65d]['fSinH'],_0x2d20aa=Math['sqrt'](_0x173475['fX']*_0x173475['fX']+_0x173475['fY']*_0x173475['fY']);var _0x5798f5=Math['sqrt'](_0x173475['fX']*_0x173475['fX']+_0x173475['fY']*_0x173475['fY']+_0x852ee2*_0x852ee2),_0x12f138=Math['asin'](_0x2d20aa/_0x5798f5)/1.5707963*0.5;_0x14922c['fX']=_0x12f138*_0x173475['fX']/_0x2d20aa*_0xa43743*0x2+_0x13efd4,_0x14922c['fY']=_0x12f138*_0x173475['fY']/_0x2d20aa*_0xa43743*0x2+_0x1bb11f;var _0x36c4fd=this['nBasePTZPointNum'][_0x43a65d];this['pBasePTZPoints'][_0x43a65d][_0x36c4fd]['fX']=_0x12f138*_0x173475['fX']/_0x2d20aa+0.5,this['pBasePTZPoints'][_0x43a65d][_0x36c4fd]['fY']=_0x12f138*_0x173475['fY']/_0x2d20aa+0.5,this['nBasePTZPointNum'][_0x43a65d]=this['nBasePTZPointNum'][_0x43a65d]+0x1;var _0x4ed49d=this['fRX1']<=0x0?0x0:0x1*this['fRX1'],_0x365a5e=this['fRY1']<=0x0?0x0:this['fRY1']*_0x47befa,_0x394651=this['fRX2']>=0x1?0x1-_0x4ed49d:0x1*this['fRX2']-_0x4ed49d,_0x1390d7=this['fRY2']>=0x1?_0x47befa-_0x365a5e:this['fRY2']*_0x47befa-_0x365a5e;if(_0x14922c['fX']=(_0x14922c['fX']-_0x4ed49d)/_0x394651,_0x14922c['fY']=(_0x14922c['fY']-_0x365a5e)/_0x1390d7,_0x14922c['fX']<=0x1&&_0x14922c['fY']<=0x1&&_0x14922c['fX']>=0x0&&_0x14922c['fY']>=0x0){var _0x300811=this['nOriPTZPointNum'][_0x43a65d];this['pOriPTZPoints'][_0x43a65d][_0x300811]['fX']=_0x14922c['fX'],this['pOriPTZPoints'][_0x43a65d][_0x300811]['fY']=_0x14922c['fY'],this['nOriPTZPointNum'][_0x43a65d]=this['nOriPTZPointNum'][_0x43a65d]+0x1;}return _0x24d60c;}},{'key':'GetPanoPTZCeiling','value':function(_0x4370ae){if(null==this['pRenderParam'][_0x4370ae]||null==this['pRenderParam'][this['nWndPort']])return _0x19c02b;if(null==this['pBasePTZPoints'][_0x4370ae])return _0x19c02b;var _0x4b8380,_0x58859d,_0x253895=this['nBasePTZPointNum'][_0x4370ae];_0x4b8380=(this['fRX2']-this['fRX1'])/(this['fRY2']-this['fRY1']),_0x58859d=(this['fRX2']-this['fRX1'])/0x2*0x1;var _0xc7b81a,_0x543a72=0x0;(this['fRX2']>0x1||this['fRY2']>0x1||this['fRY1']<0x0||this['fRX1']<0x0)&&(this['fRX1']<0x0&&(_0xc7b81a=0x1*-this['fRX1'])>_0x543a72&&(_0x543a72=_0xc7b81a),this['fRX2']>0x1&&(_0xc7b81a=0x1*(this['fRX2']-0x1))>_0x543a72&&(_0x543a72=_0xc7b81a),this['fRY1']<0x0&&(_0xc7b81a=-this['fRY1']*_0x4b8380)>_0x543a72&&(_0x543a72=_0xc7b81a),this['fRY2']>0x1&&(_0xc7b81a=(this['fRY2']-0x1)*_0x4b8380)>_0x543a72&&(_0x543a72=_0xc7b81a));for(var _0x5ccac4,_0x377599=_0x543a72/_0x58859d,_0x30e374={'fX':0x0,'fY':0x0},_0x4d3c73={'fX':0x0,'fY':0x0},_0x4f7a2f=0x0;_0x4f7a2f<_0x253895;++_0x4f7a2f)if(_0x4d3c73['fX']=this['pBasePTZPoints'][_0x4370ae][_0x4f7a2f]['fX'],_0x4d3c73['fY']=this['pBasePTZPoints'][_0x4370ae][_0x4f7a2f]['fY'],!(Math['abs'](_0x4d3c73['fX']-0.5)<_0x41c124&&Math['abs'](_0x4d3c73['fY']-0.5)<_0x41c124)){var _0x49de1f={'fX':0x0,'fY':0x0},_0x4696d2={'fX':0x0,'fY':0x0};_0x49de1f['fX']=_0x4d3c73['fX']-0.5,_0x49de1f['fY']=_0x4d3c73['fY']-0.5,_0x4696d2['fX']=-0.5*Math['sin'](this['pRenderParam'][this['nWndPort']]['fAngle']),_0x4696d2['fY']=0.5*Math['cos'](this['pRenderParam'][this['nWndPort']]['fAngle']);var _0x464849=Math['sqrt'](_0x49de1f['fX']*_0x49de1f['fX']+_0x49de1f['fY']*_0x49de1f['fY']),_0x337ecc=Math['sqrt'](_0x4696d2['fX']*_0x4696d2['fX']+_0x4696d2['fY']*_0x4696d2['fY']);if(_0x5ccac4=Math['acos']((_0x49de1f['fX']*_0x4696d2['fX']+_0x49de1f['fY']*_0x4696d2['fY'])/(_0x464849*_0x337ecc)),_0x49de1f['fX']*_0x4696d2['fY']-_0x49de1f['fY']*_0x4696d2['fX']>0x0&&(_0x5ccac4=6.2831852-_0x5ccac4),_0x30e374['fX']=_0x5ccac4/6.2831853,_0x30e374['fY']=(0x2*(0.5-_0x464849)-_0x377599)/(0.8-_0x377599),_0x30e374['fY']>=0x0&&_0x30e374['fX']>=0x0&&_0x30e374['fY']<=0x1&&_0x30e374['fX']<=0x1){var _0x35e28b=this['nPanoPTZPointNum'][_0x4370ae];this['pPanoPTZPoints'][_0x4370ae][_0x35e28b]['fX']=_0x30e374['fX'],this['pPanoPTZPoints'][_0x4370ae][_0x35e28b]['fY']=_0x30e374['fY'],this['nPanoPTZPointNum'][_0x4370ae]=this['nPanoPTZPointNum'][_0x4370ae]+0x1;}}return _0x24d60c;}},{'key':'GetPanoPTZFloor','value':function(_0x587218){if(null==this['pRenderParam'][_0x587218]||null==this['pRenderParam'][this['nWndPort']])return _0x19c02b;if(null==this['pBasePTZPoints'][_0x587218])return _0x19c02b;var _0x102ac4,_0xbe688f,_0x25ec41=this['nBasePTZPointNum'][_0x587218];_0x102ac4=(this['fRX2']-this['fRX1'])/(this['fRY2']-this['fRY1']),_0xbe688f=(this['fRX2']-this['fRX1'])/0x2*0x1;var _0x150c55,_0x4914d8=0x0;(this['fRX2']>0x1||this['fRY2']>0x1||this['fRY1']<0x0||this['fRX1']<0x0)&&(this['fRX1']<0x0&&(_0x150c55=0x1*-this['fRX1'])>_0x4914d8&&(_0x4914d8=_0x150c55),this['fRX2']>0x1&&(_0x150c55=0x1*(this['fRX2']-0x1))>_0x4914d8&&(_0x4914d8=_0x150c55),this['fRY1']<0x0&&(_0x150c55=-this['fRY1']*_0x102ac4)>_0x4914d8&&(_0x4914d8=_0x150c55),this['fRY2']>0x1&&(_0x150c55=(this['fRY2']-0x1)*_0x102ac4)>_0x4914d8&&(_0x4914d8=_0x150c55));for(var _0x5e4eae,_0x30ed8e=_0x4914d8/_0xbe688f,_0x488486={'fX':0x0,'fY':0x0},_0x3845f0={'fX':0x0,'fY':0x0},_0x2bf1d9=0x0;_0x2bf1d9<_0x25ec41;++_0x2bf1d9)if(_0x3845f0['fX']=this['pBasePTZPoints'][_0x587218][_0x2bf1d9]['fX'],_0x3845f0['fY']=this['pBasePTZPoints'][_0x587218][_0x2bf1d9]['fY'],!(Math['abs'](_0x3845f0['fX']-0.5)<_0x41c124&&Math['abs'](_0x3845f0['fY']-0.5)<_0x41c124)){var _0x4935bf={'fX':0x0,'fY':0x0},_0x5816f1={'fX':0x0,'fY':0x0};_0x4935bf['fX']=_0x3845f0['fX']-0.5,_0x4935bf['fY']=_0x3845f0['fY']-0.5,_0x5816f1['fX']=-0.5*Math['sin'](this['pRenderParam'][this['nWndPort']]['fAngle']),_0x5816f1['fY']=0.5*Math['cos'](this['pRenderParam'][this['nWndPort']]['fAngle']);var _0x21d8d9=Math['sqrt'](_0x4935bf['fX']*_0x4935bf['fX']+_0x4935bf['fY']*_0x4935bf['fY']),_0x215789=Math['sqrt'](_0x5816f1['fX']*_0x5816f1['fX']+_0x5816f1['fY']*_0x5816f1['fY']);if(_0x5e4eae=Math['acos']((_0x4935bf['fX']*_0x5816f1['fX']+_0x4935bf['fY']*_0x5816f1['fY'])/(_0x21d8d9*_0x215789)),_0x4935bf['fX']*_0x5816f1['fY']-_0x4935bf['fY']*_0x5816f1['fX']>0x0&&(_0x5e4eae=6.2831852-_0x5e4eae),_0x488486['fX']=0x1-_0x5e4eae/6.2831853,_0x488486['fY']=0x1-(0x2*(0.5-_0x21d8d9)-_0x30ed8e)/(0.8-_0x30ed8e),_0x488486['fY']>=0x0&&_0x488486['fX']>=0x0&&_0x488486['fY']<=0x1&&_0x488486['fX']<=0x1){var _0x3fecfd=this['nPanoPTZPointNum'][_0x587218];this['pPanoPTZPoints'][_0x587218][_0x3fecfd]['fX']=_0x488486['fX'],this['pPanoPTZPoints'][_0x587218][_0x3fecfd]['fY']=_0x488486['fY'],this['nPanoPTZPointNum'][_0x587218]=this['nPanoPTZPointNum'][_0x587218]+0x1;}}return _0x24d60c;}},{'key':'GetPanoPTZWall','value':function(_0x4dd6d9){if(null==this['pRenderParam'][_0x4dd6d9]||null==this['pRenderParam'][this['nWndPort']])return _0x19c02b;if(null==this['pBasePTZPoints'][_0x4dd6d9])return _0x19c02b;var _0x41cd2a,_0x5c4513,_0x12fc18=this['nBasePTZPointNum'][_0x4dd6d9];_0x41cd2a=(this['fRX2']-this['fRX1'])/(this['fRY2']-this['fRY1']),_0x5c4513=(this['fRX2']-this['fRX1'])/0x2*0x1;var _0x3c3d3f,_0x5ded62,_0x1e3571,_0x477745,_0x46776c,_0x24e9ba=0x0,_0x1eacaa=0x1,_0x143921=0.1,_0x19c592=0.9;this['fRX1']<0x0&&(_0x3c3d3f=0x1*-this['fRX1'],_0x24e9ba=_0x3c3d3f/=0x2*_0x5c4513),this['fRX2']>0x1&&(_0x5ded62=0x1*(this['fRX2']-0x1),_0x1eacaa=0x1-(_0x5ded62/=0x2*_0x5c4513)),this['fRY1']<0x0&&(_0x1e3571=-this['fRY1']*_0x41cd2a,_0x143921=(_0x1e3571/=0x2*_0x5c4513)>0.1?_0x1e3571:0.1),this['fRY2']>0x1&&(_0x477745=(this['fRY2']-0x1)*_0x41cd2a,_0x19c592=(_0x477745/=0x2*_0x5c4513)>0x1-0.9?0x1-_0x477745:0.9);for(var _0x4e0a85={'fX':0x0,'fY':0x0},_0x623257={'fX':0x0,'fY':0x0},_0x5af8eb=0x0;_0x5af8eb<_0x12fc18;++_0x5af8eb){_0x623257['fX']=this['pBasePTZPoints'][_0x4dd6d9][_0x5af8eb]['fX'],_0x623257['fY']=this['pBasePTZPoints'][_0x4dd6d9][_0x5af8eb]['fY'];var _0x49596a=0x2*_0x623257['fX']*_0x5c4513,_0x3591bf=0x2*_0x623257['fY']*_0x5c4513;if(_0x46776c=Math['sqrt'](_0x5c4513*_0x5c4513-(_0x3591bf-_0x5c4513)*(_0x3591bf-_0x5c4513)),!(Math['abs'](_0x46776c)<_0x41c124)&&(_0x623257['fX']=_0x5c4513*(_0x49596a-_0x5c4513)/_0x46776c+_0x5c4513,_0x623257['fY']=_0x3591bf,_0x4e0a85['fX']=(_0x623257['fX']-0x2*_0x24e9ba*_0x5c4513)/(0x2*(_0x1eacaa-_0x24e9ba)*_0x5c4513),_0x4e0a85['fY']=(_0x623257['fY']-0x2*_0x143921*_0x5c4513)/(0x2*(_0x19c592-_0x143921)*_0x5c4513),_0x4e0a85['fY']>=0x0&&_0x4e0a85['fX']>=0x0&&_0x4e0a85['fY']<=0x1&&_0x4e0a85['fX']<=0x1)){var _0x3446cc=this['nPanoPTZPointNum'][_0x4dd6d9];this['pPanoPTZPoints'][_0x4dd6d9][_0x3446cc]['fX']=_0x4e0a85['fX'],this['pPanoPTZPoints'][_0x4dd6d9][_0x3446cc]['fY']=_0x4e0a85['fY'],this['nPanoPTZPointNum'][_0x4dd6d9]=this['nPanoPTZPointNum'][_0x4dd6d9]+0x1;}}return _0x24d60c;}},{'key':'GetPointPano2FishCeiling','value':function(_0x2504cb,_0x452461,_0x39b129){if(null==_0x2504cb||null==this['pRenderParam'][this['nWndPort']])return _0x19c02b;var _0x4df7bf,_0x31f945;_0x4df7bf=(this['fRX2']-this['fRX1'])/(this['fRY2']-this['fRY1']),_0x31f945=(this['fRX2']-this['fRX1'])/0x2*0x1;var _0x21be8f,_0x430637=0x0,_0x395566=0x1,_0x4f7389=0x0,_0x137a77=0x1,_0x17e6bb=0x0;(this['fRX2']>0x1||this['fRY2']>0x1||this['fRX1']<0x0||this['fRY1']<0x0)&&(this['fRX1']<0x0&&((_0x21be8f=0x1*-this['fRX1'])>_0x17e6bb&&(_0x17e6bb=_0x21be8f),_0x430637=_0x21be8f/=0x2*_0x31f945),this['fRX2']>0x1&&((_0x21be8f=0x1*(this['fRX2']-0x1))>_0x17e6bb&&(_0x17e6bb=_0x21be8f),_0x395566=0x1-(_0x21be8f/=0x2*_0x31f945)),this['fRY1']<0x0&&((_0x21be8f=-this['fRY1']*_0x4df7bf)>_0x17e6bb&&(_0x17e6bb=_0x21be8f),_0x4f7389=_0x21be8f/=0x2*_0x31f945),this['fRY2']>0x1&&((_0x21be8f=(this['fRY2']-0x1)*_0x4df7bf)>_0x17e6bb&&(_0x17e6bb=_0x21be8f),_0x137a77=0x1-(_0x21be8f/=0x2*_0x31f945)));var _0x2cae1a,_0x20abee,_0x29772f=_0x17e6bb/_0x31f945,_0x177cdb={},_0x18ac23={};return _0x177cdb['fX']=_0x452461,_0x177cdb['fY']=(0.8-_0x29772f)*_0x39b129+_0x29772f,_0x2cae1a=6.2831853*_0x177cdb['fX']+this['pRenderParam'][this['nWndPort']]['fAngle'],_0x20abee=0.5*(0x1-_0x177cdb['fY']),_0x18ac23['fX']=0.5-_0x20abee*Math['sin'](_0x2cae1a),_0x18ac23['fY']=0.5+_0x20abee*Math['cos'](_0x2cae1a),_0x18ac23['fX']=(_0x18ac23['fX']-_0x430637)/(_0x395566-_0x430637),_0x18ac23['fY']=(_0x18ac23['fY']-_0x4f7389)/(_0x137a77-_0x4f7389),_0x2504cb['fX']=_0x18ac23['fX'],_0x2504cb['fY']=_0x18ac23['fY'],_0x24d60c;}},{'key':'GetPointPano2FishFloor','value':function(_0x1b9380,_0x288a75,_0x2bcf59){if(null==this['pRenderParam'][this['nWndPort']])return _0x19c02b;if(null==_0x1b9380)return _0x1c46d8;var _0x4746c0,_0x25b71;_0x4746c0=(this['fRX2']-this['fRX1'])/(this['fRY2']-this['fRY1']),_0x25b71=(this['fRX2']-this['fRX1'])/0x2*0x1;var _0x2bd2b8,_0x679ec3=0x0,_0x266db9=0x1,_0x147351=0x0,_0x4868df=0x1,_0x215682=0x0;(this['fRX2']>0x1||this['fRY2']>0x1||this['fRX1']<0x0||this['fRY1']<0x0)&&(this['fRX1']<0x0&&((_0x2bd2b8=0x1*-this['fRX1'])>_0x215682&&(_0x215682=_0x2bd2b8),_0x679ec3=_0x2bd2b8/=0x2*_0x25b71),this['fRX2']>0x1&&((_0x2bd2b8=0x1*(this['fRX2']-0x1))>_0x215682&&(_0x215682=_0x2bd2b8),_0x266db9=0x1-(_0x2bd2b8/=0x2*_0x25b71)),this['fRY1']<0x0&&((_0x2bd2b8=-this['fRY1']*_0x4746c0)>_0x215682&&(_0x215682=_0x2bd2b8),_0x147351=_0x2bd2b8/=0x2*_0x25b71),this['fRY2']>0x1&&((_0x2bd2b8=(this['fRY2']-0x1)*_0x4746c0)>_0x215682&&(_0x215682=_0x2bd2b8),_0x4868df=0x1-(_0x2bd2b8/=0x2*_0x25b71)));var _0x3f26bb,_0x3ee532,_0x349162=_0x215682/_0x25b71,_0xd6bbda={},_0x17e004={};return _0xd6bbda['fX']=0x1-_0x288a75,_0xd6bbda['fY']=(0.8-_0x349162)*(0x1-_0x2bcf59)+_0x349162,_0x3f26bb=6.2831853*_0xd6bbda['fX']+this['pRenderParam'][this['nWndPort']]['fAngle'],_0x3ee532=0.5*(0x1-_0xd6bbda['fY']),_0x17e004['fX']=0.5-_0x3ee532*Math['sin'](_0x3f26bb),_0x17e004['fY']=0.5+_0x3ee532*Math['cos'](_0x3f26bb),_0x17e004['fX']=(_0x17e004['fX']-_0x679ec3)/(_0x266db9-_0x679ec3),_0x17e004['fY']=(_0x17e004['fY']-_0x147351)/(_0x4868df-_0x147351),_0x1b9380['fX']=_0x17e004['fX'],_0x1b9380['fY']=_0x17e004['fY'],_0x24d60c;}},{'key':'GetPointPano2FishWall','value':function(_0x71371d,_0x282344,_0x428869){if(null==this['pRenderParam'][this['nWndPort']])return _0x19c02b;if(null==_0x71371d)return _0x1c46d8;var _0xb2acd5,_0x3b9b7e;_0xb2acd5=(this['fRX2']-this['fRX1'])/(this['fRY2']-this['fRY1']),_0x3b9b7e=(this['fRX2']-this['fRX1'])/0x2*0x1;var _0x4ef2f9,_0x27cfb4,_0x9f1d58,_0x5e38c1,_0x5ea39f=0x0,_0x102965=0x1,_0x4d3290=0.1,_0x31b4b5=0.9,_0x57759a=0x0,_0x487e75=0x1,_0x54fc46=0x0,_0x1ba240=0x1;this['fRX1']<0x0&&(_0x4ef2f9=0x1*-this['fRX1'],_0x5ea39f=_0x4ef2f9/=0x2*_0x3b9b7e,_0x57759a=_0x4ef2f9),this['fRX2']>0x1&&(_0x27cfb4=0x1*(this['fRX2']-0x1),_0x102965=0x1-(_0x27cfb4/=0x2*_0x3b9b7e),_0x487e75=0x1-_0x27cfb4),this['fRY1']<0x0&&(_0x9f1d58=-this['fRY1']*_0xb2acd5,_0x4d3290=(_0x9f1d58/=0x2*_0x3b9b7e)>0.1?_0x9f1d58:0.1,_0x54fc46=_0x9f1d58),this['fRY2']>0x1&&(_0x5e38c1=(this['fRY2']-0x1)*_0xb2acd5,_0x31b4b5=(_0x5e38c1/=0x2*_0x3b9b7e)>0x1-0.9?0x1-_0x5e38c1:0.9,_0x1ba240=0x1-_0x5e38c1);var _0x182b2e={},_0x4a8fca={};_0x182b2e['fX']=_0x282344*(_0x102965-_0x5ea39f)+_0x5ea39f,_0x182b2e['fY']=_0x428869*(_0x31b4b5-_0x4d3290)+_0x4d3290;var _0x122560=Math['sqrt'](0.25-(_0x182b2e['fY']-0.5)*(_0x182b2e['fY']-0.5));return _0x4a8fca['fX']=(_0x182b2e['fX']-0.5)*_0x122560/0.5+0.5,_0x4a8fca['fY']=_0x182b2e['fY'],_0x4a8fca['fX']=(_0x4a8fca['fX']-_0x57759a)/(_0x487e75-_0x57759a),_0x4a8fca['fY']=(_0x4a8fca['fY']-_0x54fc46)/(_0x1ba240-_0x54fc46),_0x71371d['fX']=_0x4a8fca['fX'],_0x71371d['fY']=_0x4a8fca['fY'],_0x24d60c;}},{'key':'UpdatePTZPosition','value':function(_0x8d1347,_0x12d35a,_0x172aee){if(null==this['pRenderParam'][_0x8d1347])return _0x19c02b;var _0x5f2b64={'fHAngleSin':0x0,'fHAngleCos':0x0,'fVAngleSin':0x0,'fVAngleCos':0x0},_0x3fc00d=_0x24d60c;if(_0x15ec38['SR_DE_FISH_PTZ_FLOOR']==this['pRenderParam'][_0x8d1347]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PTZ_CEILING']==this['pRenderParam'][_0x8d1347]['nDisplayEffect']){if((_0x3fc00d=this['ComputeAngleVertical'](_0x12d35a,_0x172aee,_0x5f2b64,this['pRenderParam'][_0x8d1347]['nDisplayEffect']))!=_0x24d60c)return _0x3fc00d;}else {if(_0x15ec38['SR_DE_FISH_PTZ_WALL']!=this['pRenderParam'][_0x8d1347]['nDisplayEffect'])return _0x58915e;if((_0x3fc00d=this['ComputeAngleHorizontal'](_0x12d35a,_0x172aee,_0x5f2b64))!=_0x24d60c)return _0x3fc00d;}return 0x0==this['IsInImage'](this['fRX1'],this['fRX2'],this['fRY1'],this['fRY2'],_0x5f2b64,this['pRenderParam'][_0x8d1347]['fZoom'],this['pRenderParam'][_0x8d1347]['nDisplayEffect'])?_0x1c46d8:(this['pRenderParam'][_0x8d1347]['fCosH']=_0x5f2b64['fHAngleCos'],this['pRenderParam'][_0x8d1347]['fSinH']=_0x5f2b64['fHAngleSin'],this['pRenderParam'][_0x8d1347]['fCosV']=_0x5f2b64['fVAngleCos'],this['pRenderParam'][_0x8d1347]['fSinV']=_0x5f2b64['fVAngleSin'],_0x24d60c);}},{'key':'JudgeDisplayEffect','value':function(_0x25222b){var _0x389af7=0x0;switch(_0x389af7){case 0x0:return _0x389af7=this['GetPlaceType'](_0x25222b),0x4==this['nPlaceType']&&(this['nPlaceType']=0x0),_0x24d60c;case 0x3:return (_0x389af7=this['GetPlaceType'](_0x25222b))==this['nPlaceType']||0x4==this['nPlaceType']?_0x24d60c:_0x58915e;case 0x2:case 0x1:return (_0x389af7=this['GetPlaceType'](_0x25222b))==this['nPlaceType']||0x4==_0x389af7?_0x24d60c:_0x58915e;default:return _0x58915e;}return _0x58915e;}},{'key':'GetPlaceType','value':function(_0xf8157b){switch(_0xf8157b){case _0x15ec38['SR_DE_FISH_PTZ_CEILING']:case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']:case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']:case _0x15ec38['SR_DE_FISH_CYLINDER_CEILING']:case _0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_CEILING']:return 0x3;case _0x15ec38['SR_DE_FISH_PTZ_FLOOR']:case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']:case _0x15ec38['SR_DE_FISH_PANARAMA_FLOOR_180']:case _0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']:case _0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_FLOOR']:return 0x2;case _0x15ec38['SR_DE_FISH_PTZ_WALL']:case _0x15ec38['SR_DE_FISH_PANORAMA_WALL']:case _0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']:case _0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']:return 0x1;case _0x15ec38['SR_DE_FISH_SEMISPHERE']:case _0x15ec38['SR_DE_FISH_ORIGINAL']:case _0x15ec38['SR_DE_FISH_PLANET']:case _0x15ec38['SR_DE_FISH_SPHERE']:case _0x15ec38['SR_DE_FISH_PLANET']:return 0x4;default:return 0x0;}return 0x0;}},{'key':'SetFishParam','value':function(_0x3b4a4f,_0xe04d5e){if(_0x3b4a4f<0x0||_0x3b4a4f>=_0x39ae26)return _0x1c46d8;if(null==_0xe04d5e)return _0x1c46d8;if(null==this['pRenderParam'][_0x3b4a4f])return _0x19c02b;var _0xb2a60=_0x24d60c;switch(_0xe04d5e['nFishParamType']){case _0x485c73:if((_0xb2a60=this['UpdateCircyeParam'](_0xe04d5e['fRXLeft'],_0xe04d5e['fRXRight'],_0xe04d5e['fRYTop'],_0xe04d5e['fRYBottom']))!=_0x24d60c)return _0xb2a60;this['pRenderParam'][_0x3b4a4f]['bCut']=_0xe04d5e['bCut'],this['bBlack']=_0xe04d5e['bBlack'];break;case _0x3b6e77:if(_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']!=this['pRenderParam'][_0x3b4a4f]['nDisplayEffect']&&_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']!=this['pRenderParam'][_0x3b4a4f]['nDisplayEffect']&&_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']!=this['pRenderParam'][_0x3b4a4f]['nDisplayEffect']&&_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']!=this['pRenderParam'][_0x3b4a4f]['nDisplayEffect'])return _0x58915e;if((_0xb2a60=this['UpdateWideScanAngle'](_0x3b4a4f,_0xe04d5e['fAngle']))!=_0x24d60c)return _0xb2a60;this['pFishParam'][_0x3b4a4f]['fAngle']=_0xe04d5e['fAngle'];break;case _0x3eed3e:if(_0x15ec38['SR_DE_FISH_PTZ_WALL']!=this['pRenderParam'][_0x3b4a4f]['nDisplayEffect']&&_0x15ec38['SR_DE_FISH_PTZ_CEILING']!=this['pRenderParam'][_0x3b4a4f]['nDisplayEffect']&&_0x15ec38['SR_DE_FISH_PTZ_FLOOR']!=this['pRenderParam'][_0x3b4a4f]['nDisplayEffect'])return _0x58915e;if((_0xb2a60=this['UpdateRangeParam'](_0x3b4a4f,_0xe04d5e['fZoom']))!=_0x24d60c)return _0xb2a60;this['pFishParam'][_0x3b4a4f]['fZoom']=_0xe04d5e['fZoom'];break;case _0xfa5c36:if(_0x15ec38['SR_DE_FISH_PTZ_WALL']!=this['pRenderParam'][_0x3b4a4f]['nDisplayEffect']&&_0x15ec38['SR_DE_FISH_PTZ_CEILING']!=this['pRenderParam'][_0x3b4a4f]['nDisplayEffect']&&_0x15ec38['SR_DE_FISH_PTZ_FLOOR']!=this['pRenderParam'][_0x3b4a4f]['nDisplayEffect'])return _0x58915e;if((_0xb2a60=this['UpdatePTZPosition'](_0x3b4a4f,_0xe04d5e['fPTZX'],_0xe04d5e['fPTZY'],this['pRenderParam'][_0x3b4a4f]['fZoom'],!0x0))!=_0x24d60c)return _0xb2a60;this['pFishParam'][_0x3b4a4f]['fPTZX']=_0xe04d5e['fPTZX'],this['pFishParam'][_0x3b4a4f]['fPTZY']=_0xe04d5e['fPTZY'];break;default:return _0x58915e;}return _0xb2a60=this['ComputePTZPoints']();}},{'key':'GetFishParam','value':function(_0x4ff156,_0x2c28a2){return _0x4ff156<0x0||_0x4ff156>=_0x39ae26||null==_0x2c28a2||null==this['pFishParam'][_0x4ff156]?_0x1c46d8:(_0x2c28a2['fRXLeft']=this['fRX1'],_0x2c28a2['fRXRight']=this['fRX2'],_0x2c28a2['fRYTop']=this['fRY1'],_0x2c28a2['fRYBottom']=this['fRY2'],_0x2c28a2['bBlack']=this['bBlack'],_0x2c28a2['bCut']=this['pRenderParam'][_0x4ff156]['bCut'],_0x2c28a2['nFishParamType']=this['pFishParam'][_0x4ff156]['nFishParamType'],_0x2c28a2['fAngle']=this['pFishParam'][_0x4ff156]['fAngle'],_0x2c28a2['fZoom']=this['pFishParam'][_0x4ff156]['fZoom'],_0x2c28a2['fPTZX']=this['pFishParam'][_0x4ff156]['fPTZX'],_0x2c28a2['fPTZY']=this['pFishParam'][_0x4ff156]['fPTZY'],_0x24d60c);}},{'key':'GetRenderParam','value':function(_0x4e49f7,_0x5d054e){return _0x4e49f7<0x0||_0x4e49f7>=_0x39ae26||null==_0x5d054e||null==this['pRenderParam'][_0x4e49f7]?_0x1c46d8:(_0x5d054e['fRXLeft']=this['fRX1'],_0x5d054e['fRXRight']=this['fRX2'],_0x5d054e['fRYTop']=this['fRY1'],_0x5d054e['fRYBottom']=this['fRY2'],_0x5d054e['bBlack']=this['bBlack'],_0x5d054e['fCosH']=this['pRenderParam'][_0x4e49f7]['fCosH'],_0x5d054e['fSinH']=this['pRenderParam'][_0x4e49f7]['fSinH'],_0x5d054e['fCosV']=this['pRenderParam'][_0x4e49f7]['fCosV'],_0x5d054e['fSinV']=this['pRenderParam'][_0x4e49f7]['fSinV'],_0x5d054e['fAngle']=this['pRenderParam'][_0x4e49f7]['fAngle'],_0x5d054e['fZoom']=this['pRenderParam'][_0x4e49f7]['fZoom'],_0x5d054e['nDisplayEffect']=this['pRenderParam'][_0x4e49f7]['nDisplayEffect'],_0x5d054e['bCut']=this['pRenderParam'][_0x4e49f7]['bCut'],_0x24d60c);}},{'key':'UpdateCircyeParam','value':function(_0x57981a,_0x370d61,_0x3b9729,_0x18b2e7){if(_0x57981a<=-0.5||_0x57981a>=0.4||_0x370d61<=0.6||_0x370d61>=1.5||_0x3b9729<=-0.5||_0x3b9729>=0.4||_0x18b2e7<=0.6||_0x18b2e7>=1.5||_0x57981a+_0x370d61<=0.8||_0x57981a+_0x370d61>=1.2||_0x3b9729+_0x18b2e7<=0.8||_0x3b9729+_0x18b2e7>=1.2)return _0x1c46d8;if(_0x57981a<0x0||_0x370d61>0x1||_0x3b9729<0x0||_0x18b2e7>0x1){for(var _0xbe028b=0x0;_0xbe028b<_0x39ae26;++_0xbe028b)if(null!=this['pRenderParam'][_0xbe028b]&&(_0x15ec38['SR_DE_FISH_PTZ_CEILING']==this['pRenderParam'][_0xbe028b]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PTZ_FLOOR']==this['pRenderParam'][_0xbe028b]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PTZ_WALL']==this['pRenderParam'][_0xbe028b]['nDisplayEffect'])){var _0x5a3688={};if(_0x5a3688['fHAngleCos']=this['pRenderParam'][_0xbe028b]['fCosH'],_0x5a3688['fHAngleSin']=this['pRenderParam'][_0xbe028b]['fSinH'],_0x5a3688['fVAngleCos']=this['pRenderParam'][_0xbe028b]['fCosV'],_0x5a3688['fVAngleSin']=this['pRenderParam'][_0xbe028b]['fSinV'],0x0==this['IsInImage'](_0x57981a,_0x370d61,_0x3b9729,_0x18b2e7,_0x5a3688,this['pRenderParam'][_0xbe028b]['fZoom'],this['pRenderParam'][_0xbe028b]['nDisplayEffect']))return _0x1c46d8;}}return this['fRX1']=_0x57981a,this['fRX2']=_0x370d61,this['fRY1']=_0x3b9729,this['fRY2']=_0x18b2e7,_0x24d60c;}},{'key':'UpdateWideScanAngle','value':function(_0x3a1bb2,_0x5523b0){return null==this['pRenderParam'][_0x3a1bb2]?_0x19c02b:(_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']==this['pRenderParam'][_0x3a1bb2]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']==this['pRenderParam'][_0x3a1bb2]['nDisplayEffect']?this['pRenderParam'][_0x3a1bb2]['fAngle']=_0x5523b0:_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']!=this['pRenderParam'][_0x3a1bb2]['nDisplayEffect']&&_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']!=this['pRenderParam'][_0x3a1bb2]['nDisplayEffect']||(this['pRenderParam'][_0x3a1bb2]['fAngle']=-_0x5523b0),_0x24d60c);}},{'key':'ComputeAngleVertical','value':function(_0x2a7ac0,_0x336030,_0x5ca9f7,_0x58653d){var _0x88c02a=_0x2a7ac0,_0x34622f=_0x336030,_0x329b8f=Math['sqrt']((_0x34622f-0.5)*(_0x34622f-0.5)+(_0x88c02a-0.5)*(_0x88c02a-0.5));if(_0x329b8f>0.5)return _0x1c46d8;if(_0x329b8f<0.001)return _0x5ca9f7['fVAngleCos']=0x1,_0x5ca9f7['fVAngleSin']=0x0,_0x5ca9f7['fHAngleCos']=0x1,_0x5ca9f7['fHAngleSin']=0x0,_0x24d60c;if(_0x58653d==_0x15ec38['SR_DE_FISH_PTZ_CEILING']){_0x5ca9f7['fHAngleCos']=(0.5-_0x34622f)/_0x329b8f,_0x5ca9f7['fHAngleSin']=(0.5-_0x88c02a)/_0x329b8f;var _0x2d18dd=_0x329b8f*_0x18bc1a;_0x5ca9f7['fVAngleCos']=Math['cos'](_0x2d18dd),_0x5ca9f7['fVAngleSin']=Math['sin'](_0x2d18dd);}else {if(_0x58653d!=_0x15ec38['SR_DE_FISH_PTZ_FLOOR'])return _0x1c46d8;_0x5ca9f7['fHAngleCos']=(_0x34622f-0.5)/_0x329b8f,_0x5ca9f7['fHAngleSin']=(0.5-_0x88c02a)/_0x329b8f;var _0x1f334b=_0x329b8f*_0x18bc1a;_0x5ca9f7['fVAngleCos']=Math['cos'](_0x1f334b),_0x5ca9f7['fVAngleSin']=Math['sin'](_0x1f334b);}return _0x24d60c;}},{'key':'ComputeAngleHorizontal','value':function(_0x4ec6d7,_0x48d04b,_0x1dcdd6){var _0x6d9eda,_0x312210,_0x1b3cb6,_0x36cb8f,_0x28bf7f,_0x36a3ba,_0x85ec78,_0x1c8bd1=_0x4ec6d7;return (_0x48d04b-(_0x28bf7f=0.5))*(_0x48d04b-_0x28bf7f)+(_0x1c8bd1-_0x28bf7f)*(_0x1c8bd1-_0x28bf7f)>0.25?_0x1c46d8:(_0x36a3ba=(_0x48d04b-_0x28bf7f)/_0x28bf7f*_0x18bc1a/0x2,_0x6d9eda=Math['cos'](_0x36a3ba),_0x312210=Math['sin'](_0x36a3ba),(_0x1c8bd1-_0x28bf7f)/_0x28bf7f/_0x6d9eda>0x1||(_0x1c8bd1-_0x28bf7f)/_0x28bf7f/_0x6d9eda<-0x1?_0x1c46d8:(_0x85ec78=(_0x1c8bd1-_0x28bf7f)/_0x28bf7f/_0x6d9eda*_0x18bc1a/0x2,_0x1b3cb6=Math['cos'](_0x85ec78),_0x36cb8f=Math['sin'](_0x85ec78),_0x1dcdd6['fVAngleCos']=_0x6d9eda,_0x1dcdd6['fVAngleSin']=_0x312210,_0x1dcdd6['fHAngleCos']=_0x1b3cb6,_0x1dcdd6['fHAngleSin']=_0x36cb8f,_0x24d60c));}},{'key':'IsInImage','value':function(_0x2d541d,_0x469814,_0x38443b,_0x2dccc8,_0x135bc5,_0x5e889d,_0x32111d){return 0x1!=this['IsOutofImage'](_0x2d541d,_0x469814,_0x38443b,_0x2dccc8,_0x135bc5['fHAngleCos'],_0x135bc5['fHAngleSin'],_0x135bc5['fVAngleCos'],_0x135bc5['fVAngleSin'],_0x5e889d,0x1,0.5,_0x32111d)&&0x1!=this['IsOutofImage'](_0x2d541d,_0x469814,_0x38443b,_0x2dccc8,_0x135bc5['fHAngleCos'],_0x135bc5['fHAngleSin'],_0x135bc5['fVAngleCos'],_0x135bc5['fVAngleSin'],_0x5e889d,0x0,0.5,_0x32111d)&&0x1!=this['IsOutofImage'](_0x2d541d,_0x469814,_0x38443b,_0x2dccc8,_0x135bc5['fHAngleCos'],_0x135bc5['fHAngleSin'],_0x135bc5['fVAngleCos'],_0x135bc5['fVAngleSin'],_0x5e889d,0.5,0x1,_0x32111d)&&0x1!=this['IsOutofImage'](_0x2d541d,_0x469814,_0x38443b,_0x2dccc8,_0x135bc5['fHAngleCos'],_0x135bc5['fHAngleSin'],_0x135bc5['fVAngleCos'],_0x135bc5['fVAngleSin'],_0x5e889d,0.5,0x0,_0x32111d)&&0x1!=this['IsOutofImage'](_0x2d541d,_0x469814,_0x38443b,_0x2dccc8,_0x135bc5['fHAngleCos'],_0x135bc5['fHAngleSin'],_0x135bc5['fVAngleCos'],_0x135bc5['fVAngleSin'],_0x5e889d,0x0,0x0,_0x32111d)&&0x1!=this['IsOutofImage'](_0x2d541d,_0x469814,_0x38443b,_0x2dccc8,_0x135bc5['fHAngleCos'],_0x135bc5['fHAngleSin'],_0x135bc5['fVAngleCos'],_0x135bc5['fVAngleSin'],_0x5e889d,0x0,0x1,_0x32111d)&&0x1!=this['IsOutofImage'](_0x2d541d,_0x469814,_0x38443b,_0x2dccc8,_0x135bc5['fHAngleCos'],_0x135bc5['fHAngleSin'],_0x135bc5['fVAngleCos'],_0x135bc5['fVAngleSin'],_0x5e889d,0x1,0x1,_0x32111d)&&0x1!=this['IsOutofImage'](_0x2d541d,_0x469814,_0x38443b,_0x2dccc8,_0x135bc5['fHAngleCos'],_0x135bc5['fHAngleSin'],_0x135bc5['fVAngleCos'],_0x135bc5['fVAngleSin'],_0x5e889d,0x1,0x0,_0x32111d);}},{'key':'IsOutofImage','value':function(_0xd4fdea,_0x5b0742,_0x4cfc1f,_0x2d3349,_0x503514,_0x478ac1,_0x5e8aa0,_0x185acd,_0x2cbf14,_0x84bcf,_0x211d1e,_0x39c614){var _0x40bcb3,_0x575818,_0x5e3397,_0x23e7c2,_0x2346c7,_0x590d6c,_0x4e28e5,_0x1750a5,_0x2c7574,_0x18a2b0,_0x35f080,_0x173bfd,_0x499f85;if(_0x35f080=(_0xd4fdea+_0x5b0742)/0x2*0x1,_0x173bfd=(_0x4cfc1f+_0x2d3349)/0x2*(_0x18a2b0=(_0x5b0742-_0xd4fdea)/(_0x2d3349-_0x4cfc1f)),_0x499f85=(_0x5b0742-_0xd4fdea)/0x2*0x1,_0x39c614==_0x15ec38['SR_DE_FISH_PTZ_CEILING']){if(_0x575818=_0x84bcf-0.5,_0x5e3397=(_0x40bcb3=0.5-_0x211d1e)*_0x5e8aa0+(_0x590d6c=_0x2cbf14)*_0x185acd,(_0x4e28e5=_0x590d6c*_0x5e8aa0-_0x40bcb3*_0x185acd)<=0x0)return !0x0;_0x2c7574=Math['sqrt'](_0x575818*_0x575818+_0x5e3397*_0x5e3397);var _0x594bf5=Math['sqrt'](_0x575818*_0x575818+_0x5e3397*_0x5e3397+_0x4e28e5*_0x4e28e5),_0x4ec1d2=Math['asin'](_0x2c7574/_0x594bf5)/1.5707963*0.5;if(_0x2346c7=(-((_0x575818=_0x4ec1d2*_0x575818/_0x2c7574)*_0x478ac1+(_0x5e3397=_0x4ec1d2*_0x5e3397/_0x2c7574)*_0x503514)*_0x499f85*0x2+_0x173bfd)/_0x18a2b0,(_0x23e7c2=((_0x575818*_0x503514-_0x5e3397*_0x478ac1)*_0x499f85*0x2+_0x35f080)/0x1)<0x0||_0x23e7c2>0x1||_0x2346c7<0x0||_0x2346c7>0x1)return !0x0;}if(_0x39c614==_0x15ec38['SR_DE_FISH_PTZ_FLOOR']){if(_0x575818=_0x84bcf-0.5,_0x5e3397=(_0x40bcb3=_0x211d1e-0.5)*_0x5e8aa0+(_0x590d6c=_0x2cbf14)*_0x185acd,(_0x4e28e5=_0x590d6c*_0x5e8aa0-_0x40bcb3*_0x185acd)<=0x0)return !0x0;_0x2c7574=Math['sqrt'](_0x575818*_0x575818+_0x5e3397*_0x5e3397);var _0x5b0a5e=Math['sqrt'](_0x575818*_0x575818+_0x5e3397*_0x5e3397+_0x4e28e5*_0x4e28e5),_0x566464=Math['asin'](_0x2c7574/_0x5b0a5e)/1.5707963*0.5;if(_0x2346c7=(((_0x575818=_0x566464*_0x575818/_0x2c7574)*_0x478ac1+(_0x5e3397=_0x566464*_0x5e3397/_0x2c7574)*_0x503514)*_0x499f85*0x2+_0x173bfd)/_0x18a2b0,(_0x23e7c2=((_0x575818*_0x503514-_0x5e3397*_0x478ac1)*_0x499f85*0x2+_0x35f080)/0x1)<0x0||_0x23e7c2>0x1||_0x2346c7<0x0||_0x2346c7>0x1)return !0x0;}if(_0x39c614==_0x15ec38['SR_DE_FISH_PTZ_WALL']){if(_0x23e7c2=(_0x575818=_0x84bcf-0.5)*_0x503514+(_0x4e28e5=(_0x590d6c=_0x2cbf14)*_0x5e8aa0-(_0x40bcb3=_0x211d1e-0.5)*_0x185acd)*_0x478ac1,_0x2346c7=_0x5e3397=_0x40bcb3*_0x5e8aa0+_0x590d6c*_0x185acd,(_0x1750a5=_0x4e28e5*_0x503514-_0x575818*_0x478ac1)<=0x0)return !0x0;_0x2c7574=Math['sqrt'](_0x23e7c2*_0x23e7c2+_0x2346c7*_0x2346c7);var _0x3b8957=Math['sqrt'](_0x23e7c2*_0x23e7c2+_0x2346c7*_0x2346c7+_0x1750a5*_0x1750a5),_0x5e6841=Math['asin'](_0x2c7574/_0x3b8957)/1.5707963*0.5;if(_0x2346c7=(_0x5e6841*_0x2346c7/_0x2c7574*_0x499f85*0x2+_0x173bfd)/_0x18a2b0,(_0x23e7c2=(_0x5e6841*_0x23e7c2/_0x2c7574*_0x499f85*0x2+_0x35f080)/0x1)<0x0||_0x23e7c2>0x1||_0x2346c7<0x0||_0x2346c7>0x1)return !0x0;}return !0x1;}},{'key':'ComputePTZPoints','value':function(){if(_0x3a9b00==this['nWndPort'])return _0x19c02b;for(var _0x53c553=0x0;_0x53c553<_0x39ae26;++_0x53c553)if(null!=this['pRenderParam'][_0x53c553]&&(_0x15ec38['SR_DE_FISH_PTZ_CEILING']==this['pRenderParam'][_0x53c553]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PTZ_FLOOR']==this['pRenderParam'][_0x53c553]['nDisplayEffect']||_0x15ec38['SR_DE_FISH_PTZ_WALL']==this['pRenderParam'][_0x53c553]['nDisplayEffect'])){var _0x52b936=_0x24d60c;if(this['nPTZDisplayMode']==_0x3212b8){if(_0x52b936=this['GetRangePoints'](_0x53c553),_0x24d60c!=_0x52b936)continue;if(_0x52b936=this['TransformPTZRangePoints'](_0x53c553),_0x24d60c!=_0x52b936)continue;}else {if(this['nPTZDisplayMode']==_0x35d15f&&(_0x52b936=this['GetRectPoints'](_0x53c553),_0x24d60c!=_0x52b936))continue;}}return _0x24d60c;}},{'key':'GetWndPort','value':function(){return this['nWndPort'];}},{'key':'GetPTZDisplayMode','value':function(){return this['nPTZDisplayMode'];}},{'key':'GetPTZColor','value':function(_0x222d80,_0x3c26e8){return _0x222d80<0x0||_0x222d80>=_0x39ae26||null==_0x3c26e8?_0x1c46d8:(_0x3c26e8['fA']=this['stPTZColor'][_0x222d80]['fA'],_0x3c26e8['fR']=this['stPTZColor'][_0x222d80]['fR'],_0x3c26e8['fG']=this['stPTZColor'][_0x222d80]['fG'],_0x3c26e8['fB']=this['stPTZColor'][_0x222d80]['fB'],null!=this['pPTZSetColor']&&(Math['abs'](this['pPTZSetColor'][_0x222d80]['fA'])<_0x41c124||Math['abs'](this['pPTZSetColor'][_0x222d80]['fR'])<_0x41c124||Math['abs'](this['pPTZSetColor'][_0x222d80]['fG'])<_0x41c124||Math['abs'](this['pPTZSetColor'][_0x222d80]['fB'])<_0x41c124)&&(_0x3c26e8['fA']=this['pPTZSetColor'][_0x222d80]['fA'],_0x3c26e8['fR']=this['pPTZSetColor'][_0x222d80]['fR'],_0x3c26e8['fG']=this['pPTZSetColor'][_0x222d80]['fG'],_0x3c26e8['fB']=this['pPTZSetColor'][_0x222d80]['fB']),_0x24d60c);}},{'key':'SetPTZColor','value':function(_0x4f850f,_0x3a6104){if(_0x4f850f<0x0||_0x4f850f>=_0x39ae26)return _0x1c46d8;if(null==_0x3a6104)return _0x1c46d8;if(null==this['pPTZSetColor']){this['pPTZSetColor']=[];for(var _0x561651=0x0;_0x561651<_0x39ae26;++_0x561651)this['pPTZSetColor'][_0x561651]={},this['pPTZSetColor'][_0x561651]['fR']=0x0,this['pPTZSetColor'][_0x561651]['fG']=0x0,this['pPTZSetColor'][_0x561651]['fB']=0x0,this['pPTZSetColor'][_0x561651]['fA']=0x1;}return this['pPTZSetColor'][_0x4f850f]['fR']=_0x3a6104['fR'],this['pPTZSetColor'][_0x4f850f]['fG']=_0x3a6104['fG'],this['pPTZSetColor'][_0x4f850f]['fB']=_0x3a6104['fB'],this['pPTZSetColor'][_0x4f850f]['fA']=_0x3a6104['fA'],_0x24d60c;}},{'key':'IsPTZSelected','value':function(_0x516fce){return !(_0x516fce<0x0||_0x516fce>=_0x39ae26)&&this['bPTZSelected'][_0x516fce];}},{'key':'GetPTZPort','value':function(_0xce7815,_0x1a8508,_0x1aace0){if(this['nWndPort']==_0x3a9b00)return _0x19c02b;if(null==this['pRenderParam'][this['nWndPort']])return _0x19c02b;var _0x2d3b61=_0x39ae26,_0x4a3be4={};_0x4a3be4['fX']=_0xce7815,_0x4a3be4['fY']=_0x1a8508;for(var _0x359314=0x0;_0x359314<_0x39ae26;++_0x359314)this['bPTZSelected'][_0x359314]=!0x1;if(this['nPTZDisplayMode']==_0x3212b8){switch(this['pRenderParam'][this['nWndPort']]['nDisplayEffect']){case _0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']:this['GetPointPano2FishFloor'](_0x4a3be4,_0xce7815,_0x1a8508);break;case _0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']:this['GetPointPano2FishCeiling'](_0x4a3be4,_0xce7815,_0x1a8508);break;case _0x15ec38['SR_DE_FISH_PANORAMA_WALL']:this['GetPointPano2FishWall'](_0x4a3be4,_0xce7815,_0x1a8508);}for(var _0x288977=0x0;_0x288977<_0x39ae26;++_0x288977)if(0x0!=this['nOriPTZPointNum'][_0x288977]){var _0x2bea86={};_0x2bea86['fX']=this['pOriPTZPoints'][_0x288977][0x0]['fX'],_0x2bea86['fY']=this['pOriPTZPoints'][_0x288977][0x0]['fY'];var _0x3095a1={};_0x3095a1['fX']=this['pOriPTZPoints'][_0x288977][0x0]['fX'],_0x3095a1['fY']=this['pOriPTZPoints'][_0x288977][0x0]['fY'];for(var _0x6b7ce7=0x1;_0x6b7ce7<this['nOriPTZPointNum'][_0x288977];++_0x6b7ce7)this['GetPTZRectange'](_0x2bea86,_0x3095a1,this['pOriPTZPoints'][_0x288977][_0x6b7ce7]);if(_0x4a3be4['fX']<=_0x2bea86['fX']&&_0x4a3be4['fX']>=_0x3095a1['fX']&&_0x4a3be4['fY']>=_0x3095a1['fY']&&_0x4a3be4['fY']<=_0x2bea86['fY']){_0x2d3b61=_0x288977;break;}}}else {if(this['nPTZDisplayMode']!=_0x35d15f)return _0x58915e;for(var _0x215e7f=0x0;_0x215e7f<_0x39ae26;++_0x215e7f)if(_0x4a3be4['fX']<=this['pRectPoints'][_0x215e7f][0x2]['fX']&&_0x4a3be4['fX']>=this['pRectPoints'][_0x215e7f][0x0]['fX']&&_0x4a3be4['fY']>=this['pRectPoints'][_0x215e7f][0x0]['fY']&&_0x4a3be4['fY']<=this['pRectPoints'][_0x215e7f][0x2]['fY']){_0x2d3b61=_0x215e7f;break;}}return _0x2d3b61<_0x39ae26?(this['bPTZSelected'][_0x2d3b61]=!0x0,_0x1aace0['nPTZPort']=_0x2d3b61,_0x24d60c):_0x58915e;}},{'key':'SetPTZPort','value':function(_0x22370f){if(_0x22370f<0x0||_0x22370f>=_0x39ae26)return _0x1c46d8;for(var _0x7ef7e5=0x0;_0x7ef7e5<_0x39ae26;++_0x7ef7e5)this['bPTZSelected'][_0x7ef7e5]=!0x1;if(this['nPTZDisplayMode']==_0x3212b8){if(0x0==this['nOriPTZPointNum'][_0x22370f])return _0x1c46d8;this['bPTZSelected'][_0x22370f]=!0x0;}else {if(0x0==this['nPTZRectNum'][_0x22370f])return _0x1c46d8;this['bPTZSelected'][_0x22370f]=!0x0;}return _0x24d60c;}},{'key':'GetPTZRectange','value':function(_0x2c039d,_0x50fb8a,_0x2152d2){return _0x2152d2['fX']<_0x50fb8a['fX']&&(_0x50fb8a['fX']=_0x2152d2['fX']),_0x2152d2['fY']<_0x50fb8a['fY']&&(_0x50fb8a['fY']=_0x2152d2['fY']),_0x2152d2['fX']>_0x2c039d['fX']&&(_0x2c039d['fX']=_0x2152d2['fX']),_0x2152d2['fY']>_0x2c039d['fY']&&(_0x2c039d['fY']=_0x2152d2['fY']),_0x24d60c;}},{'key':'GetPTZPoints','value':function(_0x1a0615,_0x168a7b,_0x1b24d5){return _0x1a0615<0x0||_0x1a0615>=_0x39ae26?_0x1c46d8:null==this['pRenderParam'][this['nWndPort']]?_0x19c02b:(_0x3212b8==_0x1b24d5?null!=this['pOriPTZPoints'][_0x1a0615]&&0x0!=this['nOriPTZPointNum'][_0x1a0615]&&(_0x168a7b['pstPoints']=this['pOriPTZPoints'][_0x1a0615],_0x168a7b['nPointNum']=this['nOriPTZPointNum'][_0x1a0615]):_0x35d15f==_0x1b24d5&&null!=this['pRectPoints'][_0x1a0615]&&(_0x168a7b['pstPoints']=this['pRectPoints'][_0x1a0615],_0x168a7b['nPointNum']=0x4),_0x24d60c);}},{'key':'SetPTZDisplayMode','value':function(_0x264424){return this['nPTZDisplayMode']=_0x264424,this['ComputePTZPoints']();}},{'key':'GetDisplayEffect','value':function(_0x578cd2){return _0x578cd2<0x0||_0x578cd2>=_0x39ae26||null==this['pRenderParam']?_0x15ec38['SR_DE_NULL']:this['pRenderParam'][_0x578cd2]['nDisplayEffect'];}},{'key':'GetPTZFragmentPoints','value':function(_0x275022,_0x54995d,_0x20dcd0){if(_0x275022<0x0||_0x275022>=_0x39ae26)return _0x1c46d8;if(null==this['pPanoPTZPoints'][_0x275022]||0x0==this['nPanoPTZPointNum'][_0x275022])return _0x1c46d8;var _0x39ceb8=this['nPTZFragmentNode'][_0x275022][_0x20dcd0];if(_0x54995d['nPointNum']=this['nPTZFragmentNode'][_0x275022][_0x20dcd0+0x1]-this['nPTZFragmentNode'][_0x275022][_0x20dcd0],_0x54995d['nPointNum']<0x0)return _0x19c02b;_0x54995d['pstPoints']=[];for(var _0x2f9d62=0x0;_0x2f9d62<_0x54995d['nPointNum'];++_0x2f9d62){var _0xd099a2={};_0xd099a2['fX']=this['pPanoPTZPoints'][_0x275022][_0x39ceb8+_0x2f9d62]['fX'],_0xd099a2['fY']=this['pPanoPTZPoints'][_0x275022][_0x39ceb8+_0x2f9d62]['fY'],_0x54995d['pstPoints']['push'](_0xd099a2);}return _0x24d60c;}},{'key':'GetPTZFragmentNum','value':function(_0x1fa913){return _0x1fa913<0x0||_0x1fa913>=_0x39ae26||0x0==this['nPTZFragmentNum'][_0x1fa913]?0x0:this['nPTZFragmentNum'][_0x1fa913];}},{'key':'CalcPTZFragmentPoints','value':function(_0x37c7e5){if(_0x37c7e5<0x0||_0x37c7e5>=_0x39ae26)return _0x1c46d8;if(null==this['pPanoPTZPoints'][_0x37c7e5]||0x0==this['nPanoPTZPointNum'][_0x37c7e5])return _0x19c02b;this['nPTZFragmentNode'][_0x37c7e5][0x0]=0x0,this['nPTZFragmentNum'][_0x37c7e5]=0x1;for(var _0x322f34=0x0,_0x428e34=0x0;_0x428e34<this['nPanoPTZPointNum'][_0x37c7e5]-0x1;_0x428e34++)Math['abs'](this['pPanoPTZPoints'][_0x37c7e5][_0x428e34+0x1]['fX']-this['pPanoPTZPoints'][_0x37c7e5][_0x428e34]['fX'])>0.5&&(_0x322f34=this['nPTZFragmentNum'][_0x37c7e5],this['nPTZFragmentNode'][_0x37c7e5][_0x322f34]=_0x428e34+0x1,this['nPTZFragmentNum'][_0x37c7e5]=this['nPTZFragmentNum'][_0x37c7e5]+0x1);var _0x2dc703=this['nPanoPTZPointNum'][_0x37c7e5];return Math['abs'](this['pPanoPTZPoints'][_0x37c7e5][0x0]['fX']-this['pPanoPTZPoints'][_0x37c7e5][_0x2dc703-0x1]['fX'])<0.5&&(this['pPanoPTZPoints'][_0x37c7e5][_0x2dc703]['fX']=this['pPanoPTZPoints'][_0x37c7e5][0x0]['fX'],this['pPanoPTZPoints'][_0x37c7e5][_0x2dc703]['fY']=this['pPanoPTZPoints'][_0x37c7e5][0x0]['fY'],this['nPanoPTZPointNum'][_0x37c7e5]=this['nPanoPTZPointNum'][_0x37c7e5]+0x1),_0x322f34=this['nPTZFragmentNum'][_0x37c7e5],this['nPTZFragmentNode'][_0x37c7e5][_0x322f34]=this['nPanoPTZPointNum'][_0x37c7e5],_0x24d60c;}},{'key':'IsPortAllocated','value':function(_0x5a14f9){return this['bPortAllocated'][_0x5a14f9];}},{'key':'GetPointFish2PanoCeiling','value':function(_0x4abf69,_0x3a4bb7,_0x51b645){if(null==this['pRenderParam'][this['nWndPort']])return _0x19c02b;if(null==_0x4abf69)return _0x1c46d8;var _0x4978ce,_0x5689a8;_0x4978ce=(this['fRX2']-this['fRX1'])/(this['fRY2']-this['fRY1']),_0x5689a8=(this['fRX2']-this['fRX1'])/0x2*0x1;var _0x3cad1b,_0x5bd8e9=0x0;(this['fRX2']>0x1||this['fRY2']>0x1||this['fRX1']<0x0||this['fRY1']<0x0)&&(this['fRX1']<0x0&&(_0x3cad1b=0x1*-this['fRX1'])>_0x5bd8e9&&(_0x5bd8e9=_0x3cad1b),this['fRX2']>0x1&&(_0x3cad1b=0x1*(this['fRX2']-0x1))>_0x5bd8e9&&(_0x5bd8e9=_0x3cad1b),this['fRY1']<0x0&&(_0x3cad1b=-this['fRY1']*_0x4978ce)>_0x5bd8e9&&(_0x5bd8e9=_0x3cad1b),this['fRY2']>0x1&&(_0x3cad1b=(this['fRY2']-0x1)*_0x4978ce)>_0x5bd8e9&&(_0x5bd8e9=_0x3cad1b));var _0x12e324,_0xe9e298=_0x5bd8e9/_0x5689a8,_0x285095={};if(_0x285095['fX']=0x0,_0x285095['fY']=0x0,Math['abs'](_0x3a4bb7-0.5)<_0x41c124&&Math['abs'](_0x51b645-0.5)<_0x41c124)return _0x58915e;var _0x57aab1={},_0x260fd0={};_0x57aab1['fX']=_0x3a4bb7-0.5,_0x57aab1['fY']=_0x51b645-0.5,_0x260fd0['fX']=-0.5*Math['sin'](this['pRenderParam'][this['nWndPort']]['fAngle']),_0x260fd0['fY']=0.5*Math['cos'](this['pRenderParam'][this['nWndPort']]['fAngle']);var _0x146cf1=Math['sqrt'](_0x57aab1['fX']*_0x57aab1['fX']+_0x57aab1['fY']*_0x57aab1['fY']),_0x4c0f45=Math['sqrt'](_0x260fd0['fX']*_0x260fd0['fX']+_0x260fd0['fY']*_0x260fd0['fY']);return _0x12e324=Math['acos']((_0x57aab1['fX']*_0x260fd0['fX']+_0x57aab1['fY']*_0x260fd0['fY'])/(_0x146cf1*_0x4c0f45)),_0x57aab1['fX']*_0x260fd0['fY']-_0x57aab1['fY']*_0x260fd0['fX']>0x0&&(_0x12e324=6.2831852-_0x12e324),_0x285095['fX']=_0x12e324/6.2831853,_0x285095['fY']=(0x2*(0.5-_0x146cf1)-_0xe9e298)/(0.8-_0xe9e298),_0x285095['fY']>=0x0&&_0x285095['fX']>=0x0&&_0x285095['fY']<=0x1&&_0x285095['fX']<=0x1?(_0x4abf69['fX']=_0x285095['fX'],_0x4abf69['fY']=_0x285095['fY'],_0x24d60c):_0x1c46d8;}},{'key':'GetPointFish2PanoFloor','value':function(_0x24ed08,_0x3b2846,_0x10794e){if(null==this['pRenderParam'][this['nWndPort']])return _0x19c02b;if(null==_0x24ed08)return _0x1c46d8;var _0x2d27b4,_0x2ebd3b;_0x2d27b4=(this['fRX2']-this['fRX1'])/(this['fRY2']-this['fRY1']),_0x2ebd3b=(this['fRX2']-this['fRX1'])/0x2*0x1;var _0x3ac71f,_0x5b5e0a=0x0;(this['fRX2']>0x1||this['fRY2']>0x1||this['fRX1']<0x0||this['fRY1']<0x0)&&(this['fRX1']<0x0&&(_0x3ac71f=0x1*-this['fRX1'])>_0x5b5e0a&&(_0x5b5e0a=_0x3ac71f),this['fRX2']>0x1&&(_0x3ac71f=0x1*(this['fRX2']-0x1))>_0x5b5e0a&&(_0x5b5e0a=_0x3ac71f),this['fRY1']<0x0&&(_0x3ac71f=-this['fRY1']*_0x2d27b4)>_0x5b5e0a&&(_0x5b5e0a=_0x3ac71f),this['fRY2']>0x1&&(_0x3ac71f=(this['fRY2']-0x1)*_0x2d27b4)>_0x5b5e0a&&(_0x5b5e0a=_0x3ac71f));var _0x177a3e,_0x628803=_0x5b5e0a/_0x2ebd3b,_0x67531d={'fX':0x0,'fY':0x0};if(Math['abs'](_0x3b2846-0.5)<_0x41c124&&Math['abs'](_0x10794e-0.5)<_0x41c124)return _0x58915e;var _0x1b1a7f={},_0x11af00={};_0x1b1a7f['fX']=_0x3b2846-0.5,_0x1b1a7f['fY']=_0x10794e-0.5,_0x11af00['fX']=-0.5*Math['sin'](this['pRenderParam'][this['nWndPort']]['fAngle']),_0x11af00['fY']=0.5*Math['cos'](this['pRenderParam'][this['nWndPort']]['fAngle']);var _0x5c5ac9=Math['sqrt'](_0x1b1a7f['fX']*_0x1b1a7f['fX']+_0x1b1a7f['fY']*_0x1b1a7f['fY']),_0x43afd6=Math['sqrt'](_0x11af00['fX']*_0x11af00['fX']+_0x11af00['fY']*_0x11af00['fY']);return _0x177a3e=Math['acos']((_0x1b1a7f['fX']*_0x11af00['fX']+_0x1b1a7f['fY']*_0x11af00['fY'])/(_0x5c5ac9*_0x43afd6)),_0x1b1a7f['fX']*_0x11af00['fY']-_0x1b1a7f['fY']*_0x11af00['fX']>0x0&&(_0x177a3e=6.2831852-_0x177a3e),_0x67531d['fX']=0x1-_0x177a3e/6.2831853,_0x67531d['fY']=0x1-(0x2*(0.5-_0x5c5ac9)-_0x628803)/(0.8-_0x628803),_0x67531d['fY']>=0x0&&_0x67531d['fX']>=0x0&&_0x67531d['fY']<=0x1&&_0x67531d['fX']<=0x1?(_0x24ed08['fX']=_0x67531d['fX'],_0x24ed08['fY']=_0x67531d['fY'],_0x24d60c):_0x1c46d8;}},{'key':'GetPointFish2PanoWall','value':function(_0x393e7e,_0x557d6d,_0x1a7c32){if(null==this['pRenderParam'][this['nWndPort']])return _0x19c02b;if(null==_0x393e7e)return _0x1c46d8;var _0x382eab,_0x15b506;_0x382eab=(this['fRX2']-this['fRX1'])/(this['fRY2']-this['fRY1']),_0x15b506=(this['fRX2']-this['fRX1'])/0x2*0x1;var _0x134e88,_0x96431f,_0x3e0f7d,_0x6f95f0,_0x40bbd9,_0xd99d53=0x0,_0x1042df=0x1,_0x4f4671=0.1,_0x34054d=0.9;this['fRX1']<0x0&&(_0x134e88=0x1*-this['fRX1'],_0xd99d53=_0x134e88/=0x2*_0x15b506),this['fRX2']>0x1&&(_0x96431f=0x1*(this['fRX2']-0x1),_0x1042df=0x1-(_0x96431f/=0x2*_0x15b506)),this['fRY1']<0x0&&(_0x3e0f7d=-this['fRY1']*_0x382eab,_0x4f4671=(_0x3e0f7d/=0x2*_0x15b506)>0.1?_0x3e0f7d:0.1),this['fRY2']>0x1&&(_0x6f95f0=(this['fRY2']-0x1)*_0x382eab,_0x34054d=(_0x6f95f0/=0x2*_0x15b506)>0x1-0.9?0x1-_0x6f95f0:0.9);var _0xdb0790={'fX':0x0,'fY':0x0},_0x1964e4=0x2*_0x557d6d*_0x15b506,_0x106314=0x2*_0x1a7c32*_0x15b506;return _0x40bbd9=Math['sqrt'](_0x15b506*_0x15b506-(_0x106314-_0x15b506)*(_0x106314-_0x15b506)),Math['abs'](_0x40bbd9)<_0x41c124?SR_ERR_PARAM:(_0x557d6d=_0x15b506*(_0x1964e4-_0x15b506)/_0x40bbd9+_0x15b506,_0x1a7c32=_0x106314,_0xdb0790['fX']=(_0x557d6d-0x2*_0xd99d53*_0x15b506)/(0x2*(_0x1042df-_0xd99d53)*_0x15b506),_0xdb0790['fY']=(_0x1a7c32-0x2*_0x4f4671*_0x15b506)/(0x2*(_0x34054d-_0x4f4671)*_0x15b506),_0xdb0790['fY']>=0x0&&_0xdb0790['fX']>=0x0&&_0xdb0790['fY']<=0x1&&_0xdb0790['fX']<=0x1?(_0x393e7e['fX']=_0xdb0790['fX'],_0x393e7e['fY']=_0xdb0790['fY'],_0x24d60c):_0x1c46d8);}},{'key':'UpdateRangeParam','value':function(_0xea28f4,_0x3730e1){if(null==this['pRenderParam'][_0xea28f4])return _0x19c02b;if(_0x3730e1<0.00001||_0x3730e1>0.6)return _0x1c46d8;var _0x30324c=0x0;return _0x15ec38['SR_DE_FISH_PTZ_WALL']!=this['pRenderParam'][_0xea28f4]['nDisplayEffect']&&_0x15ec38['SR_DE_FISH_PTZ_CEILING']!=this['pRenderParam'][_0xea28f4]['nDisplayEffect']&&_0x15ec38['SR_DE_FISH_PTZ_FLOOR']!=this['pRenderParam'][_0xea28f4]['nDisplayEffect']||(_0x30324c=0x7*_0x3730e1+0.8,this['IsInImage'](this['fRX1'],this['fRX2'],this['fRY1'],this['fRY2'],this['pRenderParam'][_0xea28f4]['fCosH'],this['pRenderParam'][_0xea28f4]['fSinH'],this['pRenderParam'][_0xea28f4]['fCosV'],this['pRenderParam'][_0xea28f4]['fSinV'],_0x30324c,this['pRenderParam'][_0xea28f4]['nDisplayEffect']))?(this['pRenderParam'][_0xea28f4]['fZoom']=_0x30324c,_0x24d60c):_0x1c46d8;}}]),_0x1af999;}(),_0x13037e=0x20,_0x3371ec=function(){function _0x1bda1a(){_0x162c92(this,_0x1bda1a),this['renderEngine']='webgl',this['oVideoHandle']=null,this['mainCanvasID']=null,this['curTimestamp']=0x0,this['mainSubPort']=0x0,this['mainVaildSubPort']=0x0,this['mainFECCorrect']=_0x15ec38['SR_DE_NULL'],this['FECErrorCode']=0x0,this['subPortNum']=0x0,this['FECShowMode']=_0x3212b8,this['pFishParamManager']=null,this['InitFECParam'](),this['privateLinesInfo']=[],this['privateFontsInfo']=[],this['privateImageInfo']=[],this['bSRCallBackFlag']=!0x1,this['curLinesInfo']=null,this['curFontsInfo']=null,this['curImagesInfo']=null,this['maxPrivateLineTimeStamp']=0x0,this['hasSetFECParamManager']=!0x1,this['pWaterFontParam']=[],this['pWaterImageParam']=[],this['waterMarkImageIndex']=0x0,this['waterMarkImageMax']=0x1,this['aPOSAdaptBuf']=[];}return _0x5ab2cc(_0x1bda1a,[{'key':'InitDisplay','value':function(_0x2428b5,_0x506320,_0x394512){return this['renderEngine']=_0x506320,this['mainCanvasID']=_0x2428b5,'2d'===this['renderEngine']||'2D'===this['renderEngine']?(this['oVideoHandle']=new _0x39f55b(),console['log']('2d\x20render')):(this['oVideoHandle']=new _0x6900d7(),this['mainFECCorrect']!=_0x15ec38['SR_DE_NULL']&&(null==this['pFishParamManager']&&(this['pFishParamManager']=new _0xf9aebc()),this['oVideoHandle']['SR_SetFishParamManager'](this['pFishParamManager']),this['hasSetFECParamManager']=!0x0),console['log']('webgl\x20render')),this['oVideoHandle']['SR_Init'](_0x2428b5,_0x394512),this['mainVaildSubPort']=this['oVideoHandle']['SR_AddSubPort'](this['mainFECCorrect']),-0x1==this['mainVaildSubPort']?(console['info']('%c\x20InitDisplay\x20SR_AddSubPort\x20error\x20subport:%d','color:\x20red',this['mainVaildSubPort']),0x0):(null==this['stFishEyeManager'][0x0]['pRender']&&this['mainFECCorrect']!==_0x15ec38['SR_DE_NULL']&&(this['stFishEyeManager'][0x0]['pRender']=this['oVideoHandle'],this['stFishEyeManager'][0x0]['nSubPort']=0x0,this['stFishEyeManager'][0x0]['sCanvasID']=this['mainCanvasID'],this['stFishEyeManager'][0x0]['bUsed']=0x1,this['stFishEyeManager'][0x0]['bInited']=0x1,this['stFishEyeManager'][0x0]['nValidSubPort']=this['mainVaildSubPort']),0x1);}},{'key':'ReleaseDisplay','value':function(){if(null!=this['oVideoHandle']&&(this['oVideoHandle']['SR_DelSubPort'](this['mainVaildSubPort']),this['oVideoHandle']['SR_Destroy'](),this['oVideoHandle']=null),this['subPortNum']>0x0){for(var _0x22cdca=0x1;_0x22cdca<_0x13037e;_0x22cdca++)0x0!=this['stFishEyeManager'][_0x22cdca]['nSubPort']&&null!=this['stFishEyeManager'][_0x22cdca]['sCanvasID']&&0x0!=this['stFishEyeManager'][_0x22cdca]['bInited']&&(this['FEC_Disable'](_0x22cdca),this['FEC_DelPort'](_0x22cdca));}for(var _0x3c9aa6=0x0;_0x3c9aa6<_0x13037e;_0x3c9aa6++)this['stFishEyeManager'][_0x3c9aa6]['pRender']=null;return this['stFishEyeManager']['splice'](0x0,this['stFishEyeManager']['length']),this['stFishParam']['splice'](0x0,this['stFishParam']['length']),null!=this['pFishParamManager']&&(this['pFishParamManager']['DeInit'](),this['pFishParamManager']=null),this['FECShowMode']=_0x3212b8,this['DeInitPrivateParam'](),0x1;}},{'key':'DeInitPrivateParam','value':function(){this['privateLinesInfo']['splice'](0x0,this['privateLinesInfo']['length']),this['privateFontsInfo']['splice'](0x0,this['privateFontsInfo']['length']),this['privateImageInfo']['splice'](0x0,this['privateImageInfo']['length']),this['pWaterFontParam']['splice'](0x0,this['pWaterFontParam']['length']),this['pWaterImageParam']['splice'](0x0,this['pWaterImageParam']['length']),this['bSRCallBackFlag']=!0x1,this['curLinesInfo']=null;}},{'key':'DisplayFrame','value':function(_0x41585a,_0xc062c3,_0x1aea67,_0x3eaecb,_0x277e1c,_0x5b66dc){var _0x52a256=this;return new Promise(function(_0x461c62){var _0x80523c=-0x1;if(null!=_0x41585a&&(_0x80523c=_0x3eaecb),_0x52a256['bSRCallBackFlag']||(null!=_0x52a256['oVideoHandle']&&_0x52a256['oVideoHandle']['SR_SetCallBack'](_0x52a256['WebGLDisplayCallBack'],_0x52a256,_0x49769e),_0x52a256['bSRCallBackFlag']=!0x0),null!=_0x41585a&&(0x0==_0x52a256['privateLinesInfo']['length']&&0x0==_0x52a256['privateFontsInfo']['length']&&0x0==_0x52a256['privateImageInfo']['length']||(_0x52a256['curTimestamp']=_0x80523c,_0x52a256['FindIntelNodefromList'](_0x52a256['curTimestamp'])),null!=_0x52a256['oVideoHandle']&&_0x52a256['oVideoHandle']['SR_Draw'](_0x41585a,_0xc062c3,_0x1aea67,_0x277e1c,_0x5b66dc),_0x52a256['subPortNum']>0x0)){for(var _0x31e67c=0x1;_0x31e67c<_0x13037e;_0x31e67c++)0x0!=_0x52a256['stFishEyeManager'][_0x31e67c]['nSubPort']&&null!=_0x52a256['stFishEyeManager'][_0x31e67c]['sCanvasID']&&0x0!=_0x52a256['stFishEyeManager'][_0x31e67c]['bInited']&&null!=_0x52a256['stFishEyeManager'][_0x31e67c]['pRender']&&_0x52a256['stFishEyeManager'][_0x31e67c]['pRender']['SR_Draw'](_0x41585a,_0xc062c3,_0x1aea67,null,null);}_0x461c62(_0x80523c);});}},{'key':'SetDisplayRect','value':function(_0x3d1b01,_0x14b85a,_0x2eeb45,_0x4471a2){return null!=this['oVideoHandle']?this['oVideoHandle']['SR_SetDisplayRect'](_0x3d1b01,_0x14b85a,_0x2eeb45,_0x4471a2,_0x3f510a):0x0;}},{'key':'SetCanvasSize','value':function(_0x4c25be,_0x32deea){return null!=this['oVideoHandle']?this['oVideoHandle']['SR_SetCanvasSize'](_0x4c25be,_0x32deea):0x0;}},{'key':'GetCanvasSize','value':function(){return null!=this['oVideoHandle']?this['oVideoHandle']['SR_GetCanvasSize']():0x0;}},{'key':'SetAntialias','value':function(_0x26891a){return null!=this['oVideoHandle']?this['oVideoHandle']['SR_SetAntialias'](_0x26891a):0x0;}},{'key':'SetD3DPostProcess','value':function(_0x1c73b4,_0x43a23a){return null!=this['oVideoHandle']?this['oVideoHandle']['SR_SetImagePostProcess'](_0x1c73b4,_0x43a23a):0x0;}},{'key':'InitFECParam','value':function(){this['stFishEyeManager']=[];for(var _0x557f8c=0x0;_0x557f8c<_0x13037e;_0x557f8c++)this['stFishEyeManager'][_0x557f8c]={},this['stFishEyeManager'][_0x557f8c]['pRender']=null,this['stFishEyeManager'][_0x557f8c]['nSubPort']=0x0,this['stFishEyeManager'][_0x557f8c]['sCanvasID']=null,this['stFishEyeManager'][_0x557f8c]['bUsed']=0x0,this['stFishEyeManager'][_0x557f8c]['bInit']=0x0,this['stFishEyeManager'][_0x557f8c]['nValidSubPort']=0x0,this['stFishEyeManager'][_0x557f8c]['emPlaceType']=_0x425a4f,this['stFishEyeManager'][_0x557f8c]['emCorrectType']=_0x3a439c,this['stFishEyeManager'][_0x557f8c]['emEffect']=_0x15ec38['SR_DE_FISH_ORIGINAL'];this['stFishParam']=[];for(var _0x275048=0x0;_0x275048<_0x13037e;_0x275048++)this['stFishParam'][_0x275048]={},this['stFishParam'][_0x275048]['nUpDateType']=0x0,this['stFishParam'][_0x275048]['stPTZParam']={},this['stFishParam'][_0x275048]['stPTZParam']['fPTZPositionX']=0x0,this['stFishParam'][_0x275048]['stPTZParam']['fPTZPositionY']=0x0,this['stFishParam'][_0x275048]['stCycleParam']={},this['stFishParam'][_0x275048]['stCycleParam']['fRadiusLeft']=0x0,this['stFishParam'][_0x275048]['stCycleParam']['fRadiusRight']=0x0,this['stFishParam'][_0x275048]['stCycleParam']['fRadiusTop']=0x0,this['stFishParam'][_0x275048]['stCycleParam']['fRadiusBottom']=0x0,this['stFishParam'][_0x275048]['fZoom']=0x0,this['stFishParam'][_0x275048]['fWideScanOffset']=0x0,this['stFishParam'][_0x275048]['stPTZColor']={},this['stFishParam'][_0x275048]['stPTZColor']['nR']=0x0,this['stFishParam'][_0x275048]['stPTZColor']['nG']=0x0,this['stFishParam'][_0x275048]['stPTZColor']['nB']=0x0,this['stFishParam'][_0x275048]['stPTZColor']['nAlpha']=0x0,this['stFishParam'][_0x275048]['stPTZSelect']={},this['stFishParam'][_0x275048]['stPTZSelect']['fTop']=0x0,this['stFishParam'][_0x275048]['stPTZSelect']['fBottom']=0x0,this['stFishParam'][_0x275048]['stPTZSelect']['fLeft']=0x0,this['stFishParam'][_0x275048]['stPTZSelect']['fRight']=0x0,this['stFishParam'][_0x275048]['nCut']=0x0;}},{'key':'FEC_SetCanvasID','value':function(_0x25d7b2){return this['mainFECCorrect']=_0x15ec38['SR_DE_FISH_ORIGINAL'],0x1;}},{'key':'FEC_ResetCorrectType','value':function(_0x37fe11,_0x28c4d4,_0x17020a){if(!0x1===this['hasSetFECParamManager']&&(null==this['pFishParamManager']&&(this['pFishParamManager']=new _0xf9aebc()),this['oVideoHandle']['SR_SetFishParamManager'](this['pFishParamManager']),this['hasSetFECParamManager']=!0x0),_0x17020a!=_0x3a439c&&_0x17020a!=_0x59f1da&&_0x17020a!=_0x11078b&&_0x17020a!=_0x18400f&&_0x17020a!=_0x817799&&_0x17020a!=_0x374a1a&&_0x17020a!=_0x436ee5&&_0x17020a!=_0x692cc7&&_0x17020a!=_0x341433)return console['log']('%c\x2020231122\x20hardDecoder\x20not\x20support\x20correctType:%d','color:red',_0x17020a),this['FECErrorCode']=0x10,0x0;if(0x1!=this['FECParamJudge'](_0x37fe11,_0x28c4d4,_0x17020a))return 0x0;var _0x3b3eba;if(_0x3b3eba=this['_ConvertDisplayEffect'](_0x28c4d4,_0x17020a),0x0==_0x37fe11&&null==this['stFishEyeManager'][_0x37fe11]['pRender']&&(this['stFishEyeManager'][_0x37fe11]['pRender']=this['oVideoHandle'],this['stFishEyeManager'][_0x37fe11]['nSubPort']=_0x37fe11,this['stFishEyeManager'][_0x37fe11]['sCanvasID']=this['mainCanvasID'],this['stFishEyeManager'][_0x37fe11]['bUsed']=0x1,this['stFishEyeManager'][_0x37fe11]['bInited']=0x1,this['stFishEyeManager'][_0x37fe11]['nValidSubPort']=this['mainVaildSubPort'],this['stFishEyeManager'][_0x37fe11]['emPlaceType']=_0x28c4d4,this['stFishEyeManager'][_0x37fe11]['emCorrectType']=_0x17020a,this['stFishEyeManager'][_0x37fe11]['emEffect']=_0x3b3eba,this['mainFECCorrect']=_0x3b3eba),null!=this['stFishEyeManager'][_0x37fe11]['pRender']){this['stFishEyeManager'][_0x37fe11]['pRender']['SR_DelSubPort'](this['stFishEyeManager'][_0x37fe11]['nValidSubPort']);var _0x180252=this['stFishEyeManager'][_0x37fe11]['pRender']['SR_AddSubPort'](_0x3b3eba);if(-0x1==_0x180252)return console['info']('%c\x20FEC_ResetCorrectType\x20SR_AddSubPort\x20error\x20subport:%d','color:\x20red',_0x180252),0x0;if(this['stFishEyeManager'][_0x37fe11]['nValidSubPort']=_0x180252,this['stFishEyeManager'][_0x37fe11]['emPlaceType']=_0x28c4d4,this['stFishEyeManager'][_0x37fe11]['emCorrectType']=_0x17020a,this['stFishEyeManager'][_0x37fe11]['emEffect']=_0x3b3eba,_0x18400f<=this['stFishEyeManager'][_0x37fe11]['emCorrectType']){var _0x1accad=this['stFishEyeManager'][_0x37fe11]['pRender']['SR_SetRenderState'](_0x5b0220,0x0);_0x24d60c!=_0x1accad&&console['log']('>>>VideoRender.js\x20SR_SetRenderState\x20failed\x20ret：%08x\x0a',_0x1accad);}}return this['FECShowMode']>0x0&&null!=this['stFishEyeManager'][_0x37fe11]['pRender']&&this['stFishEyeManager'][_0x37fe11]['pRender']['SR_SetPTZDisplayMode'](this['FECShowMode']),0x0==_0x37fe11&&(this['mainVaildSubPort']=this['stFishEyeManager'][_0x37fe11]['nValidSubPort']),0x1;}},{'key':'FEC_GetPort','value':function(_0x5d25a2,_0x50470d){if(_0x50470d!=_0x3a439c&&_0x50470d!=_0x59f1da&&_0x50470d!=_0x11078b&&_0x50470d!=_0x18400f&&_0x50470d!=_0x817799&&_0x50470d!=_0x374a1a&&_0x50470d!=_0x436ee5&&_0x50470d!=_0x692cc7&&_0x50470d!=_0x341433)return console['log']('%c\x2020231112\x20hardDecoder\x20not\x20support\x20emCorrectType:%d','color:red',_0x50470d),this['FECErrorCode']=0x10,-0x1;var _0x21f4b5;if(0x1!=this['FECParamJudge'](-0x1,_0x5d25a2,_0x50470d))return -0x1;var _0x1f239d=0x0;for(_0x21f4b5=0x1;_0x21f4b5<_0x13037e;_0x21f4b5++)if(0x0==this['stFishEyeManager'][_0x21f4b5]['nSubPort']&&0x0==this['stFishEyeManager'][_0x21f4b5]['bUsed']){this['stFishEyeManager'][_0x21f4b5]['nSubPort']=_0x21f4b5,this['stFishEyeManager'][_0x21f4b5]['nValidSubPort']=-0x1,this['stFishEyeManager'][_0x21f4b5]['bUsed']=0x1,this['stFishEyeManager'][_0x21f4b5]['emPlaceType']=_0x5d25a2,this['stFishEyeManager'][_0x21f4b5]['emCorrectType']=_0x50470d,_0x1f239d=_0x21f4b5;break;}if(_0x13037e==_0x21f4b5)return console['info']('%c\x20FEC_GetPort-12\x20fish\x20subport\x20max','color:\x20red'),this['FECErrorCode']=0x504,-0x1;var _0x122a8b;return _0x122a8b=this['_ConvertDisplayEffect'](this['stFishEyeManager'][_0x1f239d]['emPlaceType'],this['stFishEyeManager'][_0x1f239d]['emCorrectType']),_0x15ec38['SR_DE_FISH_ORIGINAL']!=_0x122a8b?(0x0==this['stFishEyeManager'][_0x1f239d]['bInited']&&(this['stFishEyeManager'][_0x1f239d]['emEffect']=_0x122a8b,this['stFishEyeManager'][_0x1f239d]['bInited']=0x0,this['stFishParam'][_0x1f239d]['fZoom']=0.005,this['stFishParam'][_0x1f239d]['stPTZParam']['fPTZPositionX']=0.5,this['stFishParam'][_0x1f239d]['stPTZParam']['fPTZPositionY']=0.5,this['stFishParam'][_0x1f239d]['fWideScanOffset']=0x0),this['FECErrorCode']=0x0,this['subPortNum']++,_0x1f239d):_0x1f239d<_0x13037e&&0x0==this['stFishEyeManager'][_0x1f239d]['bInited']?(this['stFishEyeManager'][_0x1f239d]['emEffect']=_0x122a8b,this['stFishEyeManager'][_0x1f239d]['bInited']=0x0,this['stFishParam'][_0x1f239d]['fZoom']=0x0,this['stFishParam'][_0x1f239d]['stPTZParam']['fPTZPositionX']=0x0,this['stFishParam'][_0x1f239d]['stPTZParam']['fPTZPositionY']=0x0,this['stFishParam'][_0x1f239d]['fWideScanOffset']=0x0,this['FECErrorCode']=0x0,this['subPortNum']++,_0x1f239d):(this['stFishEyeManager'][_0x21f4b5]['pRender']=null,this['stFishEyeManager'][_0x21f4b5]['nSubPort']=0x0,this['stFishEyeManager'][_0x21f4b5]['sCanvasID']=null,this['stFishEyeManager'][_0x21f4b5]['bUsed']=0x0,this['stFishEyeManager'][_0x21f4b5]['bInited']=0x0,this['stFishEyeManager'][_0x21f4b5]['nValidSubPort']=0x0,this['stFishEyeManager'][_0x21f4b5]['emPlaceType']=_0x425a4f,this['stFishEyeManager'][_0x21f4b5]['emCorrectType']=_0x3a439c,this['stFishEyeManager'][_0x21f4b5]['emEffect']=_0x15ec38['SR_DE_FISH_ORIGINAL'],this['FECErrorCode']=_0x2d9b3d,-0x1);}},{'key':'FECParamJudge','value':function(_0x435626,_0x12b139,_0x1575c3){if((_0x15965e==_0x12b139||_0x425a4f==_0x12b139)&&_0x374a1a==_0x1575c3)return console['info']('%c\x20FEC_GetPort-1\x20floor\x20and\x20ceiling\x20not\x20support\x20lat','color:\x20red'),this['FECErrorCode']=_0x2d9b3d,0x0;if(_0x532461==_0x12b139&&_0x436ee5==_0x1575c3)return console['info']('%c\x20FEC_GetPort-2\x20wall\x20not\x20support\x20cylinger','color:\x20red'),this['FECErrorCode']=_0x2d9b3d,0x0;if(_0x532461==_0x12b139&&_0xbc84d5==_0x1575c3)return console['info']('%c\x20FEC_GetPort-3\x20wall\x20not\x20support\x20split\x20cylinger','color:\x20red'),this['FECErrorCode']=_0x2d9b3d,0x0;if((_0x15965e==_0x12b139||_0x425a4f==_0x12b139)&&_0x692cc7==_0x1575c3)return console['info']('%c\x20FEC_GetPort-4\x20floor\x20and\x20ceiling\x20not\x20support\x20horizontal','color:\x20red'),this['FECErrorCode']=_0x2d9b3d,0x0;if((_0x15965e==_0x12b139||_0x425a4f==_0x12b139)&&_0x341433==_0x1575c3)return console['info']('%c\x20FEC_GetPort-5\x20floor\x20and\x20ceiling\x20not\x20support\x20vertical','color:\x20red'),this['FECErrorCode']=_0x2d9b3d,0x0;if(_0x532461!=_0x12b139&&_0x15965e!=_0x12b139&&_0x425a4f!=_0x12b139)return console['info']('%c\x20FEC_GetPort-6\x20emPlaceType\x20only\x20support\x20floor,\x20ceiling\x20and\x20wall','color:\x20red'),this['FECErrorCode']=MP_E_SUPPORT,0x0;if(0x0!=_0x1575c3&&_0x1575c3!=_0x817799&&_0x1575c3!=_0x59f1da&&_0x1575c3!=_0x11078b&&_0x1575c3!=_0x374a1a&&_0x1575c3!=_0x18400f&&_0x1575c3!=_0x436ee5&&_0x1575c3!=_0xbc84d5&&_0x1575c3!=_0x1fd508&&_0x1575c3!=_0x692cc7&&_0x1575c3!=_0x341433)return console['info']('%c\x20FEC_GetPort-7\x20emCorrectType\x20error','color:\x20red'),this['FECErrorCode']=MP_E_SUPPORT,0x0;for(var _0x2a200f=0x0;_0x2a200f<_0x13037e;_0x2a200f++)if(_0x2a200f!=_0x435626){if(this['stFishEyeManager'][_0x2a200f]['bUsed']&&this['stFishEyeManager'][_0x2a200f]['emPlaceType']!=_0x12b139)return console['info']('%c\x20FEC_GetPort-8\x20emPlaceType\x20changed','color:\x20red'),this['FECErrorCode']=0x517,0x0;if(this['stFishEyeManager'][_0x2a200f]['bUsed']&&this['stFishEyeManager'][_0x2a200f]['emCorrectType']!=_0x817799&&this['stFishEyeManager'][_0x2a200f]['emCorrectType']!=_0x18400f&&this['stFishEyeManager'][_0x2a200f]['emCorrectType']!=_0x436ee5&&this['stFishEyeManager'][_0x2a200f]['emCorrectType']!=_0xbc84d5&&this['stFishEyeManager'][_0x2a200f]['emCorrectType']!=_0x1fd508&&this['stFishEyeManager'][_0x2a200f]['emCorrectType']!=_0x692cc7&&this['stFishEyeManager'][_0x2a200f]['emCorrectType']!=_0x341433&&_0x1575c3!=_0x817799&&_0x1575c3!=_0x18400f&&_0x1575c3!=_0x436ee5&&_0x1575c3!=_0xbc84d5&&_0x1575c3!=_0x1fd508&&_0x1575c3!=_0x692cc7&&_0x1575c3!=_0x341433)return console['info']('%c\x20FEC_GetPort-9\x20origin/180/360/lat\x20only\x20display\x20one\x20port','color:\x20red'),this['FECErrorCode']=0x518,0x0;if(this['stFishEyeManager'][_0x2a200f]['bUsed']&&(this['stFishEyeManager'][_0x2a200f]['emCorrectType']==_0x817799&&_0x1575c3==_0x59f1da||this['stFishEyeManager'][_0x2a200f]['emCorrectType']==_0x59f1da&&_0x1575c3==_0x817799))return console['info']('%c\x20FEC_GetPort-10\x20180\x20cannot\x20support\x20ptz','color:\x20red'),this['FECErrorCode']=0x518,0x0;}return 0x1;}},{'key':'FEC_Enable','value':function(_0x292b26){return _0x292b26<0x1||_0x292b26>0x1f||null==_0x292b26?(console['info']('%c\x20FEC_Enable-1\x20nSubPort:%d','color:\x20red',_0x292b26),this['FECErrorCode']=_0x577a6f,0x0):null!==this['stFishEyeManager'][_0x292b26]['pRender']?(console['info']('%c\x20FEC_Enable-2\x20nSubPort:%d','color:\x20red',_0x292b26),this['FECErrorCode']=0x515,0x0):(null==this['stFishEyeManager'][_0x292b26]['pRender']&&(this['stFishEyeManager'][_0x292b26]['pRender']=new _0x6900d7(),null==this['pFishParamManager']&&(this['pFishParamManager']=new _0xf9aebc()),this['stFishEyeManager'][_0x292b26]['pRender']['SR_SetFishParamManager'](this['pFishParamManager'])),0x1);}},{'key':'FEC_SetWnd','value':function(_0x4f73cf,_0xd48e71){if(_0x4f73cf<0x1||_0x4f73cf>0x1f||null==_0x4f73cf)return console['info']('%c\x20FEC_SetWnd-1\x20nSubPort:%d','color:\x20red',_0x4f73cf),this['FECErrorCode']=_0x577a6f,0x0;if(null==this['stFishEyeManager'][_0x4f73cf]['pRender'])return console['info']('%c\x20FEC_SetWnd-2\x20nSubPort:%d\x20pRender\x20is\x20null','color:\x20red',_0x4f73cf),this['FECErrorCode']=_0x1ce992,0x0;if(0x0==this['stFishEyeManager'][_0x4f73cf]['bUsed'])return console['info']('%c\x20FEC_SetWnd-3\x20nSubPort:%d\x20bUsed:%d','color:\x20red',_0x4f73cf,this['stFishEyeManager'][_0x4f73cf]['bUsed']),this['FECErrorCode']=_0x416ba2,0x0;if(null==_0xd48e71)return console['info']('%c\x20FEC_SetWnd-4\x20nSubPort:%d\x20sCanvasID:%s','color:\x20red',_0x4f73cf,_0xd48e71),this['FECErrorCode']=0x519,0x0;if(0x0!=this['stFishEyeManager'][_0x4f73cf]['nSubPort']&&0x0!=this['stFishEyeManager'][_0x4f73cf]['bUsed']){if(0x0!=this['stFishEyeManager'][_0x4f73cf]['bInited']&&null!=this['stFishEyeManager'][_0x4f73cf]['sCanvasID'])return _0xd48e71!=this['stFishEyeManager'][_0x4f73cf]['sCanvasID']?(console['info']('%c\x20FEC_SetWnd-5\x20nSubPort:%d\x20sCanvasID:%s\x20already\x20init','color:\x20red',_0x4f73cf,_0xd48e71),this['FECErrorCode']=0x506,0x0):0x1;var _0x58351e;_0x58351e=this['_ConvertDisplayEffect'](this['stFishEyeManager'][_0x4f73cf]['emPlaceType'],this['stFishEyeManager'][_0x4f73cf]['emCorrectType']);var _0x54c279=this['stFishEyeManager'][_0x4f73cf]['pRender']['SR_Init'](_0xd48e71,_0x4d876c),_0x18a2ba=this['stFishEyeManager'][_0x4f73cf]['pRender']['SR_AddSubPort'](_0x58351e);if(-0x1==_0x18a2ba)return console['info']('%c\x20FEC_SetWnd\x20SR_AddSubPort\x20error\x20subport:%d','color:\x20red',_0x4f73cf),0x0;if(this['stFishEyeManager'][_0x4f73cf]['nValidSubPort']=_0x18a2ba,_0x24d60c!=_0x54c279)return this['stFishEyeManager'][_0x4f73cf]['bInited']=0x0,this['stFishEyeManager'][_0x4f73cf]['sCanvasID']=null,this['FECErrorCode']=_0x416ba2,0x0;if(this['stFishEyeManager'][_0x4f73cf]['bInited']=0x1,this['stFishEyeManager'][_0x4f73cf]['sCanvasID']=_0xd48e71,_0x18400f<=this['stFishEyeManager'][_0x4f73cf]['emCorrectType']){var _0x227736=this['stFishEyeManager'][_0x4f73cf]['pRender']['SR_SetRenderState'](_0x5b0220,0x0);_0x24d60c!=_0x227736&&console['log']('>>>VideoRender.js\x20SR_SetRenderState\x20failed\x20ret：%08x\x0a',_0x227736);}return this['FECShowMode']>0x0&&this['stFishEyeManager'][_0x4f73cf]['pRender']['SR_SetPTZDisplayMode'](this['FECShowMode']),0x1;}return this['FECErrorCode']=_0x416ba2,0x0;}},{'key':'FEC_Disable','value':function(_0x180fe5,_0x3d513f,_0x478236){if(_0x180fe5<0x1||_0x180fe5>0x1f||null==_0x180fe5)return console['info']('%c\x20FEC_Disable-1\x20nSubPort:%d','color:\x20red',_0x180fe5),this['FECErrorCode']=_0x577a6f,0x0;if(0x1==this['stFishEyeManager'][_0x180fe5]['bInited']&&null!=this['stFishEyeManager'][_0x180fe5]['pRender']){if(_0x24d60c!=this['stFishEyeManager'][_0x180fe5]['pRender']['SR_DelSubPort'](this['stFishEyeManager'][_0x180fe5]['nValidSubPort']))return console['info']('%c\x20FEC_Disable-2\x20SR_DelSubPort\x20error\x20nSubPort:%d','color:\x20red',_0x180fe5),0x0;this['stFishEyeManager'][_0x180fe5]['bInited']=0x0,this['stFishEyeManager'][_0x180fe5]['nValidSubPort']=-0x1,this['stFishEyeManager'][_0x180fe5]['pRender']['SR_Destroy'](),this['stFishEyeManager'][_0x180fe5]['pRender']=null;}return 0x1;}},{'key':'FEC_DelPort','value':function(_0x29a541){return _0x29a541<0x1||_0x29a541>0x1f||null==_0x29a541?(console['info']('%c\x20FEC_DelPort-1\x20nSubPort:%d','color:\x20red',_0x29a541),this['FECErrorCode']=_0x577a6f,0x0):0x0==this['stFishEyeManager'][_0x29a541]['bUsed']?(console['info']('%c\x20FEC_DelPort-2\x20nSubPort:%d\x20bUsed：%d','color:\x20red',_0x29a541,this['stFishEyeManager'][_0x29a541]['bUsed']),this['FECErrorCode']=_0x416ba2,0x0):(this['stFishEyeManager'][_0x29a541]['nSubPort']=0x0,this['stFishEyeManager'][_0x29a541]['sCanvasID']=null,this['stFishEyeManager'][_0x29a541]['bUsed']=0x0,this['stFishEyeManager'][_0x29a541]['bInited']=0x0,this['stFishEyeManager'][_0x29a541]['nValidSubPort']=0x0,this['stFishEyeManager'][_0x29a541]['emPlaceType']=_0x425a4f,this['stFishEyeManager'][_0x29a541]['emCorrectType']=_0x3a439c,this['stFishEyeManager'][_0x29a541]['emEffect']=_0x15ec38['SR_DE_FISH_ORIGINAL'],this['stFishParam'][_0x29a541]['stCycleParam']['fRadiusLeft']=0x0,this['stFishParam'][_0x29a541]['stCycleParam']['fRadiusRight']=0x1,this['stFishParam'][_0x29a541]['stCycleParam']['fRadiusTop']=0x0,this['stFishParam'][_0x29a541]['stCycleParam']['fRadiusBottom']=0x1,this['subPortNum']>0x0&&this['subPortNum']--,0x1);}},{'key':'FEC_SetParam','value':function(_0x1d67c4,_0x2cd7f5){if(this['FECErrorCode']=0x0,_0x1d67c4<0x0||_0x1d67c4>0x1f||null==_0x1d67c4)return console['info']('%c\x20FEC_SetParam-1\x20nSubPort:%d','color:\x20red',_0x1d67c4),this['FECErrorCode']=_0x577a6f,0x0;if(null==this['stFishEyeManager'][_0x1d67c4]['pRender'])return console['info']('%c\x20FEC_SetParam-2\x20nSubPort:%d\x20pRender:%d','color:\x20red',_0x1d67c4,this['stFishEyeManager'][_0x1d67c4]['pRender']),this['FECErrorCode']=_0x1ce992,0x0;if(0x0==this['stFishEyeManager'][_0x1d67c4]['bUsed'])return console['info']('%c\x20FEC_SetParam-3\x20nSubPort:%d\x20bUsed:%d','color:\x20red',_0x1d67c4,this['stFishEyeManager'][_0x1d67c4]['bUsed']),this['FECErrorCode']=_0x416ba2,0x0;if(this['stFishEyeManager'][_0x1d67c4]['emCorrectType']>=_0x18400f&&this['stFishEyeManager'][_0x1d67c4]['emCorrectType']<=_0x341433&&0x1e&_0x2cd7f5['upDateType'])return console['info']('%c\x20FEC_SetParam-4\x20nSubPort:%d\x20not\x203D','color:\x20red',_0x1d67c4),this['FECErrorCode']=_0x5921f7,0x0;if(_0x3340d2&_0x2cd7f5['upDateType']){if(null==_0x2cd7f5['stCycleParam'])return this['FECErrorCode']=_0xd25aa1,0x0;for(var _0x6fdc43=0x1;_0x6fdc43<_0x13037e;_0x6fdc43++){if(this['stFishEyeManager'][_0x6fdc43]['bUsed']&&this['stFishEyeManager'][_0x6fdc43]['nSubPort']&&_0x692cc7==this['stFishEyeManager'][_0x6fdc43]['emCorrectType']&&(_0x2cd7f5['stCycleParam']['fRadiusLeft']<=-0.5||_0x2cd7f5['stCycleParam']['fRadiusLeft']>=0.4||_0x2cd7f5['stCycleParam']['fRadiusRight']<=0.6||_0x2cd7f5['stCycleParam']['fRadiusRight']>=1.5||_0x2cd7f5['stCycleParam']['fRadiusTop']<=-0.5||_0x2cd7f5['stCycleParam']['fRadiusTop']>0x0||_0x2cd7f5['stCycleParam']['fRadiusBottom']<0x1||_0x2cd7f5['stCycleParam']['fRadiusBottom']>=1.5||_0x2cd7f5['stCycleParam']['fRadiusLeft']+_0x2cd7f5['stCycleParam']['fRadiusRight']<=0.8||_0x2cd7f5['stCycleParam']['fRadiusLeft']+_0x2cd7f5['stCycleParam']['fRadiusRight']>=1.2||_0x2cd7f5['stCycleParam']['fRadiusTop']+_0x2cd7f5['stCycleParam']['fRadiusBottom']<=0.8||_0x2cd7f5['stCycleParam']['fRadiusTop']+_0x2cd7f5['stCycleParam']['fRadiusBottom']>=1.2))return this['FECErrorCode']=_0xd25aa1,0x0;if(this['stFishEyeManager'][_0x6fdc43]['bUsed']&&this['stFishEyeManager'][_0x6fdc43]['nSubPort']&&_0x341433==this['stFishEyeManager'][_0x6fdc43]['emCorrectType']&&(_0x2cd7f5['stCycleParam']['fRadiusLeft']<=-0.5||_0x2cd7f5['stCycleParam']['fRadiusLeft']>0x0||_0x2cd7f5['stCycleParam']['fRadiusRight']<0x1||_0x2cd7f5['stCycleParam']['fRadiusRight']>=1.5||_0x2cd7f5['stCycleParam']['fRadiusTop']<=-0.5||_0x2cd7f5['stCycleParam']['fRadiusTop']>=0.4||_0x2cd7f5['stCycleParam']['fRadiusBottom']<=0.6||_0x2cd7f5['stCycleParam']['fRadiusBottom']>=1.5||_0x2cd7f5['stCycleParam']['fRadiusLeft']+_0x2cd7f5['stCycleParam']['fRadiusRight']<=0.8||_0x2cd7f5['stCycleParam']['fRadiusLeft']+_0x2cd7f5['stCycleParam']['fRadiusRight']>=1.2||_0x2cd7f5['stCycleParam']['fRadiusTop']+_0x2cd7f5['stCycleParam']['fRadiusBottom']<=0.8||_0x2cd7f5['stCycleParam']['fRadiusTop']+_0x2cd7f5['stCycleParam']['fRadiusBottom']>=1.2))return this['FECErrorCode']=_0xd25aa1,0x0;}}if(0x0==this['stFishEyeManager'][_0x1d67c4]['bInited']){if(_0x79dfd5&_0x2cd7f5['upDateType']){if(_0x59f1da!=this['stFishEyeManager'][_0x1d67c4]['emCorrectType']&&_0x11078b!=this['stFishEyeManager'][_0x1d67c4]['emCorrectType']||_0x532461==this['stFishEyeManager'][_0x1d67c4]['emPlaceType'])return this['FECErrorCode']=_0x5921f7,0x0;for(var _0x5f4fc0=0x1;_0x5f4fc0<_0x13037e;_0x5f4fc0++)if(this['stFishEyeManager'][_0x5f4fc0]['nSubPort']&&this['stFishEyeManager'][_0x5f4fc0]['bUsed']&&this['stFishEyeManager'][_0x5f4fc0]['emCorrectType']==_0x817799)return this['FECErrorCode']=_0x5c9ed2,0x0;this['stFishParam'][_0x1d67c4]['fWideScanOffset']=_0x2cd7f5['fValue'];}if(_0x39010f&_0x2cd7f5['upDateType']){if(null==_0x2cd7f5['stPTZColor'])return this['FECErrorCode']=_0xd25aa1,0x0;if(_0x2cd7f5['stPTZColor']['nR']>0xff||_0x2cd7f5['stPTZColor']['nG']>0xff||_0x2cd7f5['stPTZColor']['nB']>0xff||_0x2cd7f5['stPTZColor']['nAlpha']>0xff)return this['FECErrorCode']=_0x5921f7,0x0;this['stFishParam'][_0x1d67c4]['stPTZColor']['nR']=_0x2cd7f5['stPTZColor']['nR'],this['stFishParam'][_0x1d67c4]['stPTZColor']['nG']=_0x2cd7f5['stPTZColor']['nG'],this['stFishParam'][_0x1d67c4]['stPTZColor']['nB']=_0x2cd7f5['stPTZColor']['nB'],this['stFishParam'][_0x1d67c4]['stPTZColor']['nAlpha']=_0x2cd7f5['stPTZColor']['nAlpha'];}if(_0x943383&_0x2cd7f5['upDateType']){if(_0x817799!=this['stFishEyeManager'][_0x1d67c4]['emCorrectType'])return this['FECErrorCode']=_0x5921f7,0x0;this['stFishParam'][_0x1d67c4]['stPTZParam']['fPTZPositionX']=_0x2cd7f5['fPTZParam']['fPTZPositionX'],this['stFishParam'][_0x1d67c4]['stPTZParam']['fPTZPositionY']=_0x2cd7f5['fPTZParam']['fPTZPositionY'];}if(_0x19d487&_0x2cd7f5['upDateType']){if(_0x817799!=this['stFishEyeManager'][_0x1d67c4]['emCorrectType'])return this['FECErrorCode']=_0x5921f7,0x0;this['stFishParam'][_0x1d67c4]['fZoom']=_0x2cd7f5['fPTZZoom'];}if(_0x31a4f6&_0x2cd7f5['upDateType']){if(null==this['stFishParam']['stPTZSelect'])return 0x0;if(_0x817799!=this['stFishEyeManager'][_0x1d67c4]['emCorrectType'])return this['FECErrorCode']=_0x5921f7,0x0;this['stFishParam']['stPTZSelect']['fTop']=_0x2cd7f5['stPTZSelect']['fTop'],this['stFishParam']['stPTZSelect']['fBottom']=_0x2cd7f5['stPTZSelect']['fBottom'],this['stFishParam']['stPTZSelect']['fLeft']=_0x2cd7f5['stPTZSelect']['fLeft'],this['stFishParam']['stPTZSelect']['fRight']=_0x2cd7f5['stPTZSelect']['fRight'];}if(_0x3340d2&_0x2cd7f5['upDateType']){if(null==_0x2cd7f5['stCycleParam'])return this['FECErrorCode']=_0xd25aa1,0x0;if(0x0==this['_IsValidRadiusParam'](_0x2cd7f5['stCycleParam']))return this['FECErrorCode']=_0xd25aa1,0x0;this['stFishParam'][0x0]['stCycleParam']['fRadiusLeft']=_0x2cd7f5['stCycleParam']['fRadiusLeft'],this['stFishParam'][0x0]['stCycleParam']['fRadiusRight']=_0x2cd7f5['stCycleParam']['fRadiusRight'],this['stFishParam'][0x0]['stCycleParam']['fRadiusTop']=_0x2cd7f5['stCycleParam']['fRadiusTop'],this['stFishParam'][0x0]['stCycleParam']['fRadiusBottom']=_0x2cd7f5['stCycleParam']['fRadiusBottom'];}return 0x1;}if(_0x79dfd5&_0x2cd7f5['upDateType']){if(_0x59f1da!=this['stFishEyeManager'][_0x1d67c4]['emCorrectType']&&_0x11078b!=this['stFishEyeManager'][_0x1d67c4]['emCorrectType']||_0x532461==this['stFishEyeManager'][_0x1d67c4]['emPlaceType'])return this['FECErrorCode']=_0x5921f7,0x0;for(var _0x482f65=0x1;_0x482f65<_0x13037e;_0x482f65++)if(this['stFishEyeManager'][_0x482f65]['nSubPort']&&this['stFishEyeManager'][_0x482f65]['bUsed']&&this['stFishEyeManager'][_0x482f65]['emCorrectType']==_0x817799)return this['FECErrorCode']=_0x5c9ed2,0x0;var _0x3bb4da={};if(_0x3bb4da['nFishParamType']=_0x3b6e77,_0x3bb4da['bBlack']=0x0,_0x3bb4da['fAngle']=_0x2cd7f5['fValue'],_0x24d60c!=this['stFishEyeManager'][_0x1d67c4]['pRender']['SR_SetFishParam'](_0x3bb4da))return this['FECErrorCode']=_0x5c9ed2,0x0;this['stFishParam'][_0x1d67c4]['fWideScanOffset']=_0x2cd7f5['fValue'];}if(_0x39010f&_0x2cd7f5['upDateType']){if(null==_0x2cd7f5['stPTZColor'])return this['FECErrorCode']=_0x5921f7,0x0;if(_0x2cd7f5['stPTZColor']['nR']>0xff||_0x2cd7f5['stPTZColor']['nG']>0xff||_0x2cd7f5['stPTZColor']['nB']>0xff||_0x2cd7f5['stPTZColor']['nAlpha']>0xff)return this['FECErrorCode']=_0x5921f7,0x0;var _0x9fc4f4={};_0x9fc4f4['fR']=float(_0x2cd7f5['stPTZColor']['nR']/0xff),_0x9fc4f4['fG']=float(_0x2cd7f5['stPTZColor']['nG']/0xff),_0x9fc4f4['fB']=float(_0x2cd7f5['stPTZColor']['nB']/0xff),_0x9fc4f4['fA']=float(_0x2cd7f5['stPTZColor']['nAlpha']/0xff),this['stFishParam'][_0x1d67c4]['stPTZColor']['nR']=_0x2cd7f5['stPTZColor']['nR'],this['stFishParam'][_0x1d67c4]['stPTZColor']['nG']=_0x2cd7f5['stPTZColor']['nG'],this['stFishParam'][_0x1d67c4]['stPTZColor']['nB']=_0x2cd7f5['stPTZColor']['nB'],this['stFishParam'][_0x1d67c4]['stPTZColor']['nAlpha']=_0x2cd7f5['stPTZColor']['nAlpha'];}if(_0x943383&_0x2cd7f5['upDateType']){if(_0x817799!=this['stFishEyeManager'][_0x1d67c4]['emCorrectType'])return this['FECErrorCode']=_0x5921f7,0x0;var _0x7fe93c={};_0x7fe93c['nFishParamType']=_0xfa5c36,_0x7fe93c['bBlack']=0x0,_0x7fe93c['fPTZX']=_0x2cd7f5['fPTZParam']['fPTZPositionX'],_0x7fe93c['fPTZY']=_0x2cd7f5['fPTZParam']['fPTZPositionY'];var _0x30a8ee=this['stFishEyeManager'][_0x1d67c4]['pRender']['SR_SetFishParam'](_0x7fe93c);if(_0x24d60c!=_0x30a8ee)return this['FECErrorCode']=_0x5c9ed2,0x0;this['stFishParam'][_0x1d67c4]['stPTZParam']['fPTZPositionX']=_0x2cd7f5['fPTZParam']['fPTZPositionX'],this['stFishParam'][_0x1d67c4]['stPTZParam']['fPTZPositionY']=_0x2cd7f5['fPTZParam']['fPTZPositionY'];}if(_0x19d487&_0x2cd7f5['upDateType']){if(_0x817799!=this['stFishEyeManager'][_0x1d67c4]['emCorrectType'])return this['FECErrorCode']=_0x5921f7,0x0;var _0x4f5a30={};if(_0x4f5a30['nFishParamType']=_0x3eed3e,_0x4f5a30['bBlack']=0x0,_0x4f5a30['fZoom']=_0x2cd7f5['fPTZZoom'],_0x24d60c!=this['stFishEyeManager'][_0x1d67c4]['pRender']['SR_SetFishParam'](_0x4f5a30))return this['FECErrorCode']=_0x5c9ed2,0x0;this['stFishParam'][_0x1d67c4]['fZoom']=_0x2cd7f5['fPTZZoom'];}if(_0x3340d2&_0x2cd7f5['upDateType']){if(0x0==this['_IsValidRadiusParam'](_0x2cd7f5['stCycleParam']))return this['FECErrorCode']=_0xd25aa1,0x0;var _0x26ba56={};if(_0x26ba56['nFishParamType']=_0x485c73,_0x26ba56['bBlack']=0x1,_0x26ba56['fRXLeft']=_0x2cd7f5['stCycleParam']['fRadiusLeft'],_0x26ba56['fRXRight']=_0x2cd7f5['stCycleParam']['fRadiusRight'],_0x26ba56['fRYTop']=_0x2cd7f5['stCycleParam']['fRadiusTop'],_0x26ba56['fRYBottom']=_0x2cd7f5['stCycleParam']['fRadiusBottom'],_0x24d60c!=this['stFishEyeManager'][_0x1d67c4]['pRender']['SR_SetFishParam'](this['stFishEyeManager'][_0x1d67c4]['nValidSubPort'],_0x26ba56))return this['FECErrorCode']=_0xd25aa1,0x0;this['stFishParam'][0x0]['stCycleParam']['fRadiusLeft']=_0x2cd7f5['stCycleParam']['fRadiusLeft'],this['stFishParam'][0x0]['stCycleParam']['fRadiusRight']=_0x2cd7f5['stCycleParam']['fRadiusRight'],this['stFishParam'][0x0]['stCycleParam']['fRadiusTop']=_0x2cd7f5['stCycleParam']['fRadiusTop'],this['stFishParam'][0x0]['stCycleParam']['fRadiusBottom']=_0x2cd7f5['stCycleParam']['fRadiusBottom'];}return _0x31a4f6&_0x2cd7f5['upDateType']&&_0x817799==this['stFishEyeManager'][_0x1d67c4]['emCorrectType']&&_0x24d60c!=this['stFishEyeManager'][_0x1d67c4]['pRender']['SR_SetFishParam'](this['stFishEyeManager'][_0x1d67c4]['stPTZSelect'])?(this['FECErrorCode']=0x513,0x0):0x1;}},{'key':'FEC_GetParam','value':function(_0xfacd1a,_0x36523d){return _0xfacd1a<0x0||_0xfacd1a>0x1f||null==_0xfacd1a?(console['info']('%c\x20FEC_GetParam-1\x20nSubPort:%d','color:\x20red',_0xfacd1a),this['FECErrorCode']=_0x577a6f,0x0):null==this['stFishEyeManager'][_0xfacd1a]['pRender']?(console['info']('%c\x20FEC_GetParam-2\x20pRender:%d','color:\x20red',this['stFishEyeManager'][_0xfacd1a]['pRender']),this['FECErrorCode']=_0x1ce992,0x0):(this['stFishEyeManager'][_0xfacd1a]['pRender']['SR_GetFishParam'](_0x36523d),_0x36523d['emCorrectType']=this['stFishEyeManager'][_0xfacd1a]['emCorrectType'],0x1);}},{'key':'_IsValidRadiusParam','value':function(_0x240134){return _0x240134['fRadiusBottom']<=_0x240134['fRadiusTop']||_0x240134['fRadiusRight']<=_0x240134['fRadiusLeft']?0x0:0x1;}},{'key':'FEC_SetViewParam','value':function(_0x333143,_0x22a961,_0x174700){return _0x333143<0x0||_0x333143>0x1f||null==_0x333143?(console['info']('%c\x20FEC_SetViewParam-1\x20nSubPort:%d','color:\x20red',_0x333143),this['FECErrorCode']=_0x577a6f,0x0):null==this['stFishEyeManager'][_0x333143]['pRender']?(console['info']('%c\x20FEC_SetViewParam-2\x20pRender:%d','color:\x20red',this['stFishEyeManager'][_0x333143]['pRender']),this['FECErrorCode']=_0x1ce992,0x0):_0x22a961<_0x3daa26||_0x22a961>_0x25f1a7?(this['FECErrorCode']=_0x59cdd1,0x0):(this['FECErrorCode']=0x0,0x0==this['stFishEyeManager'][_0x333143]['bInited']?(this['FECErrorCode']=_0x416ba2,0x0):_0x18400f<=this['stFishEyeManager'][_0x333143]['emCorrectType']?_0x24d60c!=this['stFishEyeManager'][_0x333143]['pRender']['SR_SetViewParam'](_0x22a961,_0x174700)?(this['FECErrorCode']=_0x59cdd1,0x0):0x1:(this['FECErrorCode']=_0x5921f7,0x0));}},{'key':'FEC_GetViewParam','value':function(_0x4798ac,_0x28290b,_0x1e5ea2){if(_0x1e5ea2['fValue']=-0x1,_0x4798ac<0x0||_0x4798ac>0x1f||null==_0x4798ac)return console['info']('%c\x20FEC_GetViewParam-1\x20nSubPort:%d','color:\x20red',_0x4798ac),this['FECErrorCode']=_0x577a6f,0x0;if(null==this['stFishEyeManager'][_0x4798ac]['pRender'])return console['info']('%c\x20FEC_GetViewParam-2\x20pRender:%d','color:\x20red',this['stFishEyeManager'][_0x4798ac]['pRender']),this['FECErrorCode']=_0x1ce992,0x0;if(_0x28290b<0x1||_0x28290b>0x3||0x0==this['stFishEyeManager'][_0x4798ac]['bInited'])return 0x0;if(_0x18400f<=this['stFishEyeManager'][_0x4798ac]['emCorrectType'])this['stFishEyeManager'][_0x4798ac]['pRender']['SR_GetViewParam'](_0x28290b,_0x1e5ea2);return 0x1;}},{'key':'FEC_SetDisplayRegion','value':function(_0x28ceb2,_0x5e4b2e,_0x36770c,_0x51aa7d,_0x147751,_0x568fd5,_0x423482){return _0x28ceb2<0x0||_0x28ceb2>0x1f||null==_0x28ceb2?(console['info']('%c\x20FEC_SetDisplayRegion-1\x20nSubPort:%d','color:\x20red',_0x28ceb2),this['FECErrorCode']=_0x577a6f,0x0):null==this['stFishEyeManager'][_0x28ceb2]['pRender']?(console['info']('%c\x20FEC_SetDisplayRegion-2\x20pRender:%d','color:\x20red',this['stFishEyeManager'][_0x28ceb2]['pRender']),this['FECErrorCode']=_0x1ce992,0x0):0x0!=_0x5e4b2e||0x0!=_0x36770c?(this['FECErrorCode']=_0x59cdd1,0x0):this['stFishEyeManager'][_0x28ceb2]['emCorrectType']!=_0x3a439c&&this['stFishEyeManager'][_0x28ceb2]['emCorrectType']!=_0x59f1da&&this['stFishEyeManager'][_0x28ceb2]['emCorrectType']!=_0x11078b&&this['stFishEyeManager'][_0x28ceb2]['emCorrectType']!=_0x374a1a?(this['FECErrorCode']=_0x2d9b3d,0x0):0x0==this['stFishEyeManager'][_0x28ceb2]['bInited']?(this['FECErrorCode']=_0x416ba2,0x0):_0x51aa7d<0x0||_0x147751<0x0||_0x568fd5<0x0||_0x423482<0x0?(this['FECErrorCode']=_0x59cdd1,0x0):_0x24d60c!=this['stFishEyeManager'][_0x28ceb2]['pRender']['SR_SetDisplayRect'](_0x51aa7d,_0x147751,_0x568fd5,_0x423482,_0x3f510a)?(this['FECErrorCode']=0x511,0x0):0x1;}},{'key':'FEC_SetBackCilling','value':function(_0x1ab6ce,_0x254679){return _0x1ab6ce<0x0||_0x1ab6ce>0x1f||null==_0x1ab6ce?(this['FECErrorCode']=_0x577a6f,0x0):null==this['stFishEyeManager'][_0x1ab6ce]['pRender']?(this['FECErrorCode']=_0x1ce992,0x0):0x0==this['stFishEyeManager'][_0x1ab6ce]['bInited']?(this['FECErrorCode']=_0x416ba2,0x0):_0x24d60c!=this['stFishEyeManager'][_0x1ab6ce]['pRender']['SR_SetRenderState'](_0x5b0220,_0x254679)?(this['FECErrorCode']=0x511,0x0):0x1;}},{'key':'FEC_GetPTZPort','value':function(_0xad00ba,_0x347b19,_0x45b5e5){if(null!=this['stFishEyeManager'][_0xad00ba]['pRender']){var _0x5e3db6={'nPTZPort':-0x1};if(this['stFishEyeManager'][_0xad00ba]['pRender']['SR_GetPTZPort'](_0x347b19,_0x45b5e5,_0x5e3db6)==_0x24d60c)return _0x5e3db6['nPTZPort'];}return -0x1;}},{'key':'FEC_SetPTZDisplayMode','value':function(_0x44abf8){return _0x44abf8>=0x0&&_0x44abf8<=0x2?(null!=this['stFishEyeManager'][0x0]['pRender']&&this['stFishEyeManager'][0x0]['pRender']['SR_SetPTZDisplayMode'](_0x44abf8),this['FECShowMode']=_0x44abf8,0x1):(console['info']('%c\x20FEC_SetPTZDisplayMode\x20ptzMode:%d','color:\x20red',_0x44abf8),0x0);}},{'key':'CheckFrameRGB','value':function(_0x2ab762,_0x14c9e8,_0x517207,_0x4ee1d2,_0x20c1c2,_0x3bb473){if(null==_0x2ab762)return 0x0;for(var _0x597852=_0x2ab762['width']/(_0x4ee1d2-0x1),_0x12699f=_0x2ab762['height']/(_0x517207-0x1),_0x397275=0x0,_0x4ac07f=0x0,_0xc28708=[],_0x5a0f8d=0x0;_0x5a0f8d<_0x517207*_0x4ee1d2;_0x5a0f8d++)_0xc28708[_0x5a0f8d]=0x0,this['aPOSAdaptBuf'][_0x5a0f8d]=0x0;if(_0x14c9e8){for(var _0x232223=0x0,_0x5a6f16=0x0;_0x5a6f16<_0x2ab762['height'];_0x5a6f16++)for(var _0x3d5304=0x0;_0x3d5304<_0x2ab762['width'];_0x3d5304++){_0x397275=(_0x397275=Math['round'](_0x3d5304/(_0x597852/0x2)/0x2))<_0x4ee1d2?_0x397275:_0x4ee1d2-0x1,_0x4ac07f=(_0x4ac07f=Math['round'](_0x5a6f16/(_0x12699f/0x2)/0x2))<_0x517207?_0x4ac07f:_0x517207-0x1;var _0x3fe4e5=_0x2ab762['pBuffer'][_0x232223],_0x114919=_0x2ab762['pBuffer'][_0x232223+0x1],_0x50d1dd=_0x2ab762['pBuffer'][_0x232223+0x2],_0x188a33=Math['round'](0.299*_0x3fe4e5+0.587*_0x114919+0.114*_0x50d1dd);this['aPOSAdaptBuf'][_0x397275+_0x4ac07f*_0x4ee1d2]+=_0x188a33,_0xc28708[_0x397275+_0x4ac07f*_0x4ee1d2]++,_0x232223+=0x4;}for(var _0x5ad29e=0x0,_0x45adb1=0x0;_0x45adb1<_0x517207*_0x4ee1d2;_0x45adb1++)_0x5ad29e=this['aPOSAdaptBuf'][_0x45adb1]/_0xc28708[_0x45adb1],this['aPOSAdaptBuf'][_0x45adb1]=_0x5ad29e>0x80?0x0:0x1;}else {for(var _0x397975=Math['round'](_0x20c1c2*_0x2ab762['width']),_0x590965=Math['round'](_0x3bb473*_0x2ab762['height']),_0x5d4183=_0x590965-0x2;_0x5d4183<_0x590965+0x2;_0x5d4183++)for(var _0x33483a=_0x397975-0x2;_0x33483a<_0x397975+0x2;_0x33483a++){var _0x4f81ed=0x4*Math['floor']((0x4*_0x33483a+_0x5d4183*_0x2ab762['width']*0x4)/0x4),_0x4fe8fa=_0x2ab762['pBuffer'][_0x4f81ed],_0x336ea8=_0x2ab762['pBuffer'][_0x4f81ed+0x1],_0x18e3f2=_0x2ab762['pBuffer'][_0x4f81ed+0x2],_0x5d79ad=Math['round'](0.299*_0x4fe8fa+0.587*_0x336ea8+0.114*_0x18e3f2);this['aPOSAdaptBuf'][0x0]+=_0x5d79ad,_0xc28708[0x0]++;}this['aPOSAdaptBuf'][0x0]=this['aPOSAdaptBuf'][0x0]/_0xc28708[0x0]>0x80?0x0:0x1;}return 0x1;}},{'key':'GetWaterFontParam','value':function(_0x4259d4){var _0x20f66b=_0x4259d4['pFontString']['length'],_0x4b5e15=_0x4259d4['pstFontRotate']['fRotateAngle']%0x168/0x168*0x2*Math['PI'],_0x24cc24=Math['min'](_0x4259d4['pstFontSize']['nFontWidth'],_0x4259d4['pstFontSize']['nFontHeight']),_0xecf1d1=_0x24cc24/this['mainCanvasID']['width'],_0x1dc3d5=_0x24cc24/this['mainCanvasID']['height'],_0x1a8dd8=_0xecf1d1*Math['cos'](Math['PI']/0x2-_0x4b5e15)*_0x4259d4['pSpace'],_0x4fd4eb=_0x1dc3d5*Math['sin'](Math['PI']/0x2-_0x4b5e15)*_0x4259d4['pSpace'],_0xf181d2=[],_0x3d9f5a=[],_0x101f49=[];if(_0x4259d4['nFontAlign']){for(var _0x3308a8=0x0;_0x3308a8<_0x20f66b;_0x3308a8++)_0xf181d2[_0x3308a8]=_0x4259d4['pFontString'][0x0]['length']*_0xecf1d1/0x6,_0x3d9f5a[_0x3308a8]=Math['atan2'](_0xf181d2[0x0],_0x4fd4eb),_0x101f49[_0x3308a8]=Math['sqrt'](_0xf181d2[0x0]*_0xf181d2[0x0],_0x4fd4eb*_0x4fd4eb);}else {for(var _0x586fa3=0x0;_0x586fa3<_0x20f66b;_0x586fa3++)_0xf181d2[_0x586fa3]=0x0,_0x3d9f5a[_0x586fa3]=0x0,_0x101f49[_0x586fa3]=0x0;}var _0x38ea4a=Math['floor'](_0x4259d4['pstFontNumber']['nRowNumber']),_0x2bf77d=Math['floor'](_0x4259d4['pstFontNumber']['nColNumber']),_0x3df350=_0x38ea4a*_0x2bf77d;if(_0x4259d4['pstFontRotate']['fFillFullScreen']){for(var _0x564f1b=[],_0x30f807=[],_0x1864d9=0x1/(_0x38ea4a-0x1),_0x2d534c=0x0;_0x2d534c<_0x38ea4a;_0x2d534c++)_0x564f1b[_0x2d534c]=_0x1864d9*_0x2d534c-_0x4fd4eb*((_0x20f66b-0x1)/0x2);for(var _0x314121=0x1/(_0x2bf77d-0x1),_0x4f5588=0x0;_0x4f5588<_0x2bf77d;_0x4f5588++)_0x30f807[_0x4f5588]=_0x314121*_0x4f5588+_0x1a8dd8*((_0x20f66b-0x1)/0x2);for(var _0x3c715d=0x0;_0x3c715d<_0x3df350;++_0x3c715d)for(var _0x3a938c=0x0;_0x3a938c<_0x20f66b;_0x3a938c++){this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]={},this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['pString']=_0x4259d4['pFontString'][_0x3a938c],this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['nFontWidth']=_0x24cc24,this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['nFontHeight']=_0x24cc24,this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['pstStartPos']={};var _0x57a07e=_0x3c715d%_0x2bf77d,_0x38473e=Math['floor'](_0x3c715d/_0x2bf77d),_0x2f1881=Math['PI']/0x2-_0x4b5e15+_0x3d9f5a[_0x3a938c];this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['pstStartPos']['fX']=_0x30f807[_0x57a07e]-_0x3a938c*_0x1a8dd8+_0x101f49[_0x3a938c]*Math['cos'](_0x2f1881),this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['pstStartPos']['fY']=_0x564f1b[_0x38473e]+_0x3a938c*_0x4fd4eb-_0x101f49[_0x3a938c]*Math['sin'](_0x2f1881),_0x4259d4['nColorAdapt']?(this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['pstFontColor']={},this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['pstFontColor']['fR']=this['aPOSAdaptBuf'][_0x3c715d],this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['pstFontColor']['fG']=this['aPOSAdaptBuf'][_0x3c715d],this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['pstFontColor']['fB']=this['aPOSAdaptBuf'][_0x3c715d],this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['pstFontColor']['fA']=_0x4259d4['pstFontColor']['fA']):this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['pstFontColor']=_0x4259d4['pstFontColor'],this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['bBackGround']=!0x1,this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['pstBGColor']=null,this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['fRotateAngle']=_0x4259d4['pstFontRotate']['fRotateAngle'],this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['pFontFamily']=_0x4259d4['pFontFamily'],_0x4259d4['nFontAlign']?(this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['textAlign']='left',this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['textBaseline']='top'):(this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['textAlign']='center',this['pWaterFontParam'][_0x20f66b*_0x3c715d+_0x3a938c]['textBaseline']='middle');}}else {for(var _0x2ebc79=0x0;_0x2ebc79<_0x4259d4['pFontString']['length'];_0x2ebc79++)this['pWaterFontParam'][_0x2ebc79]={},this['pWaterFontParam'][_0x2ebc79]['pString']=_0x4259d4['pFontString'][_0x2ebc79],this['pWaterFontParam'][_0x2ebc79]['nFontWidth']=_0x24cc24,this['pWaterFontParam'][_0x2ebc79]['nFontHeight']=_0x24cc24,this['pWaterFontParam'][_0x2ebc79]['pstStartPos']={},this['pWaterFontParam'][_0x2ebc79]['pstStartPos']['fX']=_0x4259d4['pstStartPos']['fX']-_0x2ebc79*_0x1a8dd8,this['pWaterFontParam'][_0x2ebc79]['pstStartPos']['fY']=_0x4259d4['pstStartPos']['fY']+_0x2ebc79*_0x4fd4eb,_0x4259d4['nColorAdapt']?(this['pWaterFontParam'][_0x2ebc79]['pstFontColor']={},this['pWaterFontParam'][_0x2ebc79]['pstFontColor']['fR']=this['aPOSAdaptBuf'][0x0],this['pWaterFontParam'][_0x2ebc79]['pstFontColor']['fG']=this['aPOSAdaptBuf'][0x0],this['pWaterFontParam'][_0x2ebc79]['pstFontColor']['fB']=this['aPOSAdaptBuf'][0x0],this['pWaterFontParam'][_0x2ebc79]['pstFontColor']['fA']=_0x4259d4['pstFontColor']['fA']):this['pWaterFontParam'][_0x2ebc79]['pstFontColor']=_0x4259d4['pstFontColor'],this['pWaterFontParam'][_0x2ebc79]['bBackGround']=!0x1,this['pWaterFontParam'][_0x2ebc79]['pstBGColor']=null,this['pWaterFontParam'][_0x2ebc79]['fRotateAngle']=_0x4259d4['pstFontRotate']['fRotateAngle'],this['pWaterFontParam'][_0x2ebc79]['pFontFamily']=_0x4259d4['pFontFamily'],_0x4259d4['nFontAlign']?(this['pWaterFontParam'][_0x2ebc79]['textAlign']='left',this['pWaterFontParam'][_0x2ebc79]['textBaseline']='top'):(this['pWaterFontParam'][_0x2ebc79]['textAlign']='center',this['pWaterFontParam'][_0x2ebc79]['textBaseline']='middle');}return 0x1;}},{'key':'SetWaterMarkFont','value':function(_0x344167,_0x7319a1){if(this['pWaterFontParam']['splice'](0x0,this['pWaterFontParam']['length']),null===_0x344167)return 0x1;if(_0x344167['nColorAdapt']){var _0xa5f11c={'nWidth':0x10,'nHeight':0x10,'nBufferLen':0x0},_0x5f081c=this['oVideoHandle']['SR_GetCaptureSize'](_0xa5f11c);if(_0x24d60c==_0x5f081c){var _0x1340ae=new Uint8Array(_0xa5f11c['nBufferLen']),_0xcdbc32={};if(_0xcdbc32['pBuffer']=_0x1340ae,this['oVideoHandle']['SR_CaptureScreen'](_0xcdbc32),_0xcdbc32['width']=_0xa5f11c['nWidth'],_0xcdbc32['height']=_0xa5f11c['nHeight'],_0x344167['pstFontRotate']['fFillFullScreen']){var _0x55933f=Math['floor'](_0x344167['pstFontNumber']['nRowNumber']),_0x1f252f=Math['floor'](_0x344167['pstFontNumber']['nColNumber']);this['CheckFrameRGB'](_0xcdbc32,0x1,_0x55933f,_0x1f252f,0x0,0x0);}else this['CheckFrameRGB'](_0xcdbc32,0x0,0x1,0x1,_0x344167['pstStartPos']['fX'],_0x344167['pstStartPos']['fY']);_0x1340ae=null;}}return this['GetWaterFontParam'](_0x344167),0x1;}},{'key':'ImageDecoder','value':function(_0x32f2ac,_0x9016ca,_0x5ff4c4){var _0x2416ee=this;_0x32f2ac['decode']({'frameIndex':_0x5ff4c4})['then'](function(_0x332d66){_0x2416ee['pWaterImageParam'][_0x5ff4c4]={},_0x2416ee['pWaterImageParam'][_0x5ff4c4]['videoStream']=_0x332d66['image'],_0x2416ee['pWaterImageParam'][_0x5ff4c4]['nImageWidth']=_0x332d66['image']['displayWidth'],_0x2416ee['pWaterImageParam'][_0x5ff4c4]['nImageHeight']=_0x332d66['image']['displayHeight'],null!=_0x9016ca['pstRectPos']?_0x2416ee['pWaterImageParam'][_0x5ff4c4]['pstRectPos']=_0x9016ca['pstRectPos']:_0x2416ee['pWaterImageParam'][_0x5ff4c4]['pstRectPos']={'fLeft':0x0,'fRight':0.1,'fTop':0x0,'fBottom':0.1},null!=_0x9016ca['fAlpha']&&_0x9016ca['fAlpha']<=0x1&&_0x9016ca['fAlpha']>=0x0?_0x2416ee['pWaterImageParam'][_0x5ff4c4]['fAlpha']=_0x9016ca['fAlpha']:_0x2416ee['pWaterImageParam'][_0x5ff4c4]['fAlpha']=0x1,_0x2416ee['waterMarkImageMax']=_0x32f2ac['tracks']['selectedTrack']['frameCount'],_0x5ff4c4<_0x32f2ac['tracks']['selectedTrack']['frameCount']-0x1&&_0x2416ee['ImageDecoder'](_0x32f2ac,_0x9016ca,_0x5ff4c4+0x1);});}},{'key':'SetWaterMarkImage','value':function(_0x31612a){if(this['pWaterImageParam']['splice'](0x0,this['pWaterImageParam']['length']),null===_0x31612a)return 0x1;if(null!=_0x31612a['pImageData']){var _0x67c15f=new ImageDecoder({'data':_0x31612a['pImageData'],'type':'image/'+_0x31612a['pImageType']});_0x67c15f['tracks']['ready']['then'](function(){}),this['ImageDecoder'](_0x67c15f,_0x31612a,0x0);}return this['waterMarkImageIndex']=0x0,0x1;}},{'key':'_ConvertDisplayEffect','value':function(_0x4556f8,_0x2d1b34){switch(_0x4556f8){case _0x532461:return _0x817799==_0x2d1b34?_0x15ec38['SR_DE_FISH_PTZ_WALL']:_0x11078b==_0x2d1b34||_0x374a1a==_0x2d1b34?_0x15ec38['SR_DE_FISH_PANORAMA_WALL']:_0x18400f==_0x2d1b34?_0x15ec38['SR_DE_FISH_SEMISPHERE']:_0x1fd508==_0x2d1b34?_0x15ec38['SR_DE_FISH_PLANET']:_0x692cc7==_0x2d1b34?_0x15ec38['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']:_0x341433==_0x2d1b34?_0x15ec38['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']:_0x15ec38['SR_DE_FISH_ORIGINAL'];case _0x15965e:return _0x817799==_0x2d1b34?_0x15ec38['SR_DE_FISH_PTZ_FLOOR']:_0x11078b==_0x2d1b34?_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_360']:_0x59f1da==_0x2d1b34?_0x15ec38['SR_DE_FISH_PANORAMA_FLOOR_180']:_0x374a1a==_0x2d1b34?_0x15ec38['SR_DE_FISH_PANORAMA_WALL']:_0x18400f==_0x2d1b34?_0x15ec38['SR_DE_FISH_SEMISPHERE']:_0x436ee5==_0x2d1b34?_0x15ec38['SR_DE_FISH_CYLINDER_FLOOR']:_0xbc84d5==_0x2d1b34?_0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_FLOOR']:_0x1fd508==_0x2d1b34?_0x15ec38['SR_DE_FISH_PLANET']:_0x15ec38['SR_DE_FISH_ORIGINAL'];case _0x425a4f:return _0x817799==_0x2d1b34?_0x15ec38['SR_DE_FISH_PTZ_CEILING']:_0x11078b==_0x2d1b34?_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_360']:_0x59f1da==_0x2d1b34?_0x15ec38['SR_DE_FISH_PANORAMA_CEILING_180']:_0x374a1a==_0x2d1b34?_0x15ec38['SR_DE_FISH_PANORAMA_WALL']:_0x18400f==_0x2d1b34?_0x15ec38['SR_DE_FISH_SEMISPHERE']:_0x436ee5==_0x2d1b34?_0x15ec38['SR_DE_FISH_CYLINDER_CEILING']:_0xbc84d5==_0x2d1b34?_0x15ec38['SR_DE_FISH_CYLINDER_SPLIT_CEILING']:_0x1fd508==_0x2d1b34?_0x15ec38['SR_DE_FISH_PLANET']:_0x15ec38['SR_DE_FISH_ORIGINAL'];default:return _0x15ec38['SR_DE_FISH_ORIGINAL'];}}},{'key':'GetCanvasData','value':function(_0x2805ee){var _0x4addf9={'nWidth':0x0,'nHeight':0x0,'nBufferLen':0x0},_0x1f69bd=this['oVideoHandle']['SR_GetCaptureSize'](_0x4addf9);(_0x24d60c!=_0x1f69bd||_0x4addf9['nBufferLen']<=0x0)&&_0x2805ee(null);var _0x2bc494=new Uint8Array(_0x4addf9['nBufferLen']);null==_0x2bc494&&_0x2805ee(null);var _0x470664={};_0x470664['pBuffer']=_0x2bc494,this['oVideoHandle']['SR_CaptureScreen'](_0x470664),_0x2805ee(_0x2bc494,_0x4addf9['nWidth'],_0x4addf9['nHeight']);}},{'key':'FindIntelNodefromList','value':function(_0x3301b4){if(0x0!=this['privateLinesInfo']['length']){var _0x771df4=this['privateLinesInfo'][0x0]['absTimeStamp'];if(_0x771df4<=_0x3301b4+0x64&&_0x771df4>_0x3301b4-0x64)this['curLinesInfo']=this['privateLinesInfo']['shift']();else {if(_0x771df4>_0x3301b4+0x7d0||_0x771df4<_0x3301b4-0x7d0)for(this['curLinesInfo']=this['privateLinesInfo']['shift']();this['privateLinesInfo']['length']>0x0;){var _0x4c759b=this['privateLinesInfo'][0x0]['absTimeStamp'];if(!(_0x4c759b>_0x3301b4+0x7d0||_0x4c759b<_0x3301b4-0x7d0))break;this['curLinesInfo']=this['privateLinesInfo']['shift']();}}}if(0x0!=this['privateFontsInfo']['length']){var _0x3e460d=this['privateFontsInfo'][0x0]['absTimeStamp'];if(_0x3e460d<=_0x3301b4+0x3e8&&_0x3e460d>_0x3301b4-0x3e8)this['curFontsInfo']=this['privateFontsInfo']['shift']();else {if(_0x3e460d>_0x3301b4+0x7d0||_0x3e460d<_0x3301b4-0x7d0)for(this['curFontsInfo']=this['privateFontsInfo']['shift']();this['privateFontsInfo']['length']>0x0;){var _0x262783=this['privateFontsInfo'][0x0]['absTimeStamp'];if(!(_0x262783>_0x3301b4+0x7d0||_0x262783<_0x3301b4-0x7d0))break;this['curFontsInfo']=this['privateFontsInfo']['shift']();}}}if(0x0!=this['privateImageInfo']['length']){var _0x45e7cc=this['privateImageInfo'][0x0]['absTimeStamp'];if(_0x45e7cc<=_0x3301b4+0x3e8&&_0x45e7cc>_0x3301b4-0x3e8)this['curImagesInfo']=this['privateImageInfo']['shift']();else {if(_0x45e7cc>_0x3301b4+0x7d0||_0x45e7cc<_0x3301b4-0x7d0)for(this['curImagesInfo']=this['privateImageInfo']['shift']();this['privateImageInfo']['length']>0x0;){var _0x1e958a=this['privateImageInfo'][0x0]['absTimeStamp'];if(!(_0x1e958a>_0x3301b4+0x7d0||_0x1e958a<_0x3301b4-0x7d0))break;this['curImagesInfo']=this['privateImageInfo']['shift']();}}}return 0x1;}},{'key':'RenderPrivateData','value':function(_0x573611){return 0x0!=this['privateLinesInfo']['length']||_0x573611||(this['curLinesInfo']=null),0x1;}},{'key':'InputPrivateInfo','value':function(_0x2f2dcc,_0x2c0eb5,_0x348552){var _0x18e664=!0x1,_0x278650=0x0;if(_0x2f2dcc['linesNum']>0x0){if(_0x2f2dcc['absTimeStamp']<=this['maxPrivateLineTimeStamp']){var _0x4b65a5=0x0;for(_0x4b65a5=0x0;_0x4b65a5<this['privateLinesInfo']['length'];_0x4b65a5++)if(this['privateLinesInfo'][_0x4b65a5]['absTimeStamp']==_0x2f2dcc['absTimeStamp']){_0x18e664=!0x0,_0x278650=_0x4b65a5;break;}}if(_0x18e664){var _0x42a5da=this['privateLinesInfo'][_0x278650]['linesNum'];this['privateLinesInfo'][_0x278650]['linesNum']=_0x42a5da+_0x2f2dcc['linesNum'];for(var _0x3d4d23=0x0;_0x3d4d23<_0x2f2dcc['linesNum'];_0x3d4d23++){this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]={},this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['vertex_num']=_0x2f2dcc['stDrawLinesArray'][_0x3d4d23]['vertex_num'],this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['lineWidth']=_0x2f2dcc['stDrawLinesArray'][_0x3d4d23]['lineWidth'],this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['bFill']=_0x2f2dcc['stDrawLinesArray'][_0x3d4d23]['bFill'],this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['bLoop']=_0x2f2dcc['stDrawLinesArray'][_0x3d4d23]['bLoop'],this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['color']={},this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['color']['R']=_0x2f2dcc['stDrawLinesArray'][_0x3d4d23]['color']['R'],this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['color']['G']=_0x2f2dcc['stDrawLinesArray'][_0x3d4d23]['color']['G'],this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['color']['B']=_0x2f2dcc['stDrawLinesArray'][_0x3d4d23]['color']['B'],this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['color']['A']=_0x2f2dcc['stDrawLinesArray'][_0x3d4d23]['color']['A'],this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['stPoint']=[];for(var _0x832ade=0x0;_0x832ade<_0x2f2dcc['stDrawLinesArray'][_0x3d4d23]['vertex_num'];_0x832ade++)this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['stPoint'][_0x832ade]={},this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['stPoint'][_0x832ade]['x']=_0x2f2dcc['stDrawLinesArray'][_0x3d4d23]['stPoint'][_0x832ade]['x'],this['privateLinesInfo'][_0x278650]['stDrawLinesArray'][_0x3d4d23+_0x42a5da]['stPoint'][_0x832ade]['y']=_0x2f2dcc['stDrawLinesArray'][_0x3d4d23]['stPoint'][_0x832ade]['y'];}}else {this['maxPrivateLineTimeStamp']<_0x2f2dcc['absTimeStamp']&&(this['maxPrivateLineTimeStamp']=_0x2f2dcc['absTimeStamp']);var _0x2de869={};_0x2de869['linesNum']=_0x2f2dcc['linesNum'],_0x2de869['absTimeStamp']=_0x2f2dcc['absTimeStamp'],_0x2de869['stDrawLinesArray']=[];for(var _0x518f5c=0x0;_0x518f5c<_0x2f2dcc['linesNum'];_0x518f5c++){_0x2de869['stDrawLinesArray'][_0x518f5c]={},_0x2de869['stDrawLinesArray'][_0x518f5c]['vertex_num']=_0x2f2dcc['stDrawLinesArray'][_0x518f5c]['vertex_num'],_0x2de869['stDrawLinesArray'][_0x518f5c]['lineWidth']=_0x2f2dcc['stDrawLinesArray'][_0x518f5c]['lineWidth'],_0x2de869['stDrawLinesArray'][_0x518f5c]['bFill']=_0x2f2dcc['stDrawLinesArray'][_0x518f5c]['bFill'],_0x2de869['stDrawLinesArray'][_0x518f5c]['bLoop']=_0x2f2dcc['stDrawLinesArray'][_0x518f5c]['bLoop'],_0x2de869['stDrawLinesArray'][_0x518f5c]['color']={},_0x2de869['stDrawLinesArray'][_0x518f5c]['color']['R']=_0x2f2dcc['stDrawLinesArray'][_0x518f5c]['color']['R'],_0x2de869['stDrawLinesArray'][_0x518f5c]['color']['G']=_0x2f2dcc['stDrawLinesArray'][_0x518f5c]['color']['G'],_0x2de869['stDrawLinesArray'][_0x518f5c]['color']['B']=_0x2f2dcc['stDrawLinesArray'][_0x518f5c]['color']['B'],_0x2de869['stDrawLinesArray'][_0x518f5c]['color']['A']=_0x2f2dcc['stDrawLinesArray'][_0x518f5c]['color']['A'],_0x2de869['stDrawLinesArray'][_0x518f5c]['stPoint']=[];for(var _0x1389f3=0x0;_0x1389f3<_0x2f2dcc['stDrawLinesArray'][_0x518f5c]['vertex_num'];_0x1389f3++)_0x2de869['stDrawLinesArray'][_0x518f5c]['stPoint'][_0x1389f3]={},_0x2de869['stDrawLinesArray'][_0x518f5c]['stPoint'][_0x1389f3]['x']=_0x2f2dcc['stDrawLinesArray'][_0x518f5c]['stPoint'][_0x1389f3]['x'],_0x2de869['stDrawLinesArray'][_0x518f5c]['stPoint'][_0x1389f3]['y']=_0x2f2dcc['stDrawLinesArray'][_0x518f5c]['stPoint'][_0x1389f3]['y'];}this['privateLinesInfo']['push'](_0x2de869);}}if(_0x2c0eb5['nFontsNum']>0x0){if(_0x2c0eb5['absTimeStamp']<=this['maxPrivateLineTimeStamp']){var _0x268d80=0x0;for(_0x268d80=0x0;_0x268d80<this['privateFontsInfo']['length'];_0x268d80++)if(this['privateFontsInfo'][_0x268d80]['absTimeStamp']==_0x2c0eb5['absTimeStamp']){_0x18e664=!0x0,_0x278650=_0x268d80;break;}}if(_0x18e664);else {this['maxPrivateLineTimeStamp']<_0x2c0eb5['absTimeStamp']&&(this['maxPrivateLineTimeStamp']=_0x2c0eb5['absTimeStamp']);var _0x480b6e={};_0x480b6e['nFontsNum']=_0x2c0eb5['nFontsNum'],_0x480b6e['absTimeStamp']=_0x2c0eb5['absTimeStamp'],_0x480b6e['stDrawFontsArray']=[];for(var _0x2a74af=0x0;_0x2a74af<_0x2c0eb5['nFontsNum'];_0x2a74af++)_0x480b6e['stDrawFontsArray'][_0x2a74af]={},_0x480b6e['stDrawFontsArray'][_0x2a74af]['nFontSizeW']=_0x2c0eb5['stDrawFontsArray'][_0x2a74af]['nFontSizeW'],_0x480b6e['stDrawFontsArray'][_0x2a74af]['nFontSizeH']=_0x2c0eb5['stDrawFontsArray'][_0x2a74af]['nFontSizeH'],_0x480b6e['stDrawFontsArray'][_0x2a74af]['color']={},_0x480b6e['stDrawFontsArray'][_0x2a74af]['color']['R']=_0x2c0eb5['stDrawFontsArray'][_0x2a74af]['color']['R'],_0x480b6e['stDrawFontsArray'][_0x2a74af]['color']['G']=_0x2c0eb5['stDrawFontsArray'][_0x2a74af]['color']['G'],_0x480b6e['stDrawFontsArray'][_0x2a74af]['color']['B']=_0x2c0eb5['stDrawFontsArray'][_0x2a74af]['color']['B'],_0x480b6e['stDrawFontsArray'][_0x2a74af]['color']['A']=_0x2c0eb5['stDrawFontsArray'][_0x2a74af]['color']['A'],_0x480b6e['stDrawFontsArray'][_0x2a74af]['stPoint']={},_0x480b6e['stDrawFontsArray'][_0x2a74af]['stPoint']['x']=_0x2c0eb5['stDrawFontsArray'][_0x2a74af]['stPoint']['x'],_0x480b6e['stDrawFontsArray'][_0x2a74af]['stPoint']['y']=_0x2c0eb5['stDrawFontsArray'][_0x2a74af]['stPoint']['y'],_0x480b6e['stDrawFontsArray'][_0x2a74af]['fontstring']=_0x2c0eb5['stDrawFontsArray'][_0x2a74af]['fontString'];this['privateFontsInfo']['push'](_0x480b6e);}}if(_0x348552['nPixelFormat']>0x0){if(_0x348552['absTimeStamp']<=this['maxPrivateLineTimeStamp']){var _0x179672=0x0;for(_0x179672=0x0;_0x179672<this['privateImageInfo']['length'];_0x179672++)if(this['privateImageInfo'][_0x179672]['absTimeStamp']==_0x348552['absTimeStamp']){_0x18e664=!0x0,_0x278650=_0x179672;break;}}if(_0x18e664);else {this['maxPrivateLineTimeStamp']<_0x348552['absTimeStamp']&&(this['maxPrivateLineTimeStamp']=_0x348552['absTimeStamp']);var _0x1919fd={};_0x1919fd['absTimeStamp']=_0x348552['absTimeStamp'],_0x1919fd['nWidth']=_0x348552['nWidth'],_0x1919fd['nHeight']=_0x348552['nHeight'],_0x1919fd['pstRect']={},_0x1919fd['pstRect']['fTop']=_0x348552['pstRect']['fTop'],_0x1919fd['pstRect']['fBottom']=_0x348552['pstRect']['fBottom'],_0x1919fd['pstRect']['fLeft']=_0x348552['pstRect']['fLeft'],_0x1919fd['pstRect']['fRight']=_0x348552['pstRect']['fRight'],_0x1919fd['nPixelFormat']=_0x348552['nPixelFormat'],_0x1919fd['fAlpha']=_0x348552['fAlpha'],_0x1919fd['picImageData']=_0x348552['picImageData'],this['privateImageInfo']['push'](_0x1919fd);}}return 0x1;}},{'key':'WebGLDisplayCallBack','value':function(_0x147409){if(0x0!=_0x147409['privateLinesInfo']['length']||null!=_0x147409['curLinesInfo']){if(null!=_0x147409['curLinesInfo']){for(var _0x3a3cac=[],_0x2f2707=0x0,_0x21d474=0x1,_0x3ead5c=0x0;_0x3ead5c<_0x147409['curLinesInfo']['linesNum'];_0x3ead5c++){_0x3a3cac[_0x3ead5c]={},_0x3a3cac[_0x3ead5c]['nPointNum']=_0x147409['curLinesInfo']['stDrawLinesArray'][_0x3ead5c]['vertex_num'],_0x3a3cac[_0x3ead5c]['nLineWidth']=_0x147409['curLinesInfo']['stDrawLinesArray'][_0x3ead5c]['lineWidth'],_0x21d474=_0x147409['curLinesInfo']['stDrawLinesArray'][_0x3ead5c]['bFill'],_0x3a3cac[_0x3ead5c]['bLoop']=_0x147409['curLinesInfo']['stDrawLinesArray'][_0x3ead5c]['bLoop'],_0x3a3cac[_0x3ead5c]['pstColor']={},_0x3a3cac[_0x3ead5c]['pstColor']['fR']=_0x147409['curLinesInfo']['stDrawLinesArray'][_0x3ead5c]['color']['R'],_0x3a3cac[_0x3ead5c]['pstColor']['fG']=_0x147409['curLinesInfo']['stDrawLinesArray'][_0x3ead5c]['color']['G'],_0x3a3cac[_0x3ead5c]['pstColor']['fB']=_0x147409['curLinesInfo']['stDrawLinesArray'][_0x3ead5c]['color']['B'],_0x3a3cac[_0x3ead5c]['pstColor']['fA']=_0x147409['curLinesInfo']['stDrawLinesArray'][_0x3ead5c]['color']['A'],_0x3a3cac[_0x3ead5c]['pstPoints']=[];for(var _0x1e3638=0x0;_0x1e3638<_0x3a3cac[_0x3ead5c]['nPointNum'];_0x1e3638++)_0x3a3cac[_0x3ead5c]['pstPoints'][_0x1e3638]={},_0x3a3cac[_0x3ead5c]['pstPoints'][_0x1e3638]['fX']=_0x147409['curLinesInfo']['stDrawLinesArray'][_0x3ead5c]['stPoint'][_0x1e3638]['x'],_0x3a3cac[_0x3ead5c]['pstPoints'][_0x1e3638]['fY']=_0x147409['curLinesInfo']['stDrawLinesArray'][_0x3ead5c]['stPoint'][_0x1e3638]['y'];_0x2f2707+=_0x3a3cac[_0x3ead5c]['nPointNum'];}_0x147409['oVideoHandle']['SR_DrawLinesEx'](_0x3a3cac,_0x147409['curLinesInfo']['linesNum'],_0x2f2707,_0x21d474);}_0x147409['curLinesInfo']=null;}if((0x0!=_0x147409['privateFontsInfo']['length']||null!=_0x147409['curFontsInfo'])&&null!=_0x147409['curFontsInfo']&&0x0!=_0x147409['curFontsInfo']['nFontsNum']){for(var _0x3795b8=[],_0x101c3e=0x0;_0x101c3e<_0x147409['curFontsInfo']['nFontsNum'];_0x101c3e++){var _0x1d297c={},_0x4c99ae=_0x147409['curFontsInfo']['stDrawFontsArray'][_0x101c3e]['fontstring'],_0xe724b2={};_0xe724b2['fX']=_0x147409['curFontsInfo']['stDrawFontsArray'][_0x101c3e]['stPoint']['x'],_0xe724b2['fY']=_0x147409['curFontsInfo']['stDrawFontsArray'][_0x101c3e]['stPoint']['y'];var _0x592d3e={'fR':0x1,'fG':0x0,'fB':0x0};_0x592d3e['fA']=_0x147409['curFontsInfo']['stDrawFontsArray'][_0x101c3e]['color']['A'];var _0x830d9=_0x147409['curFontsInfo']['stDrawFontsArray'][_0x101c3e]['nFontSizeW'],_0x578de2=_0x147409['curFontsInfo']['stDrawFontsArray'][_0x101c3e]['nFontSizeH'];_0x1d297c['pString']=_0x4c99ae,_0x1d297c['pstStartPos']=_0xe724b2,_0x1d297c['nFontWidth']=_0x830d9,_0x1d297c['nFontHeight']=_0x578de2,_0x1d297c['pstFontColor']=_0x592d3e,_0x1d297c['bBackGround']=!0x1,_0x1d297c['pstBGColor']=null,_0x1d297c['fRotateAngle']=0x0,_0x1d297c['pFontFamily']='sans-serif',_0x3795b8['push'](_0x1d297c);}_0x147409['oVideoHandle']['SR_DrawFontEx'](_0x3795b8,_0x147409['curFontsInfo']['nFontsNum']);}if(0x0!=_0x147409['privateImageInfo']['length']||null!=_0x147409['curImagesInfo']){var _0x5d3cc2=null;null!=_0x147409['curImagesInfo']&&null!=_0x147409['curImagesInfo']&&null!=_0x147409['curImagesInfo']['picImageData']&&null!=_0x147409['curImagesInfo']['picImageData']&&(_0x5d3cc2=new Uint16Array(_0x147409['curImagesInfo']['picImageData']['buffer'])),null!=_0x147409['curImagesInfo']&&_0x147409['curImagesInfo']['nPixelFormat']>0x0&&_0x147409['oVideoHandle']['SR_DrawImage'](_0x5d3cc2,_0x147409['curImagesInfo']['nWidth'],_0x147409['curImagesInfo']['nHeight'],_0x147409['curImagesInfo']['pstRect'],_0x147409['curImagesInfo']['nPixelFormat'],_0x147409['curImagesInfo']['fAlpha']);}if(0x0!==_0x147409['pWaterFontParam']['length']&&_0x147409['oVideoHandle']['SR_DrawFontEx'](_0x147409['pWaterFontParam'],_0x147409['pWaterFontParam']['length']),0x0!==_0x147409['pWaterImageParam']['length']){_0x147409['waterMarkImageIndex']>=_0x147409['waterMarkImageMax']&&(_0x147409['waterMarkImageIndex']=0x0);var _0x30e7f3=_0x147409['waterMarkImageIndex'];_0x147409['oVideoHandle']['SR_DrawImage'](_0x147409['pWaterImageParam'][_0x30e7f3]['videoStream'],_0x147409['pWaterImageParam'][_0x30e7f3]['nImageWidth'],_0x147409['pWaterImageParam'][_0x30e7f3]['nImageHeight'],_0x147409['pWaterImageParam'][_0x30e7f3]['pstRectPos'],_0x4d876c,_0x147409['pWaterImageParam'][_0x30e7f3]['fAlpha']),_0x147409['waterMarkImageIndex']++;}}}]),_0x1bda1a;}(),_0x413297=function(){function _0x4a41a5(){_0x162c92(this,_0x4a41a5),this['startTime']=0x0,this['curTime']=0x0,this['timeWalk']=0x0,this['lastDate']=0x0,this['preTimerStamp']=0x0;}return _0x5ab2cc(_0x4a41a5,[{'key':'Init','value':function(){this['startTime']=this['GetCurTime']();}},{'key':'GetCurTime','value':function(){return this['curTime']=0x3c*new Date()['getHours']()*0x3c*0x3e8+0x3c*new Date()['getMinutes']()*0x3e8+0x3e8*new Date()['getSeconds']()+new Date()['getMilliseconds'](),this['lastDate']=new Date()['getDate'](),this['curTime'];}},{'key':'GetTimerWalk','value':function(){var _0x21922d=this['GetCurTime']()-this['startTime'];return this['lastDate']!==new Date()['getDate']()&&(_0x21922d+=0x18*(new Date()['getDate']()-this['lastDate'])*0x3c*0x3c*0x3e8),_0x21922d;}},{'key':'timerReset','value':function(){this['startTime']=0x0,this['curTime']=0x0,this['timeWalk']=0x0,this['lastDate']=0x0,this['preTimerStamp']=0x0;}}]),_0x4a41a5;}(),_0x132ad4=function(){function _0x4f9fed(){var _0x1367c7=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:null;_0x162c92(this,_0x4f9fed),this['canvas']=null,this['streamOpenMode']=0x0,this['context']=null,this['oVideoDecoder']=null,this['frameBuffers']=[],this['initTimer']=!0x1,this['preTimeStamp']=0x0,this['baseTimeStamp']=0x0,this['resetTimer']=!0x0,this['RenderFrame']=this['RenderFrame']['bind'](this),this['renderCurStatus']=0x2,this['playSpeed']=0x1,this['nplaySpeed']=0x1,this['displayBuf']=0xe,this['needForward']=!0x1,this['firstFrame']=!0x0,this['LatcyTime']=0x0,this['displayFrameInfoCB']=null,this['displayFrameInfo']=[],this['curFrameInfo']={},this['curFrameInfo']['timeStamp']=0x0,this['sx']=0x0,this['sy']=0x0,this['sw']=0x0,this['sh']=0x0,this['displayRunning']=!0x1,this['oRenderTimer']=null,this['waitIFrameTimestamp']=0x0,this['curFrame']=null,this['player']=null,null!=_0x1367c7&&(this['player']=_0x1367c7),this['renderEngine']='webgl',this['oVideoRender']=null,this['FECCanvasID']='',this['oVideoRender']=new _0x3371ec();}return _0x5ab2cc(_0x4f9fed,[{'key':'init','value':function(_0x59b9d8,_0x353cbd,_0x200f4f,_0x301832){this['canvas']=_0x59b9d8,this['streamOpenMode']=_0x353cbd,this['renderEngine']=_0x301832,this['SetCurStatus'](0x2),null==this['oVideoDecoder']&&(this['oVideoDecoder']=new _0x1c136d(_0x200f4f,this,this['player']),null!==this['oVideoDecoder']&&this['oVideoDecoder']['initDecoder']()),this['frameBuffers']=this['oVideoDecoder']['ready_frames'],null!=this['oVideoRender']&&this['oVideoRender']['InitDisplay'](this['canvas'],this['renderEngine'],0x100),null==this['oRenderTimer']&&(this['oRenderTimer']=new _0x413297());}},{'key':'HardDecodeError','value':function(){return this['player']['_switchHardToSoft'](),0x1;}},{'key':'inputData','value':function(_0x20fb7c,_0x5a682d){var _0xf8c4df={};_0xf8c4df['port']=_0x5a682d['port'],_0xf8c4df['codecType']=_0x5a682d['codecType'],_0xf8c4df['frameType']=_0x5a682d['frameType'],_0xf8c4df['frameSize']=_0x5a682d['frameSize'],_0xf8c4df['width']=_0x5a682d['width'],_0xf8c4df['height']=_0x5a682d['height'],_0xf8c4df['timeStamp']=_0x5a682d['timeStamp'],_0xf8c4df['frameRate']=_0x5a682d['frameRate'],_0xf8c4df['frameNum']=_0x5a682d['frameNum'],_0xf8c4df['interlace']=_0x5a682d['interlace'],_0xf8c4df['streamEnd']=_0x5a682d['streamEnd'],_0xf8c4df['cropLeft']=_0x5a682d['cropLeft'],_0xf8c4df['cropRight']=_0x5a682d['cropRight'],_0xf8c4df['cropTop']=_0x5a682d['cropTop'],_0xf8c4df['cropBottom']=_0x5a682d['cropBottom'],_0xf8c4df['year']=_0x5a682d['year'],_0xf8c4df['month']=_0x5a682d['month'],_0xf8c4df['week']=_0x5a682d['week'],_0xf8c4df['day']=_0x5a682d['day'],_0xf8c4df['hour']=_0x5a682d['hour'],_0xf8c4df['minute']=_0x5a682d['minute'],_0xf8c4df['second']=_0x5a682d['second'],_0xf8c4df['milliseconds']=_0x5a682d['milliseconds'],this['displayFrameInfo']['push'](_0xf8c4df),this['oVideoDecoder']['inputData'](_0x20fb7c,_0x5a682d);}},{'key':'_resetDecoder','value':function(){var _0x2fc7a6=this;return new Promise(function(_0x43764f,_0x1789aa){_0x2fc7a6['oVideoDecoder']['resetDecoder']()['then'](function(){_0x2fc7a6['displayFrameInfo']['splice'](0x0,_0x2fc7a6['displayFrameInfo']['length']),_0x2fc7a6['curFrameInfo']={},_0x2fc7a6['oVideoRender']['DeInitPrivateParam'](),_0x2fc7a6['renderCurStatus']=0x2,_0x2fc7a6['player']?_0x2fc7a6['player']['JSPlayM4_ResetEnd']():postMessage({'function':'resetEnd'}),_0x43764f();},function(){_0x1789aa();});});}},{'key':'_resetRenderTimer','value':function(){this['initTimer']=!0x1,this['preTimeStamp']=0x0,this['baseTimeStamp']=0x0,this['resetTimer']=!0x0,null!=this['oRenderTimer']&&this['oRenderTimer']['timerReset'](),this['RenderFrame']=this['RenderFrame']['bind'](this),this['renderCurStatus']=0x2,this['curTimeStamp']=0x0,this['getImageJPEG']=!0x1,this['getImageBMP']=!0x1,this['getCropImageJPEG']=!0x1,this['getCropImageBMP']=!0x1,this['displayFrameInfoCB']=null,this['displayFrameInfo']['splice'](0x0,this['displayFrameInfo']['length']),this['curFrameInfo']={};}},{'key':'_destroyPlayCtrl','value':function(){var _0x244862=this;this['oVideoDecoder']['destroyDecoder']()['then'](function(){_0x244862['oVideoDecoder']=null,null!=_0x244862['oVideoRender']&&(_0x244862['oVideoRender']['ReleaseDisplay'](),_0x244862['oVideoRender']=null),_0x244862['_resetRenderTimer'](),_0x244862['oRenderTimer']=null,_0x244862['displayRunning']=!0x1,console['log']('>>>JS\x2002\x20destroy\x20oVideoDecoder/oVideoRender');},function(){console['log']('stop\x20failed\x20');});}},{'key':'RenderFrame','value':function(){var _0x2239f5=this;switch(this['renderCurStatus']){case 0x0:this['_resetRenderTimer'](),this['_resetDecoder']()['then'](function(){var _0x444eec=setTimeout(function(){_0x2239f5['RenderFrame'](),clearTimeout(_0x444eec);},0x1);},function(){});break;case 0x2:if(this['displayRunning'])this['chooseFrame']()['then'](function(_0x2c6679){if(_0x2239f5['curFrame']=_0x2c6679,-0x1==_0x2239f5['displayBuf']||0x0==_0x2239f5['streamOpenMode']&&0x0==_0x2239f5['LatcyTime'])null!=_0x2239f5['curFrame']&&(_0x2239f5['curTimeStamp']=_0x2239f5['curFrame']['timestamp'],_0x2239f5['paint'](_0x2239f5['curFrame'])),requestAnimationFrame(_0x2239f5['RenderFrame']);else {if(null!=_0x2239f5['curFrame']){_0x2239f5['initTimer']&&!_0x2239f5['resetTimer']||(_0x2239f5['oRenderTimer']['Init'](),_0x2239f5['initTimer']=!0x0,_0x2239f5['resetTimer']=!0x1,_0x2239f5['preTimeStamp']=_0x2239f5['curFrame']['timestamp'],_0x2239f5['baseTimeStamp']=_0x2239f5['curFrame']['timestamp'],0x1==_0x2239f5['streamOpenMode']&&(_0x2239f5['LatcyTime']=0x0)),_0x2239f5['curTimeStamp']=_0x2239f5['curFrame']['timestamp'];var _0x433522=_0x2239f5['curTimeStamp']-_0x2239f5['preTimeStamp'],_0x48d637=_0x2239f5['curTimeStamp']-_0x2239f5['baseTimeStamp'];(_0x433522>0x1388||_0x433522<0x0||_0x48d637<0x0)&&(_0x2239f5['oRenderTimer']['Init'](),_0x2239f5['preTimeStamp']=_0x2239f5['curFrame']['timestamp'],_0x2239f5['baseTimeStamp']=_0x2239f5['curTimeStamp']);var _0xee0250=(_0x2239f5['curTimeStamp']-_0x2239f5['baseTimeStamp']+_0x2239f5['LatcyTime'])/_0x2239f5['playSpeed']-_0x2239f5['oRenderTimer']['GetTimerWalk']();if(_0xee0250<0xf&&_0xee0250>-0xf)_0x2239f5['paint'](_0x2239f5['curFrame']),_0x2239f5['preTimeStamp']=_0x2239f5['curTimeStamp'],_0x2239f5['RenderFrame']();else {if(_0xee0250<0x0)_0x2239f5['paint'](_0x2239f5['curFrame']),_0x2239f5['preTimeStamp']=_0x2239f5['curTimeStamp'],_0x2239f5['RenderFrame']();else var _0x39aff9=setTimeout(function(){0x2==_0x2239f5['renderCurStatus']?(_0x2239f5['paint'](_0x2239f5['curFrame']),_0x2239f5['preTimeStamp']=_0x2239f5['curTimeStamp'],_0x2239f5['RenderFrame']()):_0x2239f5['RenderFrame'](),clearTimeout(_0x39aff9);},_0xee0250-0x5);}}else {_0x2239f5['playSpeed']>0x2&&0x1;var _0x4af2e6=setTimeout(function(){_0x2239f5['RenderFrame'](),clearTimeout(_0x4af2e6);},0x0);}}});else var _0x3881b1=setTimeout(function(){_0x2239f5['RenderFrame'](),clearTimeout(_0x3881b1);},0x5);break;case 0x3:var _0x4fb22e=setTimeout(function(){_0x2239f5['_refresh'](),_0x2239f5['RenderFrame'](),clearTimeout(_0x4fb22e);},0x5);break;case 0x5:if(this['needForward'])this['chooseFrame']()['then'](function(_0x3968ec){_0x2239f5['curFrame']=_0x3968ec;var _0x2df01b=setTimeout(function(){null!=_0x2239f5['curFrame']&&(_0x2239f5['paint'](_0x2239f5['curFrame']),_0x2239f5['needForward']=!0x1),_0x2239f5['RenderFrame'](),clearTimeout(_0x2df01b);},0x1);});else var _0x3f1b32=setTimeout(function(){_0x2239f5['_refresh'](),_0x2239f5['RenderFrame'](),clearTimeout(_0x3f1b32);},0x5);break;case 0x4:return void this['_destroyPlayCtrl']();default:return;}}},{'key':'paint','value':function(_0xa6fc34){var _0x31e82f=this;return new Promise(function(_0x8a3891,_0x2e566a){if(0x4==_0x31e82f['curstatus']||null==_0xa6fc34||null==_0x31e82f['oVideoRender'])_0x8a3891();else {_0x31e82f['waitIFrameTimestamp']===_0xa6fc34['timestamp']&&(_0x31e82f['resetTimer']=!0x0);var _0x51e528={'nCropLeft':0x0,'nCropRight':0x0,'nCropTop':0x0,'nCropBottom':0x0};_0x51e528['nCodeWidth']=_0xa6fc34['displayWidth'],_0x51e528['nCodeHeight']=_0xa6fc34['displayHeight'];var _0xfb8811={'x':0x0,'y':0x0};_0xfb8811['width']=_0xa6fc34['displayWidth'],_0xfb8811['height']=_0xa6fc34['displayHeight'],_0x31e82f['oVideoRender']['DisplayFrame'](_0xa6fc34,_0xa6fc34['displayWidth'],_0xa6fc34['displayHeight'],_0xa6fc34['timestamp'],_0x51e528,null)['then'](function(_0x1bd19f){null!==_0x31e82f['displayFrameInfoCB']&&_0x31e82f['respondFrameInfoCB'](_0x1bd19f),_0x31e82f['firstFrame']&&(null!=_0x31e82f['player']?null!=_0x31e82f['player']['FFCallBackFun']&&_0x31e82f['player']['FFCallBackFun']():postMessage({'function':'firstFrameCB','value':!0x0}),_0x31e82f['firstFrame']=!0x1),_0x8a3891();});}});}},{'key':'respondFrameInfoCB','value':function(_0x1bd613){if(0x0!=this['displayFrameInfo']['length']&&this['curFrameInfo']['timeStamp']!==_0x1bd613){for(var _0x5294d2={},_0x1b4e1c=0x0;_0x1b4e1c<this['displayFrameInfo']['length']&&(_0x5294d2=this['displayFrameInfo']['shift']())['timeStamp']!=_0x1bd613;_0x1b4e1c++);this['curFrameInfo']['port']=_0x5294d2['port'],this['curFrameInfo']['codecType']=_0x5294d2['codecType'],this['curFrameInfo']['frameType']=_0x5294d2['frameType'],this['curFrameInfo']['frameSize']=_0x5294d2['frameSize'],this['curFrameInfo']['width']=_0x5294d2['width'],this['curFrameInfo']['height']=_0x5294d2['height'],this['curFrameInfo']['timeStamp']=_0x5294d2['timeStamp'],this['curFrameInfo']['frameRate']=_0x5294d2['frameRate'],this['curFrameInfo']['frameNum']=_0x5294d2['frameNum'],this['curFrameInfo']['interlace']=_0x5294d2['interlace'],this['curFrameInfo']['streamEnd']=_0x5294d2['streamEnd'],this['curFrameInfo']['cropLeft']=_0x5294d2['cropLeft'],this['curFrameInfo']['cropRight']=_0x5294d2['cropRight'],this['curFrameInfo']['cropTop']=_0x5294d2['cropTop'],this['curFrameInfo']['cropBottom']=_0x5294d2['cropBottom'],this['curFrameInfo']['year']=_0x5294d2['year'],this['curFrameInfo']['month']=_0x5294d2['month'],this['curFrameInfo']['week']=_0x5294d2['week'],this['curFrameInfo']['day']=_0x5294d2['day'],this['curFrameInfo']['hour']=_0x5294d2['hour'],this['curFrameInfo']['minute']=_0x5294d2['minute'],this['curFrameInfo']['second']=_0x5294d2['second'],this['curFrameInfo']['milliseconds']=_0x5294d2['milliseconds'],this['displayFrameInfoCB'](this['curFrameInfo']);}}},{'key':'postImageData','value':function(_0x554160,_0x1d322c,_0x5d02a1,_0x3ffc8d,_0xe16ccc){this['player']?(this['getImageJPEG']&&(this['getImageJPEG']=!0x1,this['player']['_GetImage2'](_0x554160,_0x1d322c,_0x5d02a1,_0x3ffc8d,'jpeg',_0xe16ccc,0x0,0x0,0x0,0x0)),this['getImageBMP']&&(this['getImageBMP']=!0x1,this['player']['_GetImage2'](_0x554160,_0x1d322c,_0x5d02a1,_0x3ffc8d,'bmp',_0xe16ccc,0x0,0x0,0x0,0x0)),this['getCropImageJPEG']&&(this['getCropImageJPEG']=!0x1,this['player']['_GetImage2'](_0x554160,_0x1d322c,_0x5d02a1,_0x3ffc8d,'jpeg',_0xe16ccc,this['sx'],this['sy'],this['sw'],this['sh'])),this['getCropImageBMP']&&(this['getCropImageBMP']=!0x1,this['player']['_GetImage2'](_0x554160,_0x1d322c,_0x5d02a1,_0x3ffc8d,'bmp',_0xe16ccc,this['sx'],this['sy'],this['sw'],this['sh']))):(this['getImageJPEG']&&(this['getImageJPEG']=!0x1,postMessage({'function':'imageYUV','value':_0x554160['buffer'],'size':_0x1d322c,'width':_0x5d02a1,'height':_0x3ffc8d,'type':'jpeg','yuvType':_0xe16ccc,'sx':0x0,'sy':0x0,'sw':0x0,'sh':0x0},[_0x554160['buffer']])),this['getImageBMP']&&(this['getImageBMP']=!0x1,postMessage({'function':'imageYUV','value':_0x554160['buffer'],'size':_0x1d322c,'width':_0x5d02a1,'height':_0x3ffc8d,'type':'bmp','yuvType':_0xe16ccc,'sx':0x0,'sy':0x0,'sw':0x0,'sh':0x0},[_0x554160['buffer']])),this['getCropImageJPEG']&&(this['getCropImageJPEG']=!0x1,postMessage({'function':'imageYUV','value':_0x554160['buffer'],'size':_0x1d322c,'width':_0x5d02a1,'height':_0x3ffc8d,'type':'jpeg','yuvType':_0xe16ccc,'sx':this['sx'],'sy':this['sy'],'sw':this['sw'],'sh':this['sh']},[_0x554160['buffer']])),this['getCropImageBMP']&&(this['getCropImageBMP']=!0x1,postMessage({'function':'imageYUV','value':_0x554160['buffer'],'size':_0x1d322c,'width':_0x5d02a1,'height':_0x3ffc8d,'type':'bmp','yuvType':_0xe16ccc,'sx':this['sx'],'sy':this['sy'],'sw':this['sw'],'sh':this['sh']},[_0x554160['buffer']])));}},{'key':'chooseFrame','value':function(){var _0xaf2386=this;return new Promise(function(_0x29503c,_0x9d574c){if(null==_0xaf2386['oVideoRender']||null==_0xaf2386['oVideoDecoder'])_0x29503c(null);else {if(_0xaf2386['oVideoDecoder']['decoderObjNeedReset'])_0xaf2386['oVideoDecoder']['resetDecoder']()['then'](function(){_0xaf2386['oVideoDecoder']['decoderObjNeedReset']=!0x1,_0x29503c(null);},function(){_0x9d574c();});else {var _0x3571d3=_0xaf2386['oVideoDecoder']['GetFrameBufferLength']();0x1==_0xaf2386['streamOpenMode']&&_0x3571d3<0x3?_0x29503c(null):_0xaf2386['oVideoDecoder']['GetFrame']()['then'](function(_0x1c4d46){_0x29503c(_0x1c4d46);},function(){});}}});}},{'key':'SetDisplayRegion','value':function(_0x2d67ba,_0x42ace7,_0x5e9d10,_0x42dd9a){return null==this['oVideoRender']?0x0:(this['sx']=_0x2d67ba,this['sy']=_0x42ace7,this['sw']=_0x5e9d10,this['sh']=_0x42dd9a,this['oVideoRender']['SetDisplayRect'](_0x2d67ba,_0x42ace7,_0x5e9d10,_0x42dd9a));}},{'key':'SetCurStatus','value':function(_0x479724){return this['renderCurStatus']=_0x479724,0x1;}},{'key':'fast','value':function(){var _0x57164b=this['_GetFastSpeed'](this['nplaySpeed']);return this['_SetPlaySpeed'](_0x57164b);}},{'key':'slow','value':function(){var _0x15c254=this['_GetSlowSpeed'](this['nplaySpeed']);return this['_SetPlaySpeed'](_0x15c254);}},{'key':'Pause','value':function(_0x2de9e5){if(_0x2de9e5)this['SetCurStatus'](0x3);else {if(0x3!==this['renderCurStatus'])return -0x1;this['SetCurStatus'](0x2),this['resetTimer']=!0x0;}return 0x1;}},{'key':'_refresh','value':function(){0x0!=this['frameBuffers']['length']&&this['paint'](this['frameBuffers'][0x0]);}},{'key':'OneByOne','value':function(_0x51035c){if(_0x51035c)this['SetCurStatus'](0x5),this['needForward']=!0x0;else {if(0x5!==this['renderCurStatus'])return -0x1;this['SetCurStatus'](0x2),this['resetTimer']=!0x0,this['needForward']=!0x1,this['_SetPlaySpeed'](0x1);}return 0x1;}},{'key':'SetCanvasSize','value':function(_0x4af330,_0x5ee4ad){return null!=this['oVideoRender']&&this['oVideoRender']['SetCanvasSize'](_0x4af330,_0x5ee4ad);}},{'key':'GetCanvasSize','value':function(){return null!=this['oVideoRender']&&this['oVideoRender']['GetCanvasSize']();}},{'key':'GetPlayedTime','value':function(){return this['curTimeStamp'];}},{'key':'_SetPlaySpeed','value':function(_0x3796d1){switch(_0x3796d1){case-0x10:case-0x8:case-0x4:case-0x2:case 0x1:case 0x2:case 0x4:case 0x8:case 0x10:case 0x20:case 0x40:break;default:return -0x1;}return _0x3796d1===this['nplaySpeed']||(this['nplaySpeed']=_0x3796d1,this['playSpeed']=_0x3796d1>0x0?_0x3796d1:-0x1/_0x3796d1,console['log']('playSpeed:'+this['playSpeed']),this['resetTimer']=!0x0,this['needForward']=!0x1,0x2!=this['renderCurStatus']&&this['SetCurStatus'](0x2)),0x1;}},{'key':'_GetFastSpeed','value':function(_0x2e1665){var _0xfef37c=0x0;switch(_0x2e1665){case-0x10:_0xfef37c=-0x8;break;case-0x8:_0xfef37c=-0x4;break;case-0x4:_0xfef37c=-0x2;break;case-0x2:_0xfef37c=0x1;break;case 0x1:_0xfef37c=0x2;break;case 0x2:_0xfef37c=0x4;break;case 0x4:_0xfef37c=0x8;break;case 0x8:_0xfef37c=0x10;break;case 0x10:_0xfef37c=0x20;break;case 0x20:_0xfef37c=0x40;break;default:_0xfef37c=0x0;}return _0xfef37c;}},{'key':'_GetSlowSpeed','value':function(_0x42119f){var _0x4b7ba0=0x0;switch(_0x42119f){case-0x8:_0x4b7ba0=-0x10;break;case-0x4:_0x4b7ba0=-0x8;break;case-0x2:_0x4b7ba0=-0x4;break;case 0x1:_0x4b7ba0=-0x2;break;case 0x2:_0x4b7ba0=0x1;break;case 0x4:_0x4b7ba0=0x2;break;case 0x8:_0x4b7ba0=0x4;break;case 0x10:_0x4b7ba0=0x8;break;case 0x20:_0x4b7ba0=0x10;break;case 0x40:_0x4b7ba0=0x20;break;default:_0x4b7ba0=0x0;}return _0x4b7ba0;}},{'key':'SetDisplayBuf','value':function(_0x13d41f){return this['displayBuf']=_0x13d41f,this['LatcyTime']=0x1==_0x13d41f?0x0:0xf==_0x13d41f?0x2bc:0x2d==_0x13d41f?0x76c:_0x13d41f>0x6&&_0x13d41f<0x2d?0x28*_0x13d41f+0x64:-0x1==_0x13d41f?0x0:0x32,0x1;}},{'key':'GetJPEG','value':function(){var _0x3877f9=this;this['oVideoDecoder']['GetImageYUV']()['then'](function(_0x126e50){var _0x499750=_0x126e50['yuvFrameBuffer'],_0x1311f7=_0x126e50['yuvLength'],_0x423df2=_0x126e50['displayWidth'],_0x443d08=_0x126e50['displayHeight'],_0x55dc87=_0x126e50['yuvType'];-0x1!=_0x499750&&(_0x3877f9['player']?_0x3877f9['player']['_GetImage2'](_0x499750,_0x1311f7,_0x423df2,_0x443d08,'jpeg',_0x55dc87,0x0,0x0,0x0,0x0):postMessage({'function':'imageYUV','value':_0x499750['buffer'],'size':_0x1311f7,'width':_0x423df2,'height':_0x443d08,'type':'jpeg','yuvType':_0x55dc87,'sx':0x0,'sy':0x0,'sw':0x0,'sh':0x0},[_0x499750['buffer']]));},function(){});}},{'key':'GetBMP','value':function(){var _0x5d52a9=this;this['oVideoDecoder']['GetImageYUV']()['then'](function(_0xb493b6){var _0x4699e4=_0xb493b6['yuvFrameBuffer'],_0x1b85ab=_0xb493b6['yuvLength'],_0x1f78e9=_0xb493b6['displayWidth'],_0x254cb1=_0xb493b6['displayHeight'],_0x1eea37=_0xb493b6['yuvType'];-0x1!=_0x4699e4&&(_0x5d52a9['player']?_0x5d52a9['player']['_GetImage2'](_0x4699e4,_0x1b85ab,_0x1f78e9,_0x254cb1,'bmp',_0x1eea37,0x0,0x0,0x0,0x0):postMessage({'function':'imageYUV','value':_0x4699e4['buffer'],'size':_0x1b85ab,'width':_0x1f78e9,'height':_0x254cb1,'type':'bmp','yuvType':_0x1eea37,'sx':0x0,'sy':0x0,'sw':0x0,'sh':0x0},[_0x4699e4['buffer']]));},function(){});}},{'key':'GetCropJPEG','value':function(){var _0x299686=this;this['oVideoDecoder']['GetImageYUV']()['then'](function(_0x1c7be9){var _0x3048bc=_0x1c7be9['yuvFrameBuffer'],_0x3dd74b=_0x1c7be9['yuvLength'],_0x42b087=_0x1c7be9['displayWidth'],_0x39d6f8=_0x1c7be9['displayHeight'],_0x3ae569=_0x1c7be9['yuvType'];-0x1!=_0x3048bc&&(_0x299686['player']?_0x299686['player']['_GetImage2'](_0x3048bc,_0x3dd74b,_0x42b087,_0x39d6f8,'jpeg',_0x3ae569,_0x299686['sx'],_0x299686['sy'],_0x299686['sw'],_0x299686['sh']):postMessage({'function':'imageYUV','value':_0x3048bc['buffer'],'size':_0x3dd74b,'width':_0x42b087,'height':_0x39d6f8,'type':'jpeg','yuvType':_0x3ae569,'sx':_0x299686['sx'],'sy':_0x299686['sy'],'sw':_0x299686['sw'],'sh':_0x299686['sh']},[_0x3048bc['buffer']]));},function(){});}},{'key':'GetCropBMP','value':function(){var _0xc5cadf=this;this['oVideoDecoder']['GetImageYUV']()['then'](function(_0x3ac593){var _0xd178c=_0x3ac593['yuvFrameBuffer'],_0x3db30d=_0x3ac593['yuvLength'],_0x6aa979=_0x3ac593['displayWidth'],_0x83ffb6=_0x3ac593['displayHeight'],_0x1e3a29=_0x3ac593['yuvType'];-0x1!=_0xd178c&&(_0xc5cadf['player']?_0xc5cadf['player']['_GetImage2'](_0xd178c,_0x3db30d,_0x6aa979,_0x83ffb6,'bmp',_0x1e3a29,_0xc5cadf['sx'],_0xc5cadf['sy'],_0xc5cadf['sw'],_0xc5cadf['sh']):postMessage({'function':'imageYUV','value':_0xd178c['buffer'],'size':_0x3db30d,'width':_0x6aa979,'height':_0x83ffb6,'type':'bmp','yuvType':_0x1e3a29,'sx':_0xc5cadf['sx'],'sy':_0xc5cadf['sy'],'sw':_0xc5cadf['sw'],'sh':_0xc5cadf['sh']},[_0xd178c['buffer']]));},function(){});}},{'key':'GetCanvasCapture','value':function(_0x48dbef){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20GetCanvasCapture','color:red'),0x0):(this['oVideoRender']['GetCanvasData'](_0x48dbef),0x1);}},{'key':'SetDecodeFrameType','value':function(_0x40d69f){return this['waitIFrameTimestamp']=_0x40d69f,0x1;}},{'key':'SetStreamEnd','value':function(){return this['oVideoDecoder']['SetStreamEnd'](),0x1;}},{'key':'SetAntialias','value':function(_0x25d724){return null!=this['oVideoRender']?this['oVideoRender']['SetAntialias'](_0x25d724):0x0;}},{'key':'SetFrameInfoCallBack','value':function(_0xece2a7,_0x4169da){return this['displayFrameInfoCB']=_0x4169da?_0xece2a7:null,0x1;}},{'key':'FEC_SetCanvasID','value':function(_0x366fad){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_SetCanvasID'](_0x366fad):(this['FECCanvasID']=_0x366fad,0x0);}},{'key':'FEC_ResetCorrectType','value':function(_0x3c9a4d,_0x246d92,_0x38e7d3){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_ResetCorrectType'](_0x3c9a4d,_0x246d92,_0x38e7d3):0x0;}},{'key':'FEC_GetPort','value':function(_0x2f96c7,_0x8839a1){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),-0x1):null!=this['oVideoRender']?this['oVideoRender']['FEC_GetPort'](_0x2f96c7,_0x8839a1):-0x1;}},{'key':'FEC_Enable','value':function(_0x169750){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_Enable'](_0x169750):0x0;}},{'key':'FEC_SetParam','value':function(_0x13273c,_0x419f38){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_SetParam'](_0x13273c,_0x419f38):0x0;}},{'key':'FEC_GetParam','value':function(_0x413dd2,_0x35fb31){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_GetParam'](_0x413dd2,_0x35fb31):0x0;}},{'key':'FEC_SetViewParam','value':function(_0x8dbd49,_0x2e4aa0,_0x336b4a){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_SetViewParam'](_0x8dbd49,_0x2e4aa0,_0x336b4a):0x0;}},{'key':'FEC_GetViewParam','value':function(_0x321a74,_0x238b33,_0x1f6363){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_GetViewParam'](_0x321a74,_0x238b33,_0x1f6363):0x0;}},{'key':'FEC_SetWnd','value':function(_0x5487e8,_0x29e59c){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_SetWnd'](_0x5487e8,_0x29e59c):0x0;}},{'key':'FEC_Disable','value':function(_0x3e03d7,_0x3a117b,_0x326104){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_Disable'](_0x3e03d7,_0x3a117b,_0x326104):0x0;}},{'key':'FEC_DelPort','value':function(_0x3fe0cb){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_DelPort'](_0x3fe0cb):0x0;}},{'key':'FEC_SetDisplayRegion','value':function(_0x191da4,_0x46fb13,_0x209e18,_0x3e13d8,_0x122a46,_0xf99504,_0x245e21){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_SetDisplayRegion'](_0x191da4,_0x46fb13,_0x209e18,_0x3e13d8,_0x122a46,_0xf99504,_0x245e21):0x0;}},{'key':'FEC_SetBackCilling','value':function(_0x4f6dc4,_0x8919ca){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_SetBackCilling'](_0x4f6dc4,_0x8919ca):0x0;}},{'key':'FEC_GetPTZPort','value':function(_0xcbcc1c,_0x36ff4e,_0x1b2b56){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),-0x1):null!=this['oVideoRender']?this['oVideoRender']['FEC_GetPTZPort'](_0xcbcc1c,_0x36ff4e,_0x1b2b56):-0x1;}},{'key':'FEC_SetPTZDisplayMode','value':function(_0x1fbd0a){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20FEC\x20correct','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['FEC_SetPTZDisplayMode'](_0x1fbd0a):0x0;}},{'key':'InputPrivateInfo','value':function(_0x3947a0,_0xa7e453,_0x3c115d){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20PrivateInfo','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['InputPrivateInfo'](_0x3947a0,_0xa7e453,_0x3c115d):0x1;}},{'key':'RenderPrivateData','value':function(_0x398468){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20PrivateInfo','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['RenderPrivateData'](_0x398468):0x1;}},{'key':'SetWaterMarkFont','value':function(_0x1052a7){return '2d'===this['renderEngine']||'2D'===this['renderEngine']||null==this['oVideoRender']?(console['log']('%c\x20param\x20error\x20this.renderEngine:%d,this.oVideoRender:%d','color:red',this['renderEngine'],this['oVideoRender']),0x0):(null!=this['oVideoRender']&&this['oVideoRender']['SetWaterMarkFont'](_0x1052a7,{'yuvFrameBuffer':-0x1,'yuvLength':-0x1,'displayWidth':-0x1,'displayHeight':-0x1,'yuvType':-0x1}),0x1);}},{'key':'SetWaterMarkImage','value':function(_0x366b11){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20SetWaterMarkImage','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['SetWaterMarkImage'](_0x366b11):0x1;}},{'key':'SetD3DPostProcess','value':function(_0x44d814,_0x2e7fd5){return '2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log']('%c\x202D\x20render\x20not\x20support\x20SetD3DPostProcess','color:red'),0x0):null!=this['oVideoRender']?this['oVideoRender']['SetD3DPostProcess'](_0x44d814,_0x2e7fd5):0x1;}}]),_0x4f9fed;}(),_0x24c9fc=function(){function _0x268830(_0x21c76d){_0x162c92(this,_0x268830),this['player']=_0x21c76d,this['oVideoPlayCtrl']=new _0x132ad4(_0x21c76d);}return _0x5ab2cc(_0x268830,[{'key':'init','value':function(_0x13d566,_0xf31b4,_0x16d284,_0x81b76d){if(null===this['oVideoPlayCtrl'])return 0x0;this['oVideoPlayCtrl']['init'](_0x13d566,_0xf31b4,_0x16d284,_0x81b76d);}},{'key':'inputData','value':function(_0x2aee9c,_0x54e5db){null!=this['oVideoPlayCtrl']&&this['oVideoPlayCtrl']['inputData'](_0x2aee9c,_0x54e5db);}},{'key':'SetDisplayRegion','value':function(_0x551b3c,_0x59af77,_0x2ffdca,_0x1e6487){if(null===this['oVideoPlayCtrl'])return 0x0;this['oVideoPlayCtrl']['SetDisplayRegion'](_0x551b3c,_0x59af77,_0x2ffdca,_0x1e6487);}},{'key':'stop','value':function(){if(null===this['oVideoPlayCtrl'])return 0x0;this['oVideoPlayCtrl']['SetCurStatus'](0x4),this['oVideoPlayCtrl']=null,console['log']('>>>JS\x2003\x20destroy\x20oVideoPlayCtrl');}},{'key':'fast','value':function(){return null===this['oVideoPlayCtrl']||0x1!==this['oVideoPlayCtrl']['fast']()?0x0:void 0x0;}},{'key':'slow','value':function(){return null===this['oVideoPlayCtrl']||0x1!==this['oVideoPlayCtrl']['slow']()?0x0:void 0x0;}},{'key':'SetDisplayBuf','value':function(_0x2b8da8){return null===this['oVideoPlayCtrl']||0x1!==this['oVideoPlayCtrl']['SetDisplayBuf'](_0x2b8da8)?0x0:void 0x0;}},{'key':'Pause','value':function(_0x3bdded){return null===this['oVideoPlayCtrl']||0x1!==this['oVideoPlayCtrl']['Pause'](_0x3bdded)?0x0:void 0x0;}},{'key':'OneByOne','value':function(_0x282f01){return null===this['oVideoPlayCtrl']||0x1!==this['oVideoPlayCtrl']['OneByOne'](_0x282f01)?0x0:void 0x0;}},{'key':'SetCanvasSize','value':function(_0x2b4a3b,_0x1e03f0){return null===this['oVideoPlayCtrl']||0x1!==this['oVideoPlayCtrl']['SetCanvasSize'](_0x2b4a3b,_0x1e03f0)?0x0:void 0x0;}},{'key':'GetCanvasSize','value':function(){return null===this['oVideoPlayCtrl']||0x1!==this['oVideoPlayCtrl']['GetCanvasSize']()?0x0:void 0x0;}},{'key':'GetPlayedTime','value':function(){return null===this['oVideoPlayCtrl']?0x0:this['oVideoPlayCtrl']['GetPlayedTime']();}},{'key':'needReset','value':function(){this['oVideoPlayCtrl']['SetCurStatus'](0x0);}},{'key':'GetJPEG','value':function(){this['oVideoPlayCtrl']['GetJPEG']();}},{'key':'GetBMP','value':function(){this['oVideoPlayCtrl']['GetBMP']();}},{'key':'GetCropJPEG','value':function(){this['oVideoPlayCtrl']['GetCropJPEG']();}},{'key':'GetCropBMP','value':function(){this['oVideoPlayCtrl']['GetCropBMP']();}},{'key':'JSPlayM4_GetCanvasCapture','value':function(_0x177389){this['oVideoPlayCtrl']['GetCanvasCapture'](_0x177389);}},{'key':'SetDecodeFrameType','value':function(_0x566f50){this['oVideoPlayCtrl']['SetDecodeFrameType'](_0x566f50);}},{'key':'streamEnd','value':function(){this['oVideoPlayCtrl']['SetStreamEnd']();}},{'key':'SetAntialias','value':function(_0xc3e8f4){return this['oVideoPlayCtrl']['SetAntialias'](_0xc3e8f4);}},{'key':'SetFrameInfoCallBack','value':function(_0x4ae865,_0x58ad28){return this['oVideoPlayCtrl']['SetFrameInfoCallBack'](_0x4ae865,_0x58ad28);}},{'key':'FEC_SetCanvasID','value':function(_0x45365d){return this['oVideoPlayCtrl']['FEC_SetCanvasID'](_0x45365d);}},{'key':'FEC_ResetCorrectType','value':function(_0xc9d4a5,_0x546d9e,_0x1c349a){return this['oVideoPlayCtrl']['FEC_ResetCorrectType'](_0xc9d4a5,_0x546d9e,_0x1c349a);}},{'key':'FEC_GetPort','value':function(_0x1eb76b,_0x180552){return this['oVideoPlayCtrl']['FEC_GetPort'](_0x1eb76b,_0x180552);}},{'key':'FEC_Enable','value':function(_0x11a02f){return this['oVideoPlayCtrl']['FEC_Enable'](_0x11a02f);}},{'key':'FEC_SetParam','value':function(_0x38fe87,_0x2bf7ec){return this['oVideoPlayCtrl']['FEC_SetParam'](_0x38fe87,_0x2bf7ec);}},{'key':'FEC_GetParam','value':function(_0x4e9c7f,_0x4835b0){return this['oVideoPlayCtrl']['FEC_GetParam'](_0x4e9c7f,_0x4835b0);}},{'key':'FEC_SetViewParam','value':function(_0xc0e017,_0x4c3696,_0x5a302c){return this['oVideoPlayCtrl']['FEC_SetViewParam'](_0xc0e017,_0x4c3696,_0x5a302c);}},{'key':'FEC_GetViewParam','value':function(_0x499341,_0x3b6ba4,_0xe86596){return this['oVideoPlayCtrl']['FEC_GetViewParam'](_0x499341,_0x3b6ba4,_0xe86596);}},{'key':'FEC_SetWnd','value':function(_0x1d7e31,_0x181ffe){return this['oVideoPlayCtrl']['FEC_SetWnd'](_0x1d7e31,_0x181ffe);}},{'key':'FEC_Disable','value':function(_0x53d593,_0x1b6d14,_0x3adf94){return this['oVideoPlayCtrl']['FEC_Disable'](_0x53d593,_0x1b6d14,_0x3adf94);}},{'key':'FEC_DelPort','value':function(_0x2ff23f){return this['oVideoPlayCtrl']['FEC_DelPort'](_0x2ff23f);}},{'key':'FEC_SetDisplayRegion','value':function(_0x268427,_0x5c315c,_0x3e1355,_0x196707,_0x3202a3,_0x7a071a,_0x49e72c){return this['oVideoPlayCtrl']['FEC_SetDisplayRegion'](_0x268427,_0x5c315c,_0x3e1355,_0x196707,_0x3202a3,_0x7a071a,_0x49e72c);}},{'key':'FEC_SetBackCilling','value':function(_0x3a00c9,_0x16f692){return this['oVideoPlayCtrl']['FEC_SetBackCilling'](_0x3a00c9,_0x16f692);}},{'key':'FEC_GetPTZPort','value':function(_0x276251,_0x23fd34,_0x471184){return this['oVideoPlayCtrl']['FEC_GetPTZPort'](_0x276251,_0x23fd34,_0x471184);}},{'key':'FEC_SetPTZDisplayMode','value':function(_0x142ac6){return this['oVideoPlayCtrl']['FEC_SetPTZDisplayMode'](_0x142ac6);}},{'key':'InputPrivateInfo','value':function(_0x2126bd,_0x4a88d5,_0x5ecb6c){return this['oVideoPlayCtrl']['InputPrivateInfo'](_0x2126bd,_0x4a88d5,_0x5ecb6c);}},{'key':'RenderPrivateData','value':function(_0x55fcc5){return this['oVideoPlayCtrl']['RenderPrivateData'](_0x55fcc5);}},{'key':'SetWaterMarkFont','value':function(_0x7bd491){return this['oVideoPlayCtrl']['SetWaterMarkFont'](_0x7bd491);}},{'key':'SetWaterMarkImage','value':function(_0x218c8e){return this['oVideoPlayCtrl']['SetWaterMarkImage'](_0x218c8e);}},{'key':'SetD3DPostProcess','value':function(_0x30c7d1,_0x185bf4){return this['oVideoPlayCtrl']['SetD3DPostProcess'](_0x30c7d1,_0x185bf4);}}]),_0x268830;}();function _0x348235(_0x57bd42,_0xa7ea35){var _0x497d1d='undefined'!=typeof Symbol&&_0x57bd42[Symbol['iterator']]||_0x57bd42['@@iterator'];if(!_0x497d1d){if(Array['isArray'](_0x57bd42)||(_0x497d1d=function(_0x29d86e,_0x354cc2){if(!_0x29d86e)return;if('string'==typeof _0x29d86e)return _0x1e2619(_0x29d86e,_0x354cc2);var _0x1d4064=Object['prototype']['toString']['call'](_0x29d86e)['slice'](0x8,-0x1);'Object'===_0x1d4064&&_0x29d86e['constructor']&&(_0x1d4064=_0x29d86e['constructor']['name']);if('Map'===_0x1d4064||'Set'===_0x1d4064)return Array['from'](_0x29d86e);if('Arguments'===_0x1d4064||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/['test'](_0x1d4064))return _0x1e2619(_0x29d86e,_0x354cc2);}(_0x57bd42))||_0xa7ea35&&_0x57bd42&&'number'==typeof _0x57bd42['length']){_0x497d1d&&(_0x57bd42=_0x497d1d);var _0x447d45=0x0,_0x4c3211=function(){};return {'s':_0x4c3211,'n':function(){return _0x447d45>=_0x57bd42['length']?{'done':!0x0}:{'done':!0x1,'value':_0x57bd42[_0x447d45++]};},'e':function(_0x236bb6){throw _0x236bb6;},'f':_0x4c3211};}throw new TypeError('Invalid\x20attempt\x20to\x20iterate\x20non-iterable\x20instance.\x0aIn\x20order\x20to\x20be\x20iterable,\x20non-array\x20objects\x20must\x20have\x20a\x20[Symbol.iterator]()\x20method.');}var _0x50b0c2,_0x3defb2=!0x0,_0x26b26d=!0x1;return {'s':function(){_0x497d1d=_0x497d1d['call'](_0x57bd42);},'n':function(){var _0x4e8156=_0x497d1d['next']();return _0x3defb2=_0x4e8156['done'],_0x4e8156;},'e':function(_0x892140){_0x26b26d=!0x0,_0x50b0c2=_0x892140;},'f':function(){try{_0x3defb2||null==_0x497d1d['return']||_0x497d1d['return']();}finally{if(_0x26b26d)throw _0x50b0c2;}}};}function _0x1e2619(_0x1bcfaf,_0x5b5b02){(null==_0x5b5b02||_0x5b5b02>_0x1bcfaf['length'])&&(_0x5b5b02=_0x1bcfaf['length']);for(var _0x18a3fb=0x0,_0x41d5db=new Array(_0x5b5b02);_0x18a3fb<_0x5b5b02;_0x18a3fb++)_0x41d5db[_0x18a3fb]=_0x1bcfaf[_0x18a3fb];return _0x41d5db;}var _0x5b0f96=[];!function(){for(var _0x3fab54=0x0;_0x3fab54<0x8;_0x3fab54++){_0x5b0f96[_0x3fab54]=[];for(var _0x3f4c84=0x0;_0x3f4c84<0x40;_0x3f4c84++)_0x5b0f96[_0x3fab54][_0x3f4c84]=null;}}();var _0x4dd407=null,_0x3be9bd=!0x1,_0x382e6b=0x1,_0xa192d8=0x1,_0x53d515={'bSupHardOrSoft':!0x0,'bSupHardDecAVC':!0x0,'bSupHardDecHEVC':!0x0,'cmd':'unloaded','errorCode':0x0,'status':0x0},_0x49a021=-0x1;window['JSPlayM4_RawDataCallBack']=function(_0x5d4c19,_0x206584,_0x1f34c1,_0x5b9707){null!=_0x5b0f96[_0x5b9707][_0x5d4c19]&&_0x5b0f96[_0x5b9707][_0x5d4c19]['__proto__']['hasOwnProperty']('JSPlayM4_InputRawData')&&_0x5b0f96[_0x5b9707][_0x5d4c19]['JSPlayM4_InputRawData'](_0x5d4c19,_0x206584,_0x1f34c1);},window['JSPlayM4_PrivateInfoCallBack']=function(_0x4347ef,_0xb80648,_0xe0caf1,_0x972228,_0xa968c1){null!=_0x5b0f96[_0xa968c1][_0x4347ef]&&_0x5b0f96[_0xa968c1][_0x4347ef]['__proto__']['hasOwnProperty']('JSPlayM4_InputPrivateInfo')&&_0x5b0f96[_0xa968c1][_0x4347ef]['JSPlayM4_InputPrivateInfo'](_0xb80648,_0xe0caf1,_0x972228);};var _0x41f7ea=function(){function _0x1b02d6(_0x4aa389,_0x413311,_0x2a52ae){var _0x3ca9b1=this,_0x9d7789=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:0x0,_0x288f32=arguments['length']>0x4&&void 0x0!==arguments[0x4]?arguments[0x4]:'webgl',_0x49aa94=arguments['length']>0x5&&void 0x0!==arguments[0x5]?arguments[0x5]:0x0,_0x11c50f=arguments['length']>0x6&&void 0x0!==arguments[0x6]?arguments[0x6]:-0x1;if(_0x162c92(this,_0x1b02d6),this['jsplayer']=_0x4aa389,this['szBasePath']=_0x413311,this['fn']=_0x2a52ae,this['nUser']=_0x9d7789,this['renderEngine']=_0x288f32,this['hasWebWorker']=_0x49aa94,this['setHasThread']=_0x11c50f,this['oJSPlayerObj']=this,this['port']=-0x1,this['pcVideoManager']=null,this['decodeWorker']=null,this['offscreen']=null,this['canvasID']='',this['canvasCnv']=null,this['rtpType']=0x0,this['decodeEngine']=0x1,this['FirstFrameCallBackflag']=!0x1,this['inputDataBuffer']=null,this['inputDataBufferSize']=0x32000,this['canvasIDData']=null,this['_decoderLoaded']=!0x1,this['streamOpenMode']=0x0,this['width']=0x0,this['height']=0x0,this['rawDataFrameInfoBuffer']=null,this['rawDataFrameInfo']={},this['displayFrameInfo']={},this['startTimeStamp']=0x0,this['decodeFrameType']=0x0,this['switchDecodeFrame']=!0x1,this['displayBuf']=0x0,this['needSetDisplayBuf']=!0x1,this['FirstFrame']=!0x0,this['codecType']=0x0,this['curStatus']=0x0,this['playSpeed']=0x1,this['needWaitIFrame']=!0x1,this['printfFlag']=!0x1,this['SetDisRegionBottom']=0x0,this['SetDisRegionLeft']=0x0,this['SetDisRegionRight']=0x0,this['SetDisRegionTop']=0x0,this['cropBottom']=0x0,this['cropLeft']=0x0,this['cropRight']=0x0,this['cropTop']=0x0,this['canvasWidth']=0x3c0,this['canvasHeight']=0x1e0,this['enableCanvas']=!0x0,this['needResetCanvasSize']=!0x1,this['hasThread']=0x0,this['aTotalBuffer']=[],this['iFrameNum']=0x0,this['bWriteData']=!0x0,this['downloadFlag']=!0x1,this['bWriteAudioPCMData']=!0x0,this['audioPCMBuffer']=[],this['iAudioPCMFrameNum']=0x0,this['pBmpData']=null,this['nBmpDataSize']=0x0,this['pBmpSizeData']=null,this['bmpDataCallback']=null,this['bmpDownloadFlag']=!0x1,this['pJpegData']=null,this['nJpegDataSize']=0x0,this['pJPEGSizeData']=null,this['jpegDataCallback']=null,this['jpegDownloadFlag']=!0x1,this['stDisplayRect']={'top':0x0,'left':0x0,'right':0x0,'bottom':0x0},this['iZoomNum']=0x0,this['iRatio_x']=0x1,this['iRatio_y']=0x1,this['pFECTotalCanvasIDData']=null,this['iFECCanvasIDLen']=0x0,this['iFECZoomNum']=0x0,this['iFECRatio_x']=0x1,this['iFECRatio_y']=0x1,this['stFECDisplayRect']={'top':0x0,'left':0x0,'right':0x0,'bottom':0x0},this['FECcanvasIDArray']=[],this['FECGetPortCB']=null,this['FECGetPTZPortCB']=null,this['FECParamCB']=null,this['FECViewParamCB']=null,this['FFCallBackFun']=null,this['addtionCallBackFun']=null,this['displayCallBackFun']=null,this['decCallBackFun']=null,this['getPlayTimeCallBackFun']=null,this['runtimeCBFun']=null,this['callbackFlag']=!0x1,this['runTimeModule']=0x0,this['needSetSecretKey']=!0x1,this['SecretKeyData']=null,this['needPlaySound']=!0x1,this['decInterval']=-0x1,this['volumeValue']=-0x1,this['renderPrivateInfo']=new Map(),this['renderIntelSubEx']=new Map(),this['renderIntelFlagEx']=new Map(),this['reversePlay']=!0x1,this['decodeThreadNum']=0x0,this['antialiasFlag']=-0x1,this['decodeERCLevel']=0x0,this['d3dPostProcessType']=0x0,this['d3dPostProcessValue']=0x0,this['needSetD3DPostProcess']=!0x1,this['resetBufferType']=-0x1,this['playOrBackSwitchMode']=0x0,this['setStretchPlayTime']=0x0,this['setStretchPlaySpeed']=0x0,this['autoSmoothPlayModel']=-0x1,this['keepPlaySpeed']=-0x1,this['FECCanvasID']='',this['FECPlaceType']=0x0,this['FECCorrectType']=0x0,this['anrParamFlag']=!0x1,this['anrParamLevel']=-0x1,this['resampleFlag']=!0x1,this['resampleRate']=0xbb80,this['globalBaseTime']=null,this['needSetSkipErrorData']=!0x1,this['skipErrorData']=-0x1,this['needSetDemuxModel']=!0x1,this['setDemuxModelType']=-0x1,this['setDemuxModelFlag']=!0x1,this['setAudioThreadModel']=-0x1,this['syncToAudio']=-0x1,this['HIK40Head']=[],this['HIKHeadSize']=0x28,this['HIKPoolSize']=0x200000,this['supportWebCodecs']=_getFSupportWebCodecs(),this['supportSab']=!!window['SharedArrayBuffer'],this['offscreen']=!!window['OffscreenCanvas'],this['supportOffscreen']=!0x1,this['offscreen']){var _0x1497dc=new OffscreenCanvas(0x1,0x1),_0x29297e=_0x1497dc['getContext']('webgl');_0x29297e&&(this['supportOffscreen']=!0x0,_0x29297e['getExtension']('WEBGL_lose_context')['loseContext']()),_0x1497dc=null,_0x29297e=null;}if(console['log']('%cstart\x20load\x20Decoder.js\x20time:'+new Date()['getMinutes']()+':'+new Date()['getSeconds']()+'.'+new Date()['getMilliseconds'](),'color:\x20blue'),null!=_0x4dd407||_0x3be9bd)new Promise(function(_0x5884eb,_0x3036bf){_0x5884eb();})['then'](function(){if(null===_0x4dd407)var _0x18167a=setInterval(function(){null!==_0x4dd407&&(clearInterval(_0x18167a),_0x18167a=null,_0x3ca9b1['fn'](_0x53d515));},0xa);else _0x3ca9b1['fn'](_0x53d515);});else {if(_0x3be9bd=!0x0,_0x49a021=_getFExplore(),this['supportWebCodecs']?-0x1<_0x49a021&&_0x49a021<0x5e?(console['info']('%c1>your\x20chrome\x20version\x20%d\x20does\x20not\x20support\x20264/265\x20hard\x20Decoder,please\x20update\x20the\x20latest\x20version\x20above\x20chromeV107','color:\x20red',_0x49a021),_0xa192d8=0x0,_0x382e6b=0x0,_0x53d515['bSupHardDecAVC']=!0x1,_0x53d515['bSupHardDecHEVC']=!0x1,this['supportSab']?_0x53d515['bSupHardOrSoft']=!0x0:_0x53d515['bSupHardOrSoft']=!0x1):0x5e<=_0x49a021&&_0x49a021<0x6b?(console['info']('%c1>your\x20chrome\x20version\x20%d\x20does\x20not\x20support\x20265\x20hard\x20Decoder,please\x20update\x20the\x20latest\x20version\x20above\x20chromeV107','color:\x20red',_0x49a021),_0x382e6b=0x0,_0x53d515['bSupHardDecAVC']=!0x0,_0x53d515['bSupHardDecHEVC']=!0x1,_0x53d515['bSupHardOrSoft']=!0x0):(_0x53d515['bSupHardDecAVC']=!0x0,_0x53d515['bSupHardDecHEVC']=!0x1,_0x53d515['bSupHardOrSoft']=!0x0):(console['info']('%c1>your\x20browser\x20does\x20not\x20support\x20hard\x20Decoder\x20','color:\x20red'),_0xa192d8=0x0,_0x382e6b=0x0,_0x53d515['bSupHardDecAVC']=!0x1,_0x53d515['bSupHardDecHEVC']=!0x1,this['supportSab']?_0x53d515['bSupHardOrSoft']=!0x0:_0x53d515['bSupHardOrSoft']=!0x1),_0x53d515['bSupHardOrSoft']){var _0x57cda9=this['szBasePath'],_0x13fdde=document['createElement']('script');_0x13fdde['type']='text/javascript',_0x13fdde['src']=_0x57cda9,console['info']('%c>>>>The\x20Decoder.js\x20path:%s','color:\x20green',_0x57cda9),_0x13fdde['onload']=function(){window['JSPlayerModule']()['then'](function(_0x950880){_0x4dd407=_0x950880,_0x3ca9b1['_decoderLoaded']=!0x0,_0x53d515['cmd']='loaded';var _0x2f3a52=_0x4dd407['_JSPlayM4_GetSDKVersion'](),_0x361729=_0x4dd407['_JSPlayM4_GetBuildDate']();console['log']('%cEnd\x20load\x20Decoder.js\x20time:'+new Date()['getMinutes']()+':'+new Date()['getSeconds']()+'.'+new Date()['getMilliseconds']()+',version:'+_0x2f3a52['toString'](0x10)+',buildDate:'+_0x361729['toString'](0x10),'color:\x20blue'),_0x3ca9b1['supportWebCodecs']?VideoDecoder['isConfigSupported']({'codec':'hvc1.1.6.L123.00','hardwareAcceleration':'prefer-hardware'})['then'](function(_0x1cf0d5){_0x1cf0d5['supported']?(_0x53d515['bSupHardDecHEVC']=!0x0,console['info']('%c1>your\x20browser\x20support\x20264/265\x20hard\x20Decoder','color:\x20green')):(console['warn']('%c1>your\x20PC\x20does\x20not\x20support\x20265\x20hard\x20Decoder,\x20if\x20you\x20want\x20to\x20hard\x20decode\x20265\x20,try\x20to\x20update\x20the\x20GPU\x20driver','color:\x20red'),_0x382e6b=0x0),_0x3ca9b1['callbackFlag']||(_0x3ca9b1['fn'](_0x53d515),_0x3ca9b1['callbackFlag']=!0x0);})['catch'](function(){_0x382e6b=0x0,_0x53d515['bSupHardDecHEVC']=!0x1,console['log']('%c2>hevc\x20supported\x20error','color:\x20red'),_0x3ca9b1['callbackFlag']||(_0x3ca9b1['fn'](_0x53d515),_0x3ca9b1['callbackFlag']=!0x0);}):_0x3ca9b1['fn'](_0x53d515);});},document['body']['appendChild'](_0x13fdde);}else console['log']('%c\x20not\x20support\x20hard\x20or\x20soft','color:red'),new Promise(function(_0x2c22cb,_0x178d80){_0x2c22cb();})['then'](function(){_0x3ca9b1['fn'](_0x53d515);});}}return _0x5ab2cc(_0x1b02d6,[{'key':'startWorker','value':function(_0x5a25cf){function _0x386c5d(_0x5286a7,_0x5ee6f6){return _0x5a25cf['apply'](this,arguments);}return _0x386c5d['toString']=function(){return _0x5a25cf['toString']();},_0x386c5d;}(function(_0x190c2b,_0x6a3467){if(window['Worker']){if(null==_0x6a3467['decodeWorker']){if(_0x6a3467['decodeWorker']=new _0x17594c(),null==_0x6a3467['decodeWorker'])return 0x0;console['log']('decodeWorker\x20create\x20success!');}_0x6a3467['canvasCnv']=document['getElementById'](_0x190c2b),_0x6a3467['offscreen']=_0x6a3467['canvasCnv']['transferControlToOffscreen'](),_0x6a3467['decodeWorker']['postMessage']({'command':'init','streamOpenMode':_0x6a3467['streamOpenMode'],'canvas':_0x6a3467['offscreen'],'sab':_0x6a3467['supportSab'],'renderEngine':_0x6a3467['renderEngine']},[_0x6a3467['offscreen']]),0x0!=_0x6a3467['displayBuf']&&_0x6a3467['decodeWorker']['postMessage']({'command':'SetDisplayBuf','value':_0x6a3467['displayBuf']}),_0x6a3467['decodeWorker']['onmessage']=function(_0x5f1689){var _0x4a3984=_0x5f1689['data'];switch(_0x4a3984['function']){case'error':startWorker(_0x6a3467['canvasID'],_0x6a3467);break;case'GetFrameData':var _0x515c58=new Uint8Array(_0x4a3984['data']);_0x6a3467['downloadRTPData'](_0x515c58);break;case'GetRawData':_0x6a3467['JSPlayM4_GetRawData']();break;case'OrderError':console['log']('>>>JS\x20OrderError');break;case'GetPlayedTime':var _0x196a11=_0x4a3984['value'];_0x6a3467['getPlayTimeCallBackFun']&&_0x6a3467['getPlayTimeCallBackFun'](_0x196a11-_0x6a3467['startTimeStamp']);break;case'resetEnd':_0x6a3467['JSPlayM4_ResetEnd']();break;case'bitmap':var _0x238e0d=_0x4a3984['value'],_0x2dfe23=_0x4a3984['type'];_0x6a3467['_GetImage'](_0x238e0d,_0x2dfe23);break;case'imageYUV':var _0x267889=new Uint8Array(_0x4a3984['value']),_0x485478=_0x4a3984['size'],_0x3bc848=new Uint8Array(_0x267889),_0x3f8039=_0x4a3984['type'],_0x1f85f7=_0x4a3984['width'],_0x45f6c9=_0x4a3984['height'],_0xbdb4ea=_0x4a3984['yuvType'],_0x111e90=_0x4a3984['sx'],_0x20a214=_0x4a3984['sy'],_0x1b50b3=_0x4a3984['sw'],_0x2da31c=_0x4a3984['sh'];_0x6a3467['_GetImage2'](_0x3bc848,_0x485478,_0x1f85f7,_0x45f6c9,_0x3f8039,_0xbdb4ea,_0x111e90,_0x20a214,_0x1b50b3,_0x2da31c),_0x267889=null,_0x3bc848=null,_0x4a3984['value']=null;break;case'stop':_0x6a3467['decodeWorker']=null,console['log']('HardWorker\x20is\x20null');break;case'firstFrameCB':null!=_0x6a3467['FFCallBackFun']&&_0x6a3467['FFCallBackFun']();break;case'SetFrameInfoCallBack':_0x6a3467['displayFrameInfo']['port']=_0x4a3984['curFrameInfo']['port'],_0x6a3467['displayFrameInfo']['codecType']=_0x4a3984['curFrameInfo']['codecType'],_0x6a3467['displayFrameInfo']['frameType']=_0x4a3984['curFrameInfo']['frameType'],_0x6a3467['displayFrameInfo']['frameSize']=_0x4a3984['curFrameInfo']['frameSize'],_0x6a3467['displayFrameInfo']['width']=_0x4a3984['curFrameInfo']['width'],_0x6a3467['displayFrameInfo']['height']=_0x4a3984['curFrameInfo']['height'],_0x6a3467['displayFrameInfo']['timeStamp']=_0x4a3984['curFrameInfo']['timeStamp'],_0x6a3467['displayFrameInfo']['frameRate']=_0x4a3984['curFrameInfo']['frameRate'],_0x6a3467['displayFrameInfo']['frameNum']=_0x4a3984['curFrameInfo']['frameNum'],_0x6a3467['displayFrameInfo']['interlace']=_0x4a3984['curFrameInfo']['interlace'],_0x6a3467['displayFrameInfo']['streamEnd']=_0x4a3984['curFrameInfo']['streamEnd'],_0x6a3467['displayFrameInfo']['cropLeft']=_0x4a3984['curFrameInfo']['cropLeft'],_0x6a3467['displayFrameInfo']['cropRight']=_0x4a3984['curFrameInfo']['cropRight'],_0x6a3467['displayFrameInfo']['cropTop']=_0x4a3984['curFrameInfo']['cropTop'],_0x6a3467['displayFrameInfo']['cropBottom']=_0x4a3984['curFrameInfo']['cropBottom'],_0x6a3467['displayFrameInfo']['year']=_0x4a3984['curFrameInfo']['year'],_0x6a3467['displayFrameInfo']['month']=_0x4a3984['curFrameInfo']['month'],_0x6a3467['displayFrameInfo']['week']=_0x4a3984['curFrameInfo']['week'],_0x6a3467['displayFrameInfo']['day']=_0x4a3984['curFrameInfo']['day'],_0x6a3467['displayFrameInfo']['hour']=_0x4a3984['curFrameInfo']['hour'],_0x6a3467['displayFrameInfo']['minute']=_0x4a3984['curFrameInfo']['minute'],_0x6a3467['displayFrameInfo']['second']=_0x4a3984['curFrameInfo']['second'],_0x6a3467['displayFrameInfo']['milliseconds']=_0x4a3984['curFrameInfo']['milliseconds'];break;case'FECGetViewParam':null!=_0x6a3467['FECViewParamCB']&&_0x6a3467['FECViewParamCB'](_0x4a3984['Param3D']);break;case'FECGetParam':null!=_0x6a3467['FECParamCB']&&_0x6a3467['FECParamCB'](_0x4a3984['param2d']);break;case'FECGetPort':null!=_0x6a3467['FECGetPortCB']&&_0x6a3467['FECGetPortCB'](_0x4a3984['fishSubPort']);break;case'FECGetPTZPort':null!=_0x6a3467['FECGetPTZPortCB']&&_0x6a3467['FECGetPTZPortCB'](_0x4a3984['fishSubPort']);}},_0x6a3467['decodeWorker']['addEventListener']('error',function(_0x217cd4){console['error'](_0x217cd4);});}})},{'key':'JSPlayM4_SetStreamEnd','value':function(){return 0x0;}},{'key':'JSPlayM4_GetPort','value':function(){return this['printfFlag']&&console['log']('>>>>>yff>>>\x20JSPlayM4_GetPort\x201'),null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetPort','color:\x20red'),0x0):(this['port']=_0x4dd407['_JSPlayM4_GetPort'](),_0x5b0f96[this['nUser']][this['port']]=this['oJSPlayerObj'],this['printfFlag']&&console['log']('>>>>>yff>>>\x20JSPlayM4_GetPort\x202'),0x1);}},{'key':'JSPlayM4_SetStreamOpenMode','value':function(_0x1e4d3f){return this['printfFlag']&&console['log']('>>>>>yff>>>>>\x20JSPlayM4_SetStreamOpenMode\x201\x20mode:'+_0x1e4d3f),null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetStreamOpenMode','color:\x20red'),0x0):(this['streamOpenMode']=_0x1e4d3f,this['printfFlag']&&console['log']('>>>>>yff>>>>>\x20JSPlayM4_SetStreamOpenMode\x202\x20\x20mode:'+_0x1e4d3f),null==this['pcVideoManager']&&(this['pcVideoManager']=new _0x24c9fc(this)),_0x4dd407['_JSPlayM4_SetStreamOpenMode'](this['port'],_0x1e4d3f));}},{'key':'JSPlayM4_OpenStream','value':function(_0xbe3130,_0x11c673,_0x5cf31c){if(this['printfFlag']&&console['log']('>>>>>yff>>>>>\x20JSPlayM4_OpenStream\x201\x20:'+_0xbe3130+',this.port:'+this['port']),null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_OpenStream','color:\x20red'),0x0;var _0x96034b=_0x4dd407['_malloc'](_0x11c673);if(null===_0x96034b)return console['log']('hikHeadBuffer\x20malloc\x20failed'),0x0;var _0x47e829=new Uint8Array(_0xbe3130['buffer']);if(0x5==_0xbe3130[0xa]&&0x0==_0xbe3130[0xb]){if(this['codecType']=0x5,!_0x53d515['bSupHardDecHEVC']&&!this['supportSab'])return console['info']('%c3>The\x20codecType\x20is\x20VIDEO_AVC265,not\x20support\x20SharedArrayBuffer','color:\x20red'),0x10;}else 0x1==_0xbe3130[0xa]&&0x0==_0xbe3130[0xb]?this['codecType']=0x1:0x0==_0xbe3130[0xa]&&0x1==_0xbe3130[0xb]?this['codecType']=0x100:this['codecType']=0x0;_0x4dd407['writeArrayToMemory'](_0x47e829,_0x96034b);var _0x24d753=_0x4dd407['_JSPlayM4_OpenStream'](this['port'],_0x96034b,_0x11c673,_0x5cf31c);return null!==_0x96034b&&(_0x4dd407['_free'](_0x96034b),_0x96034b=null),_0x47e829=null,this['HIK40Head']=new Uint8Array(_0xbe3130),this['HIKHeadSize']=_0x11c673,this['HIKPoolSize']=_0x5cf31c,_0x24d753;}},{'key':'JSPlayM4_SetDecodeEngine','value':function(_0x393f23){return this['printfFlag']&&console['log']('>>>>>yff>>>>>\x20JSPlayM4_SetDecodeEngine\x201:'+_0x393f23),0x0!=_0x393f23&&0x1!=_0x393f23?(console['log']('0\x20is\x20softDecode,\x201\x20is\x20hardDecoder,decodeEngine:'+_0x393f23),0x0):0x0!==_0x393f23||this['supportSab']&&this['supportOffscreen']?(this['decodeEngine']=_0x393f23,0x1):(this['jsplayer']['_switchV3ToV1'](this['streamOpenMode'],this['HIK40Head'],this['HIKHeadSize'],this['HIKPoolSize'],!0x0),0x0);}},{'key':'_switchHardToSoft','value':function(){return this['JSPlayM4_Stop'](!0x0),this['JSPlayM4_CloseStream'](),this['JSPlayM4_FreePort'](),this['supportSab']&&this['supportOffscreen']?(this['JSPlayM4_SetDecodeEngine'](0x0)&&(console['log']('V3\x20switchHardToSoft\x20this.szBasePath:'+this['szBasePath']),this['JSPlayM4_GetPort'](),this['JSPlayM4_SetStreamOpenMode'](this['streamOpenMode']),this['JSPlayM4_OpenStream'](this['HIK40Head'],this['HIKHeadSize'],this['HIKPoolSize']),this['JSPlayM4_Play'](null,!0x0)),0x1):(this['jsplayer']['_switchV3ToV1'](this['streamOpenMode'],this['HIK40Head'],this['HIKHeadSize'],this['HIKPoolSize'],!0x0),0x0);}},{'key':'_HardToSoftNeedResetParam','value':function(){null!=this['FFCallBackFun']&&_0x4dd407['_JSPlayM4_SetFirstFrameCallBack'](this['port'],this['FirstFrameCallBackflag'],this['nUser']),this['needSetSecretKey']&&this['JSPlayM4_SetSecretKey'](this['SecretKeyData']),null!=this['globalBaseTime']&&this['globalBaseTime']['month']>0x0&&this['globalBaseTime']['month']<0xd&&this['JSPlayM4_SetGlobalBaseTime'](this['globalBaseTime']['year'],this['globalBaseTime']['month'],this['globalBaseTime']['day'],this['globalBaseTime']['hour'],this['globalBaseTime']['min'],this['globalBaseTime']['sec'],this['globalBaseTime']['ms']),this['needSetSkipErrorData']&&this['JSPlayM4_SkipErrorData'](this['skipErrorData']),this['needSetDemuxModel']&&this['JSPlayM4_SetDemuxModel'](this['setDemuxModelType'],this['setDemuxModelFlag']),this['JSPlayM4_SetDecodeFrameType'](this['decodeFrameType']),-0x1!=this['decInterval']&&_0x4dd407['_JSPlayM4_SetIFrameDecInterval'](this['port'],nInterval),0x0!=this['decodeThreadNum']&&_0x4dd407['_JSPlayM4_SetDecodeThreadNum'](this['port'],this['decodeThreadNum']),0x0!=this['decodeERCLevel']&&_0x4dd407['_JSPlayM4_SetDecodeERC'](this['port'],this['decodeERCLevel']),-0x1!=this['resetBufferType']&&_0x4dd407['_JSPlayM4_ResetBuffer'](this['port'],this['resetBufferType']),this['needPlaySound']&&this['JSPlayM4_PlaySound'](),-0x1!=this['setAudioThreadModel']&&this['JSPlayM4_SetAudioThreadModel'](this['setAudioThreadModel']),-0x1!=this['syncToAudio']&&this['JSPlayM4_SyncToAudio'](this['syncToAudio']),this['anrParamFlag']&&-0x1!=this['anrParamLevel']&&this['JSPlayM4_SetANRParam'](this['anrParamFlag'],this['anrParamLevel']),this['resampleFlag']&&this['JSPlayM4_SetResampleValue'](this['resampleFlag'],this['resampleRate']),-0x1!=this['volumeValue']&&this['JSPlayM4_SetVolume'](this['volumeValue']),null!=this['runtimeCBFun']&&_0x4dd407['_JSPlayM4_SetRunTimeInfoCallBackEx'](this['port'],this['runTimeModule'],this['nUser']),0x0!=this['playOrBackSwitchMode']&&_0x4dd407['_JSPlayM4_SetPlayOrBackSwitchMode'](this['port'],this['playOrBackSwitchMode']);var _0x332a0a,_0x3d2a97=_0x348235(this['renderPrivateInfo']['keys']());try{for(_0x3d2a97['s']();!(_0x332a0a=_0x3d2a97['n']())['done'];){var _0x5f2ba0=_0x332a0a['value'],_0x339a8d=this['renderPrivateInfo']['get'](_0x5f2ba0);_0x4dd407['_JSPlayM4_RenderPrivateData'](this['port'],_0x5f2ba0,_0x339a8d);}}catch(_0x43e2f1){_0x3d2a97['e'](_0x43e2f1);}finally{_0x3d2a97['f']();}var _0x5b82dc,_0x2194fe=_0x348235(this['renderIntelSubEx']['keys']());try{for(_0x2194fe['s']();!(_0x5b82dc=_0x2194fe['n']())['done'];){var _0x58c357=_0x5b82dc['value'],_0x880762=this['renderIntelSubEx']['get'](_0x58c357),_0x33369e=this['renderIntelFlagEx']['get'](_0x58c357);_0x4dd407['_JSPlayM4_RenderPrivateDataEx'](this['port'],_0x58c357,_0x880762,_0x33369e);}}catch(_0x2fd54c){_0x2194fe['e'](_0x2fd54c);}finally{_0x2194fe['f']();}return this['needSetDisplayBuf']&&_0x4dd407['_JSPlayM4_SetDisplayBuf'](this['port'],this['displayBuf']),-0x1!=this['antialiasFlag']&&_0x4dd407['_JSPlayM4_SetAntialias'](this['port'],this['antialiasFlag']),this['needSetD3DPostProcess']&&_0x4dd407['_JSPlayM4_SetD3DPostProcess'](this['port'],this['d3dPostProcessType'],this['d3dPostProcessValue']),0x0!=this['setStretchPlaySpeed']&&_0x4dd407['_JSPlayM4_SetStretchPlay'](this['port'],this['setStretchPlayTime'],this['setStretchPlaySpeed']),-0x1!=this['autoSmoothPlayModel']&&_0x4dd407['_JSPlayM4_SetAutoSmoothPlay'](this['port'],this['autoSmoothPlayModel']),-0x1!=this['keepPlaySpeed']&&_0x4dd407['_JSPlayM4_KeepPlaySpeed'](this['port'],this['keepPlaySpeed']),0x0!=this['printfFlag']&&this['JSPlayM4_SetPrintLogFlag'](this['printfFlag']),''!=this['FECCanvasID']&&this['JSPlayM4_FEC_SetCanvasID'](this['FECCanvasID'],!0x0),0x0!=this['FECPlaceType']&&_0x4dd407['_JSPlayM4_FEC_ResetCorrectType'](this['port'],0x0,this['FECPlaceType'],this['FECCorrectType']),0x1;}},{'key':'JSPlayM4_DownloadRawData','value':function(){return this['downloadFlag']=!0x0,0x1;}},{'key':'JSPlayM4_InputRawData','value':function(_0x3f7320,_0xaad201,_0x5b7875){if(this['rawDataFrameInfoBuffer']=_0x5b7875,this['rawDataFrameInfo']['port']=_0x3f7320,this['rawDataFrameInfo']['codecType']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x4>>0x2],this['rawDataFrameInfo']['frameType']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0xc>>0x2],this['rawDataFrameInfo']['frameSize']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x10>>0x2],this['rawDataFrameInfo']['width']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x14>>0x2],this['rawDataFrameInfo']['height']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x18>>0x2],this['rawDataFrameInfo']['timeStamp']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x1c>>0x2],this['rawDataFrameInfo']['frameRate']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x20>>0x2],this['rawDataFrameInfo']['frameNum']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x24>>0x2],this['rawDataFrameInfo']['isKeyFrame']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x28>>0x2],this['rawDataFrameInfo']['interlace']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x2c>>0x2],this['rawDataFrameInfo']['streamEnd']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x30>>0x2],this['rawDataFrameInfo']['cropLeft']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x34>>0x2],this['rawDataFrameInfo']['cropRight']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x38>>0x2],this['rawDataFrameInfo']['cropTop']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x3c>>0x2],this['rawDataFrameInfo']['cropBottom']=_0x4dd407['HEAP32'][this['rawDataFrameInfoBuffer']+0x40>>0x2],this['rawDataFrameInfo']['year']=_0x4dd407['HEAP16'][this['rawDataFrameInfoBuffer']+0x44>>0x1],this['rawDataFrameInfo']['month']=_0x4dd407['HEAP16'][this['rawDataFrameInfoBuffer']+0x46>>0x1],this['rawDataFrameInfo']['week']=_0x4dd407['HEAP16'][this['rawDataFrameInfoBuffer']+0x48>>0x1],this['rawDataFrameInfo']['day']=_0x4dd407['HEAP16'][this['rawDataFrameInfoBuffer']+0x4a>>0x1],this['rawDataFrameInfo']['hour']=_0x4dd407['HEAP16'][this['rawDataFrameInfoBuffer']+0x4c>>0x1],this['rawDataFrameInfo']['minute']=_0x4dd407['HEAP16'][this['rawDataFrameInfoBuffer']+0x4e>>0x1],this['rawDataFrameInfo']['second']=_0x4dd407['HEAP16'][this['rawDataFrameInfoBuffer']+0x50>>0x1],this['rawDataFrameInfo']['milliseconds']=_0x4dd407['HEAP16'][this['rawDataFrameInfoBuffer']+0x52>>0x1],this['rawDataFrameInfo']['needSetPreSoft']=!0x1,(this['rawDataFrameInfo']['frameRate']<0x1||0x1==this['rawDataFrameInfo']['interlace'])&&(this['rawDataFrameInfo']['needSetPreSoft']=!0x0),0x5==this['rawDataFrameInfo']['codecType']&&_0x49a021<0x6b&&console['info']('%c1>your\x20browser\x20does\x20not\x20support\x20hard\x20265\x20Decoder,please\x20update\x20chrome,sab:%d','color:\x20red',this['sab']),0x0!=this['width']&&0x0!=this['height']||(this['width']=this['rawDataFrameInfo']['width'],this['height']=this['rawDataFrameInfo']['height'],this['startTimeStamp']=this['rawDataFrameInfo']['timeStamp'],this['FirstFrame']=!0x1),0x0==this['rawDataFrameInfo']['cropLeft']&&0x0==this['rawDataFrameInfo']['cropRight']&&0x0==this['rawDataFrameInfo']['cropTop']&&0x0==this['rawDataFrameInfo']['cropBottom']||(this['cropBottom']=this['rawDataFrameInfo']['cropBottom'],this['cropLeft']=this['rawDataFrameInfo']['cropLeft'],this['cropRight']=this['rawDataFrameInfo']['cropRight'],this['cropTop']=this['rawDataFrameInfo']['cropTop']),0x1==this['decodeFrameType']){if(0x1!==this['rawDataFrameInfo']['isKeyFrame'])return 0x1;this['needWaitIFrame']&&(this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'SetDecodeFrameType','timestamp':this['rawDataFrameInfo']['timeStamp']}):this['pcVideoManager']['SetDecodeFrameType'](this['rawDataFrameInfo']['timeStamp']),this['needWaitIFrame']=!0x1);}if(0x0==this['decodeFrameType']&&0x1==this['switchDecodeFrame']){if(0x1!==this['rawDataFrameInfo']['isKeyFrame'])return 0x1;this['switchDecodeFrame']=!0x1;}if(this['downloadFlag']&&this['downloadRTPData'](_0xaad201),this['hasWebWorker']){if(null===this['decodeWorker'])return _0xaad201=null,0x0;this['decodeWorker']['postMessage']({'command':'inputData','rawData':_0xaad201['buffer'],'rawDataFrameInfo':this['rawDataFrameInfo']},[_0xaad201['buffer']]);}else null!==this['pcVideoManager']&&this['pcVideoManager']['inputData'](_0xaad201,this['rawDataFrameInfo']);}},{'key':'JSPlayM4_GetRawData','value':function(){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetRawData','color:\x20red'),0x0;_0x4dd407['_JSPlayM4_GetRawData'](this['port']);}},{'key':'JSPlayM4_ResetEnd','value':function(){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_ResetEnd','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_ResetEnd'](this['port']);}},{'key':'JSPlayM4_NeedReset','value':function(_0x5d2502,_0x36676f,_0x4b367b){return this['hasWebWorker']?null!=_0x5b0f96[_0x4b367b][_0x5d2502]['decodeWorker']&&_0x5b0f96[_0x4b367b][_0x5d2502]['decodeWorker']['postMessage']({'command':'needReset'}):this['pcVideoManager']['needReset'](),0x1;}},{'key':'JSPlayM4_SetAudioDisplayBuf','value':function(_0x548c1a){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetAudioDisplayBuf','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_SetAudioDisplayBuf'](this['port'],_0x548c1a);}},{'key':'JSPlayM4_Play','value':function(){var _0x1e94f5=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:null,_0x2df819=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];if(this['printfFlag']&&console['log']('>>>>>yff>>>>>\x20JSPlayM4_Play\x201\x20this.canvasID:'+this['canvasID']+',this.supportSab:'+this['supportSab']),null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_Play','color:\x20red'),0x0;if(this['printfFlag']&&console['log']('>>>>>yff>>>>>\x20JSPlayM4_Play\x202:'+this['decodeEngine']),null!=_0x1e94f5&&(this['canvasID']=_0x1e94f5,this['canvasWidth']=document['getElementById'](this['canvasID'])['width'],this['canvasHeight']=document['getElementById'](this['canvasID'])['height']),0x0===_0x382e6b&&0x5===this['codecType']?(this['decodeEngine']=0x0,console['info']('%c2>there\x20will\x20decode\x20265\x20by\x20softDecoder','color:\x20green')):0x0!==_0xa192d8||0x100!==this['codecType']&&0x1!==this['codecType']||(this['decodeEngine']=0x0,console['info']('%c2>there\x20will\x20decode\x20264\x20by\x20softDecoder','color:\x20green')),0x0==_0xa192d8&&0x0==_0x382e6b&&(this['decodeEngine']=0x0),!(this['supportSab']&&this['supportOffscreen']||0x0!==this['decodeEngine']))return console['info']('%c3>SharedArrayBuffer\x20or\x20Offscreen\x20Error\x20,\x20does\x20not\x20support\x20Soft\x20Decdoe!!!!!','color:\x20red'),this['jsplayer']['_switchV3ToV1'](this['streamOpenMode'],this['HIK40Head'],this['HIKHeadSize'],this['HIKPoolSize'],!0x0),0x0;-0x1!=this['setHasThread']&&(this['hasThread']=this['setHasThread']),_0x4dd407['_JSPlayM4_SetDecodeEngine'](this['port'],this['decodeEngine'],this['hasThread']);if(console['log']('%cThe\x20final\x20decodeEngine\x20is\x20%d\x20(0\x20is\x20soft,1\x20is\x20hard),codecType:%d','color:\x20green',this['decodeEngine'],this['codecType']),0x0===this['decodeEngine']&&_0x2df819&&null!=this['canvasID']){var _0xba54a6=document['getElementById'](this['canvasID']);_0xba54a6&&(this['clonedCanvas']=_0xba54a6['cloneNode'](!0x0),this['clonedCanvasParentNode']=_0xba54a6['parentNode'],this['clonedCanvasParentNode']['replaceChild'](this['clonedCanvas'],_0xba54a6));}this['printfFlag']&&console['log']('>>>>>yff>>>>>\x20JSPlayM4_Play\x202\x20this.canvasID:'+this['canvasID']+',this.supportSab:'+this['supportSab']+',this.decodeEngine:'+this['decodeEngine']);var _0x97664c=0x1;if(0x1===this['decodeEngine']){this['hasWebWorker']?this['startWorker'](this['canvasID'],this):(this['canvasCnv']=document['getElementById'](this['canvasID']),this['pcVideoManager']['init'](this['canvasCnv'],this['streamOpenMode'],this['supportSab'],this['renderEngine']),this['needSetDisplayBuf']&&this['pcVideoManager']['SetDisplayBuf'](this['displayBuf'])),_0x4dd407['_JSPlayM4_SetVideoRawDataCallBack'](this['port'],this['nUser']);var _0x5c9a77=_0x4dd407['addFunction'](this['JSPlayM4_NeedReset'],'viii');_0x4dd407['_JSPlayM4_SetResetCallBack'](this['port'],_0x5c9a77,this['nUser']),_0x4dd407['_JSPlayM4_SetPrivateInfoCallBack'](this['port'],this['nUser']),this['JSPlayM4_SetCanvasSize'](this['canvasWidth'],this['canvasHeight']),0x1==(_0x97664c=_0x4dd407['_JSPlayM4_Play'](this['port'],null))&&(this['curStatus']=0x2);}else {if(0x0===this['decodeEngine']){if(''!=this['canvasID']&&null!=this['canvasID']){var _0x42310f=this['_stringToBytes']('#'+this['canvasID']),_0x17f1dd=0x2*(this['canvasID']['length']+0x1);if(this['canvasIDData']=_0x4dd407['_malloc'](_0x17f1dd),null===this['canvasIDData'])return 0x0;var _0x21b1d0=_0x4dd407['HEAPU8']['subarray'](this['canvasIDData'],this['canvasIDData']+_0x17f1dd),_0x17510b=new Uint8Array(_0x17f1dd);_0x21b1d0['set'](_0x17510b,0x0),_0x21b1d0['set'](new Uint8Array(_0x42310f)),_0x21b1d0=null,_0x17510b=null;}this['_HardToSoftNeedResetParam'](),0x1==(_0x97664c=_0x4dd407['_JSPlayM4_Play'](this['port'],this['canvasIDData']))&&(this['curStatus']=0x2);}}return this['JSPlayM4_SetFrameInfoCallBack'](0x1),_0x97664c;}},{'key':'JSPlayM4_InputData','value':function(_0x26add7,_0x42e05d){if(this['inputDataBufferSize']<_0x42e05d&&(null!==this['inputDataBuffer']&&(_0x4dd407['_free'](this['inputDataBuffer']),this['inputDataBuffer']=null),this['inputDataBufferSize']=_0x42e05d),null===this['inputDataBuffer']&&(this['inputDataBuffer']=_0x4dd407['_malloc'](this['inputDataBufferSize'])),null===this['inputDataBuffer'])return console['log']('inputdata\x20malloc\x20failed!!!'),0x0;if(0x1==this['needResetCanvasSize']&&(this['JSPlayM4_SetCanvasSize'](this['canvasWidth'],this['canvasHeight']+0x1),this['needResetCanvasSize']=!0x1),this['enableCanvas']){var _0x3b3257=this['JSPlayM4_GetFrameInfo'](),_0x1d4036=_0x3b3257['width'],_0x8b6379=_0x3b3257['height'];_0x1d4036&&_0x8b6379&&(this['JSPlayM4_SetCanvasSize'](this['canvasWidth'],this['canvasHeight']-0x1),this['enableCanvas']=!0x1,this['needResetCanvasSize']=!0x0);}var _0xc5c427=new Uint8Array(_0x26add7['buffer']);_0x4dd407['writeArrayToMemory'](_0xc5c427,this['inputDataBuffer']);var _0x1f19f6=_0x4dd407['_JSPlayM4_InputData'](this['port'],this['inputDataBuffer'],_0x42e05d);return this['printfFlag']&&console['log']('>>>>>yff>>>>>\x20JSPlayM4_InputData\x202\x20res:'+_0x1f19f6+',inputSize:'+_0x42e05d),_0x1f19f6;}},{'key':'JSPlayM4_Stop','value':function(){var _0x4fb0db=!(arguments['length']>0x0&&void 0x0!==arguments[0x0])||arguments[0x0];if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_Stop','color:\x20red'),0x0;if(this['hasWebWorker']?null!=this['decodeWorker']&&this['decodeWorker']['postMessage']({'command':'stop'}):null!=this['pcVideoManager']&&this['pcVideoManager']['stop'](),this['bWriteData']&&this['iFrameNum']>0x0){console['log']('download'+this['iFrameNum']+'Psdata');var _0x1c7171=new Uint8Array(this['aTotalBuffer']);this['_downloadFile'](_0x1c7171,'RTPRaw.data'),this['aTotalBuffer']['splice'](0x0,this['aTotalBuffer']['length']),this['bWriteData']=!0x1,this['iFrameNum']=0x0,_0x1c7171=null;}if(0x2==this['curStatus']||0x5==this['curStatus']){var _0x31f01d=_0x4dd407['_JSPlayM4_Stop'](this['port']);if(0x1==_0x31f01d&&(this['curStatus']=0x4),0x1==_0x31f01d&&_0x4fb0db){var _0x52054d=document['getElementById'](this['canvasID']);if(_0x52054d&&(this['clonedCanvas']=_0x52054d['cloneNode'](!0x0),this['clonedCanvasParentNode']=_0x52054d['parentNode'],this['clonedCanvasParentNode']['replaceChild'](this['clonedCanvas'],_0x52054d)),0x0!=this['FECcanvasIDArray']['length'])for(var _0x374700=0x0;_0x374700<this['FECcanvasIDArray']['length'];_0x374700++){var _0x3f1fb7=document['getElementById'](this['FECcanvasIDArray'][_0x374700]);_0x3f1fb7&&(this['clonedCanvas']=_0x3f1fb7['cloneNode'](!0x0),this['clonedCanvasParentNode']=_0x3f1fb7['parentNode'],this['clonedCanvasParentNode']['replaceChild'](this['clonedCanvas'],_0x3f1fb7));}}return _0x31f01d;}return 0x1;}},{'key':'JSPlayM4_CloseStream','value':function(){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_CloseStream','color:\x20red'),0x0):null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FreePort','color:\x20red'),0x0):(null!==this['inputDataBuffer']&&(_0x4dd407['_free'](this['inputDataBuffer']),this['inputDataBuffer']=null),null!==this['canvasIDData']&&(_0x4dd407['_free'](this['canvasIDData']),this['canvasIDData']=null,this['FirstFrame']=!0x0),null!=this['pFECTotalCanvasIDData']&&(_0x4dd407['_free'](this['pFECTotalCanvasIDData']),this['pFECTotalCanvasIDData']=null),null!=this['pBmpData']&&(_0x4dd407['_free'](this['pBmpData']),this['pBmpData']=null),null!=this['pBmpSizeData']&&(_0x4dd407['_free'](this['pBmpSizeData']),this['pBmpSizeData']=null),null!=this['pJpegData']&&(_0x4dd407['_free'](this['pJpegData']),this['pJpegData']=null),null!=this['pJPEGSizeData']&&(_0x4dd407['_free'](this['pJPEGSizeData']),this['pJPEGSizeData']=null),this['bmpDataCallback']=null,this['jpegDataCallback']=null,this['aTotalBuffer']['splice'](0x0,this['aTotalBuffer']['length']),this['audioPCMBuffer']['splice'](0x0,this['audioPCMBuffer']['length']),this['width']=0x0,this['height']=0x0,this['curStatus']=0x1,this['iZoomNum']=0x0,this['rawDataFrameInfoBuffer']=null,this['displayFrameInfo']={},this['rawDataFrameInfo']={},this['pcVideoManager']=null,_0x4dd407['_JSPlayM4_CloseStream'](this['port']));}},{'key':'JSPlayM4_FreePort','value':function(){return _0x4dd407['_JSPlayM4_FreePort'](this['port']);}},{'key':'JSPlayM4_SetDecodeFrameType','value':function(_0x298d76){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetDecodeFrameType','color:\x20red'),0x0):(this['decodeFrameType']=_0x298d76,0x1===this['decodeEngine']?(0x0==_0x298d76&&0x1==this['decodeFrameType']&&(this['switchDecodeFrame']=!0x0),0x1==_0x298d76&&(this['needWaitIFrame']=!0x0),0x1):_0x4dd407['_JSPlayM4_SetDecodeFrameType'](this['port'],_0x298d76));}},{'key':'JSPlayM4_PlaySound','value':function(){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_PlaySound','color:\x20red'),0x0):(this['needPlaySound']=!0x0,_0x4dd407['_JSPlayM4_PlaySound'](this['port']));}},{'key':'resizedataURL','value':function(_0x3291b0,_0x220f0c,_0x2a99be){return new Promise(function(){var _0x4c62f5,_0x36fcac=(_0x4c62f5=_0x46b816()['mark'](function _0x2d7d8e(_0x2721e6,_0x1fb975){var _0x3ef5b7;return _0x46b816()['wrap'](function(_0x508059){for(;;)switch(_0x508059['prev']=_0x508059['next']){case 0x0:(_0x3ef5b7=document['createElement']('img'))['onload']=function(){var _0x7c23c9=document['createElement']('canvas'),_0x54d008=_0x7c23c9['getContext']('2d');_0x7c23c9['width']=_0x220f0c,_0x7c23c9['height']=_0x2a99be,_0x54d008['drawImage'](this,0x0,0x0,_0x220f0c,_0x2a99be);var _0x514d0b=_0x7c23c9['toDataURL']();_0x2721e6(_0x514d0b);},_0x3ef5b7['src']=_0x3291b0;case 0x3:case'end':return _0x508059['stop']();}},_0x2d7d8e);}),function(){var _0x57b0d9=this,_0x4c9ee6=arguments;return new Promise(function(_0x48fb64,_0x37b7a4){var _0x2dba7e=_0x4c62f5['apply'](_0x57b0d9,_0x4c9ee6);function _0x51542(_0x11ac3c){_0x17d16c(_0x2dba7e,_0x48fb64,_0x37b7a4,_0x51542,_0x5c6920,'next',_0x11ac3c);}function _0x5c6920(_0x40600f){_0x17d16c(_0x2dba7e,_0x48fb64,_0x37b7a4,_0x51542,_0x5c6920,'throw',_0x40600f);}_0x51542(void 0x0);});});return function(_0x3d78b5,_0x16cc96){return _0x36fcac['apply'](this,arguments);};}());}},{'key':'_GetImage','value':function(_0x41218a,_0x5c3f5f){if(0x1===this['decodeEngine']&&_0x41218a['width']&&_0x41218a['height']){var _0x39bd39='image/'+_0x5c3f5f,_0x25c192=document['createElement']('canvas'),_0x25e963=_0x25c192['getContext']('2d');_0x25c192['width']=_0x41218a['width'],_0x25c192['height']=_0x41218a['height'],_0x25e963['drawImage'](_0x41218a,0x0,0x0,_0x41218a['width'],_0x41218a['height']),_0x25c192['toBlob'](function(_0x7305f8){console['log']('blob:'+_0x7305f8);var _0xef05ed=window['URL']['createObjectURL'](_0x7305f8),_0xb70a2=document['createElement']('a');_0xb70a2['download']=new Date()['getTime']()+'.'+_0x5c3f5f,_0xb70a2['href']=_0xef05ed,_0xb70a2['dataset']['downloadurl']=[_0x39bd39,_0xb70a2['download'],_0xb70a2['href']]['join'](':'),document['body']['appendChild'](_0xb70a2),_0xb70a2['click'](),document['body']['removeChild'](_0xb70a2),_0x41218a['close'](),_0x25e963=null;},_0x39bd39);}}},{'key':'_GetImage2','value':function(_0x2d0259,_0x51b3da,_0x4a58df,_0x40457f,_0x370dfa,_0x13464c,_0x4adfc5,_0x357e38,_0x3edfc0,_0x454635){var _0x44f040=this;setTimeout(function(){if(0x0!=_0x4a58df&&0x0!=_0x40457f){var _0x2cc403=_0x4dd407['_malloc'](_0x51b3da);if(null===_0x2cc403)return;_0x4dd407['writeArrayToMemory'](new Uint8Array(_0x2d0259,0x0,_0x51b3da),_0x2cc403);var _0x17092e=0x0;_0x17092e=0x2c0!=_0x4a58df||0x120!=_0x40457f&&0xf0!=_0x40457f?_0x4a58df*_0x40457f*0x4+0x3c:_0x4a58df*_0x40457f*0x8+0x3c;var _0x9f6be3=_0x4dd407['_malloc'](_0x17092e),_0x79859b=_0x4dd407['_malloc'](0x4);if(null===_0x9f6be3||null===_0x79859b)return _0x4dd407['_free'](_0x2cc403),_0x2cc403=null,null!=_0x9f6be3&&(_0x4dd407['_free'](_0x9f6be3),_0x9f6be3=null),void(null!=_0x79859b&&(_0x4dd407['_free'](_0x79859b),_0x79859b=null));_0x4dd407['setValue'](_0x79859b,_0x17092e,'i32');var _0x1d4883=0x2;if('nv12'===_0x13464c?_0x1d4883=0x2:'I420'===_0x13464c&&(_0x1d4883=0x3),'jpeg'==_0x370dfa)_0x4dd407['_JSPlayM4_VideoDataToJpeg'](_0x44f040['port'],_0x2cc403,_0x51b3da,_0x9f6be3,_0x79859b,_0x4a58df,_0x40457f,_0x1d4883,_0x4adfc5,_0x357e38,_0x3edfc0,_0x454635);else {if('bmp'==_0x370dfa)_0x4dd407['_JSPlayM4_VideoDataToBMP'](_0x44f040['port'],_0x2cc403,_0x51b3da,_0x9f6be3,_0x79859b,_0x4a58df,_0x40457f,_0x1d4883,_0x4adfc5,_0x357e38,_0x3edfc0,_0x454635);}var _0x11df0e=_0x4dd407['getValue'](_0x79859b,'i32'),_0x10bf49=new Uint8Array(_0x11df0e);_0x10bf49['set'](_0x4dd407['HEAPU8']['subarray'](_0x9f6be3,_0x9f6be3+_0x11df0e)),0x0==_0x4adfc5&&0x0==_0x357e38&&0x0==_0x3edfc0&&0x0==_0x454635?'jpeg'==_0x370dfa?(null!=_0x44f040['jpegDataCallback']&&_0x44f040['jpegDataCallback'](_0x10bf49,_0x11df0e),_0x44f040['jpegDownloadFlag']&&_0x44f040['_downloadFile'](_0x10bf49,'GetImage.'+_0x370dfa),_0x44f040['jpegDataCallback']=null,_0x44f040['jpegDownloadFlag']=!0x1):'bmp'==_0x370dfa&&(null!=_0x44f040['bmpDataCallback']&&_0x44f040['bmpDataCallback'](_0x10bf49,_0x11df0e),_0x44f040['bmpDownloadFlag']&&_0x44f040['_downloadFile'](_0x10bf49,'GetImage.'+_0x370dfa),_0x44f040['bmpDataCallback']=null,_0x44f040['bmpDownloadFlag']=!0x1):_0x44f040['_downloadFile'](_0x10bf49,'GetCropImage.'+_0x370dfa),_0x10bf49=null,null!=_0x9f6be3&&(_0x4dd407['_free'](_0x9f6be3),_0x9f6be3=null),null!=_0x79859b&&(_0x4dd407['_free'](_0x79859b),_0x79859b=null);}},0x0);}},{'key':'JSPlayM4_GetJPEG','value':function(){var _0x34500f=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:null,_0x2a2a1f=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];if(this['jpegDataCallback']=_0x34500f,this['jpegDownloadFlag']=_0x2a2a1f,0x1===this['decodeEngine'])return this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'GetJPEG'}):null!=this['pcVideoManager']&&this['pcVideoManager']['GetJPEG'](),0x1;if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetJPEG','color:\x20red'),0x0;var _0x526305=_0x4dd407['_JSPlayM4_GetFrameInfo'](this['port']);if(this['width']=_0x4dd407['HEAP32'][_0x526305+0xc>>0x2],this['height']=_0x4dd407['HEAP32'][_0x526305+0x10>>0x2],0x0!=this['width']&&0x0!=this['height']){var _0x315079=this['width']*this['height']*0x4+0x3c;if((null==this['pJpegData']||this['nJPEGDataSize']<_0x315079)&&(null!=this['pJpegData']&&(_0x4dd407['_free'](this['pJpegData']),this['pJpegData']=null),this['nJPEGDataSize']=_0x315079,this['pJpegData']=_0x4dd407['_malloc'](this['nJPEGDataSize']),null===this['pJpegData']))return;null==this['pJPEGSizeData']&&(this['pJPEGSizeData']=_0x4dd407['_malloc'](0x4));var _0x2e6a86=_0x4dd407['_JSPlayM4_GetJPEG'](this['port'],this['pJpegData'],this['nJPEGDataSize'],this['pJPEGSizeData']);if(0x1!=_0x2e6a86){var _0x559a89=_0x4dd407['_JSPlayM4_GetLastError'](this['port']);console['log']('errorcode:'+_0x559a89);}if(0x1==_0x2e6a86){var _0x12bd1a=_0x4dd407['getValue'](this['pJPEGSizeData'],'i32'),_0x52b6f1=new Uint8Array(_0x12bd1a);_0x52b6f1['set'](_0x4dd407['HEAPU8']['subarray'](this['pJpegData'],this['pJpegData']+_0x12bd1a)),null!=_0x34500f&&_0x34500f(_0x52b6f1,_0x12bd1a),_0x2a2a1f&&this['_downloadFile'](_0x52b6f1,'GetJPEG.jpeg'),_0x52b6f1=null,this['jpegDataCallback']=null,this['jpegDownloadFlag']=!0x1;}return _0x2e6a86;}return 0x0;}},{'key':'JSPlayM4_GetBMP','value':function(){var _0x56868b=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:null,_0xd298d4=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];if(this['bmpDataCallback']=_0x56868b,this['bmpDownloadFlag']=_0xd298d4,0x1===this['decodeEngine'])return this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'GetBMP'}):null!=this['pcVideoManager']&&this['pcVideoManager']['GetBMP'](),0x1;if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetBMP','color:\x20red'),0x0;var _0x37a7c8=_0x4dd407['_JSPlayM4_GetFrameInfo'](this['port']);if(this['width']=_0x4dd407['HEAP32'][_0x37a7c8+0xc>>0x2],this['height']=_0x4dd407['HEAP32'][_0x37a7c8+0x10>>0x2],0x0==this['width']||0x0==this['height'])return 0x0;var _0x21648f=0x0;if(_0x21648f=0x2c0!=this['width']||0x120!=this['height']&&0xf0!=this['height']?this['width']*this['height']*0x4+0x3c:this['width']*this['height']*0x8+0x3c,!(null==this['pBmpData']||this['nBmpDataSize']<_0x21648f)||(null!=this['pBmpData']&&(_0x4dd407['_free'](this['pBmpData']),this['pBmpData']=null),this['nBmpDataSize']=_0x21648f,this['pBmpData']=_0x4dd407['_malloc'](this['nBmpDataSize']),null!==this['pBmpData'])){null==this['pBmpSizeData']&&(this['pBmpSizeData']=_0x4dd407['_malloc'](0x4));var _0x3150c2=_0x4dd407['_JSPlayM4_GetBMP'](this['port'],this['pBmpData'],this['nBmpDataSize'],this['pBmpSizeData']);if(0x1!=_0x3150c2){var _0xb1ec32=_0x4dd407['_JSPlayM4_GetLastError'](this['port']);console['log']('errorcode:'+_0xb1ec32);}if(0x1==_0x3150c2){var _0x16e901=_0x4dd407['getValue'](this['pBmpSizeData'],'i32'),_0x3b5dea=new Uint8Array(_0x16e901);_0x3b5dea['set'](_0x4dd407['HEAPU8']['subarray'](this['pBmpData'],this['pBmpData']+_0x16e901)),null!=_0x56868b&&_0x56868b(_0x3b5dea,_0x16e901),_0xd298d4&&this['_downloadFile'](_0x3b5dea,'GetBmp.bmp'),_0x3b5dea=null,this['bmpDataCallback']=null,this['bmpDownloadFlag']=!0x1;}return 0x1;}}},{'key':'JSPlayM4_GetCropJPEG','value':function(){if(0x1===this['decodeEngine'])return this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'GetCropJPEG'}):null!=this['pcVideoManager']&&this['pcVideoManager']['GetCropJPEG'](),0x1;if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetCropJPEG','color:\x20red'),0x0;var _0x4a0fa4=_0x4dd407['_JSPlayM4_GetFrameInfo'](this['port']);if(this['width']=_0x4dd407['HEAP32'][_0x4a0fa4+0xc>>0x2],this['height']=_0x4dd407['HEAP32'][_0x4a0fa4+0x10>>0x2],0x0!=this['width']&&0x0!=this['height']){var _0x2ef05e=this['width']*this['height']*0x4+0x3c,_0x388388=_0x4dd407['_malloc'](_0x2ef05e),_0x4cf1a4=_0x4dd407['_malloc'](0x4),_0x42e22a=this['SetDisRegionBottom'],_0x1531f6=this['SetDisRegionLeft'],_0x533ae5=this['SetDisRegionRight'],_0x1bb583=this['SetDisRegionTop'];if(null===_0x388388)return;var _0x3040d9=_0x4dd407['_JSPlayM4_GetCropJPEG'](this['port'],_0x388388,_0x2ef05e,_0x4cf1a4,0x0,0x0,_0x1531f6,_0x1bb583,_0x533ae5,_0x42e22a);if(0x1!=_0x3040d9){var _0x427e11=_0x4dd407['_JSPlayM4_GetLastError'](this['port']);console['log']('errorcode:'+_0x427e11);}if(0x1==_0x3040d9){var _0x192c82=_0x4dd407['getValue'](_0x4cf1a4,'i32'),_0x126d0c=new Uint8Array(_0x192c82);_0x126d0c['set'](_0x4dd407['HEAPU8']['subarray'](_0x388388,_0x388388+_0x192c82)),this['_downloadFile'](_0x126d0c,'GetCropJPEG.jpeg'),_0x126d0c=null;}return null!=_0x388388&&(_0x4dd407['_free'](_0x388388),_0x388388=null),null!=_0x4cf1a4&&(_0x4dd407['_free'](_0x4cf1a4),_0x4cf1a4=null),_0x3040d9;}return 0x0;}},{'key':'JSPlayM4_GetCropBMP','value':function(){if(0x1===this['decodeEngine'])return this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'GetCropBMP'}):null!=this['pcVideoManager']&&this['pcVideoManager']['GetCropBMP'](),0x1;if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetCropBMP','color:\x20red'),0x0;var _0x3185dd=_0x4dd407['_JSPlayM4_GetFrameInfo'](this['port']);if(this['width']=_0x4dd407['HEAP32'][_0x3185dd+0xc>>0x2],this['height']=_0x4dd407['HEAP32'][_0x3185dd+0x10>>0x2],0x0==this['width']||0x0==this['height'])return 0x0;var _0x426817=this['width']*this['height']*0x4+0x3c,_0x521df0=_0x4dd407['_malloc'](_0x426817),_0x4365cb=_0x4dd407['_malloc'](0x4),_0xdc8c79=this['SetDisRegionBottom'],_0xfcb39b=this['SetDisRegionLeft'],_0x13b960=this['SetDisRegionRight'],_0x59ff6c=this['SetDisRegionTop'];if(null!==_0x521df0){var _0xda0f=_0x4dd407['_JSPlayM4_GetCropBMP'](this['port'],_0x521df0,_0x426817,_0x4365cb,0x0,0x0,_0xfcb39b,_0x59ff6c,_0x13b960,_0xdc8c79);if(0x1!=_0xda0f){var _0x10aaa8=_0x4dd407['_JSPlayM4_GetLastError'](this['port']);console['log']('errorcode:'+_0x10aaa8);}if(0x1==_0xda0f){var _0x1790c5=_0x4dd407['getValue'](_0x4365cb,'i32'),_0x105d48=new Uint8Array(_0x1790c5);_0x105d48['set'](_0x4dd407['HEAPU8']['subarray'](_0x521df0,_0x521df0+_0x1790c5)),this['_downloadFile'](_0x105d48,'GetCropBmp.bmp'),_0x105d48=null;}return null!=_0x521df0&&(_0x4dd407['_free'](_0x521df0),_0x521df0=null),null!=_0x4365cb&&(_0x4dd407['_free'](_0x4365cb),_0x4365cb=null),0x1;}}},{'key':'JSPlayM4_GetCanvasCapture','value':function(_0x495a11){return 0x1===this['decodeEngine']?(this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'GetCanvasCapture','cbFun':_0x495a11}):null!=this['pcVideoManager']&&this['pcVideoManager']['JSPlayM4_GetCanvasCapture'](_0x495a11),0x1):(console['info']('%c\x20SoftDecode\x20not\x20support\x20canvas\x20capture','color:\x20red'),0x1);}},{'key':'JSPlayM4_StopSound','value':function(){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_StopSound','color:\x20red'),0x0):(this['needPlaySound']=!0x1,_0x4dd407['_JSPlayM4_StopSound']());}},{'key':'JSPlayM4_GetSDKVersion','value':function(){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetSDKVersion','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_GetSDKVersion']();}},{'key':'JSPlayM4_GetBuildDate','value':function(){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetBuildDate','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_GetBuildDate']();}},{'key':'JSPlayM4_GetLastError','value':function(){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetLastError','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_GetLastError'](this['port']);}},{'key':'JSPlayM4_Fast','value':function(){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_Fast','color:\x20red'),0x0;if(0x0===this['streamOpenMode'])return 0x1;if(0x1===this['decodeEngine']){if(this['hasWebWorker']){if(null===this['decodeWorker'])return 0x0;this['decodeWorker']['postMessage']({'command':'fast'});}else null!=this['pcVideoManager']&&this['pcVideoManager']['fast']();}var _0x192738=_0x4dd407['_JSPlayM4_Fast'](this['port']);return 0x1==_0x192738&&(this['playSpeed']=0x2*this['playSpeed']),_0x192738;}},{'key':'JSPlayM4_Slow','value':function(){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_Slow','color:\x20red'),0x0;if(0x0===this['streamOpenMode'])return 0x1;if(0x1===this['decodeEngine']){if(this['hasWebWorker']){if(null===this['decodeWorker'])return 0x0;this['decodeWorker']['postMessage']({'command':'slow'});}else null!=this['pcVideoManager']&&this['pcVideoManager']['slow']();}var _0x1f6a09=_0x4dd407['_JSPlayM4_Slow'](this['port']);return 0x1==_0x1f6a09&&(this['playSpeed']=this['playSpeed']/0x2),console['log']('this.playSpeed:'+this['playSpeed']),_0x1f6a09;}},{'key':'JSPlayM4_SetIFrameDecInterval','value':function(_0x3face8){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetIFrameDecInterval','color:\x20red'),0x0):0x1===this['decodeEngine']?0x1:(this['decInterval']=_0x3face8,_0x4dd407['_JSPlayM4_SetIFrameDecInterval'](this['port'],_0x3face8));}},{'key':'JSPlayM4_Pause','value':function(_0xfa7dcc){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_Pause','color:\x20red'),0x0):0x0===this['streamOpenMode']?0x1:(0x1===this['decodeEngine']&&(this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'Pause','value':_0xfa7dcc}):null!=this['pcVideoManager']&&this['pcVideoManager']['Pause'](_0xfa7dcc)),_0x4dd407['_JSPlayM4_Pause'](this['port'],_0xfa7dcc));}},{'key':'JSPlayM4_OneByOne','value':function(){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_OneByOne','color:\x20red'),0x0;if(0x0===this['streamOpenMode'])return 0x0;_0x53d515['cmd']='onebyone';var _0x514cf2=_0x4dd407['_JSPlayM4_GetSourceBufferRemain'](this['port']),_0x4a2ce1=_0x4dd407['_JSPlayM4_GetLastError'](this['port']);return _0x514cf2<0x3e8||0x1f==_0x4a2ce1?(_0x53d515['errorCode']=0x1f,_0x53d515['status']=!0x0,this['fn'](_0x53d515)):(_0x514cf2>this['HIKPoolSize']-0x3e8||0xb==_0x4a2ce1)&&(_0x53d515['errorCode']=0x0,_0x53d515['status']=!0x1,this['fn'](_0x53d515)),this['curStatus']=0x5,0x1===this['decodeEngine']&&(this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'OneByOne','value':0x1}):null!=this['pcVideoManager']&&this['pcVideoManager']['OneByOne'](0x1)),_0x4dd407['_JSPlayM4_OneByOne'](this['port']);}},{'key':'JSPlayM4_OneByOneResume','value':function(){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_OneByOneResume','color:\x20red'),0x0):(_0x53d515['cmd']='play',0x0===this['streamOpenMode']?0x1:(this['curStatus']=0x2,0x1===this['decodeEngine']&&(this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'OneByOne','value':0x0}):null!=this['pcVideoManager']&&this['pcVideoManager']['OneByOne'](0x0)),_0x4dd407['_JSPlayM4_Play'](this['port'],this['canvasIDData'])));}},{'key':'JSPlayM4_SetVolume','value':function(_0x4fc3a8){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetVolume','color:\x20red'),0x0):(this['volumeValue']=_0x4fc3a8,_0x4dd407['_JSPlayM4_SetVolume'](this['port'],_0x4fc3a8));}},{'key':'JSPlayM4_GetVolume','value':function(){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetVolume','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_GetVolume'](this['port']);}},{'key':'JSPlayM4_SetDisplayRegion','value':function(_0x4c3e3c,_0x372db6,_0x4cb361,_0x575f5b,_0x31674e){var _0x474dc1=arguments['length']>0x5&&void 0x0!==arguments[0x5]&&arguments[0x5],_0x54b557=!(arguments['length']>0x6&&void 0x0!==arguments[0x6])||arguments[0x6];if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetDisplayRegion','color:\x20red'),0x0;var _0x3190be=0x1,_0x1b8beb=_0x372db6,_0x428435=_0x575f5b,_0x4ee0f6=_0x4cb361,_0x1801fa=_0x31674e;if('number'!=typeof _0x372db6||'number'!=typeof _0x575f5b||'number'!=typeof _0x4cb361||'number'!=typeof _0x31674e)return console['log']('param\x20is\x20not\x20number'),0x0;if(_0x474dc1)_0x1b8beb=0x0,_0x4ee0f6=this['canvasWidth'],_0x428435=0x0,_0x1801fa=this['canvasHeight'],this['iZoomNum']=0x0,this['iRatio_x']=0x1,this['iRatio_y']=0x1;else {if(_0x54b557){if(_0x1b8beb<0x0||_0x4ee0f6<0x0||_0x428435<0x0||_0x1801fa<0x0)return 0x0;0x0!==this['iZoomNum']&&(_0x1b8beb=Math['round'](_0x1b8beb/this['iRatio_x'])+this['stDisplayRect']['left'],_0x428435=Math['round'](_0x428435/this['iRatio_y'])+this['stDisplayRect']['top'],_0x4ee0f6=Math['round'](_0x4ee0f6/this['iRatio_x'])+this['stDisplayRect']['left'],_0x1801fa=Math['round'](_0x1801fa/this['iRatio_y'])+this['stDisplayRect']['top']);}}if(this['stDisplayRect']={'top':_0x428435,'left':_0x1b8beb,'right':_0x4ee0f6,'bottom':_0x1801fa},_0x4ee0f6-_0x1b8beb<0x10||_0x1801fa-_0x428435<0x10||_0x4ee0f6-_0x1b8beb>this['canvasWidth']||_0x1801fa-_0x428435>this['canvasHeight'])return console['log']('>>>JS\x20left:'+_0x372db6+',right:'+_0x4cb361+',top:'+_0x575f5b+',bottom:'+_0x31674e+',bClose:'+_0x474dc1+',bZoomEnable:'+_0x54b557+',iZoomNum:'+this['iZoomNum']+',canvasWidth:'+this['canvasWidth']+',canvasHeight:'+this['canvasHeight']),0x0;if(0x1===this['decodeEngine']){if(this['SetDisRegionBottom']=_0x1801fa/this['canvasHeight']*this['height'],this['SetDisRegionLeft']=_0x1b8beb/this['canvasWidth']*this['width'],this['SetDisRegionRight']=_0x4ee0f6/this['canvasWidth']*this['width'],this['SetDisRegionTop']=_0x428435/this['canvasHeight']*this['height'],this['hasWebWorker']){if(null===this['decodeWorker'])return 0x0;this['decodeWorker']['postMessage']({'command':'SetDisplayRegion','sx':this['SetDisRegionLeft'],'sy':this['SetDisRegionTop'],'sw':this['SetDisRegionRight']-this['SetDisRegionLeft'],'sh':this['SetDisRegionBottom']-this['SetDisRegionTop']});}else null!=this['pcVideoManager']&&this['pcVideoManager']['SetDisplayRegion'](this['SetDisRegionLeft'],this['SetDisRegionTop'],this['SetDisRegionRight']-this['SetDisRegionLeft'],this['SetDisRegionBottom']-this['SetDisRegionTop']);}else {var _0xb05273=_0x4dd407['_JSPlayM4_GetFrameInfo'](this['port']);this['width']=_0x4dd407['HEAP32'][_0xb05273+0xc>>0x2],this['height']=_0x4dd407['HEAP32'][_0xb05273+0x10>>0x2],this['SetDisRegionBottom']=_0x1801fa/this['canvasHeight']*this['height'],this['SetDisRegionLeft']=_0x1b8beb/this['canvasWidth']*this['width'],this['SetDisRegionRight']=_0x4ee0f6/this['canvasWidth']*this['width'],this['SetDisRegionTop']=_0x428435/this['canvasHeight']*this['height'],_0x3190be=_0x4dd407['_JSPlayM4_SetDisplayRegion'](this['port'],this['canvasID'],this['SetDisRegionLeft'],this['SetDisRegionRight'],this['SetDisRegionTop'],this['SetDisRegionBottom']);}return _0x54b557&&(this['iRatio_x']=this['canvasWidth']/(_0x4ee0f6-_0x1b8beb),this['iRatio_y']=this['canvasHeight']/(_0x1801fa-_0x428435),this['iZoomNum']++),_0x3190be;}},{'key':'JSPlayM4_SetPrintLogFlag','value':function(_0x54eb93){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetPrintLogFlag','color:\x20red'),0x0):(this['printfFlag']=Number(_0x54eb93),_0x4dd407['_JSPlayM4_SetPrintLogFlag'](this['port'],_0x54eb93));}},{'key':'JSPlayM4_RenderPrivateData','value':function(_0x47a979,_0x4e8d8b){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_RenderPrivateData','color:\x20red'),0x0;if(this['renderPrivateInfo']['set'](_0x47a979,_0x4e8d8b),0x1===this['decodeEngine']){if(this['hasWebWorker']){if(null===this['decodeWorker'])return 0x0;this['decodeWorker']['postMessage']({'command':'RenderPrivateData','bTrue':_0x4e8d8b});}else null!=this['pcVideoManager']&&this['pcVideoManager']['RenderPrivateData'](_0x4e8d8b);}return _0x4dd407['_JSPlayM4_RenderPrivateData'](this['port'],_0x47a979,_0x4e8d8b);}},{'key':'JSPlayM4_RenderPrivateDataEx','value':function(_0x2d9f70,_0x40e09e,_0x3d421c){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_RenderPrivateDataEx','color:\x20red'),0x0):(this['renderIntelSubEx']['set'](_0x2d9f70,_0x40e09e),this['renderIntelFlagEx']['set'](_0x2d9f70,_0x3d421c),_0x4dd407['_JSPlayM4_RenderPrivateDataEx'](this['port'],_0x2d9f70,_0x40e09e,_0x3d421c));}},{'key':'JSPlayM4_SetCanvasSize','value':function(_0x1fbe0b,_0x25201f){var _0x5200d3=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0x0;if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetCanvasSize','color:\x20red'),0x0;if(_0x1fbe0b<0x10||_0x25201f<0x10||null===this['canvasID'])return 0x0;if(this['canvasWidth']=_0x1fbe0b,this['canvasHeight']=_0x25201f,0x1===this['decodeEngine']){if(this['hasWebWorker']){if(null==this['decodeWorker'])return 0x0;this['decodeWorker']['postMessage']({'command':'SetCanvasSize','width':_0x1fbe0b,'height':_0x25201f});}else null!=this['pcVideoManager']&&this['pcVideoManager']['SetCanvasSize'](_0x1fbe0b,_0x25201f);}return _0x4dd407['_JSPlayM4_SetCanvasSize'](this['port'],_0x1fbe0b,_0x25201f,_0x5200d3);}},{'key':'JSPlayM4_SetDisplayBuf','value':function(_0x3ab0c9){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetDisplayBuf','color:\x20red'),0x0):(this['displayBuf']=_0x3ab0c9,this['needSetDisplayBuf']=!0x0,0x1===this['decodeEngine']&&(this['hasWebWorker']?null===this['decodeWorker']||this['decodeWorker']['postMessage']({'command':'SetDisplayBuf','value':_0x3ab0c9}):null!=this['pcVideoManager']&&this['pcVideoManager']['SetDisplayBuf'](_0x3ab0c9)),_0x4dd407['_JSPlayM4_SetDisplayBuf'](this['port'],_0x3ab0c9));}},{'key':'JSPlayM4_GetSourceBufferRemain','value':function(){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetSourceBufferRemain','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_GetSourceBufferRemain'](this['port']);}},{'key':'JSPlayM4_GetBufferValue','value':function(_0x4e4599){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetBufferValue','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_GetBufferValue'](this['port'],_0x4e4599);}},{'key':'JSPlayM4_ReversePlay','value':function(){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_ReversePlay','color:\x20red'),0x0):0x0===this['streamOpenMode']?0x1:(this['reversePlay']=!0x0,_0x4dd407['_JSPlayM4_ReversePlay'](this['port']));}},{'key':'JSPlayM4_SetDecodeThreadNum','value':function(_0x35825d){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetDecodeThreadNum','color:\x20red'),0x0):(this['decodeThreadNum']=_0x35825d,_0x4dd407['_JSPlayM4_SetDecodeThreadNum'](this['port'],_0x35825d));}},{'key':'JSPlayM4_GetCanvasSize','value':function(){var _0x4e505=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:0x0;return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetCanvasSize','color:\x20red'),0x0):0x1===this['decodeEngine']?(this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'GetCanvasSize'}):null!=this['pcVideoManager']&&this['pcVideoManager']['GetCanvasSize'](),0x1):_0x4dd407['_JSPlayM4_GetCanvasSize'](this['port'],_0x4e505);}},{'key':'JSPlayM4_DisplayLostFrames','value':function(_0x10ca0c,_0x375ec7,_0x3e329b){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_DisplayLostFrames','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_DisplayLostFrames'](this['port'],_0x10ca0c,_0x375ec7,_0x3e329b);}},{'key':'JSPlayM4_SetANRParam','value':function(_0x5c3c62,_0x32ae60){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetANRParam','color:\x20red'),0x0):(this['anrParamFlag']=_0x5c3c62,this['anrParamLevel']=_0x32ae60,_0x4dd407['_JSPlayM4_SetANRParam'](this['port'],_0x5c3c62,_0x32ae60));}},{'key':'JSPlayM4_SetResampleValue','value':function(_0x34564d,_0x21c2f4){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetResampleValue','color:\x20red'),0x0):(this['resampleFlag']=_0x34564d,this['resampleRate']=_0x21c2f4,_0x4dd407['_JSPlayM4_SetResampleValue'](this['port'],_0x34564d,_0x21c2f4));}},{'key':'JSPlayM4_SetAntialias','value':function(_0x323a30){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetAntialias','color:\x20red'),0x0;var _0x3cc6a1=0x1;return this['antialiasFlag']=_0x323a30,0x1===this['decodeEngine']?this['hasWebWorker']?null!=this['decodeWorker']&&this['decodeWorker']['postMessage']({'command':'SetAntialias','value':_0x323a30}):null!=this['pcVideoManager']&&(_0x3cc6a1=this['pcVideoManager']['SetAntialias'](_0x323a30)):_0x3cc6a1=_0x4dd407['_JSPlayM4_SetAntialias'](this['port'],_0x323a30),_0x3cc6a1;}},{'key':'JSPlayM4_SyncToAudio','value':function(_0x19c62a){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SyncToAudio','color:\x20red'),0x0):(this['syncToAudio']=SyncToAudio,_0x4dd407['_JSPlayM4_SyncToAudio'](this['port'],_0x19c62a));}},{'key':'JSPlayM4_SetAudioThreadModel','value':function(_0x25c41f){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetAudioThreadModel','color:\x20red'),0x0):(this['setAudioThreadModel']=_0x25c41f,_0x4dd407['_JSPlayM4_SetAudioThreadModel'](this['port'],_0x25c41f));}},{'key':'JSPlayM4_SetDecodeERC','value':function(_0x52f16a){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetDecodeERC','color:\x20red'),0x0):(this['decodeERCLevel']=_0x52f16a,_0x4dd407['_JSPlayM4_SetDecodeERC'](this['port'],_0x52f16a));}},{'key':'JSPlayM4_SkipErrorData','value':function(_0x30f668){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SkipErrorData','color:\x20red'),0x0):(this['needSetSkipErrorData']=!0x0,this['skipErrorData']=_0x30f668,_0x4dd407['_JSPlayM4_SkipErrorData'](this['port'],_0x30f668));}},{'key':'JSPlayM4_SetDemuxModel','value':function(_0x3f6205,_0x2048e1){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetDemuxModel','color:\x20red'),0x0):(this['needSetDemuxModel']=!0x0,this['setDemuxModelType']=_0x3f6205,this['setDemuxModelFlag']=_0x2048e1,_0x4dd407['_JSPlayM4_SetDemuxModel'](this['port'],_0x3f6205,_0x2048e1));}},{'key':'JSPlayM4_SetD3DPostProcess','value':function(_0x5819fb,_0x305a87){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetD3DPostProcess','color:\x20red'),0x0;var _0x47c66c=0x1;return this['d3dPostProcessType']=_0x5819fb,this['d3dPostProcessValue']=_0x305a87,this['needSetD3DPostProcess']=!0x0,0x1===this['decodeEngine']?this['hasWebWorker']?null!=this['decodeWorker']&&this['decodeWorker']['postMessage']({'command':'SetD3DPostProcess','ProcessType':_0x5819fb,'ProcessValue':_0x305a87}):null!=this['pcVideoManager']&&(_0x47c66c=this['pcVideoManager']['SetD3DPostProcess'](_0x5819fb,_0x305a87)):_0x47c66c=_0x4dd407['_JSPlayM4_SetD3DPostProcess'](this['port'],_0x5819fb,_0x305a87),_0x47c66c;}},{'key':'JSPlayM4_SetFirstFrameCallBack','value':function(_0x3ad96c,_0x56db5c){if(!(_0x56db5c&&'function'==typeof _0x56db5c||null===_0x56db5c))return 0x0;if(this['FFCallBackFun']=_0x56db5c,this['FirstFrameCallBackflag']=_0x3ad96c,null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetFirstFrameCallBack','color:\x20red'),0x0;var _0x2e8e5b=0x1;return 0x0===this['decodeEngine']&&(_0x2e8e5b=_0x4dd407['_JSPlayM4_SetFirstFrameCallBack'](this['port'],_0x3ad96c,this['nUser'])),_0x2e8e5b;}},{'key':'JSPlayM4_SetDecCallBack','value':function(_0xdfe7ae,_0x1c6f7b){return _0x1c6f7b&&'function'==typeof _0x1c6f7b||null===_0x1c6f7b?(this['decCallBackFun']=_0x1c6f7b,null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetDecCallBack','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_SetDecCallBack'](this['port'],_0xdfe7ae,this['nUser'])):0x0;}},{'key':'JSPlayM4_SetDisplayCallBack','value':function(_0x4f783d,_0x5572b9){return _0x5572b9&&'function'==typeof _0x5572b9||null===_0x5572b9?(this['displayCallBackFun']=_0x5572b9,null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetDisplayCallBack','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_SetDisplayCallBack'](this['port'],_0x4f783d,this['nUser'])):0x0;}},{'key':'JSPlayM4_SetFrameInfoCallBack','value':function(_0x14d028){var _0x25b0ec=this,_0x440272=0x1;if(0x1===this['decodeEngine'])this['hasWebWorker']?null!=this['decodeWorker']&&this['decodeWorker']['postMessage']({'command':'SetFrameInfoCallBack','value':_0x14d028}):null!=this['pcVideoManager']&&(_0x440272=this['pcVideoManager']['SetFrameInfoCallBack'](function(_0x287f57){_0x25b0ec['displayFrameInfo']['port']=_0x287f57['port'],_0x25b0ec['displayFrameInfo']['codecType']=_0x287f57['codecType'],_0x25b0ec['displayFrameInfo']['frameType']=_0x287f57['frameType'],_0x25b0ec['displayFrameInfo']['frameSize']=_0x287f57['frameSize'],_0x25b0ec['displayFrameInfo']['width']=_0x287f57['width'],_0x25b0ec['displayFrameInfo']['height']=_0x287f57['height'],_0x25b0ec['displayFrameInfo']['timeStamp']=_0x287f57['timeStamp'],_0x25b0ec['displayFrameInfo']['frameRate']=_0x287f57['frameRate'],_0x25b0ec['displayFrameInfo']['frameNum']=_0x287f57['frameNum'],_0x25b0ec['displayFrameInfo']['interlace']=_0x287f57['interlace'],_0x25b0ec['displayFrameInfo']['streamEnd']=_0x287f57['streamEnd'],_0x25b0ec['displayFrameInfo']['cropLeft']=_0x287f57['cropLeft'],_0x25b0ec['displayFrameInfo']['cropRight']=_0x287f57['cropRight'],_0x25b0ec['displayFrameInfo']['cropTop']=_0x287f57['cropTop'],_0x25b0ec['displayFrameInfo']['cropBottom']=_0x287f57['cropBottom'],_0x25b0ec['displayFrameInfo']['year']=_0x287f57['year'],_0x25b0ec['displayFrameInfo']['month']=_0x287f57['month'],_0x25b0ec['displayFrameInfo']['week']=_0x287f57['week'],_0x25b0ec['displayFrameInfo']['day']=_0x287f57['day'],_0x25b0ec['displayFrameInfo']['hour']=_0x287f57['hour'],_0x25b0ec['displayFrameInfo']['minute']=_0x287f57['minute'],_0x25b0ec['displayFrameInfo']['second']=_0x287f57['second'],_0x25b0ec['displayFrameInfo']['milliseconds']=_0x287f57['milliseconds'];},_0x14d028));else {if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetFrameInfoCallBack','color:\x20red'),0x0;_0x440272=_0x4dd407['_JSPlayM4_SetFrameInfoCallBack'](this['port'],_0x14d028);}return _0x440272;}},{'key':'JSPlayM4_SetDecCBStream','value':function(_0x5e3983){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetDecCBStream','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_SetDecCBStream'](this['port'],_0x5e3983);}},{'key':'JSPlayM4_GetFrameInfo','value':function(){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetFrameInfo','color:\x20red'),0x0;var _0x53c7d4={};if(0x0==this['decodeEngine']){var _0x2dad55=_0x4dd407['_JSPlayM4_GetFrameInfo'](this['port']);_0x53c7d4['port']=_0x4dd407['HEAP32'][_0x2dad55>>0x2],_0x53c7d4['frameType']=_0x4dd407['HEAP32'][_0x2dad55+0x4>>0x2],_0x53c7d4['frameSize']=_0x4dd407['HEAP32'][_0x2dad55+0x8>>0x2],_0x53c7d4['width']=_0x4dd407['HEAP32'][_0x2dad55+0xc>>0x2],_0x53c7d4['height']=_0x4dd407['HEAP32'][_0x2dad55+0x10>>0x2],_0x53c7d4['timeStamp']=_0x4dd407['HEAP32'][_0x2dad55+0x14>>0x2],_0x53c7d4['frameRate']=_0x4dd407['HEAP32'][_0x2dad55+0x18>>0x2],_0x53c7d4['bitPerSample']=_0x4dd407['HEAP32'][_0x2dad55+0x1c>>0x2],_0x53c7d4['samplesPerSec']=_0x4dd407['HEAP32'][_0x2dad55+0x20>>0x2],_0x53c7d4['channel']=_0x4dd407['HEAP32'][_0x2dad55+0x24>>0x2],_0x53c7d4['frameNum']=_0x4dd407['HEAP32'][_0x2dad55+0x28>>0x2],_0x53c7d4['cropLeft']=_0x4dd407['HEAP32'][_0x2dad55+0x2c>>0x2],_0x53c7d4['cropRight']=_0x4dd407['HEAP32'][_0x2dad55+0x30>>0x2],_0x53c7d4['cropTop']=_0x4dd407['HEAP32'][_0x2dad55+0x34>>0x2],_0x53c7d4['cropBottom']=_0x4dd407['HEAP32'][_0x2dad55+0x38>>0x2],_0x53c7d4['year']=_0x4dd407['HEAP16'][_0x2dad55+0x3c>>0x1],_0x53c7d4['month']=_0x4dd407['HEAP16'][_0x2dad55+0x3e>>0x1],_0x53c7d4['week']=_0x4dd407['HEAP16'][_0x2dad55+0x40>>0x1],_0x53c7d4['day']=_0x4dd407['HEAP16'][_0x2dad55+0x42>>0x1],_0x53c7d4['hour']=_0x4dd407['HEAP16'][_0x2dad55+0x44>>0x1],_0x53c7d4['minute']=_0x4dd407['HEAP16'][_0x2dad55+0x46>>0x1],_0x53c7d4['second']=_0x4dd407['HEAP16'][_0x2dad55+0x48>>0x1],_0x53c7d4['milliseconds']=_0x4dd407['HEAP16'][_0x2dad55+0x4a>>0x1],this['width']=_0x53c7d4['width'],this['height']=_0x53c7d4['height'];}else _0x53c7d4=this['displayFrameInfo'];return _0x53c7d4;}},{'key':'JSPlayM4_GetAdditionData','value':function(){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetAdditionData','color:\x20red'),0x0;var _0x2122d3=null,_0x442d36=_0x4dd407['_JSPlayM4_GetAdditionData'](this['port']);return _0x2122d3['dataType']=_0x4dd407['HEAP32'][_0x442d36>>0x2],_0x2122d3['dataStrVersion']=_0x4dd407['HEAP32'][_0x442d36+0x4>>0x2],_0x2122d3['dataTimeStamp']=_0x4dd407['HEAP32'][_0x442d36+0x8>>0x2],_0x2122d3['dataLength']=_0x4dd407['HEAP32'][_0x442d36+0xc>>0x2],_0x2122d3['pData']=_0x4dd407['HEAP32'][_0x442d36+0x10>>0x2],_0x2122d3['additionDataBuffer']=new Uint8Array(dataLength),additionDataBuffer['set'](_0x4dd407['HEAPU8']['subarray'](pData,pData+dataLength)),_0x2122d3;}},{'key':'JSPlayM4_SetAdditionDataCallBack','value':function(_0x1fe1bd,_0x245c5b,_0x53d8a6){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetAdditionDataCallBack','color:\x20red'),0x0):_0x53d8a6&&'function'==typeof _0x53d8a6||null===_0x53d8a6?(this['addtionCallBackFun']=_0x53d8a6,_0x4dd407['_JSPlayM4_SetAdditionDataCallBack'](this['port'],_0x1fe1bd,_0x245c5b,this['nUser'])):0x0;}},{'key':'JSPlayM4_GetPlayedTimeEx','value':function(_0x19e6d6){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetPlayedTimeEx','color:\x20red'),0x0;if(!(_0x19e6d6&&'function'==typeof _0x19e6d6||null===_0x19e6d6))return 0x0;if(this['getPlayTimeCallBackFun']=_0x19e6d6,0x1===this['decodeEngine']){if(this['hasWebWorker'])this['decodeWorker']['postMessage']({'command':'GetPlayedTime'});else {if(null!=this['pcVideoManager']){var _0x17aef7=this['pcVideoManager']['GetPlayedTime']();this['getPlayTimeCallBackFun']&&this['getPlayTimeCallBackFun'](_0x17aef7-this['startTimeStamp']);}}}else {var _0x16c902=_0x4dd407['_JSPlayM4_GetPlayedTimeEx'](this['port']);this['getPlayTimeCallBackFun'](_0x16c902);}}},{'key':'JSPlayM4_GetFileTime','value':function(){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetFileTime','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_GetFileTime'](this['port']);}},{'key':'JSPlayM4_GetMpOffset','value':function(_0x4308c5){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_GetMpOffset','color:\x20red'),0x0):_0x4308c5>this['JSPlayM4_GetFileTime']()?-0x1:(0x1===this['decodeEngine']&&(this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'needReset'}):null!=this['pcVideoManager']&&this['pcVideoManager']['needReset']()),_0x4dd407['_JSPlayM4_GetMpOffset'](this['port'],_0x4308c5));}},{'key':'JSPlayM4_ResetBuffer','value':function(_0x2f7874){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_ResetBuffer','color:\x20red'),0x0):(this['resetBufferType']=_0x2f7874,_0x4dd407['_JSPlayM4_ResetBuffer'](this['port'],_0x2f7874));}},{'key':'JSPlayM4_SetGlobalBaseTime','value':function(_0x1365d5,_0x2c3e6e,_0x27e842,_0x46521e,_0x4592bd,_0x10a86c,_0x545b02){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetGlobalBaseTime','color:\x20red'),0x0):(this['globalBaseTime']={'year':_0x1365d5,'month':_0x2c3e6e,'day':_0x27e842,'hour':_0x46521e,'min':_0x4592bd,'sec':_0x10a86c,'ms':_0x545b02},_0x4dd407['_JSPlayM4_SetGlobalBaseTime'](this['port'],_0x1365d5,_0x2c3e6e,_0x27e842,_0x46521e,_0x4592bd,_0x10a86c,_0x545b02));}},{'key':'JSPlayM4_SetSecretKey','value':function(_0x14a4d3){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetSecretKey','color:\x20red'),0x0;var _0x1e9b94=this['_stringToBytes'](_0x14a4d3),_0x581908=_0x4dd407['_malloc'](0x80);if(null!==_0x581908){var _0x10765b=_0x4dd407['HEAPU8']['subarray'](_0x581908,_0x581908+0x80),_0x2e4f41=new Uint8Array(0x80);_0x10765b['set'](_0x2e4f41,0x0),_0x10765b['set'](new Uint8Array(_0x1e9b94)),_0x10765b=null,_0x2e4f41=null;var _0x1e73a4=_0x4dd407['_JSPlayM4_SetSecretKey'](this['port'],0x1,_0x581908,0x80);return null!==_0x581908&&(_0x4dd407['_free'](_0x581908),_0x581908=null),0x1===_0x1e73a4&&(this['needSetSecretKey']=!0x0,this['SecretKeyData']=_0x14a4d3),_0x1e73a4;}}},{'key':'JSPlayM4_SetRunTimeInfoCallBackEx','value':function(_0x1facbe,_0x2dcfce){return _0x2dcfce&&'function'==typeof _0x2dcfce||null===_0x2dcfce?(this['runtimeCBFun']=_0x2dcfce,this['runTimeModule']=_0x1facbe,null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetRunTimeInfoCallBackEx','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_SetRunTimeInfoCallBackEx'](this['port'],_0x1facbe,this['nUser'])):0x0;}},{'key':'JSPlayM4_SetPlayOrBackSwitchMode','value':function(_0x1fd070){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetPlayOrBackSwitchMode','color:\x20red'),0x0):(this['playOrBackSwitchMode']=_0x1fd070,0x0==this['decodeEngine']?_0x4dd407['_JSPlayM4_SetPlayOrBackSwitchMode'](this['port'],_0x1fd070):0x0);}},{'key':'JSPlayM4_SetStretchPlay','value':function(_0x20fbca,_0x3078da){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetStretchPlay','color:\x20red'),0x0):(this['setStretchPlayTime']=_0x20fbca,this['setStretchPlaySpeed']=_0x3078da,0x0==this['decodeEngine']?_0x4dd407['_JSPlayM4_SetStretchPlay'](this['port'],_0x20fbca,_0x3078da):0x0);}},{'key':'JSPlayM4_SetAutoSmoothPlay','value':function(_0x12f756){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetAutoSmoothPlay','color:\x20red'),0x0):(this['autoSmoothPlayModel']=_0x12f756,0x0==this['decodeEngine']?_0x4dd407['_JSPlayM4_SetAutoSmoothPlay'](this['port'],_0x12f756):0x0);}},{'key':'JSPlayM4_KeepPlaySpeed','value':function(_0x19bb01){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_KeepPlaySpeed','color:\x20red'),0x0):(this['keepPlaySpeed']=_0x19bb01,0x0==this['decodeEngine']?_0x4dd407['_JSPlayM4_KeepPlaySpeed'](this['port'],_0x19bb01):0x0);}},{'key':'JSPlayM4_IgnoreHeaderAudioDefine','value':function(_0x1c88c1){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_IgnoreHeaderAudioDefine','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_IgnoreHeaderAudioDefine'](this['port'],_0x1c88c1);}},{'key':'JSPlayM4_SetSycGroup','value':function(_0x40c177){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetSycGroup','color:\x20red'),0x0):_0x4dd407['_JSPlayM4_SetSycGroup'](this['port'],_0x40c177);}},{'key':'JSPlayM4_FEC_SetCanvasID','value':function(){var _0x1c6a38=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:null,_0x329125=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_SetCanvasID','color:\x20red'),0x0;this['FECCanvasID']=_0x1c6a38;var _0x1f1c2c=0x1;if(null!=_0x1c6a38&&''!=_0x1c6a38){if(this['FECcanvasIDArray']=_0x1c6a38['split'](','),0x1===this['decodeEngine'])this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'SetCanvasID'}):null!=this['pcVideoManager']?_0x1f1c2c=this['pcVideoManager']['FEC_SetCanvasID'](_0x1c6a38):console['info']('%c\x20JSPlayM4_FEC_SetCanvasID\x20this.pcVideoManager\x20is\x20null','color:\x20red');else {for(var _0x1b4333='',_0x1934c8=0x0;_0x1934c8<this['FECcanvasIDArray']['length'];_0x1934c8++)_0x1934c8==this['FECcanvasIDArray']['length']-0x1?_0x1b4333+='#'+this['FECcanvasIDArray'][_0x1934c8]:_0x1b4333+='#'+this['FECcanvasIDArray'][_0x1934c8]+',';if(0x0!=this['FECcanvasIDArray']['length']&&_0x329125)for(var _0x436cd0=0x0;_0x436cd0<this['FECcanvasIDArray']['length'];_0x436cd0++){var _0x181933=document['getElementById'](this['FECcanvasIDArray'][_0x436cd0]);if(_0x181933){var _0x180846=_0x181933['cloneNode'](!0x0),_0x434a15=_0x181933['parentNode'];_0x434a15['replaceChild'](_0x180846,_0x181933);}}var _0x4b875d=this['_stringToBytes'](_0x1b4333),_0x2dba51=0x2*_0x1b4333['length'];if(this['pFECTotalCanvasIDData']=_0x4dd407['_malloc'](_0x2dba51),null===this['pFECTotalCanvasIDData'])return 0x0;var _0x4eb5dc=_0x4dd407['HEAPU8']['subarray'](this['pFECTotalCanvasIDData'],this['pFECTotalCanvasIDData']+_0x2dba51),_0x295783=new Uint8Array(_0x2dba51);_0x4eb5dc['set'](_0x295783,0x0),_0x4eb5dc['set'](new Uint8Array(_0x4b875d)),_0x4eb5dc=null,_0x295783=null,_0x1f1c2c=_0x4dd407['_JSPlayM4_FEC_SetCanvasID'](this['port'],this['pFECTotalCanvasIDData']);}}else console['log']('\x20JSPlayM4_FEC_SetCanvasID\x20canvasID\x20is\x20null\x20:'+_0x1c6a38),_0x1f1c2c=0x0;return _0x1f1c2c;}},{'key':'JSPlayM4_FEC_ResetCorrectType','value':function(_0x1b80dd,_0x2b96c4,_0xdd3706){if(this['printfFlag']&&console['log']('JSPlayM4_FEC_ResetCorrectType\x201\x20decodeEngine:'+this['decodeEngine']+',hasWebWorker:'+this['hasWebWorker']+',fishSubPort:'+_0x1b80dd+',placeType:'+_0x2b96c4+',correctType:'+_0xdd3706),null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_ResetCorrectType','color:\x20red'),0x0;this['FECPlaceType']=_0x2b96c4,this['FECCorrectType']=_0xdd3706;var _0x1b88ad=0x1;return 0x1===this['decodeEngine']?this['hasWebWorker']?null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECResetCorrectType','fishSubPort':_0x1b80dd,'placeType':_0x2b96c4,'correctType':_0xdd3706}):_0x1b88ad=0x0:_0x1b88ad=null!=this['pcVideoManager']?this['pcVideoManager']['FEC_ResetCorrectType'](_0x1b80dd,_0x2b96c4,_0xdd3706):0x0:_0x1b88ad=_0x4dd407['_JSPlayM4_FEC_ResetCorrectType'](this['port'],_0x1b80dd,_0x2b96c4,_0xdd3706),_0x1b88ad;}},{'key':'JSPlayM4_FEC_GetPort','value':function(_0x550502,_0x27c2fa){var _0x530e48=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:null;if(this['printfFlag']&&console['log']('>>>JS\x20JSPlayM4_FEC_GetPort\x20this.decodeEngine：'+this['decodeEngine']+',placeType:'+_0x550502+',correctType:'+_0x27c2fa),null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_GetPort','color:\x20red'),0x0;var _0x23b115=-0x1;return this['FECGetPortCB']=_0x530e48,0x1===this['decodeEngine']?this['hasWebWorker']?null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECGetPort','placeType':_0x550502,'correctType':_0x27c2fa}):_0x23b115=-0x1:(null!=this['pcVideoManager']?((_0x23b115=this['pcVideoManager']['FEC_GetPort'](_0x550502,_0x27c2fa))<0x1||_0x23b115>0x1f||null==_0x23b115)&&(_0x23b115=-0x1):_0x23b115=-0x1,null!=this['FECGetPortCB']&&this['FECGetPortCB'](_0x23b115)):(((_0x23b115=_0x4dd407['_JSPlayM4_FEC_GetPort'](this['port'],_0x550502,_0x27c2fa))<0x1||_0x23b115>0x1f||null==_0x23b115)&&(_0x23b115=-0x1),null!=this['FECGetPortCB']&&this['FECGetPortCB'](_0x23b115)),_0x23b115;}},{'key':'JSPlayM4_FEC_Enable','value':function(_0x3e8e7){if(this['printfFlag']&&console['log']('>>>JS\x20JSPlayM4_FEC_Enable\x20this.decodeEngine：'+this['decodeEngine']+',fishSubPort:'+_0x3e8e7),null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_Enable','color:\x20red'),0x0;var _0x984296=0x1;return 0x0==_0x3e8e7?console['log']('fishPort\x20is\x200\x20,main\x20canvas\x20doesn\x27t\x20need\x20call\x20FEC_Enable'):0x1===this['decodeEngine']?this['hasWebWorker']?null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECEnable','fishSubPort':_0x3e8e7}):_0x984296=0x0:_0x984296=null!=this['pcVideoManager']?this['pcVideoManager']['FEC_Enable'](_0x3e8e7):0x0:_0x984296=_0x4dd407['_JSPlayM4_FEC_Enable'](this['port'],_0x3e8e7),_0x984296;}},{'key':'JSPlayM4_FEC_SetParam','value':function(_0x395649,_0x2b788d){if(this['printfFlag']&&console['log']('>>>JS\x20JSPlayM4_FEC_SetParam\x201\x20this.decodeEngine：'+this['decodeEngine']+',fishSubPort:'+_0x395649+',upDateType:'+_0x2b788d['upDateType']+',param2d.fPTZParam.fPTZPositionX:'+_0x2b788d['fPTZParam']['fPTZPositionX']+',param2d.fPTZParam.fPTZPositionY:'+_0x2b788d['fPTZParam']['fPTZPositionY']),null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_SetParam','color:\x20red'),0x0;var _0x58c123=0x1;if(0x1===this['decodeEngine'])this['hasWebWorker']?null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECSetParam','fishSubPort':_0x395649,'param2d':_0x2b788d}):_0x58c123=0x0:_0x58c123=null!=this['pcVideoManager']?this['pcVideoManager']['FEC_SetParam'](_0x395649,_0x2b788d):0x0;else {var _0x2b61d4=_0x4dd407['_JSPlayM4_GetFishEye2DParam']();null!=_0x2b788d['upDateType']&&(_0x4dd407['HEAP32'][_0x2b61d4>>0x2]=_0x2b788d['upDateType']),null!=_0x2b788d['fPTZParam']&&null!=_0x2b788d['fPTZParam']['fPTZPositionX']&&null!=_0x2b788d['fPTZParam']['fPTZPositionY']&&(_0x4dd407['HEAPF32'][_0x2b61d4+0x8>>0x2]=_0x2b788d['fPTZParam']['fPTZPositionX'],_0x4dd407['HEAPF32'][_0x2b61d4+0xc>>0x2]=_0x2b788d['fPTZParam']['fPTZPositionY']),null!=_0x2b788d['fPTZParam']&&(_0x4dd407['HEAPF32'][_0x2b61d4+0x20>>0x2]=_0x2b788d['fPTZZoom']),null!=_0x2b788d['fValue']&&(_0x4dd407['HEAPF32'][_0x2b61d4+0x24>>0x2]=_0x2b788d['fValue']),_0x58c123=_0x4dd407['_JSPlayM4_FEC_SetParam'](this['port'],_0x395649);}return _0x58c123;}},{'key':'JSPlayM4_FEC_GetParam','value':function(_0x1f3d62){var _0x4fb262=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:null;if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_GetParam','color:\x20red'),0x0;var _0x4fb0cf={'fRXLeft':0x0,'fRXRight':0x0,'fRYTop':0x0,'fRYBottom':0x0,'bBlack':0x0,'bCut':0x0,'nFishParamType':0x0,'fAngle':0x0,'fZoom':0x0,'fPTZX':0x0,'fPTZY':0x0,'emCorrectType':0x0};if(this['FECParamCB']=_0x4fb262,0x1===this['decodeEngine'])this['hasWebWorker']?null!=this['decodeWorker']&&this['decodeWorker']['postMessage']({'command':'FECGetParam','fishSubPort':_0x1f3d62}):null!=this['pcVideoManager']&&(this['pcVideoManager']['FEC_GetParam'](_0x1f3d62,_0x4fb0cf),null!=this['FECParamCB']&&this['FECParamCB'](_0x4fb0cf));else {var _0x63fe1b=_0x4dd407['_JSPlayM4_FEC_GetParam'](this['port'],_0x1f3d62);_0x4fb0cf['bBlack']=0x0,_0x4fb0cf['fPTZX']=_0x4dd407['HEAPF32'][_0x63fe1b+0x8>>0x2],_0x4fb0cf['fPTZY']=_0x4dd407['HEAPF32'][_0x63fe1b+0xc>>0x2],_0x4fb0cf['fRXLeft']=_0x4dd407['HEAPF32'][_0x63fe1b+0x10>>0x2],_0x4fb0cf['fRXRight']=_0x4dd407['HEAPF32'][_0x63fe1b+0x14>>0x2],_0x4fb0cf['fRYTop']=_0x4dd407['HEAPF32'][_0x63fe1b+0x18>>0x2],_0x4fb0cf['fRYBottom']=_0x4dd407['HEAPF32'][_0x63fe1b+0x1c>>0x2],_0x4fb0cf['fZoom']=_0x4dd407['HEAPF32'][_0x63fe1b+0x20>>0x2],_0x4fb0cf['fAngle']=_0x4dd407['HEAPF32'][_0x63fe1b+0x24>>0x2],_0x4fb0cf['bCut']=_0x4dd407['HEAPF32'][_0x63fe1b+0x3f>>0x2],_0x4fb0cf['nFishParamType']=_0x4dd407['HEAPF32'][_0x63fe1b+0x43>>0x2],null!=this['FECParamCB']&&this['FECParamCB'](_0x4fb0cf);}return 0x1;}},{'key':'JSPlayM4_FEC_SetViewParam','value':function(_0x4781a5,_0x2ae292,_0x2f772f){if(this['printfFlag']&&console['log']('>>>JS\x20JSPlayM4_FEC_SetViewParam\x20this.decodeEngine：'+this['decodeEngine']+',fishSubPort:'+_0x4781a5+',upDateType:'+_0x2ae292+',fValue:'+_0x2f772f),null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_SetViewParam','color:\x20red'),0x0;var _0x32a85e=0x1;return 0x1===this['decodeEngine']?this['hasWebWorker']?null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECSetViewParam','fishSubPort':_0x4781a5,'upDateType':_0x2ae292,'fValue':_0x2f772f}):_0x32a85e=0x0:_0x32a85e=null!=this['pcVideoManager']?this['pcVideoManager']['FEC_SetViewParam'](_0x4781a5,_0x2ae292,_0x2f772f):0x0:_0x32a85e=_0x4dd407['_JSPlayM4_FEC_SetViewParam'](this['port'],_0x4781a5,_0x2ae292,_0x2f772f),_0x32a85e;}},{'key':'JSPlayM4_FEC_GetViewParam','value':function(_0x2bc18f,_0x2db529,_0x45b985){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_GetViewParam','color:\x20red'),0x0;var _0x317672=0x1;this['FECViewParamCB']=_0x45b985;var _0x3513a0={'fValue':-0x1};if(0x1===this['decodeEngine'])this['hasWebWorker']?null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECGetViewParam','fishSubPort':_0x2bc18f,'upDateType':_0x2db529}):_0x317672=0x0:null!=this['pcVideoManager']?(_0x317672=this['pcVideoManager']['FEC_GetViewParam'](_0x2bc18f,_0x2db529,_0x3513a0),null!=this['FECViewParamCB']&&this['FECViewParamCB'](_0x3513a0)):_0x317672=0x0;else {var _0x2dd767=_0x4dd407['_JSPlayM4_GetViewParam'](this['port'],_0x2bc18f,_0x2db529);_0x3513a0['fValue']=_0x2dd767,null!=this['FECViewParamCB']&&this['FECViewParamCB'](_0x3513a0);}return _0x317672;}},{'key':'JSPlayM4_FEC_SetWnd','value':function(_0x3fcb1b,_0x3eb841){if(this['printfFlag']&&console['log']('>>>JS\x20JSPlayM4_FEC_SetWnd\x20this.decodeEngine：'+this['decodeEngine']+',fishSubPort:'+_0x3fcb1b+',hWnd:'+_0x3eb841),null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_SetWnd','color:\x20red'),0x0;var _0x706b7a=0x1;if(0x0==_0x3fcb1b)console['log']('fishPort\x20is\x200\x20,main\x20canvas\x20doesn\x27t\x20need\x20call\x20FEC_SetWnd');else {if(null!=_0x3eb841){if(0x1===this['decodeEngine']){var _0x47074f=document['getElementById'](_0x3eb841);if(this['hasWebWorker']){var _0x321630=_0x47074f['transferControlToOffscreen']();null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECSetWnd','fishSubPort':_0x3fcb1b,'offscrrenCnv':_0x321630},[_0x321630]):_0x706b7a=0x0;}else _0x706b7a=null!=this['pcVideoManager']?this['pcVideoManager']['FEC_SetWnd'](_0x3fcb1b,_0x47074f):0x0;}else {var _0xe37ec4=null;if(null!=_0x3eb841){var _0x961fa=this['_stringToBytes']('#'+_0x3eb841),_0x4bb3dc=0x2*(_0x3eb841['length']+0x1);_0xe37ec4=_0x4dd407['_malloc'](_0x4bb3dc);var _0x110a7f=_0x4dd407['HEAPU8']['subarray'](_0xe37ec4,_0xe37ec4+_0x4bb3dc),_0x403a2f=new Uint8Array(_0x4bb3dc);_0x110a7f['set'](_0x403a2f,0x0),_0x110a7f['set'](new Uint8Array(_0x961fa)),_0x110a7f=null,_0x403a2f=null;}_0x706b7a=_0x4dd407['_JSPlayM4_FEC_SetWnd'](this['port'],_0x3fcb1b,_0xe37ec4),null!=_0xe37ec4&&(_0x4dd407['_free'](_0xe37ec4),_0xe37ec4=null);}}else console['log']('>>>JS\x20JSPlayM4_FEC_SetWnd\x20hwnd\x20error\x20this.decodeEngine：'+this['decodeEngine']+',fishSubPort:'+_0x3fcb1b+',hWnd:'+_0x3eb841),_0x706b7a=0x0;}return _0x706b7a;}},{'key':'JSPlayM4_FEC_Disable','value':function(){var _0x12d179=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:0x0,_0x1ce9c2=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],_0x435d01=arguments['length']>0x2&&void 0x0!==arguments[0x2]&&arguments[0x2],_0x1021e4=0x1;return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_Disable','color:\x20red'),0x0):(0x0==_0x12d179?console['log']('fishPort\x20is\x200\x20,main\x20canvas\x20doesn\x27t\x20need\x20call\x20FEC_Disable'):0x1===this['decodeEngine']?this['hasWebWorker']?null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECDisable','fishSubPort':_0x12d179,'clearFECCanvas':_0x1ce9c2,'clearContext':_0x435d01}):_0x1021e4=0x0:_0x1021e4=null!=this['pcVideoManager']?this['pcVideoManager']['FEC_Disable'](_0x12d179,_0x1ce9c2,_0x435d01):0x0:_0x1021e4=_0x4dd407['_JSPlayM4_FEC_Disable'](this['port'],_0x12d179,_0x1ce9c2,_0x435d01),_0x1021e4);}},{'key':'JSPlayM4_FEC_DelPort','value':function(_0x230fea){if(this['printfFlag']&&console['log']('>>>JS\x20JSPlayM4_FEC_DelPort\x20this.decodeEngine：'+this['decodeEngine']+',fishSubPort:'+_0x230fea),null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_DelPort','color:\x20red'),0x0;var _0x2806d9=0x1;return 0x1===this['decodeEngine']?this['hasWebWorker']?null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECDelPort','fishSubPort':_0x230fea}):_0x2806d9=0x0:_0x2806d9=null!=this['pcVideoManager']?this['pcVideoManager']['FEC_DelPort'](_0x230fea):0x0:_0x2806d9=_0x4dd407['_JSPlayM4_FEC_DelPort'](this['port'],_0x230fea),_0x2806d9;}},{'key':'JSPlayM4_FEC_SetDisplayRegion','value':function(_0x28a6b2){var _0x5b52b7=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,_0x5a8e19=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0x0,_0x1337c9=arguments['length']>0x3?arguments[0x3]:void 0x0,_0x891677=arguments['length']>0x4&&void 0x0!==arguments[0x4]?arguments[0x4]:null,_0xf5e434=arguments['length']>0x5?arguments[0x5]:void 0x0,_0xaa832a=arguments['length']>0x6?arguments[0x6]:void 0x0;if(this['printfFlag']&&console['log']('>>>JS\x20JSPlayM4_FEC_SetDisplayRegion\x20this.decodeEngine：'+this['decodeEngine']+',fishSubPort:'+_0x28a6b2+',left:'+_0x1337c9['left']+',right:'+_0x1337c9['right']+',top:'+_0x1337c9['top']+',bottom:'+_0x1337c9['bottom']),null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_SetDisplayRegion','color:\x20red'),0x0;var _0x10d1ed=0x1,_0x5d9367=_0x1337c9['left'],_0x4bf030=_0x1337c9['right'],_0x4d682a=_0x1337c9['top'],_0x1723aa=_0x1337c9['bottom'];if('number'!=typeof _0x5d9367||'number'!=typeof _0x4bf030||'number'!=typeof _0x1723aa||'number'!=typeof _0x4d682a)return console['log']('param\x20is\x20not\x20number'),0x0;if(_0xf5e434){if(_0xaa832a){if(_0x5d9367<0x0||_0x4bf030<0x0||_0x4d682a<0x0||_0x1723aa<0x0)return 0x0;0x0!==this['iFECZoomNum']&&(_0x5d9367=Math['round'](_0x5d9367/this['iFECRatio_x'])+this['stFECDisplayRect']['left'],_0x4d682a=Math['round'](_0x4d682a/this['iFECRatio_y'])+this['stFECDisplayRect']['top'],_0x4bf030=Math['round'](_0x4bf030/this['iFECRatio_x'])+this['stFECDisplayRect']['left'],_0x1723aa=Math['round'](_0x1723aa/this['iFECRatio_y'])+this['stFECDisplayRect']['top']);}}else _0x5d9367=0x0,_0x4bf030=this['canvasWidth'],_0x4d682a=0x0,_0x1723aa=this['canvasHeight'],this['iFECZoomNum']=0x0,this['iFECRatio_x']=0x1,this['iFECRatio_y']=0x1;if(this['stFECDisplayRect']={'top':_0x4d682a,'left':_0x5d9367,'right':_0x4bf030,'bottom':_0x1723aa},_0x4bf030-_0x5d9367<0x10||_0x1723aa-_0x4d682a<0x10||_0x4bf030-_0x5d9367>this['canvasWidth']||_0x1723aa-_0x4d682a>this['canvasHeight'])return 0x0;if(0x1===this['decodeEngine']){var _0x51f73f=_0x5d9367/this['canvasWidth']*this['width'],_0x3ba495=_0x4bf030/this['canvasWidth']*this['width'],_0x5832b0=_0x4d682a/this['canvasHeight']*this['height'],_0x3538bc=_0x1723aa/this['canvasHeight']*this['height'];this['hasWebWorker']?null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECSetDisplayRegion','fishSubPort':_0x28a6b2,'type':_0x5b52b7,'regionNum':_0x5a8e19,'sx':_0x51f73f,'sy':_0x5832b0,'sw':_0x3ba495-_0x51f73f,'sh':_0x3538bc-_0x5832b0}):_0x10d1ed=0x0:_0x10d1ed=null!=this['pcVideoManager']?this['pcVideoManager']['FEC_SetDisplayRegion'](_0x28a6b2,_0x5b52b7,_0x5a8e19,_0x51f73f,_0x5832b0,_0x3ba495-_0x51f73f,_0x3538bc-_0x5832b0):0x0;}else {if(null!==_0x4dd407){var _0x3c459a=_0x5d9367/this['canvasWidth']*0x3e8,_0x3275d8=_0x4bf030/this['canvasWidth']*0x3e8,_0x48e077=_0x4d682a/this['canvasHeight']*0x3e8,_0x5c67b6=_0x1723aa/this['canvasHeight']*0x3e8;_0x10d1ed=_0xf5e434?_0x4dd407['_JSPlayM4_FEC_SetDisplayRegion'](this['port'],_0x28a6b2,_0x5b52b7,_0x5a8e19,_0x3c459a,_0x3275d8,_0x48e077,_0x5c67b6,_0x891677,_0xf5e434):_0x4dd407['_JSPlayM4_FEC_SetDisplayRegion'](this['port'],_0x28a6b2,0x0,0x0,0x0,0x0,0x0,0x0,null,_0xf5e434);}else _0x10d1ed=0x0;}return _0xaa832a&&(this['iFECRatio_x']=this['canvasWidth']/(_0x4bf030-_0x5d9367),this['iFECRatio_y']=this['canvasHeight']/(_0x1723aa-_0x4d682a),this['iFECZoomNum']++),_0x10d1ed;}},{'key':'JSPlayM4_FEC_SetBackCilling','value':function(_0x5b27ed,_0x19ad16){var _0x416c01=0x1;return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_SetBackCilling','color:\x20red'),0x0):(0x1===this['decodeEngine']?this['hasWebWorker']?null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECSetBackCilling','fishSubPort':_0x5b27ed,'bValue':_0x19ad16}):_0x416c01=0x0:_0x416c01=null!=this['pcVideoManager']?this['pcVideoManager']['FEC_SetBackCilling'](_0x5b27ed,_0x19ad16):0x0:_0x416c01=_0x4dd407['_JSPlayM4_FEC_SetBackCilling'](this['port'],_0x5b27ed,_0x19ad16),_0x416c01);}},{'key':'JSPlayM4_FEC_GetPTZPort','value':function(_0x4f3b18,_0x4b3379){var _0x3b79c0=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0x0,_0x4c3f53=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:null;if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_GetPTZPort','color:\x20red'),0x0;var _0x364bf9=-0x1;return this['FECGetPTZPortCB']=_0x4c3f53,0x1===this['decodeEngine']?this['hasWebWorker']?null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECGetPTZPort','fPositionX':_0x4f3b18,'fPositionY':_0x4b3379}):_0x364bf9=0x0:null!=this['pcVideoManager']?(((_0x364bf9=this['pcVideoManager']['FEC_GetPTZPort'](_0x3b79c0,_0x4f3b18,_0x4b3379))<0x0||_0x364bf9>0x1f||null==_0x364bf9)&&(_0x364bf9=-0x1),null!=this['FECGetPTZPortCB']&&this['FECGetPTZPortCB'](_0x364bf9)):_0x364bf9=-0x1:console['info']('%c\x20softDecoder\x20not\x20support\x20JSPlayM4_FEC_GetPTZPort','color:\x20red'),_0x364bf9;}},{'key':'JSPlayM4_FEC_SetPTZDisplayMode','value':function(_0x3d7e5c){if(null===_0x4dd407)return console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_FEC_SetPTZDisplayMode','color:\x20red'),0x0;return 0x1===this['decodeEngine']&&(this['hasWebWorker']?null!=this['decodeWorker']?this['decodeWorker']['postMessage']({'command':'FECSetPTZDisplayMode','ptzMode':_0x3d7e5c}):0x0:null!=this['pcVideoManager']?this['pcVideoManager']['FEC_SetPTZDisplayMode'](_0x3d7e5c):0x0),0x1;}},{'key':'JSPlayM4_FEC_PTZ2Window','value':function(_0x3b710a,_0x4be343,_0x37d969,_0x5c89c0){return 0x1;}},{'key':'JSPlayM4_FEC_PTZ2Window2','value':function(_0x14b670,_0x59a432,_0x509bb0){return 0x1;}},{'key':'JSPlayM4_InputPrivateInfo','value':function(_0x3a0ff3,_0x1c0bc6,_0x4b75ce){var _0xf81b0c={};_0xf81b0c['linesNum']=_0x4dd407['HEAP32'][_0x3a0ff3>>0x2],_0xf81b0c['absTimeStamp']=_0x4dd407['HEAP32'][_0x3a0ff3+0x4>>0x2],_0xf81b0c['stDrawLinesArray']=[];for(var _0x266913=0x0;_0x266913<_0xf81b0c['linesNum'];_0x266913++){_0xf81b0c['stDrawLinesArray'][_0x266913]={},_0xf81b0c['stDrawLinesArray'][_0x266913]['vertex_num']=_0x4dd407['HEAP32'][_0x3a0ff3+0x8+0x70*_0x266913>>0x2],_0xf81b0c['stDrawLinesArray'][_0x266913]['lineWidth']=_0x4dd407['HEAP32'][_0x3a0ff3+0xc+0x70*_0x266913>>0x2],_0xf81b0c['stDrawLinesArray'][_0x266913]['bFill']=_0x4dd407['HEAP32'][_0x3a0ff3+0x10+0x70*_0x266913>>0x2],_0xf81b0c['stDrawLinesArray'][_0x266913]['bLoop']=_0x4dd407['HEAP32'][_0x3a0ff3+0x14+0x70*_0x266913>>0x2],_0xf81b0c['stDrawLinesArray'][_0x266913]['color']={},_0xf81b0c['stDrawLinesArray'][_0x266913]['color']['R']=_0x4dd407['HEAPF32'][_0x3a0ff3+0x18+0x70*_0x266913>>0x2],_0xf81b0c['stDrawLinesArray'][_0x266913]['color']['G']=_0x4dd407['HEAPF32'][_0x3a0ff3+0x1c+0x70*_0x266913>>0x2],_0xf81b0c['stDrawLinesArray'][_0x266913]['color']['B']=_0x4dd407['HEAPF32'][_0x3a0ff3+0x20+0x70*_0x266913>>0x2],_0xf81b0c['stDrawLinesArray'][_0x266913]['color']['A']=_0x4dd407['HEAPF32'][_0x3a0ff3+0x24+0x70*_0x266913>>0x2],_0xf81b0c['stDrawLinesArray'][_0x266913]['stPoint']=[];for(var _0x30f830=0x0;_0x30f830<_0xf81b0c['stDrawLinesArray'][_0x266913]['vertex_num'];_0x30f830++)_0xf81b0c['stDrawLinesArray'][_0x266913]['stPoint'][_0x30f830]={},_0xf81b0c['stDrawLinesArray'][_0x266913]['stPoint'][_0x30f830]['x']=_0x4dd407['HEAPF32'][_0x3a0ff3+0x28+0x70*_0x266913+0x8*_0x30f830>>0x2],_0xf81b0c['stDrawLinesArray'][_0x266913]['stPoint'][_0x30f830]['y']=_0x4dd407['HEAPF32'][_0x3a0ff3+0x2c+0x70*_0x266913+0x8*_0x30f830>>0x2];}var _0xdcf954={};_0xdcf954['nFontsNum']=_0x4dd407['HEAP32'][_0x1c0bc6>>0x2],_0xdcf954['absTimeStamp']=_0x4dd407['HEAP32'][_0x1c0bc6+0x4>>0x2],_0xdcf954['stDrawFontsArray']=[];for(var _0x121270=0x0;_0x121270<_0xdcf954['nFontsNum'];_0x121270++){_0xdcf954['stDrawFontsArray'][_0x121270]={},_0xdcf954['stDrawFontsArray'][_0x121270]['nFontSizeW']=_0x4dd407['HEAP32'][_0x1c0bc6+0x8+0x28*_0x121270>>0x2],_0xdcf954['stDrawFontsArray'][_0x121270]['nFontSizeH']=_0x4dd407['HEAP32'][_0x1c0bc6+0xc+0x28*_0x121270>>0x2],_0xdcf954['stDrawFontsArray'][_0x121270]['color']={},_0xdcf954['stDrawFontsArray'][_0x121270]['color']['R']=_0x4dd407['HEAPF32'][_0x1c0bc6+0x10+0x28*_0x121270>>0x2],_0xdcf954['stDrawFontsArray'][_0x121270]['color']['G']=_0x4dd407['HEAPF32'][_0x1c0bc6+0x14+0x28*_0x121270>>0x2],_0xdcf954['stDrawFontsArray'][_0x121270]['color']['B']=_0x4dd407['HEAPF32'][_0x1c0bc6+0x18+0x28*_0x121270>>0x2],_0xdcf954['stDrawFontsArray'][_0x121270]['color']['A']=_0x4dd407['HEAPF32'][_0x1c0bc6+0x1c+0x28*_0x121270>>0x2],_0xdcf954['stDrawFontsArray'][_0x121270]['stPoint']={},_0xdcf954['stDrawFontsArray'][_0x121270]['stPoint']['x']=_0x4dd407['HEAPF32'][_0x1c0bc6+0x20+0x28*_0x121270>>0x2],_0xdcf954['stDrawFontsArray'][_0x121270]['stPoint']['y']=_0x4dd407['HEAPF32'][_0x1c0bc6+0x24+0x28*_0x121270>>0x2];var _0x75c424=_0x4dd407['HEAP32'][_0x1c0bc6+0x28+0x28*_0x121270>>0x2],_0x2dc7b7=_0x4dd407['HEAP32'][_0x1c0bc6+0x2c+0x28*_0x121270>>0x2],_0x288125=new Uint8Array(_0x2dc7b7);_0x288125['set'](_0x4dd407['HEAP8']['subarray'](_0x75c424,_0x75c424+_0x2dc7b7));for(var _0x7ffff7='',_0x3e4f67=0x0;_0x3e4f67<_0x288125['length'];_0x3e4f67++)0x0!==_0x288125[_0x3e4f67]&&(_0x7ffff7+=String['fromCharCode'](_0x288125[_0x3e4f67]));_0xdcf954['stDrawFontsArray'][_0x121270]['fontString']=_0x7ffff7;}var _0x120333={};_0x120333['absTimeStamp']=_0x4dd407['HEAP32'][_0x4b75ce>>0x2],_0x120333['nWidth']=_0x4dd407['HEAP32'][_0x4b75ce+0x4>>0x2],_0x120333['nHeight']=_0x4dd407['HEAP32'][_0x4b75ce+0x8>>0x2],_0x120333['pstRect']={},_0x120333['pstRect']['fTop']=_0x4dd407['HEAPF32'][_0x4b75ce+0xc>>0x2],_0x120333['pstRect']['fBottom']=_0x4dd407['HEAPF32'][_0x4b75ce+0x10>>0x2],_0x120333['pstRect']['fLeft']=_0x4dd407['HEAPF32'][_0x4b75ce+0x14>>0x2],_0x120333['pstRect']['fRight']=_0x4dd407['HEAPF32'][_0x4b75ce+0x18>>0x2],_0x120333['nPixelFormat']=_0x4dd407['HEAP32'][_0x4b75ce+0x1c>>0x2],_0x120333['fAlpha']=_0x4dd407['HEAPF32'][_0x4b75ce+0x20>>0x2],_0x120333['nPixelFormat'];var _0x16f781=_0x4dd407['HEAP32'][_0x4b75ce+0x24>>0x2],_0x378f22=_0x4dd407['HEAP32'][_0x4b75ce+0x28>>0x2],_0x10d422=new Uint8Array(_0x378f22);return _0x10d422['set'](_0x4dd407['HEAPU8']['subarray'](_0x16f781,_0x16f781+_0x378f22)),_0x120333['picImageData']=_0x10d422,0x1===this['decodeEngine']&&(this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'InputPrivateInfo','linesInfo':_0xf81b0c,'fontInfo':_0xdcf954,'ImageInfo':_0x120333}):null!=this['pcVideoManager']&&this['pcVideoManager']['InputPrivateInfo'](_0xf81b0c,_0xdcf954,_0x120333)),0x1;}},{'key':'JSPlayM4_SetWaterMarkFont','value':function(_0x2b94f9){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetWaterMarkFont','color:\x20red'),0x0):(0x1===this['decodeEngine']?this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'SetWaterMarkFont','fontParam':_0x2b94f9}):null!=this['pcVideoManager']&&this['pcVideoManager']['SetWaterMarkFont'](_0x2b94f9):console['log']('%c1>soft\x20decode\x20not\x20support\x20SetWaterMarkFont,','color:\x20red'),0x1);}},{'key':'JSPlayM4_SetWaterMarkImage','value':function(_0x3c3c01){return null===_0x4dd407?(console['info']('%coJSPlayerWasm\x20is\x20null,can\x27t\x20JSPlayM4_SetWaterMarkImage','color:\x20red'),0x0):(0x1===this['decodeEngine']?this['hasWebWorker']?this['decodeWorker']['postMessage']({'command':'SetWaterMarkImage','imageParam':_0x3c3c01}):null!=this['pcVideoManager']&&this['pcVideoManager']['SetWaterMarkImage'](_0x3c3c01):console['log']('%c1>soft\x20decode\x20not\x20support\x20SetWaterMarkImage,','color:\x20red'),0x1);}},{'key':'_stringToBytes','value':function(_0x1a3199){for(var _0x21bbf2,_0x2e5317,_0x1a20d9=[],_0x1aae81=0x0;_0x1aae81<_0x1a3199['length'];_0x1aae81++){_0x21bbf2=_0x1a3199['charCodeAt'](_0x1aae81),_0x2e5317=[];do{_0x2e5317['push'](0xff&_0x21bbf2),_0x21bbf2>>=0x8;}while(_0x21bbf2);_0x1a20d9=_0x1a20d9['concat'](_0x2e5317['reverse']());}return _0x1a20d9;}},{'key':'_downloadFile','value':function(_0xc80826,_0x2e3b56){var _0x4c42aa=_0xc80826;_0xc80826 instanceof Blob||_0xc80826 instanceof File||(_0x4c42aa=new Blob([_0xc80826]));var _0x2989ac=window['URL']['createObjectURL'](_0x4c42aa),_0x3eda7f=window['document']['createElement']('a');_0x3eda7f['href']=_0x2989ac,_0x3eda7f['download']=_0x2e3b56;var _0x40f7bf=document['createEvent']('MouseEvents');_0x40f7bf['initEvent']('click',!0x0,!0x0),_0x3eda7f['dispatchEvent'](_0x40f7bf);}},{'key':'downloadRTPData','value':function(_0x139db0){if(this['bWriteData']){var _0xcdbdc2=_0x139db0,_0x531a34=this['aTotalBuffer']['length'];console['log']('totalLength:'+_0x531a34);for(var _0x28973e=0x0,_0x36a8ad=_0xcdbdc2['length'];_0x28973e<_0x36a8ad;_0x28973e++)this['aTotalBuffer'][_0x531a34+_0x28973e]=_0xcdbdc2[_0x28973e];this['iFrameNum']++,_0xcdbdc2=null,console['log']('downloadRTPdata\x20iFrameNum:'+this['iFrameNum']);}if(this['bWriteData']&&this['iFrameNum']>=0x258){console['log']('download600RawData');var _0x40cbf5=new Uint8Array(this['aTotalBuffer']);this['_downloadFile'](_0x40cbf5,'Raw600.data'),this['aTotalBuffer']['splice'](0x0,this['aTotalBuffer']['length']),this['bWriteData']=!0x1,this['iFrameNum']=0x0,_0x40cbf5=null;}}},{'key':'downloadAudioPCMData','value':function(_0xe085d7){if(this['bWriteAudioPCMData']){for(var _0x45b352=_0xe085d7,_0x42709c=this['audioPCMBuffer']['length'],_0x41a86b=0x0,_0x206a18=_0x45b352['length'];_0x41a86b<_0x206a18;_0x41a86b++)this['audioPCMBuffer'][_0x42709c+_0x41a86b]=_0x45b352[_0x41a86b];this['iAudioPCMFrameNum']++,_0x45b352=null,console['log']('download\x20ANR\x20Decode\x20AudioData\x20FrameNum:'+this['iAudioPCMFrameNum']);}if(this['bWriteAudioPCMData']&&this['iAudioPCMFrameNum']>=WRITE_PCM_NUM){console['log']('download'+WRITE_PCM_NUM+'this.audioPCMBuffer');var _0x1f2074=new Uint8Array(this['audioPCMBuffer']);this['_downloadFile'](_0x1f2074,'AudioANR.data'),this['audioPCMBuffer']['splice'](0x0,this['audioPCMBuffer']['length']),this['bWriteAudioPCMData']=!0x1,this['iAudioPCMFrameNum']=0x0,_0x1f2074=null;}}}]),_0x1b02d6;}();window['_getFExplore']=function(){var _0xd7accc,_0x2ffcfb={},_0x11ad50=navigator['userAgent']['toLowerCase']();if((_0xd7accc=_0x11ad50['match'](/rv:([\d.]+)\) like gecko/))||(_0xd7accc=_0x11ad50['match'](/msie ([\d\.]+)/))?_0x2ffcfb['ie']=_0xd7accc[0x1]:(_0xd7accc=_0x11ad50['match'](/edge\/([\d\.]+)/))?_0x2ffcfb['edge']=_0xd7accc[0x1]:(_0xd7accc=_0x11ad50['match'](/firefox\/([\d\.]+)/))?_0x2ffcfb['firefox']=_0xd7accc[0x1]:(_0xd7accc=_0x11ad50['match'](/(?:opera|opr).([\d\.]+)/))?_0x2ffcfb['opera']=_0xd7accc[0x1]:(_0xd7accc=_0x11ad50['match'](/chrome\/([\d\.]+)/))?_0x2ffcfb['chrome']=_0xd7accc[0x1]:(_0xd7accc=_0x11ad50['match'](/version\/([\d\.]+).*safari/))&&(_0x2ffcfb['safari']=_0xd7accc[0x1]),_0x2ffcfb['chrome']){var _0x1db21e=_0x2ffcfb['chrome'],_0x4cc48b=_0x1db21e['indexOf']('.');return Number(_0x1db21e['substring'](0x0,_0x4cc48b));}return _0x2ffcfb['ie']?console['info']('%c1>your\x20browser\x20is\x20IE\x20,it\x20does\x20not\x20support\x20play\x20without\x20plugin','color:\x20red'):_0x2ffcfb['safari']?console['info']('%c1>your\x20browser\x20is\x20safari\x20,it\x20does\x20not\x20support\x20softV2.0\x20or\x20hard\x20decode','color:\x20red'):_0x2ffcfb['firefox']?console['info']('%c1>your\x20browser\x20is\x20Firefox\x20,it\x20only\x20support\x20soft\x20decode','color:\x20red'):console['info']('%c1>your\x20browser\x20does\x20not\x20support\x20play\x20without\x20plugin','color:\x20red'),-0x1;},window['JSPlayM4_AdditionDataCBFun']=function(_0x330dfb,_0x435f58,_0xeb39e5){if(null!=_0x5b0f96[_0xeb39e5][_0x330dfb]){var _0x42cc6c={};_0x42cc6c['dataType']=_0x4dd407['HEAP32'][_0x435f58>>0x2],_0x42cc6c['dataStrVersion']=_0x4dd407['HEAP32'][_0x435f58+0x4>>0x2],_0x42cc6c['dataTimeStamp']=_0x4dd407['HEAP32'][_0x435f58+0x8>>0x2],_0x42cc6c['dataLength']=_0x4dd407['HEAP32'][_0x435f58+0xc>>0x2],_0x42cc6c['pData']=_0x4dd407['HEAP32'][_0x435f58+0x10>>0x2],_0x42cc6c['additionDataBuffer']=new Uint8Array(_0x42cc6c['dataLength']),_0x42cc6c['additionDataBuffer']['set'](_0x4dd407['HEAPU8']['subarray'](_0x42cc6c['pData'],_0x42cc6c['pData']+_0x42cc6c['dataLength'])),_0x5b0f96[_0xeb39e5][_0x330dfb]['hasOwnProperty']('addtionCallBackFun')&&null!=_0x5b0f96[_0xeb39e5][_0x330dfb]['addtionCallBackFun']&&null!=_0x5b0f96[_0xeb39e5][_0x330dfb]['addtionCallBackFun']&&_0x5b0f96[_0xeb39e5][_0x330dfb]['addtionCallBackFun'](_0x42cc6c);}},window['JSPlayM4_DisplayCallBack']=function(_0x168b14,_0x5b4509,_0x74c553,_0x41ba45,_0x5342bc){if(null!=_0x5b0f96[_0x5342bc][_0x168b14]){var _0x17c511={};_0x17c511['yuvData']=_0x5b4509,_0x17c511['isize']=_0x74c553,_0x17c511['timeStamp']=_0x41ba45,_0x5b0f96[_0x5342bc][_0x168b14]['hasOwnProperty']('displayCallBackFun')&&null!=_0x5b0f96[_0x5342bc][_0x168b14]['displayCallBackFun']&&_0x5b0f96[_0x5342bc][_0x168b14]['displayCallBackFun'](_0x17c511);}},window['JSPlayM4_DecCallBack']=function(_0x2f1f90,_0x2ab941,_0x351717,_0x30189a,_0x2b857f,_0x51da2d){if(null!=_0x5b0f96[_0x51da2d][_0x2f1f90]){var _0x3eb216={};_0x3eb216['port']=_0x2f1f90,_0x3eb216['Data']=_0x2ab941,_0x3eb216['isize']=_0x351717,_0x3eb216['iDataType']=_0x30189a,_0x3eb216['SampleRate']=_0x2b857f,_0x5b0f96[_0x51da2d][_0x2f1f90]['hasOwnProperty']('decCallBackFun')&&null!=_0x5b0f96[_0x51da2d][_0x2f1f90]['decCallBackFun']&&_0x5b0f96[_0x51da2d][_0x2f1f90]['decCallBackFun'](_0x3eb216);}},window['JSPlayM4_RunTimeInfoCallBack']=function(_0x5b3e72,_0x1fa17b,_0x22f157,_0x10a1ae){if(null!=_0x5b0f96[_0x10a1ae][_0x5b3e72]){var _0xdeb929=_0x4dd407['HEAP32'][_0x1fa17b>>0x2],_0x18d6a2=_0x4dd407['HEAP32'][_0x1fa17b+0x4>>0x2],_0x2ba5b6=_0x4dd407['HEAP32'][_0x1fa17b+0x8>>0x2],_0x2ca052=_0x4dd407['HEAP32'][_0x1fa17b+0xc>>0x2],_0x506b8d=_0x22f157;_0x5b0f96[_0x10a1ae][_0x5b3e72]['hasOwnProperty']('runtimeCBFun')&&null!=_0x5b0f96[_0x10a1ae][_0x5b3e72]['runtimeCBFun']&&_0x5b0f96[_0x10a1ae][_0x5b3e72]['runtimeCBFun'](_0xdeb929,_0x18d6a2,_0x2ba5b6,_0x2ca052,_0x506b8d);}},window['JSPlayM4_FirstFrameCallBack']=function(_0x479426,_0x5977bb){null!=_0x5b0f96[_0x5977bb][_0x479426]&&_0x5b0f96[_0x5977bb][_0x479426]['hasOwnProperty']('FFCallBackFun')&&null!=_0x5b0f96[_0x5977bb][_0x479426]['FFCallBackFun']&&null!=_0x5b0f96[_0x5977bb][_0x479426]['FFCallBackFun']&&_0x5b0f96[_0x5977bb][_0x479426]['FFCallBackFun']();},window['JSPlayM4_AudioPCMCallBack']=function(_0x2e0d3d,_0x4fc28d,_0xd862e2,_0x2741ee){null!=_0x5b0f96[_0x2741ee][_0x2e0d3d]&&_0x5b0f96[_0x2741ee][_0x2e0d3d]['__proto__']['hasOwnProperty']('downloadAudioPCMData')&&_0x5b0f96[_0x2741ee][_0x2e0d3d]['downloadAudioPCMData'](_0x4fc28d);},window['JSPlayM4_RTPRawDataCallBack']=function(_0x27d6cf,_0x15de56,_0x49739d){null!=_0x5b0f96[_0x49739d][port]&&_0x5b0f96[_0x49739d][port]['__proto__']['hasOwnProperty']('downloadRTPData')&&_0x5b0f96[_0x49739d][port]['downloadRTPData'](_0x27d6cf);};const _0x2f56a1=function(_0x1b851a){return '\x0a(function\x20(event)\x20{\x0a\x20\x20\x20\x20const\x20AUDIO_TYPE\x20=\x200;\x09//\x20音频\x0a\x20\x20\x20\x20const\x20VIDEO_TYPE\x20=\x201;\x20\x20\x20//\x20视频\x0a\x20\x20\x20\x20const\x20PRIVT_TYPE\x20=\x202;\x20\x20//\x20私有帧\x0a\x0a\x20\x20\x20\x20const\x20PLAYM4_AUDIO_FRAME\x20=\x20100;\x20//\x20音频帧\x0a\x20\x20\x20\x20const\x20PLAYM4_VIDEO_FRAME\x20=\x20101;\x20//\x20视频帧\x0a\x0a\x20\x20\x20\x20const\x20PLAYM4_OK\x20=\x201;\x0a\x20\x20\x20\x20const\x20PLAYM4_ORDER_ERROR\x20=\x202;\x0a\x20\x20\x20\x20const\x20PLAYM4_DECODE_ERROR\x20=\x2044\x20\x09//\x20解码失败\x0a\x20\x20\x20\x20const\x20PLAYM4_NOT_KEYFRAME\x20=\x2048;\x20\x09//\x20非关键帧\x0a\x20\x20\x20\x20const\x20PLAYM4_NEED_MORE_DATA\x20=\x2031;\x20\x20\x20//\x20需要更多数据才能解析\x0a\x20\x20\x20\x20const\x20PLAYM4_NEED_NEET_LOOP\x20=\x2035;\x20//丢帧需要下个循环\x0a\x20\x20\x20\x20const\x20PLAYM4_SYS_NOT_SUPPORT\x20=\x2016;\x20\x09//\x20不支持\x0a\x0a\x20\x20\x20\x20importScripts(\x27'['concat'](_0x1b851a,'\x27);\x0a\x20\x20\x20\x20Module.addOnPostRun(function\x20()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22loaded\x22\x20});\x0a\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20var\x20iStreamMode\x20=\x200;\x20\x20//\x20流模式\x0a\x0a\x20\x20\x20\x20var\x20bOpenMode\x20=\x20false;\x0a\x20\x20\x20\x20var\x20bOpenStream\x20=\x20false;\x0a\x0a\x20\x20\x20\x20var\x20funGetFrameData\x20=\x20null;\x0a\x20\x20\x20\x20var\x20funGetAudFrameData\x20=\x20null;\x0a\x0a\x20\x20\x20\x20var\x20bWorkerPrintLog\x20=\x20false;//worker层log开关\x0a\x0a\x20\x20\x20\x20var\x20g_nPort\x20=\x20-1;\x0a\x20\x20\x20\x20var\x20pInputData\x20=\x20null;\x0a\x20\x20\x20\x20var\x20inputBufferSize\x20=\x2040960;\x0a\x0a\x20\x20\x20\x20self.JSPlayM4_RunTimeInfoCallBack\x20=\x20function\x20(nPort,\x20pstRunTimeInfo,\x20pUser)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20port\x20=\x20nPort;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20user\x20=\x20pUser;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20nRunTimeModule\x20=\x20Module.HEAP32[pstRunTimeInfo\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20nStrVersion\x20=\x20Module.HEAP32[pstRunTimeInfo\x20+\x204\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20nFrameTimeStamp\x20=\x20Module.HEAP32[pstRunTimeInfo\x20+\x208\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20nFrameNum\x20=\x20Module.HEAP32[pstRunTimeInfo\x20+\x2012\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20nErrorCode\x20=\x20Module.HEAP32[pstRunTimeInfo\x20+\x2016\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20console.log(\x22nRunTimeModule:\x22+nRunTimeModule+\x22,nFrameNum:\x22+nFrameNum+\x22,nErrorCode:\x22+nErrorCode);\x0a\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22RunTimeInfoCallBack\x22,\x20\x27nRunTimeModule\x27:\x20nRunTimeModule,\x20\x27nStrVersion\x27:\x20nStrVersion,\x20\x27nFrameTimeStamp\x27:\x20nFrameTimeStamp,\x20\x27nFrameNum\x27:\x20nFrameNum,\x20\x27nErrorCode\x27:\x20nErrorCode\x20});\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20onmessage\x20=\x20function\x20(event)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20eventData\x20=\x20event.data;\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20res\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20switch\x20(eventData.command)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22printLog\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20downloadFlag\x20=\x20eventData.data;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(downloadFlag\x20===\x20true)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bWorkerPrintLog\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20res\x20=\x20Module._SetPrintLogFlag(g_nPort,\x20downloadFlag);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bWorkerPrintLog\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20res\x20=\x20Module._SetPrintLogFlag(g_nPort,\x20downloadFlag);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(res\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22DecodeWorker.js:\x20PlayerSDK\x20print\x20log\x20failed,res\x22\x20+\x20res);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22printLog\x22,\x20\x27errorCode\x27:\x20res\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetPlayPosition\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20nFrameNumOrTime\x20=\x20eventData.data;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20enPosType\x20=\x20eventData.type;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20res\x20=\x20Module._SetPlayPosition(nFrameNumOrTime,enPosType);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20if\x20(res\x20!==\x20PLAYM4_OK)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20postMessage({\x27function\x27:\x20\x22SetPlayPosition\x22,\x20\x27errorCode\x27:\x20res});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20//有没有buffer需要清除\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetStreamOpenMode\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//获取端口号\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20g_nPort\x20=\x20Module._GetPort();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//设置流打开模式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20iStreamMode\x20=\x20eventData.data;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20res\x20=\x20Module._SetStreamOpenMode(g_nPort,\x20iStreamMode);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(res\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22SetStreamOpenMode\x22,\x20\x27errorCode\x27:\x20res\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bOpenMode\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22OpenStream\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20接收到的数据\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20iHeadLen\x20=\x20eventData.dataSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pHead\x20=\x20Module._malloc(iHeadLen\x20+\x204);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pHead\x20===\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20aHead\x20=\x20Module.HEAPU8.subarray(pHead,\x20pHead\x20+\x20iHeadLen);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aHead.set(new\x20Uint8Array(eventData.data));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20res\x20=\x20Module._OpenStream(g_nPort,\x20pHead,\x20iHeadLen,\x20eventData.bufPoolSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22OpenStream\x22,\x20\x27errorCode\x27:\x20res\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(res\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//释放内存\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pHead);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pHead\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bOpenStream\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22Play\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20resP\x20=\x20Module._Play(g_nPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(resP\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22InputData\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20接收到的数据\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20iLen\x20=\x20eventData.dataSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(iLen\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pInputData\x20==\x20null\x20||\x20iLen\x20>\x20inputBufferSize)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pInputData\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pInputData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pInputData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(iLen\x20>\x20inputBufferSize)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inputBufferSize\x20=\x20iLen;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pInputData\x20=\x20Module._malloc(inputBufferSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pInputData\x20===\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20inputData\x20=\x20new\x20Uint8Array(eventData.data);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20var\x20aInputData\x20=\x20Module.HEAPU8.subarray(pInputData,\x20pInputData\x20+\x20iLen);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20aInputData.set(inputData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module.writeArrayToMemory(inputData,\x20pInputData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inputData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20res\x20=\x20Module._InputData(g_nPort,\x20pInputData,\x20iLen);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(res\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20errorCode\x20=\x20Module._GetLastError(g_nPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20sourceRemain\x20=\x20Module._GetSourceBufferRemain(g_nPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22InputData\x22,\x20\x27errorCode\x27:\x20errorCode,\x20\x22sourceRemain\x22:\x20sourceRemain\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//Module._free(pInputData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//pInputData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20sourceRemain\x20=\x20Module._GetSourceBufferRemain(g_nPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(sourceRemain\x20==\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22InputData\x22,\x20\x27errorCode\x27:\x20PLAYM4_NEED_MORE_DATA\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/////////////////////\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20if\x20(funGetFrameData\x20===\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20funGetFrameData\x20=\x20Module.cwrap(\x27GetFrameData\x27,\x20\x27number\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20while\x20(bOpenMode\x20&&\x20bOpenStream)\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20ret\x20=\x20getFrameData();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20直到获取视频帧或数据不足为止\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(PLAYM4_VIDEO_FRAME\x20===\x20ret\x20||\x20PLAYM4_NEED_MORE_DATA\x20===\x20ret\x20||\x20PLAYM4_ORDER_ERROR\x20===\x20ret)//PLAYM4_VIDEO_FRAME\x20===\x20ret\x20||\x20\x20||\x20PLAYM4_NEED_NEET_LOOP\x20===\x20ret\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetSecretKey\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20keyLen\x20=\x20eventData.nKeyLen;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pKeyData\x20=\x20Module._malloc(keyLen);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pKeyData\x20===\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20nKeySize\x20=\x20eventData.data.length\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20bufData\x20=\x20stringToBytes(eventData.data);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20aKeyData\x20=\x20Module.HEAPU8.subarray(pKeyData,\x20pKeyData\x20+\x20keyLen);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20u8array\x20=\x20new\x20Uint8Array(keyLen);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aKeyData.set(u8array,\x200);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aKeyData.set(new\x20Uint8Array(bufData));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aKeyData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20u8array\x20=\x20null;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20res\x20=\x20Module._SetSecretKey(g_nPort,\x20eventData.nKeyType,\x20pKeyData,\x20keyLen);//,\x20nKeySize\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(res\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22SetSecretKey\x22,\x20\x27errorCode\x27:\x20res\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pKeyData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pKeyData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pKeyData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pKeyData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22GetBMP\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20nBMPWidth\x20=\x20eventData.width;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20nBMPHeight\x20=\x20eventData.height;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pYUVData\x20=\x20eventData.data;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20nYUVSize\x20=\x20nBMPWidth\x20*\x20nBMPHeight\x20*\x203\x20/\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20oBMPCropRect\x20=\x20eventData.rect;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pDataYUV\x20=\x20Module._malloc(nYUVSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pDataYUV\x20===\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module.writeArrayToMemory(new\x20Uint8Array(pYUVData,\x200,\x20nYUVSize),\x20pDataYUV);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20分配BMP空间\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20nBmpSize\x20=\x20nBMPWidth\x20*\x20nBMPHeight\x20*\x204\x20+\x2060;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pBmpData\x20=\x20Module._malloc(nBmpSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pBmpSize\x20=\x20Module._malloc(4);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pBmpData\x20===\x20null\x20||\x20pBmpSize\x20===\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pDataYUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pDataYUV\x20=\x20null;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pBmpData\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pBmpData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pBmpData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pBmpSize\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pBmpSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pBmpSize\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//Module._memset(pBmpSize,\x20nBmpSize,\x204);\x20//\x20防止bmp截图出现输入数据过大的错误码\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module.setValue(pBmpSize,\x20nBmpSize,\x20\x22i32\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20res\x20=\x20Module._GetBMP(g_nPort,\x20pDataYUV,\x20nYUVSize,\x20pBmpData,\x20pBmpSize,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oBMPCropRect.left,\x20oBMPCropRect.top,\x20oBMPCropRect.right,\x20oBMPCropRect.bottom);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(res\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22GetBMP\x22,\x20\x27errorCode\x27:\x20res\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pDataYUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pDataYUV\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pBmpData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pBmpData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pBmpSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pBmpSize\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20获取BMP图片大小\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20nBmpDataSize\x20=\x20Module.getValue(pBmpSize,\x20\x22i32\x22);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20获取BMP图片数据\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20aBmpData\x20=\x20new\x20Uint8Array(nBmpDataSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aBmpData.set(Module.HEAPU8.subarray(pBmpData,\x20pBmpData\x20+\x20nBmpDataSize));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22GetBMP\x22,\x20\x27data\x27:\x20aBmpData,\x20\x27errorCode\x27:\x20res\x20},\x20[aBmpData.buffer]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aBmpData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pDataYUV\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pDataYUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pDataYUV\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pBmpData\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pBmpData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pBmpData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pBmpSize\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pBmpSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pBmpSize\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22GetJPEG\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20nJpegWidth\x20=\x20eventData.width;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20nJpegHeight\x20=\x20eventData.height;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pYUVData1\x20=\x20eventData.data;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20nYUVSize1\x20=\x20nJpegWidth\x20*\x20nJpegHeight\x20*\x203\x20/\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20oJpegCropRect\x20=\x20eventData.rect;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pDataYUV1\x20=\x20Module._malloc(nYUVSize1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pDataYUV1\x20===\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module.writeArrayToMemory(new\x20Uint8Array(pYUVData1,\x200,\x20nYUVSize1),\x20pDataYUV1);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20分配JPEG空间\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pJpegData\x20=\x20Module._malloc(nYUVSize1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pJpegSize\x20=\x20Module._malloc(4);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pJpegData\x20===\x20null\x20||\x20pJpegSize\x20===\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pJpegData\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pJpegData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pJpegData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pJpegSize\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pJpegSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pJpegSize\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pDataYUV1\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pDataYUV1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pDataYUV1\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module.setValue(pJpegSize,\x20nJpegWidth\x20*\x20nJpegHeight\x20*\x202,\x20\x22i32\x22);\x20\x20\x20\x20//\x20JPEG抓图，输入缓冲长度不小于当前帧YUV大小\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20res\x20=\x20Module._GetJPEG(g_nPort,\x20pDataYUV1,\x20nYUVSize1,\x20pJpegData,\x20pJpegSize,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oJpegCropRect.left,\x20oJpegCropRect.top,\x20oJpegCropRect.right,\x20oJpegCropRect.bottom);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(res\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22GetJPEG\x22,\x20\x27errorCode\x27:\x20res\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pJpegData\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pJpegData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pJpegData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pJpegSize\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pJpegSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pJpegSize\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pDataYUV1\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pDataYUV1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pDataYUV1\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20获取JPEG图片大小\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20nJpegSize\x20=\x20Module.getValue(pJpegSize,\x20\x22i32\x22);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20获取JPEG图片数据\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20aJpegData\x20=\x20new\x20Uint8Array(nJpegSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aJpegData.set(Module.HEAPU8.subarray(pJpegData,\x20pJpegData\x20+\x20nJpegSize));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22GetJPEG\x22,\x20\x27data\x27:\x20aJpegData,\x20\x27errorCode\x27:\x20res\x20},\x20[aJpegData.buffer]);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nJpegSize\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aJpegData\x20=\x20null;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pDataYUV1\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pDataYUV1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pDataYUV1\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pJpegData\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pJpegData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pJpegData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pJpegSize\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pJpegSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pJpegSize\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetDecodeFrameType\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20nFrameType\x20=\x20eventData.data;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20res\x20=\x20Module._SetDecodeFrameType(g_nPort,\x20nFrameType);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(res\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22SetDecodeFrameType\x22,\x20\x27errorCode\x27:\x20res\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22CloseStream\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//stop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20resS\x20=\x20Module._Stop(g_nPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(resS\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22Stop\x22,\x20\x27errorCode\x27:\x20res\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//closeStream\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20res\x20=\x20Module._CloseStream(g_nPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(res\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22CloseStream\x22,\x20\x27errorCode\x27:\x20res\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//freePort\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20resF\x20=\x20Module._FreePort(g_nPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(resF\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22FreePort\x22,\x20\x27errorCode\x27:\x20res\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pInputData\x20!=\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._free(pInputData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pInputData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22PlaySound\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20resPS\x20=\x20Module._PlaySound(g_nPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(resPS\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22PlaySound\x20failed\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22StopSound\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20resSS\x20=\x20Module._StopSound();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(resSS\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22StopSound\x20failed\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetVolume\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20resSV\x20=\x20Module._SetVolume(g_nPort,\x20eventData.volume);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(resSV\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22Audio\x20SetVolume\x20failed\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22GetVolume\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20volume\x20=\x20Module._GetVolume();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(volume\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22GetVolume\x22,\x20\x27volume\x27:\x20volume\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22Audio\x20GetVolume\x20failed\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22OnlyPlaySound\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20resOPS\x20=\x20Module._OnlyPlaySound(g_nPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(resOPS\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22OnlyPlaySound\x20failed\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22Pause\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20resPa\x20=\x20Module._Pause(g_nPort,\x20eventData.bPlay);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(resPa\x20!==\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22Pause\x20failed\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22PlayRate\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._SetPlayRate(g_nPort,\x20eventData.playRate);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetIFrameDecInterval\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._SetIFrameDecInterval(g_nPort,\x20eventData.data);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetLostFrameMode\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._SetLostFrameMode(g_nPort,\x20eventData.data,\x200);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetDemuxModel\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20resSDM\x20=\x20Module._SetDemuxModel(g_nPort,\x20eventData.nIdemuxType,\x20eventData.bTrue);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SkipErrorData\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._SkipErrorData(g_nPort,\x20eventData.bSkip);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetDecodeERC\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._SetDecodeERC(g_nPort,\x20eventData.nLevel);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetANRParam\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._SetANRParam(g_nPort,\x20eventData.nEnable,\x20eventData.nANRLevel);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetResampleValue\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._SetResampleValue(g_nPort,\x20eventData.nEnable,\x20eventData.resampleValue);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22GetLastError\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20errorCode\x20=\x20Module._GetLastError(g_nPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x20\x27function\x27:\x20\x22GetLastError\x22,\x20\x27errorCode\x27:\x20errorCode\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetGlobalBaseTime\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._SetGlobalBaseTime(g_nPort,\x20eventData.year,\x20eventData.month,\x20eventData.day,\x20eventData.hour,\x20eventData.min,\x20eventData.sec,\x20eventData.ms);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x22SetRunTimeInfoCB\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Module._SetRunTimeInfoCallBackEx(g_nPort,\x20eventData.nModuleType,\x200);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20default:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20function\x20getOSDTime(oFrameInfo)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20iYear\x20=\x20oFrameInfo.year;\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20iMonth\x20=\x20oFrameInfo.month;\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20iDay\x20=\x20oFrameInfo.day;\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20iHour\x20=\x20oFrameInfo.hour;\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20iMinute\x20=\x20oFrameInfo.minute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20iSecond\x20=\x20oFrameInfo.second;\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20iMiSecond\x20=\x20oFrameInfo.misecond\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(iMonth\x20<\x2010)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20iMonth\x20=\x20\x220\x22\x20+\x20iMonth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(iDay\x20<\x2010)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20iDay\x20=\x20\x220\x22\x20+\x20iDay;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(iHour\x20<\x2010)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20iHour\x20=\x20\x220\x22\x20+\x20iHour;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(iMinute\x20<\x2010)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20iMinute\x20=\x20\x220\x22\x20+\x20iMinute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(iSecond\x20<\x2010)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20iSecond\x20=\x20\x220\x22\x20+\x20iSecond;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20osdTime\x20=\x20{};\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20osdTime.year\x20=\x20iYear;\x0a\x20\x20\x20\x20\x20\x20\x20\x20osdTime.month\x20=\x20iMonth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20osdTime.week\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20osdTime.day\x20=\x20iDay;\x0a\x20\x20\x20\x20\x20\x20\x20\x20osdTime.hour\x20=\x20iHour;\x0a\x20\x20\x20\x20\x20\x20\x20\x20osdTime.minute\x20=\x20iMinute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20osdTime.second\x20=\x20iSecond;\x0a\x20\x20\x20\x20\x20\x20\x20\x20osdTime.milliseconds\x20=\x20iMiSecond;\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20osdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20//return\x20iYear\x20+\x20\x22-\x22\x20+\x20iMonth\x20+\x20\x22-\x22\x20+\x20iDay\x20+\x20\x22\x20\x22\x20+\x20iHour\x20+\x20\x22:\x22\x20+\x20iMinute\x20+\x20\x22:\x22\x20+\x20iSecond;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20//\x20获取帧数据\x0a\x20\x20\x20\x20function\x20getFrameData()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20function\x20getFrameData()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20获取帧数据\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20res\x20=\x20Module._GetFrameData();\x0a\x20\x20\x20\x20\x20\x20\x20\x20//var\x20res\x20=\x20fun();\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(res\x20===\x20PLAYM4_OK)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20iFrameInfo\x20=\x20Module._GetFrameInfo();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20oFrameInfo\x20=\x20{};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.frameType\x20=\x20Module.HEAP32[iFrameInfo\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.frameSize\x20=\x20Module.HEAP32[iFrameInfo\x20+\x204\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.width\x20=\x20Module.HEAP32[iFrameInfo\x20+\x208\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.height\x20=\x20Module.HEAP32[iFrameInfo\x20+\x2012\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.timeStamp\x20=\x20Module.HEAP32[iFrameInfo\x20+\x2016\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.frameRate\x20=\x20Module.HEAP32[iFrameInfo\x20+\x2020\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.bitsPerSample\x20=\x20Module.HEAP32[iFrameInfo\x20+\x2024\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.samplesPerSec\x20=\x20Module.HEAP32[iFrameInfo\x20+\x2028\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.channels\x20=\x20Module.HEAP32[iFrameInfo\x20+\x2032\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.frameNum\x20=\x20Module.HEAP32[iFrameInfo\x20+\x2036\x20>>\x202];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.cropLeft\x20=\x20Module.HEAP32[iFrameInfo\x20+\x2040\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.cropRight\x20=\x20Module.HEAP32[iFrameInfo\x20+\x2044\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.cropTop\x20=\x20Module.HEAP32[iFrameInfo\x20+\x2048\x20>>\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.cropBottom\x20=\x20Module.HEAP32[iFrameInfo\x20+\x2052\x20>>\x202];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.year\x20=\x20Module.HEAP16[iFrameInfo\x20+\x2056\x20>>\x201];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.month\x20=\x20Module.HEAP16[iFrameInfo\x20+\x2058\x20>>\x201];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.day\x20=\x20Module.HEAP16[iFrameInfo\x20+\x2060\x20>>\x201];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.hour\x20=\x20Module.HEAP16[iFrameInfo\x20+\x2062\x20>>\x201];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.minute\x20=\x20Module.HEAP16[iFrameInfo\x20+\x2064\x20>>\x201];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.second\x20=\x20Module.HEAP16[iFrameInfo\x20+\x2066\x20>>\x201];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo.misecond\x20=\x20Module.HEAP16[iFrameInfo\x20+\x2068\x20>>\x201];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20switch\x20(oFrameInfo.frameType)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20AUDIO_TYPE:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20iSize\x20=\x20oFrameInfo.frameSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(0\x20===\x20iSize)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20-1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pPCM\x20=\x20Module._GetFrameBuffer();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20var\x20audioBuf\x20=\x20new\x20ArrayBuffer(iSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20aPCMData\x20=\x20new\x20Uint8Array(iSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aPCMData.set(Module.HEAPU8.subarray(pPCM,\x20pPCM\x20+\x20iSize));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(bWorkerPrintLog)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22<<<Worker:\x20audio\x20media\x20Info:\x20nSise:\x22\x20+\x20oFrameInfo.frameSize\x20+\x20\x22,nSampleRate:\x22\x20+\x20oFrameInfo.samplesPerSec\x20+\x20\x27,channel:\x27\x20+\x20oFrameInfo.channels\x20+\x20\x27,bitsPerSample:\x27\x20+\x20oFrameInfo.bitsPerSample);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27function\x27:\x20\x22GetFrameData\x22,\x20\x27type\x27:\x20\x22audioType\x22,\x20\x27data\x27:\x20aPCMData.buffer,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27frameInfo\x27:\x20oFrameInfo,\x20\x27errorCode\x27:\x20res\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x20[aPCMData.buffer]);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pPCM\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aPCMData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20PLAYM4_AUDIO_FRAME;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20VIDEO_TYPE:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20szOSDTime\x20=\x20getOSDTime(oFrameInfo);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20iWidth\x20=\x20oFrameInfo.width;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20iHeight\x20=\x20oFrameInfo.height;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20iYUVSize\x20=\x20iWidth\x20*\x20iHeight\x20*\x203\x20/\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(0\x20===\x20iYUVSize)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20-1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pYUV\x20=\x20Module._GetFrameBuffer();\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20图像数据渲染后压回，若从主码流切到子码流，存在数组大小与图像大小不匹配现象\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20aYUVData\x20=\x20new\x20Uint8Array(iYUVSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aYUVData.set(Module.HEAPU8.subarray(pYUV,\x20pYUV\x20+\x20iYUVSize));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(bWorkerPrintLog)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22<<<Worker:\x20video\x20media\x20Info:\x20Width:\x22\x20+\x20oFrameInfo.width\x20+\x20\x22,Height:\x22\x20+\x20oFrameInfo.height\x20+\x20\x22,timeStamp:\x22\x20+\x20oFrameInfo.timeStamp);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27function\x27:\x20\x22GetFrameData\x22,\x20\x27type\x27:\x20\x22videoType\x22,\x20\x27data\x27:\x20aYUVData.buffer,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27dataLen\x27:\x20aYUVData.length,\x20\x27osd\x27:\x20szOSDTime,\x20\x27frameInfo\x27:\x20oFrameInfo,\x20\x27errorCode\x27:\x20res\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x20[aYUVData.buffer]);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oFrameInfo\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pYUV\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aYUVData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20PLAYM4_VIDEO_FRAME;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20PRIVT_TYPE:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27function\x27:\x20\x22GetFrameData\x22,\x20\x27type\x27:\x20\x22\x22,\x20\x27data\x27:\x20null,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27dataLen\x27:\x20-1,\x20\x27osd\x27:\x200,\x20\x27frameInfo\x27:\x20null,\x20\x27errorCode\x27:\x20PLAYM4_SYS_NOT_SUPPORT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20PLAYM4_SYS_NOT_SUPPORT;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20default:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27function\x27:\x20\x22GetFrameData\x22,\x20\x27type\x27:\x20\x22\x22,\x20\x27data\x27:\x20null,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27dataLen\x27:\x20-1,\x20\x27osd\x27:\x200,\x20\x27frameInfo\x27:\x20null,\x20\x27errorCode\x27:\x20PLAYM4_SYS_NOT_SUPPORT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20PLAYM4_SYS_NOT_SUPPORT;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20errorCode\x20=\x20Module._GetLastError(g_nPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//解码失败返回裸数据\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(PLAYM4_DECODE_ERROR\x20===\x20errorCode)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20rawInfo\x20=\x20Module._GetRawDataInfo();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20pRawData\x20=\x20Module._GetRawDataBuffer();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20aRawData\x20=\x20new\x20Uint8Array(rawInfo.isize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aRawData.set(Module.HEAPU8.subarray(pRawData,\x20pRawData\x20+\x20rawInfo.isize));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27function\x27:\x20\x22GetRawData\x22,\x20\x27type\x27:\x20\x22\x22,\x20\x27data\x27:\x20aRawData.buffer,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27rawDataLen\x27:\x20rawInfo.isize,\x20\x27osd\x27:\x200,\x20\x27frameInfo\x27:\x20null,\x20\x27errorCode\x27:\x20errorCode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rawInfo\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pRawData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aRawData\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//需要更多数据\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(PLAYM4_NEED_MORE_DATA\x20===\x20errorCode\x20||\x20PLAYM4_SYS_NOT_SUPPORT\x20===\x20errorCode\x20||\x20PLAYM4_NEED_NEET_LOOP\x20===\x20errorCode)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20postMessage({\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27function\x27:\x20\x22GetFrameData\x22,\x20\x27type\x27:\x20\x22\x22,\x20\x27data\x27:\x20null,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27dataLen\x27:\x20-1,\x20\x27osd\x27:\x200,\x20\x27frameInfo\x27:\x20null,\x20\x27errorCode\x27:\x20errorCode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20errorCode;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20//\x20开始计算时间\x0a\x20\x20\x20\x20function\x20startTime()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20new\x20Date().getTime();\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20//\x20结束计算时间\x0a\x20\x20\x20\x20function\x20endTime()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20new\x20Date().getTime();\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20//\x20字母字符串转byte数组\x0a\x20\x20\x20\x20function\x20stringToBytes(str)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20ch,\x20st,\x20re\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(var\x20i\x20=\x200;\x20i\x20<\x20str.length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ch\x20=\x20str.charCodeAt(i);\x20\x20//\x20get\x20char\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20st\x20=\x20[];\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20set\x20up\x20\x22stack\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20do\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20st.push(ch\x20&\x200xFF);\x20\x20//\x20push\x20byte\x20to\x20stack\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ch\x20=\x20ch\x20>>\x208;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20shift\x20value\x20down\x20by\x201\x20byte\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20while\x20(ch);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20add\x20stack\x20contents\x20to\x20result\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20done\x20because\x20chars\x20have\x20\x22wrong\x22\x20endianness\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20re\x20=\x20re.concat(st.reverse());\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20an\x20array\x20of\x20bytes\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20re;\x0a\x20\x20\x20\x20}\x0a})();\x0a');};var _0x5c605c=function(){function _0x3719c3(_0x1be8f9,_0x44a8de){for(var _0x1d88a7=0x0;_0x1d88a7<_0x44a8de['length'];_0x1d88a7++){var _0x28e212=_0x44a8de[_0x1d88a7];_0x28e212['enumerable']=_0x28e212['enumerable']||!0x1,_0x28e212['configurable']=!0x0,'value'in _0x28e212&&(_0x28e212['writable']=!0x0),Object['defineProperty'](_0x1be8f9,_0x28e212['key'],_0x28e212);}}return function(_0xe5469b,_0x5aef10,_0x4d008e){return _0x5aef10&&_0x3719c3(_0xe5469b['prototype'],_0x5aef10),_0x4d008e&&_0x3719c3(_0xe5469b,_0x4d008e),_0xe5469b;};}(),_0x328232,_0x8a9ec5=(_0x328232=void 0x0,function(_0x13c09c){return _0x13c09c&&(_0x328232=_0x13c09c),_0x328232;}),_0x5da15e=function(){function _0x46f3e2(){if(function(_0x312639,_0x2a2aeb){if(!(_0x312639 instanceof _0x2a2aeb))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}(this,_0x46f3e2),_0x8a9ec5())return _0x8a9ec5();if(void 0x0!==_0x46f3e2['unique'])return _0x46f3e2['unique'];_0x46f3e2['unique']=this,this['oAudioContext']=null,this['currentVolume']=0x50,this['bSetVolume']=!0x1,this['gainNode']=null,this['iWndNum']=-0x1,this['mVolumes']=new Map();var _0xc58226=window['AudioContext']||window['webkitAudioContext'];this['oAudioContext']=new _0xc58226(),this['writeString']=function(_0x48a910,_0x2125c8,_0x23426d){for(var _0x44a43b=0x0;_0x44a43b<_0x23426d['length'];_0x44a43b++)_0x48a910['setUint8'](_0x2125c8+_0x44a43b,_0x23426d['charCodeAt'](_0x44a43b));},this['setBufferToDataview']=function(_0x258629,_0x3aecc8,_0x4e8750){for(var _0x5f1c05=0x0;_0x5f1c05<_0x4e8750['length'];_0x5f1c05++,_0x3aecc8++)_0x258629['setUint8'](_0x3aecc8,_0x4e8750[_0x5f1c05]);},_0x8a9ec5(this);}return _0x5c605c(_0x46f3e2,[{'key':'Play','value':function(_0x5915a3,_0x139c5f,_0x2569ce){var _0x410f02=new ArrayBuffer(0x2c+_0x139c5f),_0x4ddde2=new DataView(_0x410f02),_0x28aa7f=_0x2569ce['samplesPerSec'],_0x1b9ff7=_0x2569ce['channels'],_0x1c1463=_0x2569ce['bitsPerSample'];this['writeString'](_0x4ddde2,0x0,'RIFF'),_0x4ddde2['setUint32'](0x4,0x20+0x2*_0x139c5f,!0x0),this['writeString'](_0x4ddde2,0x8,'WAVE'),this['writeString'](_0x4ddde2,0xc,'fmt\x20'),_0x4ddde2['setUint32'](0x10,0x10,!0x0),_0x4ddde2['setUint16'](0x14,0x1,!0x0),_0x4ddde2['setUint16'](0x16,_0x1b9ff7,!0x0),_0x4ddde2['setUint32'](0x18,_0x28aa7f,!0x0),_0x4ddde2['setUint32'](0x1c,0x2*_0x28aa7f,!0x0),_0x4ddde2['setUint16'](0x20,_0x1b9ff7*_0x1c1463/0x8,!0x0),_0x4ddde2['setUint16'](0x22,_0x1c1463,!0x0),this['writeString'](_0x4ddde2,0x24,'data'),_0x4ddde2['setUint32'](0x28,_0x139c5f,!0x0),this['setBufferToDataview'](_0x4ddde2,0x2c,_0x5915a3);var _0x5c01ee=this;return this['oAudioContext']['decodeAudioData'](_0x4ddde2['buffer'],function(_0x57ea1f){var _0x1ae9ec=_0x5c01ee['oAudioContext']['createBufferSource']();if(null==_0x1ae9ec)return -0x1;_0x1ae9ec['buffer']=_0x57ea1f,_0x1ae9ec['start'](0x0),(null==_0x5c01ee['gainNode']||_0x5c01ee['bSetVolume'])&&(_0x5c01ee['gainNode']=_0x5c01ee['oAudioContext']['createGain'](),_0x5c01ee['bSetVolume']=!0x1),_0x5c01ee['gainNode']['gain']['value']=_0x5c01ee['currentVolume']/0x64,_0x5c01ee['gainNode']['connect'](_0x5c01ee['oAudioContext']['destination']),_0x1ae9ec['connect'](_0x5c01ee['gainNode']);},function(_0x1edfa7){return console['log']('decode\x20error'),-0x1;}),0x0;}},{'key':'Stop','value':function(){return null!=this['gainNode']&&(this['gainNode']['disconnect'](),this['gainNode']=null),!0x0;}},{'key':'SetVolume','value':function(_0x4e3ca4){return this['bSetVolume']=!0x0,this['currentVolume']=_0x4e3ca4,this['mVolumes']['set'](this['iWndNum'],this['currentVolume']),!0x0;}},{'key':'SetWndNum','value':function(_0x374f4a){this['iWndNum']=_0x374f4a;var _0x278191=this['mVolumes']['get'](_0x374f4a);return null==_0x278191&&(_0x278191=0x50),this['currentVolume']=_0x278191,!0x0;}},{'key':'GetVolume','value':function(){var _0x46a270=this['mVolumes']['get'](this['iWndNum']);return null==_0x46a270&&(_0x46a270=0x50),_0x46a270;}}]),_0x46f3e2;}(),_0x5e695b=0x10,_0x11693f=0x1f,_0x9332a2=0x19,_0x36e6f2=0x5000,_0x4c5532={'width':0x0,'height':0x0,'frameNum':0x0,'yuvData':null},_0x28cfbe={'width':0x0,'height':0x0,'frameNum':0x0,'yuvData':null},_0x5f3604={'sampleRate':0x0,'channel':0x0,'bitsPerSample':0x0,'length':0x0,'pcmData':null},_0x5da755={'id':null,'cmd':null,'data':null,'errorCode':0x0,'status':null},_0x484704=function(){function _0x1561ba(_0x560b86,_0x11d12f,_0x4639f1,_0x21d090){if(_0x162c92(this,_0x1561ba),this['jsplayer']=_0x560b86,null==_0x11d12f||void 0x0===_0x11d12f||'string'!=typeof _0x11d12f)return 0x0;if(this['szBasePath']=_0x11d12f,!_0x4639f1||'function'!=typeof _0x4639f1)return 0x0;this['fnCallBack']=_0x4639f1,this['decodeWorker']=null,this['streamOpenMode']=null,this['bOpenStream']=!0x1,this['audioRenderer']=null,this['aAudioBuffer']=[],this['iAudioBufferSize']=0x0,this['Volume']=0x0,this['oSuperRender']=null,this['aVideoFrameBuffer']=[],this['YUVBufferSize']=0x1,this['szOSDTime']=null,this['bJSPrintLog']=!0x1,this['bWriteYUVData']=!0x1,this['iYUV10size']=0x0,this['aVideoYUVBuffer']=[],this['bWritePCMData']=!0x1,this['iAudioBuffer500Size']=0x0,this['aAudioPCMBuffer']=[],this['bWriteRawData']=!0x1,this['iRawDataSize']=0x0,this['aRawDataBuffer']=[],this['bWriteRTPData']=!0x0,this['iRTPDataSize']=0x0,this['aRTPDataBuffer']=[],this['downloadRTP']=!0x1,this['rtpNum']=0x0,this['bPlaySound']=!0x1,this['bPlay']=!0x1,this['bPause']=!0x1,this['bOnebyOne']=!0x1,this['bPlayRateChange']=!0x1,this['audioNum']=0x0,this['videoNum']=0x0,this['FrameForwardLen']=0x1,this['bOnlyPlaySound']=!0x1,this['bVideoCropInfo']=!0x1,this['dataCallBackFun']=null,this['YUVBufSizeCBFun']=null,this['DecCallBackFun']=null,this['DisplayCallBackFun']=null,this['PCMCallBackFun']=null,this['DecInfoYUV']=_0x4c5532,this['DisplayInfoYUV']=_0x28cfbe,this['DecInfoPCM']=_0x5f3604,this['displayFrameInfo']={},this['frameInfoFlag']=!0x0,this['startTimeStamp']=0x0,this['nWidth']=0x0,this['nHeight']=0x0,this['nSPSCropLeft']=0x0,this['nSPSCropRight']=0x0,this['nSPSCropTop']=0x0,this['nSPSCropBottom']=0x0,this['decCBStream']=0x0,this['sCanvasId']=null,this['aDisplayBuf']=null,this['bVisibility']=!0x0,this['nDecFrameType']=0x0,this['runtimeInfoCBFun']=null,this['firstFrameCB']=null,this['needFirstFrameCB']=!0x1,this['iCanvasWidth']=0x0,this['iCanvasHeight']=0x0,this['iZoomNum']=0x0,this['iRatio_x']=0x1,this['iRatio_y']=0x1,this['stDisplayRect']={'top':0x0,'left':0x0,'right':0x0,'bottom':0x0},this['bDisRect']=!0x1,this['stYUVRect']={'top':0x0,'left':0x0,'right':0x0,'bottom':0x0},this['aInputDataLens']=[],this['aInputDataBuffer']=[],this['bIsGetYUV']=!0x1,this['bIsFirstFrame']=!0x0,this['iInputMaxBufSize']=0x500000,this['bIsInput']=!0x1,this['bIsInputBufOver']=!0x1,this['bIsInputBufWillOver']=!0x1,this['iInputDataLen']=_0x36e6f2;var _0x567c78=this;this['errorCode']=0x1,this['loopNum']=0x0,console['info']('%c1>there\x20will\x20play\x20by\x20V1','color:\x20green'),this['setCallBack']=function(_0x35a021,_0x273850,_0x423955,_0x56b636,_0xa8a665){var _0x38017a=_0x5da755;_0x38017a['id']=_0x21d090,_0x38017a['cmd']=_0x273850,_0x38017a['data']=_0x423955,_0x38017a['errorCode']=_0x56b636,_0x38017a['status']=_0xa8a665,_0x35a021['errorCode']=_0x56b636,_0x35a021['fnCallBack'](_0x38017a);},this['convertErrorCode']=function(_0x171dbe){switch(_0x171dbe){case 0x1:return 0x1;case 0x62:return 0x0;default:return _0x171dbe;}},this['arrayBufferCopy']=function(_0x57e60a){var _0x3cabe3=_0x57e60a['byteLength'],_0x105afa=new Uint8Array(_0x3cabe3),_0x41f820=new Uint8Array(_0x57e60a),_0x245d62=0x0;for(_0x245d62=0x0;_0x245d62<_0x3cabe3;_0x245d62++)_0x105afa[_0x245d62]=_0x41f820[_0x245d62];return _0x105afa;},this['inputDataFun']=function(){var _0x2f9033,_0x1cfc94=0x0;if(_0x567c78['bIsGetYUV']=!0x1,_0x567c78['bIsInputBufOver']||_0x567c78['bIsInputBufWillOver']){_0x2f9033=new Uint8Array(0x1);var _0x1737df={'command':'InputData','data':new Uint8Array(_0x2f9033)['buffer'],'dataSize':0x0};_0x567c78['decodeWorker']['postMessage'](_0x1737df,[_0x1737df['data']]);}else {if(_0x567c78['bPlay']&&(!_0x567c78['bPause']||_0x567c78['bOnebyOne'])||this['bOnlyPlaySound']){for(;_0x567c78['aInputDataLens']['length']>0x0&&!((_0x1cfc94+=_0x567c78['aInputDataLens']['shift']())>_0x567c78['iInputDataLen']););_0x2f9033=_0x567c78['aInputDataBuffer']['splice'](0x0,_0x1cfc94),_0x1737df={'command':'InputData','data':new Uint8Array(_0x2f9033)['buffer'],'dataSize':_0x1cfc94},_0x567c78['decodeWorker']['postMessage'](_0x1737df,[_0x1737df['data']]);}}_0x2f9033=null;},this['getPic']=function(_0xbb037e,_0x6a93e){if(null==this['decodeWorker']||null==this['oSuperRender'])return 0x2;if(!this['bPlay'])return 0x2;if(!_0xbb037e||'function'!=typeof _0xbb037e)return 0x0;if(this['dataCallBackFun']=_0xbb037e,0x0===this['iZoomNum'])this['stYUVRect']['left']=0x0,this['stYUVRect']['top']=0x0,this['stYUVRect']['right']=0x0,this['stYUVRect']['bottom']=0x0;else {if(0x0===this['iCanvasWidth']||0x0===this['iCanvasHeight'])this['stYUVRect']['left']=0x0,this['stYUVRect']['top']=0x0,this['stYUVRect']['right']=0x0,this['stYUVRect']['bottom']=0x0;else {var _0x20d724=this['nWidth']/this['iCanvasWidth'],_0x45328a=this['nHeight']/this['iCanvasHeight'];this['stYUVRect']['left']=Math['round'](this['stDisplayRect']['left']*_0x20d724),this['stYUVRect']['top']=Math['round'](this['stDisplayRect']['top']*_0x45328a),this['stYUVRect']['right']=Math['round'](this['stDisplayRect']['right']*_0x20d724),this['stYUVRect']['bottom']=Math['round'](this['stDisplayRect']['bottom']*_0x45328a);}if(this['stYUVRect']['right']-this['stYUVRect']['left']<0x20||this['stYUVRect']['bottom']-this['stYUVRect']['top']<0x20)return 0x0;}if(null==this['aDisplayBuf'])return 0x2;var _0x32d7ad={'command':_0x6a93e,'data':this['arrayBufferCopy'](this['aDisplayBuf'])['buffer'],'width':this['nWidth'],'height':this['nHeight'],'rect':this['stYUVRect']};return this['decodeWorker']['postMessage'](_0x32d7ad,[_0x32d7ad['data']]),0x1;},this['createWorker']=function(_0xae86ac){if(window['Worker']){if(null==_0xae86ac['decodeWorker']){var _0x2ae938=new Blob([_0x2f56a1(_0xae86ac['szBasePath'])]),_0x56f2d0=URL['createObjectURL'](_0x2ae938);if(this['decodeWorker']=new Worker(_0x56f2d0),_0xae86ac['bJSPrintLog']&&console['log']('>>>JSPlayV1.1\x20createWorker\x20success!'),null==_0xae86ac['decodeWorker'])return 0x3c;}_0xae86ac['decodeWorker']['onmessage']=function(_0x48238e){var _0x3281df=null,_0x50360c=_0x48238e['data'];switch(_0xae86ac['errorCode']=_0x50360c['errorCode'],_0x50360c['function']){case'printLog':console['log']('print\x20JSPlayerSDK\x20log\x20failed');break;case'loaded':_0x3281df='loaded',console['log']('V1\x20Decoder.js\x20loaded\x20path:'+_0xae86ac['szBasePath']),_0xae86ac['setCallBack'](_0xae86ac,'loaded',0x0,0x0,!0x0);break;case'SetStreamOpenMode':_0x3281df='SetStreamOpenMode';break;case'OpenStream':if(_0x3281df='OpenStream',0x1===_0x50360c['errorCode'])return void(_0x567c78['bOpenStream']=!0x0);break;case'InputData':_0x3281df='InputData',0xb===_0x50360c['errorCode']&&(_0x567c78['bIsInputBufOver']=!0x0,console['log']('yff\x20inputBuffer\x20over\x20set\x20key\x20frame\x20\x0a'),0x1!=_0x567c78['nDecFrameType']&&_0x567c78['PlayM4_SetDecodeFrameType'](0x1)),0x24===_0x50360c['errorCode']&&(_0x567c78['bIsInputBufWillOver']=!0x0),_0x50360c['errorCode']===_0x11693f&&(_0x567c78['bIsInputBufOver']=!0x1,_0x567c78['bIsInputBufWillOver']=!0x1,_0x567c78['aInputDataLens']['length']>0x0&&_0x567c78['bIsInput']?(_0x567c78['inputDataFun'](),_0x567c78['bIsInput']=!0x1):_0x567c78['bIsGetYUV']=!0x0);break;case'GetFrameData':if(_0x3281df='GetFrameData',!_0x567c78['bOnlyPlaySound']){if(null!=_0x50360c['data']&&null!=_0x50360c['frameInfo'])_0x50360c['frameInfo']['width'],_0x50360c['frameInfo']['height'];if(!_0x567c78['bPlay'])return;if(_0x567c78['errorCode']=_0x50360c['errorCode'],!(_0x567c78['bIsFirstFrame']||_0x50360c['errorCode']!==_0x11693f&&0x23!==_0x50360c['errorCode'])){_0x50360c['errorCode']===_0x11693f&&(_0x567c78['bIsInputBufOver']=!0x1,_0x567c78['bIsInputBufWillOver']=!0x1),_0x567c78['loopNum']>0x5?(_0x567c78['bIsGetYUV']=!0x0,_0x567c78['loopNum']=0x0):(_0x567c78['inputDataFun'](),_0x567c78['loopNum']++);break;}_0x567c78['bIsInputBufOver']||_0x567c78['bIsInputBufWillOver']?_0x567c78['inputDataFun']():'videoType'===_0x50360c['type']&&(_0x567c78['aInputDataLens']['length']>0x0&&_0x567c78['bIsInput']?(_0x567c78['inputDataFun'](),_0x567c78['bIsInput']=!0x1):_0x567c78['bIsGetYUV']=!0x0,_0x567c78['bIsFirstFrame']=!0x1);}if(_0x567c78['bVisibility']&&0x1===_0x50360c['errorCode'])switch(_0x50360c['type']){case'videoType':if(null==_0x50360c['data']||null==_0x50360c['frameInfo'])return 0x0;null!=_0x567c78['DecCallBackFun']&&(_0x567c78['DecInfoYUV']['port']=0x0,_0x567c78['DecInfoYUV']['iDataType']=0x3,_0x567c78['DecInfoYUV']['height']=_0x50360c['frameInfo']['height'],_0x567c78['DecInfoYUV']['width']=_0x50360c['frameInfo']['width'],_0x567c78['DecInfoYUV']['isize']=_0x50360c['frameInfo']['width']*_0x50360c['frameInfo']['height']*0x3/0x2,_0x567c78['DecInfoYUV']['Data']=new Uint8Array(_0x50360c['data']),_0x567c78['DecCallBackFun'](_0x567c78['DecInfoYUV'])),_0x567c78['bIsFirstFrame']=!0x1,_0xae86ac['nWidth']=_0x50360c['frameInfo']['width'],_0xae86ac['nHeight']=_0x50360c['frameInfo']['height'],_0xae86ac['nSPSCropLeft']=_0x50360c['frameInfo']['cropLeft'],_0xae86ac['nSPSCropRight']=_0x50360c['frameInfo']['cropRight'],_0xae86ac['nSPSCropTop']=_0x50360c['frameInfo']['cropTop'],_0xae86ac['nSPSCropBottom']=_0x50360c['frameInfo']['cropBottom'],_0xae86ac['timeStamp']=_0x50360c['frameInfo']['timeStamp'];var _0x32581c=new Object();if(_0x32581c['data']=_0x50360c['data'],_0x32581c['osdTime']=_0x50360c['frameInfo'],_0x32581c['nWidth']=_0x50360c['frameInfo']['width'],_0x32581c['nHeight']=_0x50360c['frameInfo']['height'],_0x32581c['frameNum']=_0x50360c['frameInfo']['frameNum'],_0x32581c['timeStamp']=_0x50360c['frameInfo']['timeStamp'],_0xae86ac['bWriteYUVData']){for(var _0x2a1038=new Uint8Array(_0x50360c['data']),_0x39c18c=_0xae86ac['aVideoYUVBuffer']['length'],_0x3e8600=0x0,_0x2bcd9b=_0x2a1038['length'];_0x3e8600<_0x2bcd9b;_0x3e8600++)_0xae86ac['aVideoYUVBuffer'][_0x39c18c+_0x3e8600]=_0x2a1038[_0x3e8600];_0xae86ac['iYUV10size']++,_0x2a1038=null;}if(_0xae86ac['bWriteYUVData']&&_0xae86ac['iYUV10size']>=0x14){var _0x4b171b=new Uint8Array(_0xae86ac['aVideoYUVBuffer']);_0xae86ac['downloadFile'](_0x4b171b,'videoYUV.data'),_0xae86ac['aVideoYUVBuffer']['splice'](0x0,_0xae86ac['aVideoYUVBuffer']['length']),_0xae86ac['bWriteYUVData']=!0x1,_0xae86ac['iYUV10size']=0x0,_0x4b171b=null;}if(_0xae86ac['aVideoFrameBuffer']['push'](_0x32581c),_0x32581c=null,_0xae86ac['aVideoFrameBuffer']['length']>0x5&&(_0xae86ac['bOnebyOne']||_0xae86ac['aVideoFrameBuffer']['splice'](0x0,0x2)),_0xae86ac['bOnebyOne']&&_0xae86ac['aVideoFrameBuffer']['length']>=0xf){_0xae86ac['setCallBack'](_0xae86ac,'OnebyOne',0x0,0x0,!0x1),_0xae86ac['bIsFirstFrame']=!0x0;break;}break;case'audioType':if(_0xae86ac['bPlaySound']&&!_0xae86ac['bPlayRateChange']||_0x567c78['bOnlyPlaySound']){null!=_0x567c78['PCMCallBackFun']&&(_0x567c78['DecInfoPCM']['port']=0x0,_0x567c78['DecInfoPCM']['SampleRate']=_0x50360c['frameInfo']['samplesPerSec'],_0x567c78['DecInfoPCM']['channel']=_0x50360c['frameInfo']['channels'],_0x567c78['DecInfoPCM']['bitsPerSample']=_0x50360c['frameInfo']['bitsPerSample'],_0x567c78['DecInfoPCM']['iDataType']=0x65,_0x567c78['DecInfoPCM']['Data']=new Uint8Array(_0x50360c['data']),_0x567c78['DecInfoPCM']['isize']=_0x567c78['DecInfoPCM']['Data']['length'],_0x567c78['PCMCallBackFun'](_0x567c78['DecInfoPCM']));for(_0x2a1038=new Uint8Array(_0x50360c['data']),_0x39c18c=_0xae86ac['aAudioBuffer']['length'],_0x3e8600=0x0,_0x2bcd9b=_0x2a1038['length'];_0x3e8600<_0x2bcd9b;_0x3e8600++)_0xae86ac['aAudioBuffer'][_0x39c18c+_0x3e8600]=_0x2a1038[_0x3e8600];if(_0xae86ac['iAudioBufferSize']++,_0x2a1038=null,_0xae86ac['bWritePCMData']){for(_0x2a1038=new Uint8Array(_0x50360c['data']),_0x39c18c=_0xae86ac['aAudioPCMBuffer']['length'],_0x3e8600=0x0,_0x2bcd9b=_0x2a1038['length'];_0x3e8600<_0x2bcd9b;_0x3e8600++)_0xae86ac['aAudioPCMBuffer'][_0x39c18c+_0x3e8600]=_0x2a1038[_0x3e8600];console['log']('audio_type\x20num:'+_0xae86ac['iAudioBuffer500Size']+',\x20len:'+_0x2a1038['length']),_0xae86ac['iAudioBuffer500Size']++,_0x2a1038=null;}if(_0xae86ac['bWritePCMData']&&_0xae86ac['iAudioBuffer500Size']>=0x64){var _0x57f1aa=new Uint8Array(_0xae86ac['aAudioPCMBuffer']);_0xae86ac['downloadFile'](_0x57f1aa,'audioPCM.data'),_0xae86ac['aAudioPCMBuffer']['splice'](0x0,_0xae86ac['aAudioPCMBuffer']['length']),_0xae86ac['bWritePCMData']=!0x1,_0xae86ac['iAudioBuffer500Size']=0x0,_0x57f1aa=null;}_0xae86ac['iAudioBufferSize']>=_0x9332a2&&(_0xae86ac['audioRenderer']['Play'](_0xae86ac['aAudioBuffer'],_0xae86ac['aAudioBuffer']['length'],_0x50360c['frameInfo']),_0xae86ac['aAudioBuffer']['splice'](0x0,_0xae86ac['aAudioBuffer']['length']),_0xae86ac['aAudioBuffer']['length']=0x0,_0xae86ac['iAudioBufferSize']=0x0);}}break;case'GetRawData':if(_0x3281df='GetRawData',_0xae86ac['bWriteRawData']){var _0x2be9b9=new Uint8Array(_0x50360c['data']),_0x399aa8=_0xae86ac['aRawDataBuffer']['length'];for(_0x3e8600=0x0,_0x2bcd9b=_0x2be9b9['length'];_0x3e8600<_0x2bcd9b;_0x3e8600++)_0xae86ac['aRawDataBuffer'][_0x399aa8+_0x3e8600]=_0x2be9b9[_0x3e8600];_0xae86ac['iRawDataSize']++,_0x2be9b9=null;}if(_0xae86ac['bWriteRawData']&&_0xae86ac['iRawDataSize']>=0x64){var _0xa066c6=new Uint8Array(_0xae86ac['aRawDataBuffer']);_0xae86ac['downloadFile'](_0xa066c6,'rawBuffer.data'),_0xae86ac['aRawDataBuffer']['splice'](0x0,_0xae86ac['aRawDataBuffer']['length']),_0xae86ac['bWriteRawData']=!0x1,_0xae86ac['iRawDataSize']=0x0,_0xa066c6=null;}break;case'PlaySound':_0x3281df='PlaySound';break;case'GetJPEG':if(_0x3281df='GetJPEG',0x1!==_0x50360c['errorCode'])return void console['log']('GetJPEG\x20ErrorParam');var _0x15dc43=_0x50360c['data'];_0xae86ac['dataCallBackFun'](_0x15dc43,_0x15dc43['length']);break;case'GetBMP':if(_0x3281df='GetBMP',0x1!==_0x50360c['errorCode'])return void console['log']('GetBMP\x20ErrorParam');var _0x21c357=_0x50360c['data'];_0xae86ac['dataCallBackFun'](_0x21c357,_0x21c357['length']);break;case'RunTimeInfoCallBack':_0x3281df='RunTimeInfoCallBack';var _0x2ab309=_0x50360c['nRunTimeModule'],_0x3b1705=_0x50360c['nStrVersion'],_0x49588c=_0x50360c['nFrameTimeStamp'],_0x331da0=_0x50360c['nFrameNum'],_0x4f2805=_0x50360c['nErrorCode'];null!=_0xae86ac['runtimeInfoCBFun']&&_0xae86ac['runtimeInfoCBFun'](_0x2ab309,_0x3b1705,_0x49588c,_0x331da0,_0x4f2805);}'GetFrameData'!==_0x3281df&&'loaded'!==_0x3281df?_0xae86ac['setCallBack'](_0xae86ac,_0x3281df,0x0,_0xae86ac['convertErrorCode'](_0x50360c['errorCode']),!0x0):_0x5e695b!==_0x50360c['errorCode']&&0x65!==_0x50360c['errorCode']&&0x64!==_0x50360c['errorCode']&&0x30!==_0x50360c['errorCode']||_0xae86ac['setCallBack'](_0xae86ac,_0x3281df,0x0,_0xae86ac['convertErrorCode'](_0x50360c['errorCode']),!0x0);};}},this['createWorker'](_0x567c78),this['draw']=function(){if(_0x567c78['bPlay']){if(_0x567c78['needFirstFrameCB']&&null!=_0x567c78['firstFrameCB']&&(_0x567c78['firstFrameCB'](),_0x567c78['needFirstFrameCB']=!0x1),!_0x567c78['bPause']||_0x567c78['bOnebyOne']){requestAnimationFrame(_0x567c78['draw']);var _0xc78b68=_0x567c78['aVideoFrameBuffer']['length'];if(null!=_0x567c78['YUVBufSizeCBFun']&&_0x567c78['YUVBufSizeCBFun'](_0xc78b68),_0x567c78['bOnebyOne']){if(_0xc78b68<=0x8&&_0x567c78['setCallBack'](_0x567c78,'OnebyOne',0x0,_0x11693f,!0x0),_0xc78b68<=_0x567c78['FrameForwardLen']+0x1)return void _0x567c78['setCallBack'](_0x567c78,'OnebyOne',0x0,_0x11693f,!0x0);for(var _0x422640=_0x567c78['FrameForwardLen'];_0x422640>0x1;){_0x567c78['aVideoFrameBuffer']['shift'](),_0x422640--;}_0x567c78['bOnebyOne']=!0x1;}if(_0xc78b68>0x0){var _0x36b4de=_0x567c78['aVideoFrameBuffer']['shift'](),_0x3c1026={};_0x3c1026['nCropLeft']=_0x567c78['nSPSCropLeft'],_0x3c1026['nCropRight']=_0x567c78['nSPSCropRight'],_0x3c1026['nCropTop']=_0x567c78['nSPSCropTop'],_0x3c1026['nCropBottom']=_0x567c78['nSPSCropBottom'],_0x3c1026['nCodeWidth']=_0x36b4de['nWidth'],_0x3c1026['nCodeHeight']=_0x36b4de['nHeight'],_0x567c78['aDisplayBuf']=_0x36b4de['data'];var _0x198012=new Uint8Array(_0x567c78['aDisplayBuf']);_0x567c78['bVideoCropInfo']?_0x567c78['oSuperRender']['DisplayFrame'](_0x198012,_0x36b4de['nWidth']-_0x567c78['nSPSCropLeft']-_0x567c78['nSPSCropRight'],_0x36b4de['nHeight']-_0x567c78['nSPSCropTop']-_0x567c78['nSPSCropBottom'],_0x36b4de['timeStamp'],_0x3c1026,null):_0x567c78['oSuperRender']['DisplayFrame'](_0x198012,_0x36b4de['nWidth'],_0x36b4de['nHeight'],_0x36b4de['timeStamp'],_0x3c1026,null),null!=_0x567c78['DisplayCallBackFun']&&(_0x567c78['DisplayInfoYUV']['height']=_0x36b4de['nHeight'],_0x567c78['DisplayInfoYUV']['width']=_0x36b4de['nWidth'],_0x567c78['DisplayInfoYUV']['iSize']=_0x567c78['DisplayInfoYUV']['height']*_0x567c78['DisplayInfoYUV']['width']*0x3/0x2,_0x567c78['DisplayInfoYUV']['frameNum']=_0x36b4de['frameNum'],_0x567c78['DisplayInfoYUV']['timeStamp']=_0x36b4de['timeStamp'],_0x567c78['DisplayInfoYUV']['yuvData']=new Uint8Array(_0x198012),_0x567c78['DisplayCallBackFun'](_0x567c78['DisplayInfoYUV'])),_0x567c78['frameInfoFlag']&&(_0x567c78['displayFrameInfo']['codecType']=0x0,_0x567c78['displayFrameInfo']['frameType']=0x0,_0x567c78['displayFrameInfo']['frameSize']=0x0,_0x567c78['displayFrameInfo']['width']=_0x36b4de['nWidth'],_0x567c78['displayFrameInfo']['height']=_0x36b4de['nHeight'],_0x567c78['displayFrameInfo']['timeStamp']=_0x36b4de['timeStamp'],_0x567c78['displayFrameInfo']['frameRate']=0x0,_0x567c78['displayFrameInfo']['frameNum']=_0x36b4de['frameNum'],_0x567c78['displayFrameInfo']['interlace']=0x0,_0x567c78['displayFrameInfo']['streamEnd']=0x0,_0x567c78['displayFrameInfo']['cropLeft']=_0x567c78['nSPSCropLeft'],_0x567c78['displayFrameInfo']['cropRight']=_0x567c78['nSPSCropRight'],_0x567c78['displayFrameInfo']['cropTop']=_0x567c78['nSPSCropTop'],_0x567c78['displayFrameInfo']['cropBottom']=_0x567c78['nSPSCropBottom'],_0x567c78['displayFrameInfo']['year']=_0x36b4de['osdTime']['year'],_0x567c78['displayFrameInfo']['month']=_0x36b4de['osdTime']['month'],_0x567c78['displayFrameInfo']['week']=0x0,_0x567c78['displayFrameInfo']['day']=_0x36b4de['osdTime']['day'],_0x567c78['displayFrameInfo']['hour']=_0x36b4de['osdTime']['hour'],_0x567c78['displayFrameInfo']['minute']=_0x36b4de['osdTime']['minute'],_0x567c78['displayFrameInfo']['second']=_0x36b4de['osdTime']['second'],_0x567c78['displayFrameInfo']['milliseconds']=_0x36b4de['osdTime']['misecond']),0x0==_0x567c78['startTimeStamp']&&(_0x567c78['startTimeStamp']=_0x36b4de['timeStamp']),_0x198012=null;var _0x163d6d=_0x36b4de['osdTime']['year'],_0x55f0f6=_0x36b4de['osdTime']['month'],_0x4ebb30=_0x36b4de['osdTime']['day'],_0x4580be=_0x36b4de['osdTime']['hour'],_0x2101a4=_0x36b4de['osdTime']['minute'],_0x23c8c4=_0x36b4de['osdTime']['second'];_0x567c78['szOSDTime']=_0x163d6d+'-'+_0x55f0f6+'-'+_0x4ebb30+'\x20'+_0x4580be+':'+_0x2101a4+':'+_0x23c8c4,_0x36b4de=null;}else _0x567c78['setCallBack'](_0x567c78,'Play',0x0,_0x11693f,!0x0);}}else _0x567c78['bPlay']||(_0x567c78['aVideoFrameBuffer']['splice'](0x0,_0x567c78['aVideoFrameBuffer']['length']),_0x567c78['aAudioBuffer']['splice'](0x0,_0x567c78['aAudioBuffer']['length']));};}return _0x5ab2cc(_0x1561ba,[{'key':'PlayM4_SetCurrentFrameNum','value':function(_0x1071d0,_0x29d488){return _0x5e695b;}},{'key':'PlayM4_OpenPlayerSDKPrintLog','value':function(_0xb407f8){return !0x0===_0xb407f8?(this['bJSPrintLog']=!0x0,this['decodeWorker']['postMessage']({'command':'printLog','data':_0xb407f8})):(this['bJSPrintLog']=!0x1,this['decodeWorker']['postMessage']({'command':'printLog','data':_0xb407f8})),0x1;}},{'key':'PlayM4_DownloadYUVdata','value':function(){return this['bWriteYUVData']=!0x0,0x1;}},{'key':'PlayM4_DownloadPCMdata','value':function(){return this['bWritePCMData']=!0x0,0x1;}},{'key':'PlayM4_SetDecCallBack','value':function(_0x2214fd,_0xfeffae){return _0x2214fd?(0x1==this['decCBStream']&&(this['DecCallBackFun']=_0xfeffae),0x2==this['decCBStream']&&(this['PCMCallBackFun']=_0xfeffae),0x3==this['decCBStream']&&(this['PCMCallBackFun']=_0xfeffae,this['DecCallBackFun']=_0xfeffae)):(0x1==this['decCBStream']&&(this['DecCallBackFun']=null),0x2==this['decCBStream']&&(this['PCMCallBackFun']=null),0x3==this['decCBStream']&&(this['PCMCallBackFun']=null,this['DecCallBackFun']=null)),0x1;}},{'key':'PlayM4_SetDisplayCallBack','value':function(_0x36b63e){return _0x36b63e&&'function'==typeof _0x36b63e?(this['DisplayCallBackFun']=_0x36b63e,0x1):0x0;}},{'key':'PlayM4_SetPCMCallBack','value':function(_0x4a130f){return _0x4a130f&&'function'==typeof _0x4a130f?(this['PCMCallBackFun']=_0x4a130f,0x1):0x0;}},{'key':'PlayM4_SetStreamOpenMode','value':function(_0x2be205){return null==_0x2be205||void 0x0===_0x2be205||0x0!==_0x2be205&&0x1!==_0x2be205?0x0:(this['streamOpenMode']=_0x2be205,0x1);}},{'key':'PlayM4_DownloadRTPData','value':function(_0x4db319){this['downloadRTP']=_0x4db319;}},{'key':'PlayM4_SetVideoCropInfo','value':function(_0x53bb38){return null==_0x53bb38||void 0x0===_0x53bb38||'boolean'!=typeof _0x53bb38?0x0:(this['bVideoCropInfo']=_0x53bb38,0x1);}},{'key':'PlayM4_OpenStream','value':function(_0x27d6a1,_0x24dbe0,_0x382301){return this['bJSPrintLog']&&console['log']('>>>JS\x20PlayM4_OpenStream\x20nSysTime:'+(new Date()['getMonth']()+0x1)+'-'+new Date()['getDate']()+'\x20'+new Date()['getHours']()+':'+new Date()['getMinutes']()+':'+new Date()['getSeconds']()+'.'+new Date()['getMilliseconds']()),null==this['decodeWorker']?0x2:null==_0x27d6a1||_0x24dbe0<=0x0||_0x382301<=0x0?0x0:(this['bPlay']=!0x1,this['bPause']=!0x1,this['bOnebyOne']=!0x1,this['bIsFirstFrame']=!0x0,this['bIsGetYUV']=!0x1,this['bIsInput']=!0x1,0x4===_0x27d6a1[0x8]&&0x0===_0x27d6a1[0x9]?this['streamOpenMode']=0x0:this['streamOpenMode']=0x1,this['decodeWorker']['postMessage']({'command':'SetStreamOpenMode','data':this['streamOpenMode']}),this['decodeWorker']['postMessage']({'command':'OpenStream','data':_0x27d6a1,'dataSize':_0x24dbe0,'bufPoolSize':_0x382301}),this['bOpenStream']=!0x0,0x1);}},{'key':'PlayM4_CloseStream','value':function(){return null===this['decodeWorker']?0x1:null===this['decodeWorker']||!0x1===this['bOpenStream']?0x2:(this['bOnlyPlaySound']=!0x1,this['decodeWorker']['postMessage']({'command':'CloseStream'}),null!==this['oSuperRender']&&(this['oSuperRender']['ReleaseDisplay'](),this['oSuperRender']=null),null!==this['audioRenderer']&&(this['audioRenderer']['Stop'](),this['audioRenderer']=null),this['aAudioBuffer']['splice'](0x0,this['aAudioBuffer']['length']),this['aVideoFrameBuffer']['splice'](0x0,this['aVideoFrameBuffer']['length']),this['aInputDataBuffer']['splice'](0x0,this['aInputDataBuffer']['length']),this['aInputDataLens']['splice'](0x0,this['aInputDataLens']['length']),this['aVideoYUVBuffer']['splice'](0x0,this['aVideoYUVBuffer']['length']),this['aAudioPCMBuffer']['splice'](0x0,this['aAudioPCMBuffer']['length']),this['aRawDataBuffer']['splice'](0x0,this['aRawDataBuffer']['length']),this['bOpenStream']=!0x1,this['iAudioBufferSize']=0x0,this['szOSDTime']=null,this['startTimeStamp'],0x1);}},{'key':'PlayM4_Destroy','value':function(){return null===this['decodeWorker']||(this['PlayM4_CloseStream'](),this['decodeWorker']['terminate'](),this['decodeWorker']=null),0x1;}},{'key':'PlayM4_FreePort','value':function(){return this['decodeWorker']['terminate'](),this['decodeWorker']=null,0x1;}},{'key':'PlayM4_InputData','value':function(_0x1f6272,_0x4ed6fc){var _0x31222a=this['aInputDataBuffer']['length'];if(0x4===_0x4ed6fc){var _0x1f560c=new Uint8Array(_0x1f6272['buffer']);if(0x1===_0x1f560c[0x0]&&0x2===_0x1f560c[0x1]&&0x3===_0x1f560c[0x2]&&0x4===_0x1f560c[0x3])return this['bIsFirstFrame']||this['bIsGetYUV']?this['inputDataFun']():this['bIsInput']=!0x0,_0x1f560c=null,0x1;}if(_0x31222a+_0x4ed6fc>this['iInputMaxBufSize'])return console['log']('input\x20over'),this['bIsGetYUV']?this['inputDataFun']():this['bIsInput']=!0x0,0xb;var _0x98acac=null,_0x97e655=_0x4ed6fc;switch(this['streamOpenMode']){case 0x1:_0x98acac=new Uint8Array(_0x1f6272['buffer']),this['aInputDataLens']['push'](_0x4ed6fc);break;case 0x0:_0x97e655=_0x4ed6fc+0x4;var _0x5afcaf=new Uint32Array([_0x4ed6fc]),_0x5ee48f=new Uint8Array(_0x5afcaf['buffer']);(_0x98acac=new Uint8Array(_0x97e655))['set'](_0x5ee48f,0x0),_0x98acac['set'](_0x1f6272,0x4),_0x5afcaf=null,_0x5ee48f=null,this['aInputDataLens']['push'](_0x4ed6fc+0x4);break;default:return _0x5e695b;}for(var _0x17851c=0x0;_0x17851c<_0x97e655;_0x17851c++)this['aInputDataBuffer'][_0x31222a+_0x17851c]=_0x98acac[_0x17851c];return !this['bPlay']&&!this['bOnlyPlaySound']||null===this['decodeWorker']||!0x1===this['bOpenStream']||(_0x98acac=null,this['bOnlyPlaySound']||this['bIsFirstFrame']||this['bIsGetYUV']?this['inputDataFun']():this['bIsInput']=!0x0),0x1;}},{'key':'PlayM4_Play','value':function(_0x43c0d6){if(null===this['decodeWorker'])return 0x2;if(this['bJSPrintLog']&&console['log']('>>>JS\x20PlayM4_Play\x20canvasID:\x20'+_0x43c0d6),null===_0x43c0d6)this['bOnlyPlaySound']=!0x0,this['decodeWorker']['postMessage']({'command':'OnlyPlaySound'}),this['sCanvasId']=null;else {if('string'!=typeof _0x43c0d6)return 0x0;if(this['bOnebyOne']&&(this['bPlayRateChange']=!0x1,this['bOnebyOne']=!0x1,this['bPause']=!0x1,this['draw']()),this['bPlay'])return 0x1;if(null==this['oSuperRender']&&(this['canvasCnv']=document['getElementById'](_0x43c0d6),this['oSuperRender']=new _0x3371ec(),this['oSuperRender']['InitDisplay'](this['canvasCnv'],'webgl',0x1),null==this['oSuperRender']))return 0x3d;this['sCanvasId']=_0x43c0d6,this['bPlay']=!0x0,this['bPause']=!0x1,this['bOnebyOne']=!0x1,this['bPlayRateChange']=!0x1,this['bOnlyPlaySound']=!0x1,this['draw']();}return null==this['audioRenderer']&&(this['audioRenderer']=new _0x5da15e(),null==this['audioRenderer'])?0x3d:(this['decodeWorker']['postMessage']({'command':'Play'}),0x1);}},{'key':'PlayM4_Stop','value':function(_0x99a76a){if(!0x0===this['bJSPrintLog']&&console['log']('>>>>yff1020>>>>>\x20V1\x20PlayM4_Stop'),null==this['decodeWorker']||null==this['oSuperRender'])return 0x2;if(!this['bPlay'])return 0x2;this['bPlaySound']&&(this['PlayM4_StopSound'](),this['bPlaySound']=!0x0),this['bPlay']=!0x1,this['bOnebyOne']=!0x1,this['bPause']=!0x1,this['oSuperRender']['SetDisplayRect'](0x0,0x0,this['nWidth'],this['nHeight']),this['iZoomNum']=0x0,this['bDisRect']=!0x1;var _0x2dbb74={};_0x2dbb74['nCropLeft']=this['nSPSCropLeft'],_0x2dbb74['nCropRight']=this['nSPSCropRight'],_0x2dbb74['nCropTop']=this['nSPSCropTop'],_0x2dbb74['nCropBottom']=this['nSPSCropBottom'],_0x2dbb74['nCodeWidth']=this['nWidth'],_0x2dbb74['nCodeHeight']=this['nHeight'],this['bVideoCropInfo']?this['oSuperRender']['DisplayFrame'](null,this['nWidth']-this['nSPSCropLeft']-this['nSPSCropRight'],this['nHeight']-this['nSPSCropTop']-this['nSPSCropBottom'],this['timeStamp'],_0x2dbb74,null):this['oSuperRender']['DisplayFrame'](null,this['nWidth'],this['nHeight'],this['timeStamp'],_0x2dbb74,null);var _0x39f809=document['getElementById'](this['sCanvasId']);return _0x39f809&&(this['clonedCanvas']=_0x39f809['cloneNode'](!0x0),this['clonedCanvasParentNode']=_0x39f809['parentNode'],this['clonedCanvasParentNode']['replaceChild'](this['clonedCanvas'],_0x39f809)),0x1;}},{'key':'PlayM4_PlayRate','value':function(_0x2df30b){return null==this['decodeWorker']?0x2:(this['bPlayRateChange']=0x1!==_0x2df30b,_0x2df30b<0x1&&(_0x2df30b=0x1),this['iInputDataLen']=_0x2df30b*_0x36e6f2,this['decodeWorker']['postMessage']({'command':'PlayRate','playRate':_0x2df30b}),0x1);}},{'key':'PlayM4_Pause','value':function(_0x68b98){return null==this['decodeWorker']||null==this['oSuperRender']?0x2:this['bPlay']?this['bOnebyOne']||this['bPause']==_0x68b98?0x2:(this['bPause']=_0x68b98,this['bIsFirstFrame']=!0x0,_0x68b98?this['bPlaySound']&&(this['PlayM4_StopSound'](),this['bPlaySound']=!0x0):(this['bPlaySound']&&this['PlayM4_PlaySound'](),this['draw']()),0x1):0x2;}},{'key':'PlayM4_OneByOne','value':function(_0x131196){return null==this['decodeWorker']||null==this['oSuperRender']?0x2:this['bPlay']?_0x131196>0xa||_0x131196<=0x0?0x0:(_0x131196||(_0x131196=0x1),this['iInputDataLen']=_0x36e6f2,this['FrameForwardLen']=_0x131196,this['bPause']=!0x0,this['bOnebyOne']=!0x0,this['bIsFirstFrame']=!0x0,this['draw'](),0x1):0x2;}},{'key':'PlayM4_PlaySound','value':function(_0x4b7b23){return null===this['decodeWorker']||!0x1===this['bOpenStream']?0x2:_0x4b7b23<0x0||_0x4b7b23>0x10?0x0:null==this['audioRenderer']&&(this['audioRenderer']=new _0x5da15e(),null==this['audioRenderer'])?0x3d:(this['decodeWorker']['postMessage']({'command':'PlaySound'}),this['audioRenderer']['SetWndNum'](_0x4b7b23),0x0!==this['Volume']&&this['audioRenderer']['SetVolume'](this['Volume']),this['audioRenderer']['oAudioContext']['resume'](),this['bPlaySound']=!0x0,0x1);}},{'key':'PlayM4_StopSound','value':function(){return null==this['decodeWorker']||null==this['audioRenderer']?0x2:this['bPlaySound']?(this['decodeWorker']['postMessage']({'command':'StopSound'}),this['bPlaySound']=!0x1,0x1):0x2;}},{'key':'PlayM4_SetDisplayBuf','value':function(_0x587ac7){return null==this['decodeWorker']?0x2:_0x587ac7<=0x0?0x0:(this['YUVBufferSize']=_0x587ac7,0x1);}},{'key':'PlayM4_SetSecretKey','value':function(_0x19ed4d,_0xe4ec33,_0xe750a8){if(null==this['decodeWorker']||!0x1===this['bOpenStream'])return 0x2;if(null==_0xe4ec33)return 0x0;if(0x1===_0x19ed4d){if(0x80!==_0xe750a8)return 0x0;if(null==_0xe4ec33||void 0x0===_0xe4ec33)return 0x0;}else {if(0x0!==_0x19ed4d)return 0x0;}return this['decodeWorker']['postMessage']({'command':'SetSecretKey','data':_0xe4ec33,'nKeyType':_0x19ed4d,'nKeyLen':_0xe750a8}),0x1;}},{'key':'PlayM4_SetDecodeFrameType','value':function(_0x3b9f6f){return console['log']('PlayM4_SetDecodeFrameType\x20nFrameType:'+_0x3b9f6f),null==this['decodeWorker']||null==this['oSuperRender']?0x2:0x0!==_0x3b9f6f&&0x1!==_0x3b9f6f?0x0:(this['bJSPrintLog']&&console['log']('>>>JS\x20PlayM4_SetDecodeFrameType\x20:'+_0x3b9f6f),this['nDecFrameType']=_0x3b9f6f,this['decodeWorker']['postMessage']({'command':'SetDecodeFrameType','data':_0x3b9f6f}),0x1);}},{'key':'PlayM4_SetIFrameDecInterval','value':function(_0x1b84aa){return 0x1!==this['nDecFrameType']?0x2:_0x1b84aa<0x0?0x0:(this['decodeWorker']['postMessage']({'command':'SetIFrameDecInterval','data':_0x1b84aa}),0x1);}},{'key':'PlayM4_SetLostFrameMode','value':function(_0x3ea811){return _0x3ea811<0x0||_0x3ea811>0x1?0x0:(this['decodeWorker']['postMessage']({'command':'SetLostFrameMode','data':_0x3ea811}),0x1);}},{'key':'PlayM4_SetDisplayRegion','value':function(_0x14fd37,_0x531d44,_0x4c895){if(!0x0===this['bJSPrintLog']&&console['log']('>>>>yff1020>>>>>\x20PlayM4_SetDisplayRegion\x20left:'+_0x14fd37['left']+',top:'+_0x14fd37['top']+',right:'+_0x14fd37['right']+',bottom:'+_0x14fd37['bottom']),null===this['decodeWorker']||!0x1===this['bPlay']||null===this['oSuperRender'])return 0x2;if(null===this['canvasId'])return 0x2;if(!0x0===_0x531d44){if(null==_0x14fd37)return 0x0;if('number'!=typeof _0x14fd37['left']||'number'!=typeof _0x14fd37['top']||'number'!=typeof _0x14fd37['right']||'number'!=typeof _0x14fd37['bottom'])return 0x0;if(_0x14fd37['right']<0x0||_0x14fd37['left']<0x0||_0x14fd37['top']<0x0||_0x14fd37['bottom']<0x0)return 0x0;var _0x29c43c=_0x14fd37['left'],_0x4d373d=_0x14fd37['right'],_0x6e6370=_0x14fd37['top'],_0x5cd7fa=_0x14fd37['bottom'],_0x2cc023=document['getElementById'](this['sCanvasId'])['getBoundingClientRect']();if(this['iCanvasWidth']=_0x2cc023['width'],this['iCanvasHeight']=_0x2cc023['height'],_0x4d373d-_0x29c43c<0x10||_0x5cd7fa-_0x6e6370<0x10||_0x4d373d-_0x29c43c>this['iCanvasWidth']||_0x5cd7fa-_0x6e6370>this['iCanvasHeight'])return 0x0;0x0!==this['iZoomNum']&&(_0x29c43c=Math['round'](_0x29c43c/this['iRatio_x'])+this['stDisplayRect']['left'],_0x6e6370=Math['round'](_0x6e6370/this['iRatio_y'])+this['stDisplayRect']['top'],_0x4d373d=Math['round'](_0x4d373d/this['iRatio_x'])+this['stDisplayRect']['left'],_0x5cd7fa=Math['round'](_0x5cd7fa/this['iRatio_y'])+this['stDisplayRect']['top']),this['stDisplayRect']={'top':_0x6e6370,'left':_0x29c43c,'right':_0x4d373d,'bottom':_0x5cd7fa};var _0x464344=_0x5cd7fa/this['iCanvasHeight']*this['nHeight'],_0x2adfab=_0x29c43c/this['iCanvasWidth']*this['nWidth'],_0x591001=_0x4d373d/this['iCanvasWidth']*this['nWidth'],_0x463389=_0x6e6370/this['iCanvasHeight']*this['nHeight'];this['oSuperRender']['SetDisplayRect'](_0x2adfab,_0x463389,_0x591001-_0x2adfab,_0x464344-_0x463389),this['bDisRect']=!0x0;var _0x36b2e3=_0x4d373d-_0x29c43c,_0xa63ffb=_0x5cd7fa-_0x6e6370;this['iRatio_x']=this['iCanvasWidth']/_0x36b2e3,this['iRatio_y']=this['iCanvasHeight']/_0xa63ffb,_0x4c895&&this['iZoomNum']++;}else this['oSuperRender']['SetDisplayRect'](0x0,0x0,this['nWidth'],this['nHeight']),this['iZoomNum']=0x0,this['bDisRect']=!0x1;if(this['bPause']||this['bOnebyOne']||this['bPlayRateChange']){var _0x18d40f={};_0x18d40f['nCropLeft']=this['nSPSCropLeft'],_0x18d40f['nCropRight']=this['nSPSCropRight'],_0x18d40f['nCropTop']=this['nSPSCropTop'],_0x18d40f['nCropBottom']=this['nSPSCropBottom'],_0x18d40f['nCodeWidth']=this['nWidth'],_0x18d40f['nCodeHeight']=this['nHeight'],this['bVideoCropInfo']?this['oSuperRender']['DisplayFrame'](new Uint8Array(this['aDisplayBuf']),this['nWidth']-this['nSPSCropLeft']-this['nSPSCropRight'],this['nHeight']-this['nSPSCropTop']-this['nSPSCropBottom'],this['timeStamp'],_0x18d40f,null):this['oSuperRender']['DisplayFrame'](new Uint8Array(this['aDisplayBuf']),this['nWidth'],this['nHeight'],this['timeStamp'],_0x18d40f,null);}return 0x1;}},{'key':'PlayM4_GetBMP','value':function(_0x35f466){return this['getPic'](_0x35f466,'GetBMP');}},{'key':'PlayM4_GetJPEG','value':function(_0x56d5cd){return this['getPic'](_0x56d5cd,'GetJPEG');}},{'key':'PlayM4_SetVolume','value':function(_0x4ecd4a){return null==this['decodeWorker']||null==this['audioRenderer']?0x2:_0x4ecd4a<0x0||_0x4ecd4a>0x64||''===_0x4ecd4a?0x0:(this['Volume']=_0x4ecd4a,this['audioRenderer']['SetVolume'](_0x4ecd4a),0x1);}},{'key':'PlayM4_GetVolume','value':function(_0x2d04af){if(null==this['decodeWorker'])return 0x2;if(null==this['audioRenderer'])return 0x2;if(_0x2d04af&&'function'==typeof _0x2d04af){var _0x55660d=this['audioRenderer']['GetVolume']();return null===_0x55660d?0x3f:(_0x2d04af(_0x55660d),0x1);}return 0x0;}},{'key':'PlayM4_GetOSDTime','value':function(_0x114f31){return null==this['decodeWorker']?0x2:this['bPlay']?_0x114f31&&'function'==typeof _0x114f31?(_0x114f31(this['szOSDTime']),0x1):0x0:0x2;}},{'key':'PlayM4_SetFrameInfoCallBack','value':function(_0x4ca2f4){return this['frameInfoFlag']=!!_0x4ca2f4,0x1;}},{'key':'PlayM4_GetFrameInfo','value':function(){return this['displayFrameInfo'];}},{'key':'PlayM4_IsVisible','value':function(_0x1a47ff){return this['bVisibility']=_0x1a47ff,0x1;}},{'key':'PlayM4_GetSdkVersion','value':function(){return '07040007';}},{'key':'PlayM4_GetBuildDate','value':function(){return '20231219';}},{'key':'PlayM4_GetInputBufSize','value':function(){return this['aInputDataBuffer']['length'];}},{'key':'PlayM4_SetInputBufSize','value':function(_0x41dfee){return _0x41dfee>0x0?(this['iInputMaxBufSize']=_0x41dfee,console['log']('>>JSBufferSize\x20SetInputBufSize:'+this['iInputMaxBufSize']),0x1):0x0;}},{'key':'PlayM4_GetYUVBufSize','value':function(){return this['aVideoFrameBuffer']['length'];}},{'key':'PlayM4_GetFrameResolution','value':function(_0x47a899){return null==this['decodeWorker']?0x2:_0x47a899&&'function'==typeof _0x47a899?(_0x47a899(this['nWidth'],this['nHeight']),0x1):0x0;}},{'key':'PlayM4_RegisterYUVBufSizeCB','value':function(_0x5b8197){return _0x5b8197&&'function'==typeof _0x5b8197?(this['YUVBufSizeCBFun']=_0x5b8197,0x1):0x0;}},{'key':'PlayM4_UnRegisterYUVBufSizeCB','value':function(){return null!=this['YUVBufSizeCBFun']&&(this['YUVBufSizeCBFun']=null),0x1;}},{'key':'PlayM4_ClearCanvas','value':function(){if(null==this['oSuperRender'])return 0x2;var _0x1900b9={};return _0x1900b9['nCropLeft']=this['nSPSCropLeft'],_0x1900b9['nCropRight']=this['nSPSCropRight'],_0x1900b9['nCropTop']=this['nSPSCropTop'],_0x1900b9['nCropBottom']=this['nSPSCropBottom'],_0x1900b9['nCodeWidth']=this['nWidth'],_0x1900b9['nCodeHeight']=this['nHeight'],this['bVideoCropInfo']?this['oSuperRender']['DisplayFrame'](null,this['nWidth']-this['nSPSCropLeft']-this['nSPSCropRight'],this['nHeight']-this['nSPSCropTop']-this['nSPSCropBottom'],this['timeStamp'],_0x1900b9,null):this['oSuperRender']['DisplayFrame'](null,this['nWidth'],this['nHeight'],this['timeStamp'],_0x1900b9,null),0x1;}},{'key':'PlayM4_ReleaseInputBuffer','value':function(){return null===this['aInputDataBuffer']?0x2:(this['aInputDataBuffer']['splice'](0x0,this['aInputDataBuffer']['length']),this['aInputDataLens']['splice'](0x0,this['aInputDataLens']['length']),0x1);}},{'key':'PlayM4_GetDecodeFrameType','value':function(){return this['nDecFrameType'];}},{'key':'PlayM4_SetRunTimeInfoCallBackEx','value':function(_0x419350,_0x2d69c7){return this['runtimeInfoCBFun']=_0x2d69c7,null==this['decodeWorker']?0x2:(this['decodeWorker']['postMessage']({'command':'SetRunTimeInfoCB','nModuleType':_0x419350}),0x1);}},{'key':'PlayM4_SetDemuxModel','value':function(_0x55076a,_0x1eab7e){return null==this['decodeWorker']?0x2:(this['decodeWorker']['postMessage']({'command':'SetDemuxModel','nIdemuxType':_0x55076a,'bTrue':_0x1eab7e}),0x1);}},{'key':'PlayM4_SkipErrorData','value':function(_0x2dd4f9){return null==this['decodeWorker']?0x2:(this['decodeWorker']['postMessage']({'command':'SkipErrorData','bSkip':_0x2dd4f9}),0x1);}},{'key':'PlayM4_SetDecodeERC','value':function(_0x4ec870){return null==this['decodeWorker']?0x2:(this['decodeWorker']['postMessage']({'command':'SetDecodeERC','nLevel':_0x4ec870}),0x1);}},{'key':'PlayM4_SetANRParam','value':function(_0x590f55,_0x20ffd4){return null==this['decodeWorker']?0x2:(this['decodeWorker']['postMessage']({'command':'SetANRParam','nEnable':_0x590f55,'nANRLevel':_0x20ffd4}),0x1);}},{'key':'PlayM4_SetResampleValue','value':function(_0x4217ab,_0x20f8c4){return null==this['decodeWorker']?0x2:(this['decodeWorker']['postMessage']({'command':'SetResampleValue','nEnable':_0x4217ab,'resampleValue':_0x20f8c4}),0x1);}},{'key':'PlayM4_SetGlobalBaseTime','value':function(_0x43ab1c,_0xda8cc3,_0x36a73e,_0x553751,_0x4d243a,_0x32e408,_0x321ebe){return null==this['decodeWorker']?0x2:_0x43ab1c<0x7d0||_0x43ab1c>0xbb8||_0xda8cc3<0x1||_0xda8cc3>0xc||_0x43ab1c<0x0||_0xda8cc3<0x0||_0x36a73e<0x0||_0x553751<0x0||_0x4d243a<0x0||_0x32e408<0x0||_0x321ebe<0x0?_0x5e695b:(this['decodeWorker']['postMessage']({'command':'SetGlobalBaseTime','year':_0x43ab1c,'month':_0xda8cc3,'day':_0x36a73e,'hour':_0x553751,'min':_0x4d243a,'sec':_0x32e408,'ms':_0x321ebe}),0x1);}},{'key':'PlayM4_SetAudioDisplayBuf','value':function(_0x5c2e78){return _0x9332a2=_0x5c2e78,0x1;}},{'key':'PlayM4_GetCanvasCapture','value':function(_0x228f8d){return null!=this['oSuperRender']?this['oSuperRender']['GetCanvasData'](_0x228f8d):0x1;}},{'key':'PlayM4_SetFirstFrameCallBack','value':function(_0xf1ae24,_0x4d25c4){return null!=_0x4d25c4&&'function'!=typeof _0x4d25c4?0x0:(_0xf1ae24&&(this['firstFrameCB']=_0x4d25c4),this['needFirstFrameCB']=!0x0,0x1);}},{'key':'PlayM4_SetDecCBStream','value':function(_0x3cc9ca){return this['decCBStream']=_0x3cc9ca,0x1;}},{'key':'PlayM4_SetCanvasSize','value':function(_0x48557f,_0x2c8bbc){return null!=this['oSuperRender']&&this['oSuperRender']['SetCanvasSize'](_0x48557f,_0x2c8bbc);}},{'key':'PlayM4_GetCanvasSize','value':function(){return null!=this['oSuperRender']&&this['oSuperRender']['GetCanvasSize']();}},{'key':'PlayM4_GetBufferValue','value':function(){return this['iInputMaxBufSize'];}},{'key':'PlayM4_GetLastError','value':function(){return this['errorCode'];}},{'key':'PlayM4_GetPlayedTimeEx','value':function(_0x190ce4){_0x190ce4(this['timeStamp']-this['startTimeStamp']);}},{'key':'PlayM4_SetAntialias','value':function(_0x1768a1){return null!=this['oSuperRender']&&this['oSuperRender']['SetAntialias'](_0x1768a1);}},{'key':'PlayM4_SetWaterMarkFont','value':function(_0x559f32){return null!=this['oSuperRender']&&this['oSuperRender']['SetWaterMarkFont'](_0x559f32);}},{'key':'PlayM4_SetWaterMarkImage','value':function(_0x5bd3dc){return null!=this['oSuperRender']&&this['oSuperRender']['SetWaterMarkImage'](_0x5bd3dc);}},{'key':'PlayM4_SetD3DPostProcess','value':function(_0x480286,_0x409a01){return null!=this['oSuperRender']&&this['oSuperRender']['SetD3DPostProcess'](_0x480286,_0x409a01);}},{'key':'getScriptDirectory','value':function(){var _0x57291e=self['location']['href'];return _0x57291e['substr'](0x0,_0x57291e['lastIndexOf']('/')+0x1);}},{'key':'downloadFile','value':function(_0x55e8c1,_0x55bbd0){var _0x4be0e7=_0x55e8c1;_0x55e8c1 instanceof Blob||_0x55e8c1 instanceof File||(_0x4be0e7=new Blob([_0x55e8c1]));var _0xc993f8=window['URL']['createObjectURL'](_0x4be0e7),_0x173161=window['document']['createElement']('a');_0x173161['href']=_0xc993f8,_0x173161['download']=_0x55bbd0;var _0x5797c5=document['createEvent']('MouseEvents');_0x5797c5['initEvent']('click',!0x0,!0x0),_0x173161['dispatchEvent'](_0x5797c5);}}]),_0x1561ba;}();const _0x15f39a=async()=>WebAssembly['validate'](new Uint8Array([0x0,0x61,0x73,0x6d,0x1,0x0,0x0,0x0,0x1,0x5,0x1,0x60,0x0,0x1,0x7b,0x3,0x2,0x1,0x0,0xa,0xa,0x1,0x8,0x0,0x41,0x0,0xfd,0xf,0xfd,0x62,0xb]));var _0x4ebb04={'bSupHardOrSoft':!0x0,'bSupHardDecAVC':!0x0,'bSupHardDecHEVC':!0x0,'cmd':null,'errorCode':0x0,'status':null},_0x4edf92=function(){function _0x2bc217(_0x4d9877,_0x51b04d,_0x1f0628){var _0x6fbede=this,_0x378e3d=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:0x0,_0x2179a4=arguments['length']>0x4&&void 0x0!==arguments[0x4]?arguments[0x4]:'webgl',_0x190df5=arguments['length']>0x5&&void 0x0!==arguments[0x5]?arguments[0x5]:0x0,_0x3d37fd=arguments['length']>0x6&&void 0x0!==arguments[0x6]?arguments[0x6]:-0x1;if(_0x162c92(this,_0x2bc217),console['log']('%c>>>JSPlayerInterface\x20wasmPathV3:%s,\x20wasmPathV1:%s,\x20chromeVersion:%d','color:\x20red',_0x4d9877,_0x51b04d,_getFExplore()),this['szBasePathV3']=_0x4d9877,this['szBasePathV1']=_0x51b04d,this['fnCallBack']=_0x1f0628,this['nUser']=_0x378e3d,this['renderEngine']=_0x2179a4,this['hasWebWorker']=_0x190df5,this['setHasThread']=_0x3d37fd,this['decodeEngine']=0x1,this['streamOpenMode']=0x0,this['printfFlag']=!0x1,this['canvasID']='',this['FECcanvasIDArray']=[],this['aTotalBuffer']=[],this['iFrameNum']=0x0,this['bWriteData']=!0x0,this['downloadInputDataFlag']=!0x1,this['rtpDataNeedAdd4Size']=!0x1,this['aInputDataBuffer']=[],this['iInputMaxBufSize']=0x200000,this['audioDisplayBufSize']=0x0,this['decodeFrameType']=0x0,this['decInterval']=-0x1,this['volume']=0x0,this['displayBuf']=0x0,this['anrParamLevel']=0x0,this['anrParamFlag']=0x0,this['resampleRate']=0x0,this['resampleFlag']=0x0,this['decodeERCLevel']=0x0,this['skipErrorData']=0x0,this['demuxModelType']=0x0,this['demuxModeFlag']=0x0,this['needResetBuffer']=0x0,this['globalBaseTime']={},this['globalBaseTime']['year']=0x0,this['inputBufSize']=0x0,this['waterFontParam']=null,this['waterImageParam']=null,this['needSetFFCB']=!0x1,this['FFCBFlag']=0x0,this['firstFrameCB']=null,this['needSetSecretKey']=!0x1,this['keyData']=null,this['runtimeModule']=0x0,this['runtimeCBFun']=null,this['needSetRunTimeInfoCB']=!0x1,this['needPlaySound']=!0x1,this['CanvasSubPortMap']=new Map(),this['oJSPlayerObj']=null,this['supportWebCodecs']=window['_getFSupportWebCodecs'](),this['supportSab']=!!window['SharedArrayBuffer'],this['offscreen']=!!window['OffscreenCanvas'],this['supportOffscreen']=!0x1,this['offscreen']){var _0x5c19a5=new OffscreenCanvas(0x1,0x1),_0x451972=_0x5c19a5['getContext']('webgl');_0x451972&&(this['supportOffscreen']=!0x0,_0x451972['getExtension']('WEBGL_lose_context')['loseContext']()),_0x5c19a5=null,_0x451972=null;}this['securityContext']=!0x0,'https:'===window['location']['protocol']||'localhost'===location['hostname']?this['securityContext']=!0x0:this['securityContext']=!0x1;var _0x357075=this['JSPlayM4_GetSDKVersion'](),_0x486e69=this['JSPlayM4_GetBuildDate']();console['log']('%c\x20wasmplayer.min.js\x20version:%s,buildDate:%s','color:\x20blue',_0x357075,_0x486e69),this['supportSIMD']=!0x1,this['callBackParameter']=_0x4ebb04,this['jsplayerVersion']=0x3,this['supportWebCodecs']&&this['securityContext']?this['jsplayerVersion']=0x3:this['supportSab']&&this['supportOffscreen']?this['jsplayerVersion']=0x2:this['jsplayerVersion']=0x1,this['jsplayerVersion']<0x3&&(this['callBackParameter']['bSupHardDecAVC']=!0x1,this['callBackParameter']['bSupHardDecHEVC']=!0x1,this['callBackParameter']['bSupHardOrSoft']=!0x1),null===this['szBasePathV3']&&null!=this['szBasePathV1']?this['jsplayerVersion']=0x1:null!=this['szBasePathV3']&&null===this['szBasePathV1']?(console['info']('%c>>>>\x20szBasePathV1\x20is\x20null\x20','color:\x20red'),this['jsplayerVersion']=0x3):null===this['szBasePathV3']&&null===this['szBasePathV1']&&(console['info']('%c>>>>\x20szBasePathV3\x20and\x20szBasePathV1\x20are\x20null\x20','color:\x20red'),this['fnCallBack'](this['callBackParameter'])),_0x15f39a()['then'](function(_0x270a28){_0x270a28?(this['supportSIMD']=!0x0,console['log']('%c>>>>your\x20browser\x20protocol\x20is\x20%s,\x20hostname:%s,\x20WebCodecs:%s,Sab:%s,Offscreen:%s,SIMD:%s,jsplayerVersion:%d','color:\x20red',window['location']['protocol'],location['hostname'],this['supportWebCodecs'],this['supportSab'],this['supportOffscreen'],this['supportSIMD'],this['jsplayerVersion'])):(this['supportSIMD']=!0x1,console['log']('%c>>>>your\x20browser\x20protocol\x20is\x20%s,\x20hostname:%s,\x20WebCodecs:%s,Sab:%s,Offscreen:%s,SIMD:%s,jsplayerVersion:%d','color:\x20red',window['location']['protocol'],location['hostname'],this['supportWebCodecs'],this['supportSab'],this['supportOffscreen'],this['supportSIMD'],this['jsplayerVersion']));}['bind'](this)),this['wasmloaded']=!0x1,this['jsplayerVersion']>0x1?this['oJSPlayerObj']=new _0x41f7ea(this,this['szBasePathV3'],function(_0x487142){var _0x965cea=_0x487142['bSupHardOrSoft'],_0x2caf17=_0x487142['bSupHardDecAVC'],_0x3d11ec=_0x487142['bSupHardDecHEVC'],_0x474503=_0x487142['cmd'],_0x5792b8=_0x487142['errorCode'],_0x18c09c=_0x487142['status'];_0x6fbede['callBackParameter']['bSupHardDecAVC']=_0x2caf17,_0x6fbede['callBackParameter']['bSupHardDecHEVC']=_0x3d11ec,_0x6fbede['callBackParameter']['bSupHardOrSoft']=_0x965cea,_0x6fbede['callBackParameter']['cmd']=_0x474503,_0x6fbede['callBackParameter']['errorCode']=_0x5792b8,_0x6fbede['callBackParameter']['status']=_0x18c09c,_0x6fbede['wasmloaded']=!0x0,_0x6fbede['fnCallBack'](_0x6fbede['callBackParameter']);},this['nUser'],this['renderEngine'],this['hasWebWorker'],this['setHasThread'],this['jsplayerVersion']):this['oJSPlayerObj']=new _0x484704(this,this['szBasePathV1'],function(_0x3ed36c){_0x3ed36c['instance'];var _0x5a7f6d=_0x3ed36c['cmd'],_0x3c8357=_0x3ed36c['errorCode'],_0x317217=_0x3ed36c['status'];_0x6fbede['callBackParameter']['bSupHardDecAVC']=!0x1,_0x6fbede['callBackParameter']['bSupHardDecHEVC']=!0x1,_0x6fbede['callBackParameter']['bSupHardOrSoft']=!0x1,_0x6fbede['callBackParameter']['cmd']=_0x5a7f6d,_0x6fbede['callBackParameter']['errorCode']=_0x3c8357,_0x6fbede['callBackParameter']['status']=_0x317217,_0x6fbede['wasmloaded']=!0x0,_0x6fbede['fnCallBack'](_0x6fbede['callBackParameter']);},0x0);}return _0x5ab2cc(_0x2bc217,[{'key':'JSPlayM4_SetStreamEnd','value':function(){return 0x0;}},{'key':'JSPlayM4_GetPort','value':function(){return this['printfFlag']&&console['log']('>>>>>yff>>>\x20JSPlayM4_GetPort\x201'),null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetPort\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1&&this['oJSPlayerObj']['JSPlayM4_GetPort'](),0x1);}},{'key':'JSPlayM4_SetStreamOpenMode','value':function(_0x5a2fb1){return this['printfFlag']&&console['log']('>>>>>yff20230817>>>>>\x20JSPlayM4_SetStreamOpenMode\x201\x20mode:'+_0x5a2fb1),this['streamOpenMode']=_0x5a2fb1,null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetStreamOpenMode\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetStreamOpenMode'](_0x5a2fb1):this['oJSPlayerObj']['PlayM4_SetStreamOpenMode'](_0x5a2fb1),0x1);}},{'key':'JSPlayM4_OpenStream','value':function(_0x2a5285,_0xd2d9f1,_0x1cd29f){if(this['printfFlag']&&console['log']('>>>>>yff20230817>>>>>\x20JSPlayM4_OpenStream\x201\x20:'+_0x2a5285),0x28!==_0xd2d9f1&&console['info']('%cJSPlayM4_OpenStream\x20nSize\x20is\x20not\x2040','color:\x20red'),0x4===_0x2a5285[0x8]&&0x0===_0x2a5285[0x9]&&(this['rtpDataNeedAdd4Size']=!0x0),this['downloadInputDataFlag']){var _0xed66db=new Uint8Array(_0x2a5285['buffer']);this['downloadRTPData'](_0xed66db),console['log']('write\x2040\x20hik\x20head');}var _0x34345c=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_OpenStream\x20this.oJSPlayerObj\x20is\x20null'),0x0):(_0x34345c=this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_OpenStream'](_0x2a5285,_0xd2d9f1,_0x1cd29f):this['oJSPlayerObj']['PlayM4_OpenStream'](_0x2a5285,_0xd2d9f1,_0x1cd29f),this['HIK40Head']=_0x2a5285,this['HIKHeadSize']=_0xd2d9f1,this['HIKPoolSize']=_0x1cd29f,0x10===_0x34345c&&this['_switchV3ToV1'](this['streamOpenMode'],_0x2a5285,_0xd2d9f1,_0x1cd29f,this['needPlay']),_0x34345c);}},{'key':'_switchV3ToV1','value':function(_0x5de9a0,_0xbea0f9,_0x373e42,_0x693fce,_0x3b3aec){var _0x96163e=this;console['log']('%c5>switch\x20V3\x20to\x20V1','color:\x20red'),this['jsplayerVersion']=0x1,this['oJSPlayerObj']['JSPlayM4_Stop'](),this['oJSPlayerObj']['JSPlayM4_CloseStream'](),this['oJSPlayerObj']['JSPlayM4_FreePort'](),this['oJSPlayerObj']=null;var _0x728771=new _0x484704(this,this['szBasePathV1'],function(_0x3a0af1){_0x3a0af1['instance'];var _0x336367=_0x3a0af1['cmd'],_0x173d4e=_0x3a0af1['errorCode'],_0x2e56b7=_0x3a0af1['status'];if('loaded'===_0x336367)_0x96163e['oJSPlayerObj']=_0x728771,_0x96163e['callBackParameter']['cmd']=_0x336367,_0x96163e['callBackParameter']['errorCode']=_0x173d4e,_0x96163e['callBackParameter']['status']=_0x2e56b7,_0x96163e['JSPlayM4_SetStreamOpenMode'](_0x5de9a0),_0x96163e['JSPlayM4_OpenStream'](_0xbea0f9,_0x373e42,_0x693fce),(_0x3b3aec||_0x96163e['needPlay'])&&_0x96163e['JSPlayM4_Play'](_0x96163e['canvasID']),_0x96163e['_switchV3ToV1ResetParam']();},0x0);}},{'key':'_switchV3ToV1ResetParam','value':function(){return this['needSetSecretKey']&&this['JSPlayM4_SetSecretKey'](this['keyData']),this['needSetFFCB']&&this['JSPlayM4_SetFirstFrameCallBack'](this['FFCBFlag'],this['firstFrameCB']),this['needSetRunTimeInfoCB']&&this['JSPlayM4_SetRunTimeInfoCallBackEx'](this['runtimeModule'],this['runtimeCBFun']),this['needPlaySound']&&this['JSPlayM4_PlaySound'](),0x0!=this['skipErrorData']&&this['oJSPlayerObj']['PlayM4_SkipErrorData'](this['skipErrorData']),0x0!=this['demuxModeFlag']&&this['oJSPlayerObj']['PlayM4_SetDemuxModel'](this['demuxModelType'],this['demuxModeFlag']),0x0!=this['globalBaseTime']['year']&&this['oJSPlayerObj']['PlayM4_SetGlobalBaseTime'](this['globalBaseTime']['year'],this['globalBaseTime']['month'],this['globalBaseTime']['day'],this['globalBaseTime']['hour'],this['globalBaseTime']['min'],this['globalBaseTime']['sec'],this['globalBaseTime']['ms']),-0x1!=this['decInterval']&&this['oJSPlayerObj']['PlayM4_SetIFrameDecInterval'](this['decInterval']),0x0!=this['decodeERCLevel']&&this['oJSPlayerObj']['PlayM4_SetDecodeERC'](this['decodeERCLevel']),0x0!=this['volume']&&this['JSPlayM4_SetVolume'](this['volume']),0x0!=this['anrParamFlag']&&this['oJSPlayerObj']['PlayM4_SetANRParam'](this['anrParamFlag'],this['anrParamLevel']),0x0!=this['resampleFlag']&&this['oJSPlayerObj']['PlayM4_SetResampleValue'](this['resampleFlag'],this['resampleRate']),0x0!=this['displayBuf']&&this['oJSPlayerObj']['PlayM4_SetDisplayBuf'](this['displayBuf']),null!=this['waterFontParam']&&this['oJSPlayerObj']['PlayM4_SetWaterMarkFont'](this['waterFontParam']),null!=this['waterImageParam']&&this['oJSPlayerObj']['PlayM4_SetWaterMarkImage'](this['waterImageParam']),0x0!=this['audioDisplayBufSize']&&this['oJSPlayerObj']['PlayM4_SetAudioDisplayBuf'](this['audioDisplayBufSize']),0x0!=this['decodeFrameType']&&this['JSPlayM4_SetDecodeFrameType'](this['decodeFrameType']),0x0!=this['needResetBuffer']&&this['oJSPlayerObj']['PlayM4_ReleaseInputBuffer'](),0x0!=this['inputBufSize']&&this['oJSPlayerObj']['PlayM4_SetInputBufSize'](this['inputBufSize']),0x1;}},{'key':'JSPlayM4_SetDecodeEngine','value':function(_0x55ab57){if(this['printfFlag']&&console['log']('>>>>>yff20230817>>>>>\x20JSPlayM4_SetDecodeEngine\x201:'+_0x55ab57),0x0!=_0x55ab57&&0x1!=_0x55ab57)return console['log']('0\x20is\x20V3softDecode,\x201\x20is\x20V3hardDecoder,decodeEngine:'+_0x55ab57),0x0;this['decodeEngine']=_0x55ab57;var _0x572dec=0x1;if(this['jsplayerVersion']>0x1){if(!this['supportSab'])return console['info']('%c3>JSPlayM4_SetDecodeEngine(0\x20is\x20soft,1\x20is\x20hard):%d,SharedArrayBuffer\x20Error\x20,\x20does\x20not\x20support\x20Soft\x20Decdoe!!!!!','color:\x20red',_0x55ab57),0x0;_0x572dec=this['oJSPlayerObj']['JSPlayM4_SetDecodeEngine'](this['decodeEngine']);}return _0x572dec;}},{'key':'JSPlayM4_DownloadData','value':function(){return this['downloadInputDataFlag']=!0x0,0x1;}},{'key':'JSPlayM4_SetAudioDisplayBuf','value':function(_0x19e94e){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetAudioDisplayBuf\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['audioDisplayBufSize']=_0x19e94e,this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetAudioDisplayBuf'](_0x19e94e):this['oJSPlayerObj']['PlayM4_SetAudioDisplayBuf'](_0x19e94e));}},{'key':'JSPlayM4_Play','value':function(){var _0x2d7948=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:null;this['canvasID']=_0x2d7948;var _0x18fe6f=0x1;return this['printfFlag']&&console['log']('>>>>>yff20230817>>>>>\x20JSPlayM4_Play\x201\x20this.supportSab:'+this['supportSab']),null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_Play\x20this.oJSPlayerObj\x20is\x20null'),this['needPlay']=!0x0,0x0):(this['jsplayerVersion']>0x1?(_0x18fe6f=this['oJSPlayerObj']['JSPlayM4_Play'](_0x2d7948),0x0!=this['aInputDataBuffer']['length']&&(this['oJSPlayerObj']['JSPlayM4_InputData'](new Uint8Array(this['aInputDataBuffer']),this['aInputDataBuffer']['length']),this['aInputDataBuffer']['splice'](0x0,this['aInputDataBuffer']['length']))):(_0x18fe6f=this['oJSPlayerObj']['PlayM4_Play'](_0x2d7948),0x0!=this['aInputDataBuffer']['length']&&(this['oJSPlayerObj']['PlayM4_InputData'](new Uint8Array(this['aInputDataBuffer']),this['aInputDataBuffer']['length']),this['aInputDataBuffer']['splice'](0x0,this['aInputDataBuffer']['length']))),_0x18fe6f);}},{'key':'JSPlayM4_InputData','value':function(_0x55bdfd,_0xcb8ea0){var _0x5b81bc=0x1;if(null===this['oJSPlayerObj']||!this['wasmloaded']){var _0x2c26c8=this['aInputDataBuffer']['length'];if(_0x2c26c8+_0xcb8ea0>this['iInputMaxBufSize'])return console['log']('WasmPlayer\x20input\x20over'),0x0;for(var _0x5eda0a=0x0;_0x5eda0a<_0xcb8ea0;_0x5eda0a++)this['aInputDataBuffer'][_0x2c26c8+_0x5eda0a]=_0x55bdfd[_0x5eda0a];return 0x0;}if(_0x5b81bc=this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_InputData'](_0x55bdfd,_0xcb8ea0):this['oJSPlayerObj']['PlayM4_InputData'](_0x55bdfd,_0xcb8ea0),this['downloadInputDataFlag']){if(this['rtpDataNeedAdd4Size']){var _0x39e7d2=null,_0x1c2e6d=_0xcb8ea0+0x4,_0x27702e=new Uint32Array([_0xcb8ea0]),_0x240788=new Uint8Array(_0x27702e['buffer']);(_0x39e7d2=new Uint8Array(_0x1c2e6d))['set'](_0x240788,0x0),_0x39e7d2['set'](_0x55bdfd,0x4),this['downloadRTPData'](_0x39e7d2),_0x27702e=null,_0x240788=null,_0x39e7d2=null;}else this['downloadRTPData'](_0x55bdfd);}return _0x5b81bc;}},{'key':'JSPlayM4_Stop','value':function(){var _0x31c0e9=!(arguments['length']>0x0&&void 0x0!==arguments[0x0])||arguments[0x0];if(null===this['oJSPlayerObj'])return console['log']('>>>>>yff>>>\x20JSPlayM4_Stop\x20this.oJSPlayerObj\x20is\x20null'),0x0;if(this['bWriteData']&&this['iFrameNum']>0x0){console['log']('download'+this['iFrameNum']+'Psdata');var _0x441a05=new Uint8Array(this['aTotalBuffer']);this['_downloadFile'](_0x441a05,'RTPRaw.data'),this['aTotalBuffer']['splice'](0x0,this['aTotalBuffer']['length']),this['bWriteData']=!0x1,this['iFrameNum']=0x0,_0x441a05=null;}return this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_Stop'](_0x31c0e9):this['oJSPlayerObj']['PlayM4_Stop'](_0x31c0e9);}},{'key':'JSPlayM4_CloseStream','value':function(){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20\x20JSPlayM4_CloseStream\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_CloseStream']():this['oJSPlayerObj']['PlayM4_CloseStream']();}},{'key':'JSPlayM4_FreePort','value':function(){var _0x40a2a1=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FreePort\x20this.oJSPlayerObj\x20is\x20null'),0x0):(_0x40a2a1=this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_FreePort']():this['oJSPlayerObj']['PlayM4_FreePort'](),this['oJSPlayerObj']=null,_0x40a2a1);}},{'key':'JSPlayM4_SetDecodeFrameType','value':function(_0x10888a){var _0x52d8f7=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetDecodeFrameType\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['decodeFrameType']=_0x10888a,this['jsplayerVersion']>0x1?_0x52d8f7=this['oJSPlayerObj']['JSPlayM4_SetDecodeFrameType'](_0x10888a):0x7==_0x10888a?_0x52d8f7=this['oJSPlayerObj']['PlayM4_SetLostFrameMode'](0x1):(_0x52d8f7=this['oJSPlayerObj']['PlayM4_SetLostFrameMode'](0x0),_0x52d8f7=this['oJSPlayerObj']['PlayM4_SetDecodeFrameType'](_0x10888a)),_0x52d8f7);}},{'key':'JSPlayM4_PlaySound','value':function(){return this['needPlaySound']=!0x0,null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_PlaySound\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_PlaySound']():this['oJSPlayerObj']['PlayM4_PlaySound'](0x0);}},{'key':'JSPlayM4_GetJPEG','value':function(){var _0x4d83d6=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:null,_0x3131e0=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetJPEG\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_GetJPEG'](_0x4d83d6,_0x3131e0):this['oJSPlayerObj']['PlayM4_GetJPEG'](_0x4d83d6);}},{'key':'JSPlayM4_GetBMP','value':function(){var _0x70bd65=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:null,_0x4a8f60=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetBMP\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_GetBMP'](_0x70bd65,_0x4a8f60):this['oJSPlayerObj']['PlayM4_GetBMP'](_0x70bd65);}},{'key':'JSPlayM4_GetCropJPEG','value':function(){var _0x3c2585=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetCropJPEG\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x3c2585=this['oJSPlayerObj']['JSPlayM4_GetCropJPEG']():console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20GetCropJPEG','color:\x20red'),_0x3c2585);}},{'key':'JSPlayM4_GetCropBMP','value':function(){var _0x24d704=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetCropBMP\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x24d704=this['oJSPlayerObj']['JSPlayM4_GetCropBMP']():console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20GetCropBMP','color:\x20red'),_0x24d704);}},{'key':'JSPlayM4_GetCanvasCapture','value':function(_0x51d0fd){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetCanvasCapture\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_GetCanvasCapture'](_0x51d0fd):this['oJSPlayerObj']['PlayM4_GetCanvasCapture'](_0x51d0fd);}},{'key':'JSPlayM4_StopSound','value':function(){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_StopSound\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_StopSound']():this['oJSPlayerObj']['PlayM4_StopSound']();}},{'key':'JSPlayM4_GetSDKVersion','value':function(){return '08010001';}},{'key':'JSPlayM4_GetBuildDate','value':function(){return '2023220';}},{'key':'JSPlayM4_GetLastError','value':function(){return null===this['oJSPlayerObj']?0x0:this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_GetLastError']():this['oJSPlayerObj']['PlayM4_GetLastError']();}},{'key':'JSPlayM4_Fast','value':function(){var _0x589838=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_Fast\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1&&(_0x589838=this['oJSPlayerObj']['JSPlayM4_Fast']()),_0x589838);}},{'key':'JSPlayM4_Slow','value':function(){var _0x49c7f4=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_Slow\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1&&(_0x49c7f4=this['oJSPlayerObj']['JSPlayM4_Slow']()),_0x49c7f4);}},{'key':'JSPlayM4_SetIFrameDecInterval','value':function(_0x361075){return this['decInterval']=_0x361075,null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetIFrameDecInterval\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetIFrameDecInterval'](_0x361075):this['oJSPlayerObj']['PlayM4_SetIFrameDecInterval'](_0x361075);}},{'key':'JSPlayM4_Pause','value':function(_0xe8199d){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_Pause\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_Pause'](_0xe8199d):this['oJSPlayerObj']['PlayM4_Pause'](_0xe8199d);}},{'key':'JSPlayM4_OneByOne','value':function(){var _0x47856f=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_OneByOne\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_OneByOne']():this['oJSPlayerObj']['PlayM4_OneByOne'](_0x47856f);}},{'key':'JSPlayM4_OneByOneResume','value':function(){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_OneByOneResume\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_OneByOneResume']():this['oJSPlayerObj']['PlayM4_Pause'](!0x1);}},{'key':'JSPlayM4_SetVolume','value':function(_0x2f5a93){var _0xfe6bae=0x1;if(null===this['oJSPlayerObj'])return console['log']('>>>>>yff>>>\x20JSPlayM4_SetVolume\x20this.oJSPlayerObj\x20is\x20null'),0x0;if(this['volume']=_0x2f5a93,this['jsplayerVersion']>0x1)_0xfe6bae=this['oJSPlayerObj']['JSPlayM4_SetVolume'](_0x2f5a93);else {var _0x1eb448=_0x2f5a93/0xffff*0x64;_0xfe6bae=this['oJSPlayerObj']['PlayM4_SetVolume'](_0x1eb448);}return _0xfe6bae;}},{'key':'JSPlayM4_GetVolume','value':function(){var _0x211c2f=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:null,_0x53730c=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetVolume\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?(_0x53730c=this['oJSPlayerObj']['JSPlayM4_GetVolume'](),null!=_0x211c2f&&_0x211c2f(_0x53730c)):_0x53730c=this['oJSPlayerObj']['PlayM4_GetVolume'](function(_0x296617){null!=_0x211c2f&&_0x211c2f(_0x296617/0x64*0xffff);}),_0x53730c);}},{'key':'JSPlayM4_SetDisplayRegion','value':function(_0xbce865,_0x3af556,_0x131270,_0x3f9a32,_0x19ba6d){var _0x50dbf5=arguments['length']>0x5&&void 0x0!==arguments[0x5]&&arguments[0x5],_0x5533c7=!(arguments['length']>0x6&&void 0x0!==arguments[0x6])||arguments[0x6],_0x495baf=0x1;if(null===this['oJSPlayerObj'])return console['log']('>>>>>yff>>>\x20JSPlayM4_SetDisplayRegion\x20this.oJSPlayerObj\x20is\x20null'),0x0;if(this['jsplayerVersion']>0x1)_0x495baf=this['oJSPlayerObj']['JSPlayM4_SetDisplayRegion'](_0xbce865,_0x3af556,_0x131270,_0x3f9a32,_0x19ba6d,_0x50dbf5,_0x5533c7);else {var _0x3cebe5={};_0x3cebe5['left']=_0x3af556,_0x3cebe5['right']=_0x131270,_0x3cebe5['top']=_0x3f9a32,_0x3cebe5['bottom']=_0x19ba6d,_0x495baf=this['oJSPlayerObj']['PlayM4_SetDisplayRegion'](_0x3cebe5,!_0x50dbf5,_0x5533c7);}return _0x495baf;}},{'key':'JSPlayM4_SetPrintLogFlag','value':function(_0x52cb93){return this['printfFlag']=_0x52cb93,null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetPrintLogFlag\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetPrintLogFlag'](_0x52cb93):this['oJSPlayerObj']['PlayM4_OpenPlayerSDKPrintLog'](_0x52cb93);}},{'key':'JSPlayM4_RenderPrivateData','value':function(_0x127904,_0x3c6abc){var _0x48d903=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_RenderPrivateData\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x48d903=this['oJSPlayerObj']['JSPlayM4_RenderPrivateData'](_0x127904,_0x3c6abc):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20RenderPrivateData','color:\x20red'),_0x48d903);}},{'key':'JSPlayM4_RenderPrivateDataEx','value':function(_0x31d041,_0x164ea8,_0x3f23ea){var _0x3015b4=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_RenderPrivateDataEx\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x3015b4=this['oJSPlayerObj']['JSPlayM4_RenderPrivateDataEx'](_0x31d041,_0x164ea8,_0x3f23ea):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20RenderPrivateDataEx','color:\x20red'),_0x3015b4);}},{'key':'JSPlayM4_SetCanvasSize','value':function(_0x10443c,_0x1d2a54){var _0x5354e5=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0x0;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetCanvasSize\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetCanvasSize'](_0x10443c,_0x1d2a54,_0x5354e5):this['oJSPlayerObj']['PlayM4_SetCanvasSize'](_0x10443c,_0x1d2a54);}},{'key':'JSPlayM4_SetDisplayBuf','value':function(_0x3e7e4d){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetDisplayBuf\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['displayBuf']=_0x3e7e4d,this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetDisplayBuf'](_0x3e7e4d):this['oJSPlayerObj']['PlayM4_SetDisplayBuf'](_0x3e7e4d));}},{'key':'JSPlayM4_GetSourceBufferRemain','value':function(){return null===this['oJSPlayerObj']?0x0:this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_GetSourceBufferRemain']():this['oJSPlayerObj']['PlayM4_GetInputBufSize']();}},{'key':'JSPlayM4_GetBufferValue','value':function(_0x5ad03c){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetBufferValue\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_GetBufferValue'](_0x5ad03c):this['oJSPlayerObj']['PlayM4_GetBufferValue'](_0x5ad03c);}},{'key':'JSPlayM4_ReversePlay','value':function(){var _0x56f081=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_ReversePlay\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x56f081=this['oJSPlayerObj']['JSPlayM4_ReversePlay']():console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20ReversePlay','color:\x20red'),_0x56f081);}},{'key':'JSPlayM4_SetDecodeThreadNum','value':function(_0x1b8477){var _0x30c485=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetDecodeThreadNum\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x30c485=this['oJSPlayerObj']['JSPlayM4_SetDecodeThreadNum'](_0x1b8477):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20SetDecodeThreadNum,\x20V1.X\x20decocde\x20only\x201\x20thread','color:\x20red'),_0x30c485);}},{'key':'JSPlayM4_GetCanvasSize','value':function(){var _0x14e31b=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:0x0;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetCanvasSize\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_GetCanvasSize'](_0x14e31b):this['oJSPlayerObj']['PlayM4_GetCanvasSize']();}},{'key':'JSPlayM4_DisplayLostFrames','value':function(_0x588a00,_0x415571,_0x4f9533){var _0x2e8512=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_DisplayLostFrames\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x2e8512=this['oJSPlayerObj']['JSPlayM4_DisplayLostFrames'](_0x588a00,_0x415571,_0x4f9533):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20DisplayLostFrames','color:\x20red'),_0x2e8512);}},{'key':'JSPlayM4_SetANRParam','value':function(_0x3c615e,_0x4a19e1){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetANRParam\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['anrParamLevel']=_0x4a19e1,this['anrParamFlag']=_0x3c615e,this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetANRParam'](_0x3c615e,_0x4a19e1):this['oJSPlayerObj']['PlayM4_SetANRParam'](_0x3c615e,_0x4a19e1));}},{'key':'JSPlayM4_SetResampleValue','value':function(_0x44cb0b,_0x5b7f7d){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetResampleValue\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['resampleRate']=_0x5b7f7d,this['resampleFlag']=_0x44cb0b,this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetResampleValue'](_0x44cb0b,_0x5b7f7d):this['oJSPlayerObj']['PlayM4_SetResampleValue'](_0x44cb0b,_0x5b7f7d));}},{'key':'JSPlayM4_SetAntialias','value':function(_0x39e1ae){var _0x13a829=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetAntialias\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x13a829=this['oJSPlayerObj']['JSPlayM4_SetAntialias'](_0x39e1ae):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20JSPlayM4_SetAntialias\x2020230922','color:\x20red'),_0x13a829);}},{'key':'JSPlayM4_SyncToAudio','value':function(_0xf36cea){var _0x2c3813=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SyncToAudio\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x2c3813=this['oJSPlayerObj']['JSPlayM4_SyncToAudio'](_0xf36cea):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20SyncToAudio','color:\x20red'),_0x2c3813);}},{'key':'JSPlayM4_SetAudioThreadModel','value':function(_0x1a74a7){var _0x3e490b=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetAudioThreadModel\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x3e490b=this['oJSPlayerObj']['JSPlayM4_SetAudioThreadModel'](_0x1a74a7):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20SetAudioThreadModel','color:\x20red'),_0x3e490b);}},{'key':'JSPlayM4_SetDecodeERC','value':function(_0x517088){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetDecodeERC\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['decodeERCLevel']=_0x517088,this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetDecodeERC'](_0x517088):this['oJSPlayerObj']['PlayM4_SetDecodeERC'](_0x517088));}},{'key':'JSPlayM4_SkipErrorData','value':function(_0x46a6be){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SkipErrorData\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['skipErrorData']=_0x46a6be,this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SkipErrorData'](_0x46a6be):this['oJSPlayerObj']['PlayM4_SkipErrorData'](_0x46a6be));}},{'key':'JSPlayM4_SetDemuxModel','value':function(_0xfb7bb2,_0x46c941){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetDemuxModel\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['demuxModelType']=_0xfb7bb2,this['demuxModeFlag']=_0x46c941,this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetDemuxModel'](_0xfb7bb2,_0x46c941):this['oJSPlayerObj']['PlayM4_SetDemuxModel'](_0xfb7bb2,_0x46c941));}},{'key':'JSPlayM4_SetD3DPostProcess','value':function(_0x364c60,_0x4214d0){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetD3DPostProcess\x20this.oJSPlayerObj\x20is\x20null'),0x0):'number'!=typeof _0x364c60||'number'!=typeof _0x4214d0?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetD3DPostProcess\x20nPostType\x20or\x20fValue\x20is\x20not\x20number'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetD3DPostProcess'](_0x364c60,_0x4214d0):this['oJSPlayerObj']['PlayM4_SetD3DPostProcess'](_0x364c60,_0x4214d0);}},{'key':'JSPlayM4_SetFirstFrameCallBack','value':function(_0x287221,_0x307160){return this['needSetFFCB']=!0x0,this['FFCBFlag']=_0x287221,this['firstFrameCB']=_0x307160,null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetFirstFrameCallBack\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetFirstFrameCallBack'](_0x287221,_0x307160):this['oJSPlayerObj']['PlayM4_SetFirstFrameCallBack'](_0x287221,_0x307160);}},{'key':'JSPlayM4_SetDecCallBack','value':function(_0x2743cf,_0x37bd61){return null===this['oJSPlayerObj']||'function'!=typeof _0x37bd61?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetDecCallBack\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetDecCallBack'](_0x2743cf,_0x37bd61):this['oJSPlayerObj']['PlayM4_SetDecCallBack'](_0x2743cf,_0x37bd61);}},{'key':'JSPlayM4_SetDisplayCallBack','value':function(_0x5c9db6,_0x5bcc43){return null===this['oJSPlayerObj']||'function'!=typeof _0x5bcc43?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetDisplayCallBack\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetDisplayCallBack'](_0x5c9db6,_0x5bcc43):this['oJSPlayerObj']['PlayM4_SetDisplayCallBack'](_0x5bcc43);}},{'key':'JSPlayM4_SetFrameInfoCallBack','value':function(_0x23ae37){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetFrameInfoCallBack\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetFrameInfoCallBack'](_0x23ae37):this['oJSPlayerObj']['PlayM4_SetFrameInfoCallBack'](_0x23ae37);}},{'key':'JSPlayM4_SetDecCBStream','value':function(_0x4eedb6){return null===this['oJSPlayerObj']||_0x4eedb6<0x1||_0x4eedb6>0x3?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetDecCBStream\x20this.oJSPlayerObj\x20is\x20null\x20stream:'+_0x4eedb6),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetDecCBStream'](_0x4eedb6):this['oJSPlayerObj']['PlayM4_SetDecCBStream'](_0x4eedb6);}},{'key':'JSPlayM4_GetFrameInfo','value':function(){if(null===this['oJSPlayerObj'])return console['log']('>>>>>yff>>>\x20JSPlayM4_GetFrameInfo\x20this.oJSPlayerObj\x20is\x20null'),0x0;return this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_GetFrameInfo']():this['oJSPlayerObj']['PlayM4_GetFrameInfo']();}},{'key':'JSPlayM4_GetAdditionData','value':function(){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetAdditionData\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_GetAdditionData']():(console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20GetAdditionData','color:\x20red'),0x0);}},{'key':'JSPlayM4_SetAdditionDataCallBack','value':function(_0x23ed8a,_0x491d2f,_0x12d4cf){var _0x356caa=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetAdditionDataCallBack\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x356caa=this['oJSPlayerObj']['JSPlayM4_SetAdditionDataCallBack'](_0x23ed8a,_0x491d2f,_0x12d4cf):(console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20SetAdditionDataCallBack','color:\x20red'),_0x356caa=0x0),_0x356caa);}},{'key':'JSPlayM4_GetPlayedTimeEx','value':function(_0x10f7e8){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetPlayedTimeEx\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_GetPlayedTimeEx'](_0x10f7e8):this['oJSPlayerObj']['PlayM4_GetPlayedTimeEx'](_0x10f7e8);}},{'key':'JSPlayM4_GetFileTime','value':function(){var _0x36dc63=0x0;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetFileTime\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x36dc63=this['oJSPlayerObj']['JSPlayM4_GetFileTime']():console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20GetPlayedTimeEx','color:\x20red'),0x3e8*_0x36dc63);}},{'key':'JSPlayM4_GetMpOffset','value':function(_0x18e4ba){var _0x1a6186=-0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetMpOffset\x20this.oJSPlayerObj\x20is\x20null'),-0x1):(this['jsplayerVersion']>0x1?_0x1a6186=this['oJSPlayerObj']['JSPlayM4_GetMpOffset'](_0x18e4ba):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20GetMpOffset','color:\x20red'),_0x1a6186);}},{'key':'JSPlayM4_ResetBuffer','value':function(_0x102fe4){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_ResetBuffer\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['needResetBuffer']=!0x0,this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_ResetBuffer'](_0x102fe4):this['oJSPlayerObj']['PlayM4_ReleaseInputBuffer']());}},{'key':'JSPlayM4_SetGlobalBaseTime','value':function(_0x2927f3,_0x27638e,_0x2d4c84,_0x4012cc,_0xdb4bed,_0xf3e686,_0x463dc7){return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetGlobalBaseTime\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['globalBaseTime']={'year':_0x2927f3,'month':_0x27638e,'day':_0x2d4c84,'hour':_0x4012cc,'min':_0xdb4bed,'sec':_0xf3e686,'ms':_0x463dc7},this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetGlobalBaseTime'](_0x2927f3,_0x27638e,_0x2d4c84,_0x4012cc,_0xdb4bed,_0xf3e686,_0x463dc7):this['oJSPlayerObj']['PlayM4_SetGlobalBaseTime'](_0x2927f3,_0x27638e,_0x2d4c84,_0x4012cc,_0xdb4bed,_0xf3e686,_0x463dc7));}},{'key':'JSPlayM4_SetSecretKey','value':function(_0x3e55f9){return this['needSetSecretKey']=!0x0,this['keyData']=_0x3e55f9,null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetSecretKey\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetSecretKey'](_0x3e55f9):this['oJSPlayerObj']['PlayM4_SetSecretKey'](0x1,_0x3e55f9,0x80);}},{'key':'JSPlayM4_SetRunTimeInfoCallBackEx','value':function(_0x461107,_0x3ce7b4){return this['runtimeModule']=_0x461107,this['runtimeCBFun']=_0x3ce7b4,this['needSetRunTimeInfoCB']=!0x0,null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetRunTimeInfoCallBackEx\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetRunTimeInfoCallBackEx'](_0x461107,_0x3ce7b4):this['oJSPlayerObj']['PlayM4_SetRunTimeInfoCallBackEx'](_0x461107,_0x3ce7b4);}},{'key':'JSPlayM4_SetPlayOrBackSwitchMode','value':function(_0xd2c649){var _0x1a1e0e=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetPlayOrBackSwitchMode\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x1a1e0e=this['oJSPlayerObj']['JSPlayM4_SetPlayOrBackSwitchMode'](_0xd2c649):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20SetPlayOrBackSwitchMode','color:\x20red'),_0x1a1e0e);}},{'key':'JSPlayM4_SetStretchPlay','value':function(_0x55ca2c,_0x31b0c1){var _0x1e92fd=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetStretchPlay\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x1e92fd=this['oJSPlayerObj']['JSPlayM4_SetStretchPlay'](_0x55ca2c,_0x31b0c1):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20SetStretchPlay','color:\x20red'),_0x1e92fd);}},{'key':'JSPlayM4_SetAutoSmoothPlay','value':function(_0x5b5a62){var _0x25de60=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetAutoSmoothPlay\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x25de60=this['oJSPlayerObj']['JSPlayM4_SetAutoSmoothPlay'](_0x5b5a62):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20SetAutoSmoothPlay','color:\x20red'),_0x25de60);}},{'key':'JSPlayM4_KeepPlaySpeed','value':function(_0x3b271d){var _0x84b7b4=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_KeepPlaySpeed\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x84b7b4=this['oJSPlayerObj']['JSPlayM4_KeepPlaySpeed'](_0x3b271d):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20KeepPlaySpeed','color:\x20red'),_0x84b7b4);}},{'key':'JSPlayM4_IgnoreHeaderAudioDefine','value':function(_0x33eec3){var _0x402828=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_IgnoreHeaderAudioDefine\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x402828=this['oJSPlayerObj']['JSPlayM4_IgnoreHeaderAudioDefine'](_0x33eec3):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20IgnoreHeaderAudioDefine','color:\x20red'),_0x402828);}},{'key':'JSPlayM4_SetSycGroup','value':function(_0x142a5f){var _0x1b0c2c=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetSycGroup\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x1b0c2c=this['oJSPlayerObj']['JSPlayM4_SetSycGroup'](_0x142a5f):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20SetSycGroup','color:\x20red'),_0x1b0c2c);}},{'key':'JSPlayM4_FEC_SetCanvasID','value':function(){var _0x377f3f=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:null,_0x127949=0x1;return this['FECcanvasIDArray']=_0x377f3f['split'](','),null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_SetCanvasID\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x127949=this['oJSPlayerObj']['JSPlayM4_FEC_SetCanvasID'](_0x377f3f):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20FEC\x2020230922','color:\x20red'),_0x127949);}},{'key':'JSPlayM4_FEC_ResetCorrectType','value':function(_0x58979e,_0x2c6bb6,_0x3af3dd){var _0x5f09e9=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_ResetCorrectType\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x5f09e9=this['oJSPlayerObj']['JSPlayM4_FEC_ResetCorrectType'](_0x58979e,_0x2c6bb6,_0x3af3dd):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20FEC\x2020230922','color:\x20red'),_0x5f09e9);}},{'key':'JSPlayM4_FEC_GetPort','value':function(_0x4f211d,_0x4cf35b){var _0x3be2e4=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:null;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_GetPort\x20this.oJSPlayerObj\x20is\x20null'),-0x1):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_FEC_GetPort'](_0x4f211d,_0x4cf35b,_0x3be2e4):-0x1;}},{'key':'JSPlayM4_FEC_Enable','value':function(_0x4acf73){var _0x5439ae=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_Enable\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x5439ae=this['oJSPlayerObj']['JSPlayM4_FEC_Enable'](_0x4acf73):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20\x20FEC\x2020230922','color:\x20red'),_0x5439ae);}},{'key':'JSPlayM4_FEC_SetParam','value':function(_0x1971d6,_0x6d38a7){var _0x15b5bf=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_SetParam\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x15b5bf=this['oJSPlayerObj']['JSPlayM4_FEC_SetParam'](_0x1971d6,_0x6d38a7):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20\x20FEC\x2020230922','color:\x20red'),_0x15b5bf);}},{'key':'JSPlayM4_FEC_GetParam','value':function(_0x58166e){var _0x59f381=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:null;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_GetParam\x20this.oJSPlayerObj\x20is\x20null'),0x0):this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_FEC_GetParam'](_0x58166e,_0x59f381):(console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20\x20FEC\x2020230922','color:\x20red'),0x1);}},{'key':'JSPlayM4_FEC_SetViewParam','value':function(_0x304c8e,_0x5cfab9,_0xcc41b1){var _0x5410e0=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_SetViewParam\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x5410e0=this['oJSPlayerObj']['JSPlayM4_FEC_SetViewParam'](_0x304c8e,_0x5cfab9,_0xcc41b1):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20\x20FEC\x2020230922','color:\x20red'),_0x5410e0);}},{'key':'JSPlayM4_FEC_GetViewParam','value':function(_0x3b7fda,_0x14b2ba,_0x409311){var _0x138f0d=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_GetViewParam\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x138f0d=this['oJSPlayerObj']['JSPlayM4_FEC_GetViewParam'](_0x3b7fda,_0x14b2ba,_0x409311):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20\x20FEC\x2020230922','color:\x20red'),_0x138f0d);}},{'key':'JSPlayM4_FEC_SetWnd','value':function(_0x43fffb,_0x5d5130){var _0x41de54=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_SetWnd\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['CanvasSubPortMap']['set'](_0x43fffb,_0x5d5130),this['jsplayerVersion']>0x1?_0x41de54=this['oJSPlayerObj']['JSPlayM4_FEC_SetWnd'](_0x43fffb,_0x5d5130):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20FEC\x2020230922','color:\x20red'),_0x41de54);}},{'key':'JSPlayM4_FEC_Disable','value':function(){var _0x3ee664=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:0x0,_0x4456f9=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],_0x30fb42=arguments['length']>0x2&&void 0x0!==arguments[0x2]&&arguments[0x2],_0x5bd8e3=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_Disable\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x5bd8e3=this['oJSPlayerObj']['JSPlayM4_FEC_Disable'](_0x3ee664,_0x4456f9,_0x30fb42):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20FEC\x2020230922','color:\x20red'),_0x5bd8e3);}},{'key':'JSPlayM4_FEC_DelPort','value':function(_0xd83805){var _0x500db1=0x1;if(null===this['oJSPlayerObj'])return console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_DelPort\x20this.oJSPlayerObj\x20is\x20null'),0x0;var _0x93cdb9=this['CanvasSubPortMap']['get'](_0xd83805);this['jsplayerVersion']>0x1?_0x500db1=this['oJSPlayerObj']['JSPlayM4_FEC_DelPort'](_0xd83805):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20FEC\x2020230922','color:\x20red');var _0xb17273=document['getElementById'](_0x93cdb9);if(_0xb17273){var _0x17a186=_0xb17273['cloneNode'](!0x0);_0xb17273['parentNode']['replaceChild'](_0x17a186,_0xb17273);}return this['CanvasSubPortMap']['delete'](_0xd83805),_0x500db1;}},{'key':'JSPlayM4_FEC_SetDisplayRegion','value':function(_0x52ba25){var _0x50bee7=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,_0x210c46=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0x0,_0x124c1a=arguments['length']>0x3?arguments[0x3]:void 0x0,_0x456c00=arguments['length']>0x4&&void 0x0!==arguments[0x4]?arguments[0x4]:null,_0x488575=arguments['length']>0x5?arguments[0x5]:void 0x0,_0x331278=arguments['length']>0x6?arguments[0x6]:void 0x0,_0x4bfb90=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_SetDisplayRegion\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x4bfb90=this['oJSPlayerObj']['JSPlayM4_FEC_SetDisplayRegion'](_0x52ba25,_0x50bee7,_0x210c46,_0x124c1a,_0x456c00,_0x488575,_0x331278):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20FEC\x2020230922','color:\x20red'),_0x4bfb90);}},{'key':'JSPlayM4_FEC_SetBackCilling','value':function(_0x213d22,_0x10fb11){var _0x2b7a48=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_SetBackCilling\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x2b7a48=this['oJSPlayerObj']['JSPlayM4_FEC_SetBackCilling'](_0x213d22,_0x10fb11):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20FEC\x2020230922','color:\x20red'),_0x2b7a48);}},{'key':'JSPlayM4_FEC_GetPTZPort','value':function(_0x3c3299,_0x396838){var _0xeef44b=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0x0,_0x19e52c=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:null,_0x200f69=-0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_GetPTZPort\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x200f69=this['oJSPlayerObj']['JSPlayM4_FEC_GetPTZPort'](_0x3c3299,_0x396838,_0xeef44b,_0x19e52c):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20FEC\x2020230922','color:\x20red'),_0x200f69);}},{'key':'JSPlayM4_FEC_SetPTZDisplayMode','value':function(_0x52cb51){var _0x3a719c=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_FEC_SetPTZDisplayMode\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?_0x3a719c=this['oJSPlayerObj']['JSPlayM4_FEC_SetPTZDisplayMode'](_0x52cb51):console['log']('%c1>JSPlayerV1.X\x20does\x20not\x20support\x20FEC\x2020230922','color:\x20red'),_0x3a719c);}},{'key':'JSPlayM4_SetVideoCropInfo','value':function(_0x5a1c8e){var _0x14ed98=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetVideoCropInfo\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?console['log']('%c1>JSPlayerV3.X\x20does\x20not\x20support\x20SetVideoCropInfo,','color:\x20red'):_0x14ed98=this['oJSPlayerObj']['PlayM4_SetVideoCropInfo'](_0x5a1c8e),_0x14ed98);}},{'key':'JSPlayM4_IsVisible','value':function(_0x4d6de4){var _0x1b3e82=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_IsVisible\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?console['log']('%c1>JSPlayerV3.X\x20does\x20not\x20support\x20IsVisible,','color:\x20red'):_0x1b3e82=this['oJSPlayerObj']['PlayM4_IsVisible'](_0x4d6de4),_0x1b3e82);}},{'key':'JSPlayM4_SetInputBufSize','value':function(_0x501010){var _0x292782=0x1;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_SetInputBufSize\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['inputBufSize']=_0x501010,this['jsplayerVersion']>0x1?console['log']('%c1>JSPlayerV3.X\x20does\x20not\x20support\x20SetInputBufSize,','color:\x20red'):_0x292782=this['oJSPlayerObj']['PlayM4_SetInputBufSize'](_0x501010),_0x292782);}},{'key':'JSPlayM4_GetYUVBufSize','value':function(){var _0x1ed61b=0x0;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetYUVBufSize\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?console['log']('%c1>JSPlayerV3.X\x20does\x20not\x20support\x20GetYUVBufSize,','color:\x20red'):_0x1ed61b=this['oJSPlayerObj']['PlayM4_GetYUVBufSize'](),_0x1ed61b);}},{'key':'JSPlayM4_ClearCanvas','value':function(){var _0xcee2e4=0x0;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_ClearCanvas\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?console['log']('%c1>JSPlayerV3.X\x20does\x20not\x20support\x20ClearCanvas,','color:\x20red'):_0xcee2e4=this['oJSPlayerObj']['PlayM4_ClearCanvas'](),_0xcee2e4);}},{'key':'JSPlayM4_ReleaseInputBuffer','value':function(){var _0x2ed6ce=0x0;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_ReleaseInputBuffer\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?console['log']('%c1>JSPlayerV3.X\x20does\x20not\x20support\x20ReleaseInputBuffer,','color:\x20red'):_0x2ed6ce=this['oJSPlayerObj']['PlayM4_ReleaseInputBuffer'](),_0x2ed6ce);}},{'key':'JSPlayM4_GetDecodeFrameType','value':function(){var _0x5e5aea=0x0;return null===this['oJSPlayerObj']?(console['log']('>>>>>yff>>>\x20JSPlayM4_GetDecodeFrameType\x20this.oJSPlayerObj\x20is\x20null'),0x0):(this['jsplayerVersion']>0x1?console['log']('%c1>JSPlayerV3.X\x20does\x20not\x20support\x20GetDecodeFrameType,','color:\x20red'):_0x5e5aea=this['oJSPlayerObj']['PlayM4_GetDecodeFrameType'](),_0x5e5aea);}},{'key':'JSPlayM4_SetWaterMarkFont','value':function(_0x8d26ab){if(null===this['oJSPlayerObj'])return console['log']('>>>>>yff>>>\x20JSPlayM4_SetWaterMarkFont\x20this.oJSPlayerObj\x20is\x20null'),0x0;if(null!=_0x8d26ab){if(void 0x0===_0x8d26ab['pFontString']||null==_0x8d26ab['pstStartPos']||null==_0x8d26ab['pstFontColor']||null==_0x8d26ab['pstFontSize']||null==_0x8d26ab['pstFontRotate']||null==_0x8d26ab['pFontFamily']||null==_0x8d26ab['pstStartPos']['fX']||null==_0x8d26ab['pstStartPos']['fY']||null==_0x8d26ab['pstFontColor']['fR']||null==_0x8d26ab['pstFontColor']['fG']||null==_0x8d26ab['pstFontColor']['fB']||null==_0x8d26ab['pstFontColor']['fA']||null==_0x8d26ab['pstFontSize']['nFontWidth']||null==_0x8d26ab['pstFontSize']['nFontHeight']||null==_0x8d26ab['pstFontRotate']['fRotateAngle']||null==_0x8d26ab['pstFontRotate']['fFillFullScreen']||null==_0x8d26ab['pSpace'])return console['log']('>>>>>yff>>>\x20JSPlayM4_SetWaterMarkFont\x20pFontParam\x20undefined'),0x0;if(_0x8d26ab['pstStartPos']['fX']>0x1||_0x8d26ab['pstStartPos']['fX']<0x0||_0x8d26ab['pstStartPos']['fY']>0x1||_0x8d26ab['pstStartPos']['fY']<0x0||_0x8d26ab['pstFontColor']['fR']>0x1||_0x8d26ab['pstFontColor']['fR']<0x0||_0x8d26ab['pstFontColor']['fG']>0x1||_0x8d26ab['pstFontColor']['fG']<0x0||_0x8d26ab['pstFontColor']['fB']>0x1||_0x8d26ab['pstFontColor']['fB']<0x0||_0x8d26ab['pstFontColor']['fA']>0x1||_0x8d26ab['pstFontColor']['fA']<0x0)return console['log']('>>>>>yff>>>\x20JSPlayM4_SetWaterMarkFont\x20pFontParam\x20f*\x20is\x200~1'),0x0;if(0x1!=_0x8d26ab['pstFontRotate']['fFillFullScreen']&&0x0!=_0x8d26ab['pstFontRotate']['fFillFullScreen']&&0x1!=_0x8d26ab['pstFontRotate']['fFillFullScreen']&&0x0!=_0x8d26ab['pstFontRotate']['fFillFullScreen'])return console['log']('>>>>>yff>>>\x20pFontParam.pstFontRotate.fFillFullScreen\x20is\x20true\x20or\x20false'),0x0;if(_0x8d26ab['pstFontRotate']['fFillFullScreen']&&(_0x8d26ab['pstFontNumber']['nRowNumber']<0x3||_0x8d26ab['pstFontNumber']['nColNumber']<0x3||null==_0x8d26ab['pstFontNumber']['nRowNumber']||null==_0x8d26ab['pstFontNumber']['nColNumber']||_0x8d26ab['pstFontNumber']['nRowNumber']>0xd||_0x8d26ab['pstFontNumber']['nColNumber']>0xd))return console['log']('>>>>>yff>>>\x20pFontParam.pstFontNumber\x20row/col\x20num\x20should\x20be\x20greater\x20than\x202\x20and\x20les\x20than\x2013'),0x0;if('string'!=typeof _0x8d26ab['pFontFamily'])return console['log']('>>>>>yff>>>\x20pFontParam.pFontFamily\x20is\x20not\x20string'),0x0;if(!Array['isArray'](_0x8d26ab['pFontString']))return console['log']('>>>>>yff>>>\x20pFontParam.pFontString\x20is\x20not\x20array'),0x0;(_0x8d26ab['pstFontSize']['nFontHeight']<=0x0||_0x8d26ab['pstFontSize']['nFontWidth']<=0x0)&&(_0x8d26ab=null),null!=_0x8d26ab['nFontAlign']&&null!=_0x8d26ab['nFontAlign']||(_0x8d26ab['nFontAlign']=0x0),null!=_0x8d26ab['nColorAdapt']&&null!=_0x8d26ab['nColorAdapt']||(_0x8d26ab['nColorAdapt']=0x0);}return this['waterFontParam']=_0x8d26ab,this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetWaterMarkFont'](_0x8d26ab):this['oJSPlayerObj']['PlayM4_SetWaterMarkFont'](_0x8d26ab);}},{'key':'JSPlayM4_SetWaterMarkImage','value':function(_0x330b1a){if(null===this['oJSPlayerObj'])return console['log']('>>>>>yff>>>\x20JSPlayM4_SetWaterMarkImage\x20this.oJSPlayerObj\x20is\x20null'),0x0;if(!('ImageDecoder'in window))return console['log']('>>>>>yff>>>\x20window\x20not\x20support\x20ImageDecoder'),0x10;if(null!=_0x330b1a){if(void 0x0===_0x330b1a['pImageData'])return console['log']('>>>>>yff>>>\x20JSPlayM4_SetWaterMarkImage\x20pImageParam.pImageData\x20undefined'),0x0;if(void 0x0===_0x330b1a['pImageType']||'jpg'!=_0x330b1a['pImageType']&&'jpeg'!=_0x330b1a['pImageType']&&'png'!=_0x330b1a['pImageType']&&'gif'!=_0x330b1a['pImageType']&&'bmp'!=_0x330b1a['pImageType']&&'webp'!=_0x330b1a['pImageType']&&'avif'!=_0x330b1a['pImageType'])return console['log']('>>>>>yff>>>\x20JSPlayM4_SetWaterMarkImage\x20pImageParam.pImageType:'+_0x330b1a['pImageType']+'\x20error'),0x0;(void 0x0===_0x330b1a['pstRectPos']||_0x330b1a['fLeft']<0x0||_0x330b1a['fLeft']>0x1||_0x330b1a['fRight']<0x0||_0x330b1a['fRight']>0x1||_0x330b1a['fTop']<0x0||_0x330b1a['fTop']>0x1||_0x330b1a['fBottom']<0x0||_0x330b1a['fBottom']>0x1)&&(_0x330b1a['pstRectPos']={'fLeft':0x0,'fRight':0.1,'fTop':0x0,'fBottom':0.1}),(void 0x0===_0x330b1a['fAlpha']||_0x330b1a['fAlpha']<0x0||_0x330b1a['fAlpha']>0x1)&&(_0x330b1a['fAlpha']=0x1);}return this['waterImageParam']=_0x330b1a,this['jsplayerVersion']>0x1?this['oJSPlayerObj']['JSPlayM4_SetWaterMarkImage'](_0x330b1a):this['oJSPlayerObj']['PlayM4_SetWaterMarkImage'](_0x330b1a);}},{'key':'_downloadFile','value':function(_0x12abfa,_0x2091c4){var _0x41e0b8=_0x12abfa;_0x12abfa instanceof Blob||_0x12abfa instanceof File||(_0x41e0b8=new Blob([_0x12abfa]));var _0x53bec7=window['URL']['createObjectURL'](_0x41e0b8),_0x1efabd=window['document']['createElement']('a');_0x1efabd['href']=_0x53bec7,_0x1efabd['download']=_0x2091c4;var _0x40b55a=document['createEvent']('MouseEvents');_0x40b55a['initEvent']('click',!0x0,!0x0),_0x1efabd['dispatchEvent'](_0x40b55a);}},{'key':'downloadRTPData','value':function(_0x216341){if(this['bWriteData']){var _0x4c6dc8=_0x216341,_0x42ea65=this['aTotalBuffer']['length'];console['log']('totalLength:'+_0x42ea65);for(var _0x4d8b39=0x0,_0x5d8c6e=_0x4c6dc8['length'];_0x4d8b39<_0x5d8c6e;_0x4d8b39++)this['aTotalBuffer'][_0x42ea65+_0x4d8b39]=_0x4c6dc8[_0x4d8b39];this['iFrameNum']++,_0x4c6dc8=null,console['log']('download200RTPdata\x20iFrameNum:'+this['iFrameNum']);}if(this['bWriteData']&&this['iFrameNum']>=0x64){console['log']('download100RawData');var _0x3bbb0b=new Uint8Array(this['aTotalBuffer']);this['_downloadFile'](_0x3bbb0b,'Raw100.data'),this['aTotalBuffer']['splice'](0x0,this['aTotalBuffer']['length']),this['bWriteData']=!0x1,this['iFrameNum']=0x0,_0x3bbb0b=null;}}}]),_0x2bc217;}();window['_getFExplore']=function(){var _0x51d7b4,_0x7a0500={},_0x464424=navigator['userAgent']['toLowerCase']();if((_0x51d7b4=_0x464424['match'](/rv:([\d.]+)\) like gecko/))||(_0x51d7b4=_0x464424['match'](/msie ([\d\.]+)/))?_0x7a0500['ie']=_0x51d7b4[0x1]:(_0x51d7b4=_0x464424['match'](/edge\/([\d\.]+)/))?_0x7a0500['edge']=_0x51d7b4[0x1]:(_0x51d7b4=_0x464424['match'](/firefox\/([\d\.]+)/))?_0x7a0500['firefox']=_0x51d7b4[0x1]:(_0x51d7b4=_0x464424['match'](/(?:opera|opr).([\d\.]+)/))?_0x7a0500['opera']=_0x51d7b4[0x1]:(_0x51d7b4=_0x464424['match'](/chrome\/([\d\.]+)/))?_0x7a0500['chrome']=_0x51d7b4[0x1]:(_0x51d7b4=_0x464424['match'](/version\/([\d\.]+).*safari/))&&(_0x7a0500['safari']=_0x51d7b4[0x1]),_0x7a0500['chrome']){var _0x819d58=_0x7a0500['chrome'],_0x2a09f0=_0x819d58['indexOf']('.');return Number(_0x819d58['substring'](0x0,_0x2a09f0));}return _0x7a0500['ie']?console['info']('%c1>your\x20browser\x20is\x20IE\x20,it\x20does\x20not\x20support\x20play\x20without\x20plugin','color:\x20red'):_0x7a0500['safari']?console['info']('%c1>your\x20browser\x20is\x20safari','color:\x20red'):_0x7a0500['firefox']?console['info']('%c1>your\x20browser\x20is\x20Firefox','color:\x20red'):console['info']('%c1>your\x20browser\x20does\x20not\x20support\x20play\x20without\x20plugin','color:\x20red'),-0x1;},window['_getFSupportWebCodecs']=function(){return 'undefined'!=typeof MediaMetadata&&'undefined'!=typeof MediaRecorder&&'undefined'!=typeof VideoDecoder;},window['_getFSupportSIMD']=function(){return new Promise(function(_0xdb8224,_0xc9c2c1){_0x15f39a()['then'](function(_0x3252ae){_0x3252ae?_0xdb8224():_0xc9c2c1();});});};})(),_0x190fe1;})();});})(wasmplayer_min);var wasmplayer_minExports=wasmplayer_min.exports;

	class Tool {
	  constructor() {
	    //to do
	    this._keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
	  }
	  $(strExpr) {
	    var idExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
	    var classExpr = /^(?:\s*(<[\w\W]+>)[^>]*|.([\w-]*))$/;
	    if (idExpr.test(strExpr)) {
	      var idMatch = idExpr.exec(strExpr);
	      return document.getElementById(idMatch[2]);
	    } else if (classExpr.test(strExpr)) {
	      var classMatch = classExpr.exec(strExpr);
	      var allElement = document.getElementsByTagName("*");
	      var ClassMatch = [];
	      for (var i = 0, l = allElement.length; i < l; i++) {
	        if (allElement[i].className.match(new RegExp("(\\s|^)" + classMatch[2] + "(\\s|$)"))) {
	          ClassMatch.push(allElement[i]);
	        }
	      }
	      return ClassMatch;
	    }
	  }

	  /**
	   * @synopsis 时间日期格式化
	   *
	   * @param {objcet} oDate 时间
	   * @param {string} fmt 格式 yyyy-MM-dd
	   *
	   * @returns {string} 格式化后的时间
	   */
	  dateFormat(oDate, fmt) {
	    var o = {
	      "M+": oDate.getMonth() + 1,
	      //月份
	      "d+": oDate.getDate(),
	      //日
	      "h+": oDate.getHours(),
	      //小时
	      "m+": oDate.getMinutes(),
	      //分
	      "s+": oDate.getSeconds(),
	      //秒
	      "q+": Math.floor((oDate.getMonth() + 3) / 3),
	      //季度
	      "S": oDate.getMilliseconds() //毫秒
	    };

	    if (/(y+)/.test(fmt)) {
	      fmt = fmt.replace(RegExp.$1, (oDate.getFullYear() + "").substr(4 - RegExp.$1.length));
	    }
	    for (var k in o) {
	      if (new RegExp("(" + k + ")").test(fmt)) {
	        fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? o[k] : ("00" + o[k]).substr(("" + o[k]).length));
	      }
	    }
	    return fmt;
	  }

	  /**
	   * @synopsis 下载文件
	   *
	   * @param {object} oData 数据 File对象或者Blob对象或者ArrayBuffer对象
	   * @param {string} szName 下载文件名
	   * @returns {none} 无返回
	   */
	  downloadFile(oData, szName) {
	    let oBlob = oData;
	    if (!(oData instanceof Blob || oData instanceof File)) {
	      oBlob = new Blob([oData]);
	    }
	    var szFileUrl = window.URL.createObjectURL(oBlob);
	    var oLink = window.document.createElement("a");
	    oLink.href = szFileUrl;
	    oLink.download = szName;
	    var oClick = document.createEvent("MouseEvents");
	    oClick.initEvent("click", true, true);
	    oLink.dispatchEvent(oClick);
	  }
	  //创建xml DOM对象
	  createxmlDoc() {
	    var xmlDoc;
	    var aVersions = ["MSXML2.DOMDocument", "MSXML2.DOMDocument.5.0", "MSXML2.DOMDocument.4.0", "MSXML2.DOMDocument.3.0", "Microsoft.XmlDom"];
	    for (var i = 0, len = aVersions.length; i < len; i++) {
	      try {
	        xmlDoc = new ActiveXObject(aVersions[i]);
	        break;
	      } catch (e) {
	        xmlDoc = document.implementation.createDocument("", "", null);
	        break;
	      }
	    }
	    xmlDoc.async = "false";
	    return xmlDoc;
	  }
	  //从xml字符串中解析xml
	  parseXmlFromStr(szXml) {
	    if (null === szXml || '' === szXml) {
	      return null;
	    }
	    var xmlDoc = this.createxmlDoc();
	    if (navigator.appName === "Netscape" || navigator.appName === "Opera") {
	      var oParser = new DOMParser();
	      xmlDoc = oParser.parseFromString(szXml, "text/xml");
	    } else {
	      xmlDoc.loadXML(szXml);
	    }
	    return xmlDoc;
	  }
	  // public method for encoding
	  encode(input) {
	    var output = "";
	    var chr1;
	    var chr2;
	    var chr3;
	    var enc1;
	    var enc2;
	    var enc3;
	    var enc4;
	    var i = 0;
	    input = this._utf8_encode(input);
	    while (i < input.length) {
	      chr1 = input.charCodeAt(i++);
	      chr2 = input.charCodeAt(i++);
	      chr3 = input.charCodeAt(i++);
	      enc1 = chr1 >> 2;
	      enc2 = (chr1 & 3) << 4 | chr2 >> 4;
	      enc3 = (chr2 & 15) << 2 | chr3 >> 6;
	      enc4 = chr3 & 63;
	      if (isNaN(chr2)) {
	        enc3 = enc4 = 64;
	      } else if (isNaN(chr3)) {
	        enc4 = 64;
	      }
	      output = output + this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) + this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);
	    }
	    return output;
	  }
	  // public method for decoding
	  decode(input) {
	    var output = "";
	    var chr1;
	    var chr2;
	    var chr3;
	    var enc1;
	    var enc2;
	    var enc3;
	    var enc4;
	    var i = 0;
	    input = input.replace(/[^A-Za-z0-9+/=]/g, "");
	    while (i < input.length) {
	      enc1 = this._keyStr.indexOf(input.charAt(i++));
	      enc2 = this._keyStr.indexOf(input.charAt(i++));
	      enc3 = this._keyStr.indexOf(input.charAt(i++));
	      enc4 = this._keyStr.indexOf(input.charAt(i++));
	      chr1 = enc1 << 2 | enc2 >> 4;
	      chr2 = (enc2 & 15) << 4 | enc3 >> 2;
	      chr3 = (enc3 & 3) << 6 | enc4;
	      output = output + String.fromCharCode(chr1);
	      if (enc3 !== 64) {
	        output = output + String.fromCharCode(chr2);
	      }
	      if (enc4 !== 64) {
	        output = output + String.fromCharCode(chr3);
	      }
	    }
	    output = this._utf8_decode(output);
	    return output;
	  }
	  // private method for UTF-8 encoding
	  _utf8_encode(string) {
	    string = string.replace(/\r\n/g, "\n");
	    var utftext = "";
	    for (var n = 0; n < string.length; n++) {
	      var c = string.charCodeAt(n);
	      if (c < 128) {
	        utftext += String.fromCharCode(c);
	      } else if (c > 127 && c < 2048) {
	        utftext += String.fromCharCode(c >> 6 | 192);
	        utftext += String.fromCharCode(c & 63 | 128);
	      } else {
	        utftext += String.fromCharCode(c >> 12 | 224);
	        utftext += String.fromCharCode(c >> 6 & 63 | 128);
	        utftext += String.fromCharCode(c & 63 | 128);
	      }
	    }
	    return utftext;
	  }
	  // private method for UTF-8 decoding
	  _utf8_decode(utftext) {
	    var string = "";
	    var i = 0;
	    var c = 0;
	    //var c1 = 0;
	    var c2 = 0;
	    while (i < utftext.length) {
	      c = utftext.charCodeAt(i);
	      if (c < 128) {
	        string += String.fromCharCode(c);
	        i++;
	      } else if (c > 191 && c < 224) {
	        c2 = utftext.charCodeAt(i + 1);
	        string += String.fromCharCode((c & 31) << 6 | c2 & 63);
	        i += 2;
	      } else {
	        c2 = utftext.charCodeAt(i + 1);
	        var c3 = utftext.charCodeAt(i + 2);
	        string += String.fromCharCode((c & 15) << 12 | (c2 & 63) << 6 | c3 & 63);
	        i += 3;
	      }
	    }
	    return string;
	  }
	  isFirefox() {
	    var bRet = false;
	    var szUserAgent = navigator.userAgent.toLowerCase();
	    var szBrowserVersion = "";
	    var iBrowserVersion = -1;
	    if (szUserAgent.match(/firefox\/([\d.]+)/)) {
	      szBrowserVersion = szUserAgent.match(/firefox\/([\d.]+)/)[1];
	      iBrowserVersion = parseInt(szBrowserVersion.split(".")[0], 10);
	      if (iBrowserVersion > -1) {
	        bRet = true;
	      }
	    }
	    return bRet;
	  }
	  isSafari() {
	    var bRet = false;
	    var szUserAgent = navigator.userAgent.toLowerCase();
	    var szBrowserVersion = "";
	    var iBrowserVersion = -1;
	    if (szUserAgent.match(/version\/([\d.]+).safari./)) {
	      szBrowserVersion = szUserAgent.match(/version\/([\d.]+).safari./)[1];
	      iBrowserVersion = parseInt(szBrowserVersion.split(".")[0], 10);
	      if (iBrowserVersion > -1) {
	        bRet = true;
	      }
	    }
	    /*if (/safari/.test(szUserAgent) && !/chrome/.test(szUserAgent)) {
	        bRet = true;
	    }*/
	    return bRet;
	  }
	  isEdge() {
	    return navigator.userAgent.toLowerCase().indexOf("edge") > -1;
	  }
	  isIOS() {
	    let u = navigator.userAgent;
	    let bIOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
	    return bIOS;
	  }
	}
	let oTool = new Tool();

	var uaParser_min = {exports: {}};

	/* UAParser.js v0.7.37
	   Copyright © 2012-2021 Faisal Salman <f@faisalman.com>
	   MIT License */
	(function (module, exports) {
	  (function (window, undefined$1) {

	    var LIBVERSION = "0.7.37",
	      EMPTY = "",
	      UNKNOWN = "?",
	      FUNC_TYPE = "function",
	      UNDEF_TYPE = "undefined",
	      OBJ_TYPE = "object",
	      STR_TYPE = "string",
	      MAJOR = "major",
	      MODEL = "model",
	      NAME = "name",
	      TYPE = "type",
	      VENDOR = "vendor",
	      VERSION = "version",
	      ARCHITECTURE = "architecture",
	      CONSOLE = "console",
	      MOBILE = "mobile",
	      TABLET = "tablet",
	      SMARTTV = "smarttv",
	      WEARABLE = "wearable",
	      EMBEDDED = "embedded",
	      UA_MAX_LENGTH = 500;
	    var AMAZON = "Amazon",
	      APPLE = "Apple",
	      ASUS = "ASUS",
	      BLACKBERRY = "BlackBerry",
	      BROWSER = "Browser",
	      CHROME = "Chrome",
	      EDGE = "Edge",
	      FIREFOX = "Firefox",
	      GOOGLE = "Google",
	      HUAWEI = "Huawei",
	      LG = "LG",
	      MICROSOFT = "Microsoft",
	      MOTOROLA = "Motorola",
	      OPERA = "Opera",
	      SAMSUNG = "Samsung",
	      SHARP = "Sharp",
	      SONY = "Sony",
	      XIAOMI = "Xiaomi",
	      ZEBRA = "Zebra",
	      FACEBOOK = "Facebook",
	      CHROMIUM_OS = "Chromium OS",
	      MAC_OS = "Mac OS";
	    var extend = function (regexes, extensions) {
	        var mergedRegexes = {};
	        for (var i in regexes) {
	          if (extensions[i] && extensions[i].length % 2 === 0) {
	            mergedRegexes[i] = extensions[i].concat(regexes[i]);
	          } else {
	            mergedRegexes[i] = regexes[i];
	          }
	        }
	        return mergedRegexes;
	      },
	      enumerize = function (arr) {
	        var enums = {};
	        for (var i = 0; i < arr.length; i++) {
	          enums[arr[i].toUpperCase()] = arr[i];
	        }
	        return enums;
	      },
	      has = function (str1, str2) {
	        return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;
	      },
	      lowerize = function (str) {
	        return str.toLowerCase();
	      },
	      majorize = function (version) {
	        return typeof version === STR_TYPE ? version.replace(/[^\d\.]/g, EMPTY).split(".")[0] : undefined$1;
	      },
	      trim = function (str, len) {
	        if (typeof str === STR_TYPE) {
	          str = str.replace(/^\s\s*/, EMPTY);
	          return typeof len === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);
	        }
	      };
	    var rgxMapper = function (ua, arrays) {
	        var i = 0,
	          j,
	          k,
	          p,
	          q,
	          matches,
	          match;
	        while (i < arrays.length && !matches) {
	          var regex = arrays[i],
	            props = arrays[i + 1];
	          j = k = 0;
	          while (j < regex.length && !matches) {
	            if (!regex[j]) {
	              break;
	            }
	            matches = regex[j++].exec(ua);
	            if (!!matches) {
	              for (p = 0; p < props.length; p++) {
	                match = matches[++k];
	                q = props[p];
	                if (typeof q === OBJ_TYPE && q.length > 0) {
	                  if (q.length === 2) {
	                    if (typeof q[1] == FUNC_TYPE) {
	                      this[q[0]] = q[1].call(this, match);
	                    } else {
	                      this[q[0]] = q[1];
	                    }
	                  } else if (q.length === 3) {
	                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {
	                      this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined$1;
	                    } else {
	                      this[q[0]] = match ? match.replace(q[1], q[2]) : undefined$1;
	                    }
	                  } else if (q.length === 4) {
	                    this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined$1;
	                  }
	                } else {
	                  this[q] = match ? match : undefined$1;
	                }
	              }
	            }
	          }
	          i += 2;
	        }
	      },
	      strMapper = function (str, map) {
	        for (var i in map) {
	          if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {
	            for (var j = 0; j < map[i].length; j++) {
	              if (has(map[i][j], str)) {
	                return i === UNKNOWN ? undefined$1 : i;
	              }
	            }
	          } else if (has(map[i], str)) {
	            return i === UNKNOWN ? undefined$1 : i;
	          }
	        }
	        return str;
	      };
	    var oldSafariMap = {
	        "1.0": "/8",
	        1.2: "/1",
	        1.3: "/3",
	        "2.0": "/412",
	        "2.0.2": "/416",
	        "2.0.3": "/417",
	        "2.0.4": "/419",
	        "?": "/"
	      },
	      windowsVersionMap = {
	        ME: "4.90",
	        "NT 3.11": "NT3.51",
	        "NT 4.0": "NT4.0",
	        2e3: "NT 5.0",
	        XP: ["NT 5.1", "NT 5.2"],
	        Vista: "NT 6.0",
	        7: "NT 6.1",
	        8: "NT 6.2",
	        8.1: "NT 6.3",
	        10: ["NT 6.4", "NT 10.0"],
	        RT: "ARM"
	      };
	    var regexes = {
	      browser: [[/\b(?:crmo|crios)\/([\w\.]+)/i], [VERSION, [NAME, "Chrome"]], [/edg(?:e|ios|a)?\/([\w\.]+)/i], [VERSION, [NAME, "Edge"]], [/(opera mini)\/([-\w\.]+)/i, /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i, /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i], [NAME, VERSION], [/opios[\/ ]+([\w\.]+)/i], [VERSION, [NAME, OPERA + " Mini"]], [/\bopr\/([\w\.]+)/i], [VERSION, [NAME, OPERA]], [/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i], [VERSION, [NAME, "Baidu"]], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i, /(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i, /(?:ms|\()(ie) ([\w\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i, /(heytap|ovi)browser\/([\d\.]+)/i, /(weibo)__([\d\.]+)/i], [NAME, VERSION], [/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i], [VERSION, [NAME, "UC" + BROWSER]], [/microm.+\bqbcore\/([\w\.]+)/i, /\bqbcore\/([\w\.]+).+microm/i, /micromessenger\/([\w\.]+)/i], [VERSION, [NAME, "WeChat"]], [/konqueror\/([\w\.]+)/i], [VERSION, [NAME, "Konqueror"]], [/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i], [VERSION, [NAME, "IE"]], [/ya(?:search)?browser\/([\w\.]+)/i], [VERSION, [NAME, "Yandex"]], [/slbrowser\/([\w\.]+)/i], [VERSION, [NAME, "Smart Lenovo " + BROWSER]], [/(avast|avg)\/([\w\.]+)/i], [[NAME, /(.+)/, "$1 Secure " + BROWSER], VERSION], [/\bfocus\/([\w\.]+)/i], [VERSION, [NAME, FIREFOX + " Focus"]], [/\bopt\/([\w\.]+)/i], [VERSION, [NAME, OPERA + " Touch"]], [/coc_coc\w+\/([\w\.]+)/i], [VERSION, [NAME, "Coc Coc"]], [/dolfin\/([\w\.]+)/i], [VERSION, [NAME, "Dolphin"]], [/coast\/([\w\.]+)/i], [VERSION, [NAME, OPERA + " Coast"]], [/miuibrowser\/([\w\.]+)/i], [VERSION, [NAME, "MIUI " + BROWSER]], [/fxios\/([-\w\.]+)/i], [VERSION, [NAME, FIREFOX]], [/\bqihu|(qi?ho?o?|360)browser/i], [[NAME, "360 " + BROWSER]], [/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i], [[NAME, /(.+)/, "$1 " + BROWSER], VERSION], [/samsungbrowser\/([\w\.]+)/i], [VERSION, [NAME, SAMSUNG + " Internet"]], [/(comodo_dragon)\/([\w\.]+)/i], [[NAME, /_/g, " "], VERSION], [/metasr[\/ ]?([\d\.]+)/i], [VERSION, [NAME, "Sogou Explorer"]], [/(sogou)mo\w+\/([\d\.]+)/i], [[NAME, "Sogou Mobile"], VERSION], [/(electron)\/([\w\.]+) safari/i, /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i, /m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i], [NAME, VERSION], [/(lbbrowser)/i, /\[(linkedin)app\]/i], [NAME], [/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i], [[NAME, FACEBOOK], VERSION], [/(Klarna)\/([\w\.]+)/i, /(kakao(?:talk|story))[\/ ]([\w\.]+)/i, /(naver)\(.*?(\d+\.[\w\.]+).*\)/i, /safari (line)\/([\w\.]+)/i, /\b(line)\/([\w\.]+)\/iab/i, /(alipay)client\/([\w\.]+)/i, /(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i], [NAME, VERSION], [/\bgsa\/([\w\.]+) .*safari\//i], [VERSION, [NAME, "GSA"]], [/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i], [VERSION, [NAME, "TikTok"]], [/headlesschrome(?:\/([\w\.]+)| )/i], [VERSION, [NAME, CHROME + " Headless"]], [/ wv\).+(chrome)\/([\w\.]+)/i], [[NAME, CHROME + " WebView"], VERSION], [/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i], [VERSION, [NAME, "Android " + BROWSER]], [/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i], [NAME, VERSION], [/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i], [VERSION, [NAME, "Mobile Safari"]], [/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i], [VERSION, NAME], [/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i], [NAME, [VERSION, strMapper, oldSafariMap]], [/(webkit|khtml)\/([\w\.]+)/i], [NAME, VERSION], [/(navigator|netscape\d?)\/([-\w\.]+)/i], [[NAME, "Netscape"], VERSION], [/mobile vr; rv:([\w\.]+)\).+firefox/i], [VERSION, [NAME, FIREFOX + " Reality"]], [/ekiohf.+(flow)\/([\w\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i, /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i, /(firefox)\/([\w\.]+)/i, /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i, /(links) \(([\w\.]+)/i, /panasonic;(viera)/i], [NAME, VERSION], [/(cobalt)\/([\w\.]+)/i], [NAME, [VERSION, /master.|lts./, ""]]],
	      cpu: [[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i], [[ARCHITECTURE, "amd64"]], [/(ia32(?=;))/i], [[ARCHITECTURE, lowerize]], [/((?:i[346]|x)86)[;\)]/i], [[ARCHITECTURE, "ia32"]], [/\b(aarch64|arm(v?8e?l?|_?64))\b/i], [[ARCHITECTURE, "arm64"]], [/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i], [[ARCHITECTURE, "armhf"]], [/windows (ce|mobile); ppc;/i], [[ARCHITECTURE, "arm"]], [/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [/(sun4\w)[;\)]/i], [[ARCHITECTURE, "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i], [[ARCHITECTURE, lowerize]]],
	      device: [[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i, /samsung[- ]([-\w]+)/i, /sec-(sgh\w+)/i], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [/\((ipad);[-\w\),; ]+apple/i, /applecoremedia\/[\w\.]+ \((ipad)/i, /\b(ipad)\d\d?,\d\d?[;\]].+ios/i], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [/(macintosh);/i], [MODEL, [VENDOR, APPLE]], [/\b(sh-?[altvz]?\d\d[a-ekm]?)/i], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [/(?:huawei|honor)([-\w ]+)[;\)]/i, /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i, /\b; (\w+) build\/hm\1/i, /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i, /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i, /oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i, /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i], [[MODEL, /_/g, " "], [VENDOR, XIAOMI], [TYPE, MOBILE]], [/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i, /\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i], [[MODEL, /_/g, " "], [VENDOR, XIAOMI], [TYPE, TABLET]], [/; (\w+) bui.+ oppo/i, /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i], [MODEL, [VENDOR, "OPPO"], [TYPE, MOBILE]], [/vivo (\w+)(?: bui|\))/i, /\b(v[12]\d{3}\w?[at])(?: bui|;)/i], [MODEL, [VENDOR, "Vivo"], [TYPE, MOBILE]], [/\b(rmx[1-3]\d{3})(?: bui|;|\))/i], [MODEL, [VENDOR, "Realme"], [TYPE, MOBILE]], [/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i, /\bmot(?:orola)?[- ](\w*)/i, /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [/\b(mz60\d|xoom[2 ]{0,2}) build\//i], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i, /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i, /\blg-?([\d\w]+) bui/i], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [/(ideatab[-\w ]+)/i, /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i], [MODEL, [VENDOR, "Lenovo"], [TYPE, TABLET]], [/(?:maemo|nokia).*(n900|lumia \d+)/i, /nokia[-_ ]?([-\w\.]*)/i], [[MODEL, /_/g, " "], [VENDOR, "Nokia"], [TYPE, MOBILE]], [/(pixel c)\b/i], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [/sony tablet [ps]/i, /\b(?:sony)?sgp\w+(?: bui|\))/i], [[MODEL, "Xperia Tablet"], [VENDOR, SONY], [TYPE, TABLET]], [/ (kb2005|in20[12]5|be20[12][59])\b/i, /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i], [MODEL, [VENDOR, "OnePlus"], [TYPE, MOBILE]], [/(alexa)webm/i, /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i, /(kf[a-z]+)( bui|\)).+silk\//i], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i], [[MODEL, /(.+)/g, "Fire Phone $1"], [VENDOR, AMAZON], [TYPE, MOBILE]], [/(playbook);[-\w\),; ]+(rim)/i], [MODEL, VENDOR, [TYPE, TABLET]], [/\b((?:bb[a-f]|st[hv])100-\d)/i, /\(bb10; (\w+)/i], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [/(nexus 9)/i], [MODEL, [VENDOR, "HTC"], [TYPE, TABLET]], [/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i, /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i, /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i], [VENDOR, [MODEL, /_/g, " "], [TYPE, MOBILE]], [/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i], [MODEL, [VENDOR, "Acer"], [TYPE, TABLET]], [/droid.+; (m[1-5] note) bui/i, /\bmz-([-\w]{2,})/i], [MODEL, [VENDOR, "Meizu"], [TYPE, MOBILE]], [/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i], [MODEL, [VENDOR, "Ulefone"], [TYPE, MOBILE]], [/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i, /(hp) ([\w ]+\w)/i, /(asus)-?(\w+)/i, /(microsoft); (lumia[\w ]+)/i, /(lenovo)[-_ ]?([-\w]+)/i, /(jolla)/i, /(oppo) ?([\w ]+) bui/i], [VENDOR, MODEL, [TYPE, MOBILE]], [/(kobo)\s(ereader|touch)/i, /(archos) (gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\/([\w\.]+)/i, /(nook)[\w ]+build\/(\w+)/i, /(dell) (strea[kpr\d ]*[\dko])/i, /(le[- ]+pan)[- ]+(\w{1,9}) bui/i, /(trinity)[- ]*(t\d{3}) bui/i, /(gigaset)[- ]+(q\w{1,9}) bui/i, /(vodafone) ([\w ]+)(?:\)| bui)/i], [VENDOR, MODEL, [TYPE, TABLET]], [/(surface duo)/i], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [/droid [\d\.]+; (fp\du?)(?: b|\))/i], [MODEL, [VENDOR, "Fairphone"], [TYPE, MOBILE]], [/(u304aa)/i], [MODEL, [VENDOR, "AT&T"], [TYPE, MOBILE]], [/\bsie-(\w*)/i], [MODEL, [VENDOR, "Siemens"], [TYPE, MOBILE]], [/\b(rct\w+) b/i], [MODEL, [VENDOR, "RCA"], [TYPE, TABLET]], [/\b(venue[\d ]{2,7}) b/i], [MODEL, [VENDOR, "Dell"], [TYPE, TABLET]], [/\b(q(?:mv|ta)\w+) b/i], [MODEL, [VENDOR, "Verizon"], [TYPE, TABLET]], [/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i], [MODEL, [VENDOR, "Barnes & Noble"], [TYPE, TABLET]], [/\b(tm\d{3}\w+) b/i], [MODEL, [VENDOR, "NuVision"], [TYPE, TABLET]], [/\b(k88) b/i], [MODEL, [VENDOR, "ZTE"], [TYPE, TABLET]], [/\b(nx\d{3}j) b/i], [MODEL, [VENDOR, "ZTE"], [TYPE, MOBILE]], [/\b(gen\d{3}) b.+49h/i], [MODEL, [VENDOR, "Swiss"], [TYPE, MOBILE]], [/\b(zur\d{3}) b/i], [MODEL, [VENDOR, "Swiss"], [TYPE, TABLET]], [/\b((zeki)?tb.*\b) b/i], [MODEL, [VENDOR, "Zeki"], [TYPE, TABLET]], [/\b([yr]\d{2}) b/i, /\b(dragon[- ]+touch |dt)(\w{5}) b/i], [[VENDOR, "Dragon Touch"], MODEL, [TYPE, TABLET]], [/\b(ns-?\w{0,9}) b/i], [MODEL, [VENDOR, "Insignia"], [TYPE, TABLET]], [/\b((nxa|next)-?\w{0,9}) b/i], [MODEL, [VENDOR, "NextBook"], [TYPE, TABLET]], [/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i], [[VENDOR, "Voice"], MODEL, [TYPE, MOBILE]], [/\b(lvtel\-)?(v1[12]) b/i], [[VENDOR, "LvTel"], MODEL, [TYPE, MOBILE]], [/\b(ph-1) /i], [MODEL, [VENDOR, "Essential"], [TYPE, MOBILE]], [/\b(v(100md|700na|7011|917g).*\b) b/i], [MODEL, [VENDOR, "Envizen"], [TYPE, TABLET]], [/\b(trio[-\w\. ]+) b/i], [MODEL, [VENDOR, "MachSpeed"], [TYPE, TABLET]], [/\btu_(1491) b/i], [MODEL, [VENDOR, "Rotor"], [TYPE, TABLET]], [/(shield[\w ]+) b/i], [MODEL, [VENDOR, "Nvidia"], [TYPE, TABLET]], [/(sprint) (\w+)/i], [VENDOR, MODEL, [TYPE, MOBILE]], [/(kin\.[onetw]{3})/i], [[MODEL, /\./g, " "], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [/smart-tv.+(samsung)/i], [VENDOR, [TYPE, SMARTTV]], [/hbbtv.+maple;(\d+)/i], [[MODEL, /^/, "SmartTV"], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i], [[VENDOR, LG], [TYPE, SMARTTV]], [/(apple) ?tv/i], [VENDOR, [MODEL, APPLE + " TV"], [TYPE, SMARTTV]], [/crkey/i], [[MODEL, CHROME + "cast"], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [/droid.+aft(\w+)( bui|\))/i], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [/\(dtv[\);].+(aquos)/i, /(aquos-tv[\w ]+)\)/i], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]], [/(bravia[\w ]+)( bui|\))/i], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [/(mitv-\w{5}) bui/i], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [/Hbbtv.*(technisat) (.*);/i], [VENDOR, MODEL, [TYPE, SMARTTV]], [/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i, /hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i], [[TYPE, SMARTTV]], [/(ouya)/i, /(nintendo) ([wids3utch]+)/i], [VENDOR, MODEL, [TYPE, CONSOLE]], [/droid.+; (shield) bui/i], [MODEL, [VENDOR, "Nvidia"], [TYPE, CONSOLE]], [/(playstation [345portablevi]+)/i], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [/\b(xbox(?: one)?(?!; xbox))[\); ]/i], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [/((pebble))app/i], [VENDOR, MODEL, [TYPE, WEARABLE]], [/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [/droid.+; (glass) \d/i], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [/droid.+; (wt63?0{2,3})\)/i], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [/(quest( 2| pro)?)/i], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i], [VENDOR, [TYPE, EMBEDDED]], [/(aeobc)\b/i], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i], [MODEL, [TYPE, MOBILE]], [/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i], [MODEL, [TYPE, TABLET]], [/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i], [[TYPE, TABLET]], [/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i], [[TYPE, MOBILE]], [/(android[-\w\. ]{0,9});.+buil/i], [MODEL, [VENDOR, "Generic"]]],
	      engine: [[/windows.+ edge\/([\w\.]+)/i], [VERSION, [NAME, EDGE + "HTML"]], [/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i], [VERSION, [NAME, "Blink"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i, /ekioh(flow)\/([\w\.]+)/i, /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i, /(icab)[\/ ]([23]\.[\d\.]+)/i, /\b(libweb)/i], [NAME, VERSION], [/rv\:([\w\.]{1,9})\b.+(gecko)/i], [VERSION, NAME]],
	      os: [[/microsoft (windows) (vista|xp)/i], [NAME, VERSION], [/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i], [NAME, [VERSION, strMapper, windowsVersionMap]], [/windows nt 6\.2; (arm)/i, /windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i, /(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i], [[VERSION, strMapper, windowsVersionMap], [NAME, "Windows"]], [/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i, /(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i, /cfnetwork\/.+darwin/i], [[VERSION, /_/g, "."], [NAME, "iOS"]], [/(mac os x) ?([\w\. ]*)/i, /(macintosh|mac_powerpc\b)(?!.+haiku)/i], [[NAME, MAC_OS], [VERSION, /_/g, "."]], [/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i], [VERSION, NAME], [/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i, /(blackberry)\w*\/([\w\.]*)/i, /(tizen|kaios)[\/ ]([\w\.]+)/i, /\((series40);/i], [NAME, VERSION], [/\(bb(10);/i], [VERSION, [NAME, BLACKBERRY]], [/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i], [VERSION, [NAME, "Symbian"]], [/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i], [VERSION, [NAME, FIREFOX + " OS"]], [/web0s;.+rt(tv)/i, /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i], [VERSION, [NAME, "webOS"]], [/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i], [VERSION, [NAME, "watchOS"]], [/crkey\/([\d\.]+)/i], [VERSION, [NAME, CHROME + "cast"]], [/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i], [[NAME, CHROMIUM_OS], VERSION], [/panasonic;(viera)/i, /(netrange)mmh/i, /(nettv)\/(\d+\.[\w\.]+)/i, /(nintendo|playstation) ([wids345portablevuch]+)/i, /(xbox); +xbox ([^\);]+)/i, /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i, /(mint)[\/\(\) ]?(\w*)/i, /(mageia|vectorlinux)[; ]/i, /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i, /(hurd|linux) ?([\w\.]*)/i, /(gnu) ?([\w\.]*)/i, /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i, /(haiku) (\w+)/i], [NAME, VERSION], [/(sunos) ?([\w\.\d]*)/i], [[NAME, "Solaris"], VERSION], [/((?:open)?solaris)[-\/ ]?([\w\.]*)/i, /(aix) ((\d)(?=\.|\)| )[\w\.])*/i, /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, /(unix) ?([\w\.]*)/i], [NAME, VERSION]]
	    };
	    var UAParser = function (ua, extensions) {
	      if (typeof ua === OBJ_TYPE) {
	        extensions = ua;
	        ua = undefined$1;
	      }
	      if (!(this instanceof UAParser)) {
	        return new UAParser(ua, extensions).getResult();
	      }
	      var _navigator = typeof window !== UNDEF_TYPE && window.navigator ? window.navigator : undefined$1;
	      var _ua = ua || (_navigator && _navigator.userAgent ? _navigator.userAgent : EMPTY);
	      var _uach = _navigator && _navigator.userAgentData ? _navigator.userAgentData : undefined$1;
	      var _rgxmap = extensions ? extend(regexes, extensions) : regexes;
	      var _isSelfNav = _navigator && _navigator.userAgent == _ua;
	      this.getBrowser = function () {
	        var _browser = {};
	        _browser[NAME] = undefined$1;
	        _browser[VERSION] = undefined$1;
	        rgxMapper.call(_browser, _ua, _rgxmap.browser);
	        _browser[MAJOR] = majorize(_browser[VERSION]);
	        if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {
	          _browser[NAME] = "Brave";
	        }
	        return _browser;
	      };
	      this.getCPU = function () {
	        var _cpu = {};
	        _cpu[ARCHITECTURE] = undefined$1;
	        rgxMapper.call(_cpu, _ua, _rgxmap.cpu);
	        return _cpu;
	      };
	      this.getDevice = function () {
	        var _device = {};
	        _device[VENDOR] = undefined$1;
	        _device[MODEL] = undefined$1;
	        _device[TYPE] = undefined$1;
	        rgxMapper.call(_device, _ua, _rgxmap.device);
	        if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {
	          _device[TYPE] = MOBILE;
	        }
	        if (_isSelfNav && _device[MODEL] == "Macintosh" && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {
	          _device[MODEL] = "iPad";
	          _device[TYPE] = TABLET;
	        }
	        return _device;
	      };
	      this.getEngine = function () {
	        var _engine = {};
	        _engine[NAME] = undefined$1;
	        _engine[VERSION] = undefined$1;
	        rgxMapper.call(_engine, _ua, _rgxmap.engine);
	        return _engine;
	      };
	      this.getOS = function () {
	        var _os = {};
	        _os[NAME] = undefined$1;
	        _os[VERSION] = undefined$1;
	        rgxMapper.call(_os, _ua, _rgxmap.os);
	        if (_isSelfNav && !_os[NAME] && _uach && _uach.platform != "Unknown") {
	          _os[NAME] = _uach.platform.replace(/chrome os/i, CHROMIUM_OS).replace(/macos/i, MAC_OS);
	        }
	        return _os;
	      };
	      this.getResult = function () {
	        return {
	          ua: this.getUA(),
	          browser: this.getBrowser(),
	          engine: this.getEngine(),
	          os: this.getOS(),
	          device: this.getDevice(),
	          cpu: this.getCPU()
	        };
	      };
	      this.getUA = function () {
	        return _ua;
	      };
	      this.setUA = function (ua) {
	        _ua = typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH ? trim(ua, UA_MAX_LENGTH) : ua;
	        return this;
	      };
	      this.setUA(_ua);
	      return this;
	    };
	    UAParser.VERSION = LIBVERSION;
	    UAParser.BROWSER = enumerize([NAME, VERSION, MAJOR]);
	    UAParser.CPU = enumerize([ARCHITECTURE]);
	    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);
	    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);
	    {
	      if (module.exports) {
	        exports = module.exports = UAParser;
	      }
	      exports.UAParser = UAParser;
	    }
	    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);
	    if ($ && !$.ua) {
	      var parser = new UAParser();
	      $.ua = parser.getResult();
	      $.ua.get = function () {
	        return parser.getUA();
	      };
	      $.ua.set = function (ua) {
	        parser.setUA(ua);
	        var result = parser.getResult();
	        for (var prop in result) {
	          $.ua[prop] = result[prop];
	        }
	      };
	    }
	  })(typeof window === "object" ? window : commonjsGlobal);
	})(uaParser_min, uaParser_min.exports);
	var uaParser_minExports = uaParser_min.exports;
	var UAParser = /*@__PURE__*/getDefaultExportFromCjs(uaParser_minExports);

	/**
	 * @private
	 * @returns {boolean}
	 */
	const openV3 = () => {
	  const parser = new UAParser();
	  const ua = parser.getResult();
	  console.log("%c UA", "font-size: 20px; color: red", ua);
	  if (ua.browser && ua.browser.name === "Chrome" && !(["120", "118"].includes(ua.browser.major) && ua.os.name === "macOS")) {
	    // Chrome 118  120 截图 有bug
	    return true;
	  }
	  return false;
	};

	const FEC_CORRECT_PTZ = 0x0100; // PTZ
	const FEC_CORRECT_180 = 0x0200; // 180度矫正
	const FEC_CORRECT_360 = 0x0300; // 360全景矫正
	const FEC_CORRECT_CYLINDER = 0x0600; // 

	const defaultCoors = {
	  port: 0,
	  start: {
	    x: 0,
	    y: 0
	  },
	  total: {
	    x: 0,
	    y: 0
	  },
	  diff: {
	    x: 0,
	    y: 0
	  },
	  startPTZPosition: {
	    x: 0,
	    y: 0
	  },
	  lastCorrdsY: 0,
	  param2d: {
	    upDateType: 0x4,
	    //类型设置：4表示360旋转角度设置
	    fValue: 0,
	    //360角度设置（0~2PI）
	    fPTZParam: {
	      fPTZPositionX: 0,
	      fPTZPositionY: 0
	    },
	    fPTZZoom: 0
	  }
	};
	class JSPluginV3 {
	  constructor(props) {
	    //宽、高
	    this.nWidth = 0;
	    this.nHeight = 0;
	    this.useHardDev = typeof props.useHardDev !== 'undefined' ? props.useHardDev : false; //是否启用硬解(默认启用)
	    this.isSharedArrayBuffer = props.isSharedArrayBuffer || false; //是否开启共享内存模式（默认关闭）
	    this.bGpuSupHardDecHEVC = false; //GPU是否支持H265硬解

	    this.oStreamClient = new streamClient1_2_0_minExports.StreamClient();
	    this.oStorageManager = new StorageManager("./transform", {
	      staticPath: "https://open.ys7.com/assets/ezuikit_v4.0"
	    });
	    this.aHead = [];
	    this.pCanvasData = null;
	    this.bPlaySound = -1;
	    this.szStorageUUID = '';
	    this.szStreamUUID = '';
	    this.g_port = null;
	    this.szId = props.szId;
	    this.iWidth = props.iWidth;
	    this.iHeight = props.iHeight;
	    this.iRate = 1;
	    this.decoderVersion = '2.0';
	    this.staticPath = props.staticPath || "https://open.ys7.com/assets/ezuikit_v5.0";
	    this.bPause = false;
	    this.bPlay = false;
	    this.bInit = false;
	    // this.portAvailable = true; // 端口可用状态，可以用来判断播放停止状态。
	    this.esCanvas = null; //视频叠加绘制画布初始化
	    this.b3DZoom = false;
	    this.oJSPlugin = null;
	    this.bPauseDate = null;
	    this._isCloudRecord = props.isCloudRecord;
	    this._destroy = false;

	    /** 鱼眼分屏的id 字符串列表 */
	    this.FECSplitIds = '';
	    this.canvasFECSubPort = new Map();
	    this.correctType = null;
	    //this.staticPath = "http://localhost:9090";
	    document.getElementById(props.szId).style = `display:inline-block;width:${props.iWidth}px;height:${props.iHeight}px;background:#000000;background-size:100% 100%;vertical-align:top;`;
	    this.JS_Init();
	    this.oStyle = Object.assign({
	      border: "#000000",
	      borderSelect: "#FFCC00",
	      background: "#4C4B4B"
	    }, props.oStyle);
	    //获取jsplugin对象
	    if (typeof props.szId === "string") {
	      this.oJSPlugin = $("#" + props.szId);
	    } else {
	      this.oJSPlugin = props.szId;
	    }
	    this.createWindows();
	    this.esCanvas = new ESCanvas(this.szId + "canvas_draw0");
	    const that = this;
	    this.oJSPlugin.find("." + props.szId + "parent-wnd").eq(0).children().each(function (i) {
	      let self = this;
	      $(self).bind("mouseenter", function (e) {
	        $('#' + props.szId + 'canvas_draw0').css('pointer-events', 'all');
	        if (that.b3DZoom) {
	          console.log('e', e);
	          console.log('id:', props.szId);
	          that.esCanvas = null;
	          $("." + props.szId + "draw-window").unbind();
	          that.esCanvas = new ESCanvas(props.szId + "canvas_draw0");
	          that.esCanvas.setShapeType("Rect");
	          that.esCanvas.setDrawStyle("#ff0000", "", 0);
	          that.esCanvas.setDrawStatus(true, function (oRECT) {
	            that.fCallback && that.fCallback(oRECT);
	          });
	        } else {
	          $('#' + props.szId + 'canvas_draw0').css('pointer-events', 'none');
	        }
	      });
	      $(self).bind("mouseleave", function (e) {
	        $('#' + props.szId + 'canvas_draw0').css('pointer-events', 'none');
	      });
	    });
	  }
	  //创建插件播放窗口
	  createWindows(iWidth, iHeight) {
	    var that = this;
	    if (iWidth && iHeight) {
	      that.iWidth = iWidth;
	      that.iHeight = iHeight;
	    }
	    //计算单个窗口宽高且修正
	    let iFixWidth = that.iWidth;
	    let iFixHeight = that.iHeight;
	    let iPerWidth = that.iWidth - iFixWidth - 2 * 2;
	    let iPerHeight = that.iHeight - iFixHeight - 2 * 2;
	    let iWndWidth = that.iWidth - iFixWidth;
	    let iWndHeight = that.iHeight - iFixHeight;
	    let iType = 1;
	    if (typeof this.szId === "string") {
	      that.oJSPlugin = $("#" + this.szId);
	    } else {
	      that.oJSPlugin = this.szId;
	    }
	    //构造页面dom
	    let szHtml = '<div class="' + this.szId + 'parent-wnd" style="overflow:hidden;width:100%; height:100%; position: relative;">';
	    navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);

	    // if (isNeedScale) {
	    //   for (let i = 0; i < 1; i++) {
	    //     iWidth = iPerWidth + ((i % iType === (iType - 1)) ? iFixWidth : 0);
	    //     iHeight = iPerHeight + (((i + iType) >= Math.pow(iType, 2)) ? iFixHeight : 0);
	    //     let iPlayWndWidth = iWndWidth + ((i % iType === (iType - 1)) ? iFixWidth : 0);
	    //     let iPlayWndHeight = iWndHeight + (((i + iType) >= Math.pow(iType, 2)) ? iFixHeight : 0);
	    //     // iPlayWndWidth = iPlayWndWidth * 2;
	    //     // iPlayWndHeight = iPlayWndHeight * 2;
	    //     szHtml += '<div id="' + this.szId + '-container-' + i + '" style="float:left; background-color: ' + this.oStyle.background + '; position: relative; width: ' + iPlayWndWidth + 'px; height: ' + iPlayWndHeight + 'px;">'
	    //       + '<canvas id="' + this.szId + 'canvas_draw' + i + '"  class="' + this.szId + 'draw-window" style="position:absolute; top:0; left:0; z-index:999;" wid="' + i + '" width=' + iPlayWndWidth + ' height=' + iPlayWndHeight + '></canvas>'
	    //       + (i === 0 ? '<img style="display:none;" id="playImg' + i + '" src="">' : '')
	    //       + '<canvas id="' + this.szId + '-player' + '" class="' + this.szId + 'play-window" wid="' + i + '" width="' + iPlayWndWidth + '" height="' + iPlayWndHeight + '"></canvas>'
	    //       + '</div>';

	    //     // szHtml += '<div id="' + this.szId + '-container-' + i + '" style="transform: scale(0.5);-webkit-transform: scale(0.5);-webkit-transform-origin:0 0;text-align:left;transform-origin:0 0; width:' + iPlayWndWidth + 'px;height:' + iPlayWndHeight + 'px;"><div style="float:left; background-color: ' + this.oStyle.background + '; position: relative; width:100%; height:100%;">'
	    //     //   + '<canvas id="' + this.szId + 'canvas_draw' + i + '"  class="' + this.szId + 'draw-window" style="position:absolute; top:0; left:0; z-index:999;" wid="' + i + '" width=' + iPlayWndWidth + ' height=' + iPlayWndHeight + '></canvas>'
	    //     //   + (i === 0 ? '<img style="display:none;" id="playImg' + i + '" src="">' : '')
	    //     //   + '<canvas id="' + this.szId + '-player' + '" class="' + this.szId + 'play-window" style="z-index:9;" wid="' + i + '" width="' + iPlayWndWidth + '" height="' + iPlayWndHeight + '"></canvas>'
	    //     //   + '</div></div>';
	    //   }
	    // } else {
	    //   for (let i = 0; i < 1; i++) {
	    //     iWidth = iPerWidth + ((i % iType === (iType - 1)) ? iFixWidth : 0);
	    //     iHeight = iPerHeight + (((i + iType) >= Math.pow(iType, 2)) ? iFixHeight : 0);
	    //     let iPlayWndWidth = iWndWidth + ((i % iType === (iType - 1)) ? iFixWidth : 0);
	    //     let iPlayWndHeight = iWndHeight + (((i + iType) >= Math.pow(iType, 2)) ? iFixHeight : 0);
	    //     szHtml += '<div id="' + this.szId + '-container-' + i + '" style="float:left; background-color: ' + this.oStyle.background + '; position: relative; width: ' + iPlayWndWidth + 'px; height: ' + iPlayWndHeight + 'px;">'
	    //       + '<canvas id="' + this.szId + '-player' + '" class="' + this.szId + 'play-window" wid="' + i + '" width="' + iPlayWndWidth + '" height="' + iPlayWndHeight + '"></canvas>'
	    //       + (i === 0 ? '<img style="display:none;" id="playImg' + i + '" src="">' : '')
	    //       + '<canvas id="' + this.szId + 'canvas_draw' + i + '"  class="' + this.szId + 'draw-window" style="position:absolute; top:0; left:0;" wid="' + i + '" width=' + iWidth + ' height=' + iHeight + '></canvas>'
	    //       + '</div>';
	    //   }
	    // }

	    for (let i = 0; i < 1; i++) {
	      iWidth = iPerWidth + (i % iType === iType - 1 ? iFixWidth : 0);
	      iHeight = iPerHeight + (i + iType >= Math.pow(iType, 2) ? iFixHeight : 0);
	      let iPlayWndWidth = iWndWidth + (i % iType === iType - 1 ? iFixWidth : 0);
	      let iPlayWndHeight = iWndHeight + (i + iType >= Math.pow(iType, 2) ? iFixHeight : 0);
	      szHtml += '<div id="' + this.szId + '-container-' + i + '" style="float:left; background-color: ' + this.oStyle.background + '; position: relative; width: ' + iPlayWndWidth + 'px; height: ' + iPlayWndHeight + 'px;">' + '<canvas id="' + this.szId + '-player' + '" class="' + this.szId + 'play-window" wid="' + i + '" width="' + iPlayWndWidth + '" height="' + iPlayWndHeight + '"></canvas>' + (i === 0 ? '<img style="display:none;" id="playImg' + i + '" src="">' : '') + '<canvas id="' + this.szId + 'canvas_draw' + i + '"  class="' + this.szId + 'draw-window" style="position:absolute; top:0; left:0;" wid="' + i + '" width=' + iWidth + ' height=' + iHeight + '></canvas>' + '</div></div>';
	    }
	    that.oJSPlugin.html(szHtml);
	  }
	  JS_Init() {
	    var that = this;
	    if (that.initIng) {
	      //多个实例同时初始化，判断已有实例正在加载
	      return;
	    }
	    that.initIng = true;
	    var that = this;
	    if (this.bPlay) {
	      return false;
	    }
	    const promise = new Promise((resolve, reject) => {
	      if (window[`wasmplayer-${this.szId}`]) {
	        // 实例已经加载过，不需要再次加载
	        that.bInit = true;
	        resolve();
	      }
	      const isNeedScale = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);
	      let wasmPathV3 = `${that.staticPath}/js/PlayCtrlWasm/playCtrl3/${this.isSharedArrayBuffer ? 'hasWorker/NoSIMD' : 'noWorker'}/Decoder.js`;
	      let wasmPathV1 = `${that.staticPath}/js/PlayCtrlWasm/playCtrl1/NoSIMD/Decoder.js`;
	      const InitWasm = function () {
	        //初始化时传入两个版本解码库
	        // console.log("----------------", openV3() && (!isNeedScale || !this._isCloudRecord))
	        const wasmplayer = new wasmplayer_minExports.JSPlayCtrl(isNeedScale || that._isCloudRecord || !openV3() ? null : wasmPathV3, wasmPathV1, ({
	          bSupHardOrSoft,
	          bSupHardDecAVC,
	          bSupHardDecHEVC,
	          cmd,
	          errorCode,
	          status
	        }) => {
	          switch (cmd) {
	            case 'loaded':
	              that.bInit = true;
	              window.JSPlayerModuleLoaded = true;
	              that.initIng = false;
	              break;
	          }
	        }, 0, 'webgl');
	        window[`wasmplayer-${that.szId}`] = wasmplayer;
	        resolve();
	      };
	      window._getFSupportSIMD().then(() => {
	        wasmPathV3 = `${that.staticPath}/js/PlayCtrlWasm/playCtrl3/${this.isSharedArrayBuffer ? 'hasWorker/HasSIMD' : 'noWorker'}/Decoder.js`;
	        if (!(oTool.isIOS() || oTool.isSafari() || oTool.isEdge())) {
	          // ios safari edge 不使用HasSIMD
	          wasmPathV1 = `${that.staticPath}/js/PlayCtrlWasm/playCtrl1/HasSIMD/Decoder.js`;
	        }
	        //支持指令集，库需要换成支持的版本
	        InitWasm();
	      }, () => {
	        //不支持指令集
	        InitWasm();
	      });
	    });
	    return promise;
	  }
	  PlayM4_openStream(fileHead) {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    const that = this;
	    new Uint8Array(fileHead.buffer);
	    let resO = wasmplayer.JSPlayM4_OpenStream(fileHead, 40, 4 * 1024 * 1024);
	    //首帧回调
	    wasmplayer.JSPlayM4_SetFirstFrameCallBack(1, () => {
	      console.log("%cfirst frame display end:" + new Date().getMinutes() + ":" + new Date().getSeconds() + "." + new Date().getMilliseconds(), 'color:blue');
	    });

	    //错实时信息回调(用于监听密钥设置错误)
	    wasmplayer.JSPlayM4_SetRunTimeInfoCallBackEx(1, (nRunTimeModule, nStrVersion, nFrameTimeStamp, nFrameNum, nErrorCode) => {
	      if (that.EventCallback && that.EventCallback.setRunTimeInfoCallBack) {
	        that.EventCallback.setRunTimeInfoCallBack(nRunTimeModule, nStrVersion, nFrameTimeStamp, nFrameNum, nErrorCode);
	      }
	    });
	    console.log("3.打开流 resO:" + resO);
	  }
	  //执行播放方法
	  _doPlay(szUrl, oParams, iWndNum, szStartTime, szStopTime) {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    // if(this.bPlay || this.bPlayIng) {
	    //   return false;
	    // }
	    this.bPlayIng = true;
	    const _this = this;
	    _this.playURL = oParams.playURL;
	    _this.szUrl = szUrl;
	    // 创建canvas
	    if (!document.getElementById(_this.szId + '-player')) {
	      let canvasList = document.getElementById(_this.szId + '-container-0');
	      let canvas = document.createElement('canvas');
	      canvasList.appendChild(canvas);
	      if (document.getElementById(_this.szId)) {
	        canvas.width = document.getElementById(_this.szId).offsetWidth;
	        canvas.height = document.getElementById(_this.szId).offsetHeight;
	      } else {
	        canvas.width = _this.iWidth;
	        canvas.height = _this.iHeight;
	      }
	      canvas.id = _this.szId + '-player';
	    } else {
	      let canvasList = document.getElementById(_this.szId + '-container-0');
	      let oldcanv = document.getElementById(this.szId + '-player');
	      oldcanv.style = "position: absolute;";
	      oldcanv.parentNode.removeChild(oldcanv);
	      let canvas = document.createElement('canvas');
	      if (document.getElementById(_this.szId)) {
	        canvas.width = document.getElementById(_this.szId).offsetWidth;
	        canvas.height = document.getElementById(_this.szId).offsetHeight;
	      } else {
	        canvas.width = _this.iWidth;
	        canvas.height = _this.iHeight;
	      }
	      canvas.id = _this.szId + '-player';
	      canvasList.appendChild(canvas);
	    }
	    let promise = new Promise((resolve, reject) => {
	      if (this.oStreamClient === null) {
	        return resolve();
	      }
	      // 先停止所有流
	      this.oStreamClient.stopAll();
	      //获取端口号
	      if (_this.g_port === null) {
	        _this.g_port = wasmplayer.JSPlayM4_GetPort();
	        console.log("1.获取播放库端口号 g_port:" + _this.g_port);
	      }
	      // // 端口已经使用，设置为不可用状态
	      // this.portAvailable = false;

	      //xuehb 开始取流 4
	      if (_this.EventCallback && _this.EventCallback.openStreamCallback) {
	        console.log('开始取流-----v2');
	        _this.EventCallback.openStreamCallback();
	      }
	      _this.oStreamClient.openStream(szUrl, oParams, data => {
	        this.oParams = oParams;
	        if (data.errorCode && data.errorCode != '1') {
	          //推流异常时触发errorHandler
	          if (_this.EventCallback && _this.EventCallback.pluginErrorHandler) {
	            _this.EventCallback.pluginErrorHandler(iWndNum, data.errorCode, data);
	          }
	        }
	        if (data.bHead) {
	          //判断是否开启预览，用于初始化播放库，回放跳片段是会返回媒体头，不能只判断是否为媒体头
	          //xuehb 完成取流返回流头 5 
	          if (_this.EventCallback && _this.EventCallback.getStreamHeaderCallback) {
	            console.log('完成取流返回流头');
	            _this.EventCallback.getStreamHeaderCallback();
	          }
	          _this.PlayM4_openStream(data.buf);
	          _this.aHead = new Uint8Array(data.buf);
	          if (!!_this.secretKey) {
	            wasmplayer.JSPlayM4_SetSecretKey(_this.secretKey);
	          }
	          try {
	            const getQueryString = (name, url) => {
	              const reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
	              const r = url.match(reg);
	              if (r != null) {
	                return unescape(r[2]);
	              }
	              return null;
	            };
	            const date = getQueryString('begin', oParams.playURL);
	            const year = parseInt(date.slice(0, 4));
	            const month = parseInt(date.slice(4, 6));
	            const day = parseInt(date.slice(6, 8));
	            const hour = parseInt(date.slice(9, 11));
	            const min = parseInt(date.slice(11, 13));
	            const second = parseInt(date.slice(13, 15)) + 3;
	            const setRes = wasmplayer.JSPlayM4_SetGlobalBaseTime(year, month, day, hour, min, second, 0);
	            console.log('设置OSD时间: ', year + ':' + month + ':' + day + ':' + hour + ':' + min + ':' + second + ':' + 0);
	            console.log('设置OSD时间res:', setRes);
	          } catch (error) {
	            console.log('JSPlayM4_SetGlobalBaseTime:', error);
	          }
	          _this.bPlay = true;
	          _this.bPlayIng = false;
	          // 设置一系列回调
	          let resFCB = wasmplayer.JSPlayM4_SetFrameInfoCallBack(1); //帧信息回调
	          if (resFCB != 1) {
	            let resFrameInfoError = wasmplayer.JSPlayM4_GetLastError();
	            console.log("resFrameInfoError:" + resFrameInfoError);
	          }
	          wasmplayer.JSPlayM4_RenderPrivateData(4, 1);
	          this.firstFlag = true;
	          this.firstGetData = true;

	          // 异步添加的canvas id
	          wasmplayer.JSPlayM4_FEC_SetCanvasID(this.FECSplitIds);
	          let resP = wasmplayer.JSPlayM4_Play(`${_this.szId}-player`); //pCanvasString或pCanvasData
	          this.canvasFECSubPort.set(`${_this.szId}-player`, {
	            ...defaultCoors
	          });
	          console.log("4.开始播放 resP:" + resP, `${_this.szId}-player`);
	          wasmplayer.JSPlayM4_SetDecodeERC(1);
	          resolve(resP);
	        } else {
	          if (this.firstGetData) {
	            // 第一次获取数据
	            this.firstGetData = false;

	            //xuehb 返回视频流(首次) 6
	            if (_this.EventCallback && _this.EventCallback.getVideoStreamCallback) {
	              _this.EventCallback.getVideoStreamCallback();
	            }
	          }
	          if (this.firstFlag) {
	            let oFrameInfo = wasmplayer.JSPlayM4_GetFrameInfo();
	            let nWidth = oFrameInfo.width;
	            let nHeight = oFrameInfo.height;
	            this.nWidth = nWidth;
	            this.nHeight = nHeight;
	            if (nWidth) {
	              //xuehb 首屏展示 7
	              if (_this.EventCallback && _this.EventCallback.appearFirstFrameCallback) {
	                console.log('出现首帧画面（播放成功）------多线程');
	                _this.EventCallback.appearFirstFrameCallback();
	              }
	              //xuehb 平均成功取流的出流耗时 8
	              if (_this.EventCallback && _this.EventCallback.averageStreamSuccessCallback) {
	                _this.EventCallback.averageStreamSuccessCallback();
	              }
	              console.log("首帧展示", nWidth, nHeight);
	              this.firstFlag = false;
	            }
	          }
	          let aBuffer = new Uint8Array(data.buf); //拷贝一份数据进行使
	          // 监听数据错误
	          if (data.statusString) {
	            if (_this.EventCallback && _this.EventCallback.pluginErrorHandler) {
	              _this.EventCallback.pluginErrorHandler(0, 1001, data);
	            }
	          } else if (data.type && data.type === "exception") {
	            if (_this.EventCallback && _this.EventCallback.pluginErrorHandler) {
	              _this.EventCallback.pluginErrorHandler(0, 1002, data);
	            }
	          }
	          // 差错隐藏
	          wasmplayer.JSPlayM4_SetDecodeERC(1);
	          wasmplayer.JSPlayM4_InputData(aBuffer, aBuffer.length);
	          aBuffer = null;
	        }
	        // 录制
	        if (_this.szStorageUUID) {
	          _this.oStorageManager.inputData(_this.szStorageUUID, data.buf);
	        }
	        // data = null;
	      }, function () {
	        if (_this.bPlay) {
	          if (_this.EventCallback && _this.EventCallback.pluginErrorHandler) {
	            _this.EventCallback.pluginErrorHandler(0, 1003);
	          }
	        }
	        _this.bPlayIng = false;
	        reject();
	      }).then(id => {
	        //websocket onopen事件触发
	        _this.szStreamUUID = id;
	        _this.oStreamClient.startPlay(id).then(() => {
	          let resSSOM = wasmplayer.JSPlayM4_SetStreamOpenMode(1);
	          console.log("2.设置流模式 resSSOM:" + resSSOM);
	        }).catch(err => {
	          console.log("err", err);
	          _this.bPlayIng = false;
	          reject(err.oError);
	        });
	      }, function (oError) {
	        //websocekt 未进入onopen
	        _this.bPlayIng = false;
	        _this._doRelease();
	        reject(oError);
	      });
	    });
	    return promise;
	  }
	  JSPlayM4_SetDecodeEngine(useHard) {
	    this.useHard = useHard;
	  }
	  /**
	   * 
	   * @param {*} szUrl  "示例：wss://jsdecoder-aeye.hwwt2.com:443"
	   * @param {*} oParams  "示例： {playURL: "/live?dev=F99467170&chn=9&stream=1&ssn=ot.9oovv27v00lck3ft0krfw61n8ugr4j5b-1ao1cqq1fm-1od8d0d-h1lnhi0w0&auth=1&biz=4&cln=100"}"
	   * @param {*} iWndNum 
	   * @param {*} szStartTime 
	   * @param {*} szStopTime 
	   * @returns 
	   */
	  JS_Play(szUrl = "", oParams = {
	    playURL: ""
	  }, iWndNum, szStartTime, szStopTime) {
	    return new Promise((resolve, reject) => {
	      let loadWasmTimer = setInterval(() => {
	        if (window.JSPlayerModuleLoaded) {
	          clearInterval(loadWasmTimer);
	          this._doPlay(szUrl, oParams, iWndNum, szStartTime, szStopTime).then(data => {
	            resolve(data);
	          }).catch(err => {
	            reject(err);
	          });
	        }
	      }, 50);
	    });
	  }
	  JS_SetSecretKey(iWndNum, secretKey) {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    console.log('secretKey:::', secretKey);
	    this.secretKey = secretKey;
	    let resS = wasmplayer.JSPlayM4_SetSecretKey(secretKey);
	    console.log("resSetSecretKey：" + resS);
	  }
	  JS_OpenSound() {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    let resPS = wasmplayer.JSPlayM4_PlaySound();
	    if (resPS === 1) {
	      this.bPlaySound = 1;
	    }
	    return resPS;
	  }
	  JS_CloseSound() {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    let resPS = wasmplayer.JSPlayM4_StopSound();
	    if (resPS === 1) {
	      this.bPlaySound = -1;
	    }
	    return resPS;
	  }
	  /**
	   * @synopsis 打开3D放大
	   *
	   * @param {function} fCallback 回调函数
	   *
	   * @returns {none} 无
	  */
	  JS_Enable3DZoom(iWin, fCallback) {
	    if (!this.bPlay) {
	      return -1;
	    }
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    const info = wasmplayer.JSPlayM4_GetFrameInfo();
	    this.JSPlayM4_SetDisplayRegion(0, info.width, 0, info.height);
	    $("." + this.szId + "draw-window").unbind();
	    this.fCallback = fCallback;
	    this.esCanvas = new ESCanvas(this.szId + "canvas_draw0");
	    this.esCanvas.setShapeType("Rect");
	    this.esCanvas.setDrawStyle("#ff0000", "", 0);
	    this.esCanvas.setDrawStatus(true, function (oRECT) {
	      fCallback(oRECT);
	    });
	    this.b3DZoom = true;
	    return 0;
	  }

	  /**
	   * @synopsis 关闭3D放大
	   *
	   * @returns {none} 无
	   */
	  JS_Disable3DZoom() {
	    if (!this.bPlay) {
	      return -1;
	    }
	    this.esCanvas.setDrawStatus(false);
	    this.b3DZoom = false;
	    return 0;
	  }
	  JS_StartSave(g_port, fileName = `${new Date().getTime()}`) {
	    // this.szStorageUUID =  `11111111`;
	    const promise = new Promise((resolve, reject) => {
	      this.oStorageManager.startRecord(`${fileName}.mp4`, this.aHead, 2, 0, {
	        cbEventHandler: function (iErrorType) {
	          console.log("录制错误", iErrorType);
	          reject(`录制错误 ${iErrorType}}`);
	        },
	        iPackage: 0
	      }).then(szUUID => {
	        this.szStorageUUID = szUUID;
	        resolve();
	      }, function () {
	        reject();
	      });
	    });
	    return promise;
	  }
	  JS_StopSave() {
	    const promise = new Promise((resolve, reject) => {
	      this.oStorageManager.stopRecord(this.szStorageUUID).then(() => {
	        this.szStorageUUID = ""; //关闭录像  删除存储ID
	        resolve();
	      }, function (iError) {
	        console.log("iError", iError);
	        reject(iError);
	      });
	    });
	    return promise;
	  }
	  _JSPlayM4_GetFrameInfo() {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    let oFrameInfo = wasmplayer.JSPlayM4_GetFrameInfo();
	    let width = oFrameInfo.width;
	    let height = oFrameInfo.height;
	    console.log("width:" + width + ",height:" + height);
	    let year = oFrameInfo.year;
	    let month = oFrameInfo.month;
	    let day = oFrameInfo.day;
	    let hour = oFrameInfo.hour;
	    let minute = oFrameInfo.minute;
	    let second = oFrameInfo.second;
	    let milliseconds = oFrameInfo.milliseconds;
	    console.log("OSD时间：" + year + "-" + month + "-" + day + "-" + hour + "-" + minute + "-" + second + "-" + milliseconds);
	    return {
	      width,
	      height,
	      year,
	      month,
	      day,
	      hour,
	      minute,
	      second
	    };
	  }
	  _JSPlayM4_SetDisplayRegion(left, right, top, bottom, flag = true, isFullScreen) {
	    const that = this;
	    new Promise((resolve, reject) => {
	      const wasmplayer = window[`wasmplayer-${this.szId}`];
	      let resDR;
	      console.log('canvasInfo:', that.iWidth, that.iHeight);
	      console.log("canvasW:" + that.nWidth + ",canvasH:" + that.nHeight + ",left:" + left + ",right:" + right + ",top:" + top + ",bottom:" + bottom);
	      if (isFullScreen) {
	        resDR = wasmplayer.JSPlayM4_SetDisplayRegion(`${this.szId}-player`, left * that.iWidth / (that.nHeight * 2), right * that.iWidth / (that.nHeight * 2), top * that.iHeight / (that.nWidth * 2), bottom * that.iHeight / (that.nWidth * 2), !flag, false);
	      } else {
	        resDR = wasmplayer.JSPlayM4_SetDisplayRegion(`${this.szId}-player`, that.iWidth * left / that.nWidth, that.iWidth * right / that.nWidth, that.iHeight * top / that.nHeight, that.iHeight * bottom / that.nHeight, !flag, false);
	      }
	      resolve({
	        code: 0,
	        data: resDR
	      });
	    });
	  }
	  JS_SetFrameInfoCallBack(value) {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    let resFCB = wasmplayer.JSPlayM4_SetFrameInfoCallBack(this.g_port, value); //帧信息回调
	    if (resFCB != 1) {
	      let resFrameInfoError = wasmplayer.JSPlayM4_GetLastError(this.g_port);
	      console.log("resFrameInfoError:" + resFrameInfoError);
	    }
	    console.log("resFCB:" + resFCB);
	  }
	  JS_CapturePicture(port, fileName, format, callback, flag) {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    const arrayBufferToBase64Img = buffer => {
	      const arr = new Uint8Array(buffer);
	      let str = "";
	      for (let i = 0; i < arr.length; i++) {
	        str += String.fromCharCode(arr[i]);
	      }
	      return `data:image/jpeg;base64,${window.btoa(str)}`;
	    };
	    function doCapturePicture(aJpegData) {
	      if (fileName.indexOf(".jpeg") === -1) {
	        fileName += '.jpeg';
	      }
	      if (typeof callback === "function") {
	        callback({
	          fileName: fileName,
	          fileUint8Array: aJpegData,
	          base64: arrayBufferToBase64Img(aJpegData)
	        });
	      }
	    }

	    //未播放，暂停状态且有缓冲数据
	    if (!this.bPlay && this.bPause && this.tmpCapturePictureData) {
	      reject({
	        code: -1,
	        msg: '暂停状态下无法截图'
	      });
	    }
	    let oFrameInfo = wasmplayer.JSPlayM4_GetFrameInfo();
	    this.nWidth = oFrameInfo.width;
	    this.nHeight = oFrameInfo.height;
	    const promise = new Promise((resolve, reject) => {
	      const JPEGRes = wasmplayer.JSPlayM4_GetJPEG((jpegData, jpegDataSize) => {
	        if (!!jpegData) {
	          let jpegdatabuffer = new Uint8Array(jpegDataSize);
	          jpegdatabuffer.set(jpegData.subarray(0, jpegDataSize));
	          doCapturePicture(jpegData);
	          if (flag) {
	            wasmplayer._downloadFile(jpegdatabuffer, `${fileName || 'capturePicture.jpeg'}`);
	          }
	          resolve({
	            code: 1,
	            data: {
	              fileName: fileName,
	              fileUint8Array: jpegData,
	              base64: arrayBufferToBase64Img(jpegData)
	            }
	          });
	        }
	      }, false);
	      if (JPEGRes !== 1) {
	        reject({
	          code: -1,
	          msg: '截图失败'
	        });
	      }
	    });
	    return promise;
	  }
	  JS_GetOSDTime() {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    const promise = new Promise((resolve, reject) => {
	      let oFrameInfo = wasmplayer.JSPlayM4_GetFrameInfo();
	      let year = oFrameInfo.year;
	      let month = oFrameInfo.month;
	      let day = oFrameInfo.day;
	      let hour = oFrameInfo.hour;
	      let minute = oFrameInfo.minute;
	      let second = oFrameInfo.second;
	      // 兼容，safari浏览器时间需要用“/”分隔
	      var time = new Date(oTool.isIOS() || oTool.isSafari() || oTool.isEdge() ? `${year}/${month}/${day} ${hour}:${minute}:${second}` : `${year}-${month}-${day} ${hour}:${minute}:${second}`).getTime() / 1000;
	      resolve(time);
	    });
	    return promise;
	  }
	  JS_Resize(width, height) {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    console.log("width:" + width + ",height:" + height);
	    let resSet = wasmplayer.JSPlayM4_SetCanvasSize(width, height);
	    this.iWidth = width;
	    this.iHeight = height;
	    document.getElementById(this.szId).style.height = height + "px";
	    document.getElementById(this.szId).style.width = width + "px";
	    let oldcanv = document.getElementById(this.szId + '-player');
	    if (oldcanv) {
	      oldcanv.style.height = height + "px";
	      oldcanv.style.width = width + "px";
	    }
	    let container = document.getElementById(this.szId + '-container-0');
	    if (container) {
	      container.style.height = height + "px";
	      container.style.width = width + "px";
	    }
	    let drawer = document.getElementById(this.szId + '-drawer0');
	    if (drawer) {
	      drawer.style.height = height + "px";
	      drawer.style.width = width + "px";
	    }
	    console.log("resSet:" + resSet);
	  }
	  JS_GetSDKVersion() {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    let res = wasmplayer.JSPlayM4_GetSDKVersion();
	    return res.toString(16);
	  }
	  _doRelease() {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    wasmplayer.JSPlayM4_CloseStream();
	    // let resFP = wasmplayer.JSPlayM4_FreePort();
	    // if (resFP === 1) {
	    //   // 端口是否已经被释放，设置为可用状态。
	    //   this.portAvailable = true;
	    // }
	    // console.log("doRelease", resCS, resFP)

	    // if (this.pCanvasData !== null) {
	    //   wasmplayer._free(this.pCanvasData);
	    //   this.pCanvasData = null;
	    // }

	    // this.pCanvasString = null;
	    // this.pCanvasString = null;
	    console.log("stop end");
	    this.bPlay = false;
	    this.bPlayIng = false;
	  }
	  JS_Stop() {
	    const {
	      szStreamUUID
	    } = this;
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    if (this.szStorageUUID) {
	      this.JS_StopSave();
	    }
	    const arrayBufferToBase64Img = buffer => {
	      const arr = new Uint8Array(buffer);
	      var str = "";
	      for (let i = 0; i < arr.length; i++) {
	        str += String.fromCharCode(arr[i]);
	      }
	      return `data:image/jpeg;base64,${window.btoa(str)}`;
	    };
	    const promise = new Promise((resolve, reject) => {
	      try {
	        const JPEGRes = wasmplayer.JSPlayM4_GetJPEG((jpegData, jpegDataSize) => {
	          let canvasList = document.getElementById(this.szId + '-container-0');
	          let oldcanv = document.getElementById(this.szId + '-player');
	          if (oldcanv) {
	            canvasList.removeChild(oldcanv);
	          }
	          let jpegdatabuffer = new Uint8Array(jpegDataSize);
	          jpegdatabuffer.set(jpegData.subarray(0, jpegDataSize));
	          this.tmpCapturePictureData = jpegData;

	          // TODO: 鱼眼模式下 不设置背景 和 APP 保持一致
	          if (this.correctType === null) {
	            canvasList.style.backgroundImage = `url(${arrayBufferToBase64Img(jpegData)})`;
	          } else {
	            canvasList.style.backgroundImage = '';
	          }
	          canvasList.style.backgroundSize = `100% 100%`;
	        }, 0);
	      } catch (error) {
	        console.log('获取末尾帧失败：', error);
	      }
	      setTimeout(() => {
	        if (this.oStreamClient) {
	          var stopStreamPromise = this.oStreamClient.stopAll(szStreamUUID);
	          stopStreamPromise.then(data => {
	            console.log("防抖 停止取流成功");

	            // 关闭和删除鱼眼矫正子端口
	            this._colseFECAllSubWnd();
	            let resS = wasmplayer.JSPlayM4_Stop(false);
	            if (resS == 1) {
	              this._doRelease();
	              resolve({
	                resS
	              });
	            } else {
	              var jsPluginErrorCode = wasmplayer.JSPlayM4_GetLastError();
	              if (jsPluginErrorCode == 35) {
	                let timer10 = setInterval(() => {
	                  if (!resS) {
	                    resS = wasmplayer.JSPlayM4_Stop(false);
	                    if (resS == 1) {
	                      this._doRelease();
	                      resolve({
	                        resS
	                      });
	                    } else {
	                      jsPluginErrorCode = wasmplayer.JSPlayM4_GetLastError();
	                      console.log("stop error ", jsPluginErrorCode); // 停止失败，持续停止
	                    }
	                  } else {
	                    clearInterval(timer10);
	                  }
	                }, 50);
	              } else {
	                console.log("stop - other error, still resolve", jsPluginErrorCode, resS);
	                this._doRelease();
	                resolve({
	                  resS,
	                  jsPluginErrorCode
	                });
	              }
	            }
	          }).catch(err => {
	            console.log("停止取流失败_jsPluginErrorCode", err);
	            this._doRelease();
	            var jsPluginErrorCode = wasmplayer.JSPlayM4_GetLastError();
	            console.log("停止取流失败_jsPluginErrorCode", jsPluginErrorCode);
	            resolve({
	              jsPluginErrorCode
	            });
	          });
	        }
	        resolve();
	      }, 10);
	    });
	    return promise;
	  }
	  JS_DestroyWorker() {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    this._destroy = true;
	    this._colseFECAllSubWnd();
	    //销毁canvas资源
	    let canvasList = document.getElementById(this.szId + '-container-0');
	    let oldcanv = document.getElementById(this.szId + '-player');
	    if (oldcanv) {
	      canvasList.removeChild(oldcanv);
	    }

	    // 断流
	    if (this.oStreamClient) this.oStreamClient.stopAll();
	    this.oStreamClient = null;
	    if (this.pCanvasData !== null) {
	      wasmplayer._free(this.pCanvasData);
	      this.pCanvasData = null;
	    }
	    this.pCanvasString = null;
	    // console.log("stop end");
	  }

	  JS_Fast(iWind, next) {
	    var nextRate = this.iRate;
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    if (next) {
	      switch (next) {
	        case 1:
	        case 2:
	        case 4:
	          nextRate = next;
	          break;
	        case 3:
	          nextRate = 0.5;
	          break;
	        default:
	          nextRate = this.iRate;
	          break;
	      }
	    } else {
	      switch (this.iRate) {
	        case 1:
	          nextRate = 2;
	          break;
	        case 2:
	          nextRate = 4;
	          break;
	        default:
	          nextRate = this.iRate;
	          break;
	      }
	    }
	    if (this.oStreamClient) this.oStreamClient.setPlayRate(this.szStreamUUID, nextRate);
	    this.iRate = nextRate;
	    console.log("开启倍速播放,多线程倍速，全解", nextRate);
	    if (nextRate == 4) {
	      // 用户启动4倍速，执行4线程解码。
	      let SetDecodeThreadNumRes = wasmplayer.JSPlayM4_SetDecodeThreadNum(4);
	      console.log("SetDecodeThreadNumRes", SetDecodeThreadNumRes);
	    }
	    let res = wasmplayer.JSPlayM4_Fast();
	    console.log("res", res);
	  }
	  JS_Slow() {
	    var nextRate = this.iRate;
	    switch (this.iRate) {
	      case 2:
	        nextRate = 1;
	        break;
	      case 4:
	        nextRate = 2;
	        break;
	      default:
	        nextRate = this.iRate;
	        break;
	    }
	    if (this.oStreamClient) this.oStreamClient.setPlayRate(this.szStreamUUID, nextRate);
	    this.iRate = nextRate;
	    console.log("开启倍速播放", nextRate);
	  }
	  JS_Speed(nextRate) {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    if (this.oStreamClient) this.oStreamClient.setPlayRate(this.szStreamUUID, nextRate !== 3 ? nextRate : 0.5);
	    if (this.iRate === 3) {
	      if (nextRate === 1) {
	        // 0.5 -> 1
	        wasmplayer.JSPlayM4_Fast();
	      }
	      if (nextRate === 2) {
	        // 0.5 -> 2
	        wasmplayer.JSPlayM4_Fast();
	        wasmplayer.JSPlayM4_Fast();
	      }
	      if (nextRate === 4) {
	        // 0.5 -> 4
	        wasmplayer.JSPlayM4_Fast();
	        wasmplayer.JSPlayM4_Fast();
	        wasmplayer.JSPlayM4_Fast();
	      }
	    }
	    if (this.iRate === 1) {
	      if (nextRate === 3) {
	        // 1 -> 0.5
	        wasmplayer.JSPlayM4_Slow();
	      }
	      if (nextRate === 2) {
	        // 1 -> 2
	        wasmplayer.JSPlayM4_Fast();
	      }
	      if (nextRate === 4) {
	        // 1 -> 4
	        wasmplayer.JSPlayM4_Fast();
	        wasmplayer.JSPlayM4_Fast();
	      }
	    }
	    if (this.iRate === 2) {
	      if (nextRate === 1) {
	        // 2 -> 1
	        wasmplayer.JSPlayM4_Slow();
	      }
	      if (nextRate === 3) {
	        // 2 -> 0.5
	        wasmplayer.JSPlayM4_Slow();
	        wasmplayer.JSPlayM4_Slow();
	      }
	      if (nextRate === 4) {
	        // 2 -> 4
	        wasmplayer.JSPlayM4_Fast();
	      }
	    }
	    if (this.iRate === 4) {
	      if (nextRate === 1) {
	        // 4 -> 1
	        wasmplayer.JSPlayM4_Slow();
	        wasmplayer.JSPlayM4_Slow();
	      }
	      if (nextRate === 2) {
	        // 4 -> 2
	        wasmplayer.JSPlayM4_Slow();
	      }
	      if (nextRate === 3) {
	        // 4 -> 0.5
	        wasmplayer.JSPlayM4_Slow();
	        wasmplayer.JSPlayM4_Slow();
	        wasmplayer.JSPlayM4_Slow();
	      }
	    }
	    if (nextRate == 4) {
	      // 4倍速执行4线程解码。
	      wasmplayer.JSPlayM4_SetDecodeThreadNum(4);
	    }
	    this.iRate = nextRate;
	    console.log("开启倍速播放", nextRate);
	  }
	  JS_Seek(iWndNum, szStartTime, szStopTime) {
	    let oPromise = new Promise((resolve, reject) => {
	      const wasmplayer = window[`wasmplayer-${this.szId}`];
	      var res = wasmplayer.JSPlayM4_ResetBuffer(1);
	      console.log("seek 清理缓存", res);
	      if (this.oStreamClient) this.oStreamClient.seek(this.szStreamUUID, szStartTime, szStopTime);
	      resolve();
	    });
	    return oPromise;
	  }
	  JSPlayM4_SetPrintLogFlag() {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    let resDR = wasmplayer.JSPlayM4_SetPrintLogFlag(2);
	    console.log("LogValue:" + 2 + ",resDR:" + resDR);
	  }
	  JSPlayM4_SetDisplayRegion(left, right, top, bottom) {
	    new Promise((resolve, reject) => {
	      const wasmplayer = window[`wasmplayer-${this.szId}`];
	      let resDR = wasmplayer.JSPlayM4_SetDisplayRegion(`${this.szId}-player`, left, right, top, bottom, false, true);
	      resolve({
	        code: 0,
	        data: resDR
	      });
	    });
	  }
	  /**
	     * @synopsis 暂停
	     *
	     * @param {number} iWndNum 窗口号
	     *
	     * @returns {none} 无
	     */
	  JS_Pause(iWndNum, date) {
	    if (!this.bPlay) {
	      console.log("当前不是播放状态，无法暂停");
	      return new Promise((resolve, reject) => {
	        reject({
	          code: 0,
	          msg: "当前不是播放状态，不需要暂停"
	        });
	      });
	    }
	    const that = this;
	    const wasmplayer = window[`wasmplayer-${that.szId}`];
	    let oFrameInfo = wasmplayer.JSPlayM4_GetFrameInfo();
	    let year = oFrameInfo.year;
	    let month = oFrameInfo.month;
	    let day = oFrameInfo.day;
	    let hour = oFrameInfo.hour;
	    let minute = oFrameInfo.minute;
	    let second = oFrameInfo.second;
	    // 兼容，safari浏览器时间需要用“/”分隔
	    var time = new Date(oTool.isIOS() || oTool.isSafari() || oTool.isEdge() ? `${year}/${month}/${day} ${hour}:${minute}:${second}` : `${year}-${month}-${day} ${hour}:${minute}:${second}`).getTime() / 1000;
	    const pauseDate = new Date(time * 1000);
	    that.bPauseDate = pauseDate.valueOf();
	    that.bPauseTime = `${year}` + (month > 9 ? month : `0${month}`) + (day > 9 ? day : `0${day}`) + (hour > 9 ? hour : `0${hour}`) + (minute > 9 ? minute : `0${minute}`) + (second > 9 ? second : `0${second}`);
	    console.log('this.bPauseDate:::', that.bPauseDate);
	    console.log('this.bPauseTime:::', that.bPauseTime);
	    const promise = new Promise((resolve, reject) => {
	      if (date) {
	        that.JS_Stop().then(() => {
	          that.bPlay = false; // 停止后暂停状态需要复原
	          that.bPause = true;
	          that.bPauseDate = date.valueOf();
	          resolve({
	            code: 1,
	            msg: "暂停成功",
	            pauseDate: pauseDate
	          });
	        }).catch(err => {
	          reject({
	            code: 0,
	            msg: "暂停失败"
	          });
	          console.log("err", err);
	        });
	      } else {
	        that.oStreamClient.stopAll();
	        let res = wasmplayer.JSPlayM4_Pause(1);
	        if (res) {
	          that.bPlay = false;
	          that.bPlayIng = false;
	          that.bPause = true;
	          if (that.szStorageUUID) {
	            this.JS_StopSave();
	          }
	          resolve({
	            pauseDate: pauseDate
	          });
	        } else {
	          reject();
	        }
	      }
	    });
	    return promise;
	  }

	  /**
	   * @synopsis 恢复
	   *
	   * @param {number} iWndNum 窗口号
	   *
	   * @returns {none} 无
	   */
	  JS_Resume(resumeTime) {
	    const that = this;
	    const wasmplayer = window[`wasmplayer-${that.szId}`];
	    let rePlay = false; //是否在完成上一层播放的情况下触发恢复播放
	    const promise = new Promise((resolve, reject) => {
	      if (resumeTime) {
	        if (that.bPauseTime) {
	          that.bPauseTime = that.bPauseTime.slice(0, 14 - resumeTime.length) + resumeTime;
	        } else {
	          rePlay = true;
	          that.bPauseTime = resumeTime;
	        }
	      }
	      if (that.playURL.indexOf("playback") !== -1) {
	        that.playURL = that.playURL.replace(/begin=[0-9]{8}T[0-9]{6}Z/gi, `begin=${that.bPauseTime.slice(0, 8)}T${that.bPauseTime.slice(8, 14)}Z`);
	      }
	      if (that.playURL.indexOf("cloudplayback") !== -1) {
	        that.playURL = that.playURL.replace(/"startTime":[0-9]{13}/gi, `"startTime":${that.bPauseDate}`);
	      }
	      if (resumeTime && !rePlay) {
	        that.JS_Play(that.szUrl, {
	          playURL: that.playURL
	        }).then(data => {
	          resolve(data);
	        }).catch(err => {
	          reject(err);
	        });
	      } else {
	        if (that.oStreamClient) that.oStreamClient.openStream(that.szUrl, {
	          playURL: that.playURL
	        }, data => {
	          if (data.errorCode && data.errorCode != '1') {
	            //推流异常时触发errorHandler
	            if (that.EventCallback && that.EventCallback.pluginErrorHandler) {
	              that.EventCallback.pluginErrorHandler(that.g_port, data.errorCode, data);
	            }
	            reject();
	          }
	          if (data.bHead) {
	            //判断是否开启预览，用于初始化播放库，回放跳片段是会返回媒体头，不能只判断是否为媒体头
	            if (that.EventCallback && that.EventCallback.getStreamHeaderCallback) {
	              that.EventCallback.getStreamHeaderCallback();
	            }
	            that.aHead = new Uint8Array(data.buf);
	            if (!!that.secretKey) {
	              wasmplayer.JSPlayM4_SetSecretKey(that.secretKey);
	            }
	          } else {
	            if (that.firstGetData) {
	              // 第一次获取数据
	              that.firstGetData = false;
	              if (that.EventCallback && that.EventCallback.getVideoStreamCallback) {
	                that.EventCallback.getVideoStreamCallback();
	              }
	            }
	            if (that.firstFlag) {
	              let oFrameInfo = wasmplayer.JSPlayM4_GetFrameInfo();
	              let nWidth = oFrameInfo.width;
	              let nHeight = oFrameInfo.height;
	              that.nWidth = nWidth;
	              that.nHeight = nHeight;
	              if (nWidth) {
	                if (that.EventCallback && that.EventCallback.appearFirstFrameCallback) {
	                  that.EventCallback.appearFirstFrameCallback();
	                }
	                if (that.EventCallback && that.EventCallback.averageStreamSuccessCallback) {
	                  that.EventCallback.averageStreamSuccessCallback();
	                }
	                that.firstFlag = false;
	              }
	            }
	            let aBuffer = new Uint8Array(data.buf); //拷贝一份数据进行使
	            // 监听数据错误
	            if (data.statusString) {
	              if (that.EventCallback && that.EventCallback.pluginErrorHandler) {
	                that.EventCallback.pluginErrorHandler(0, 1001, data);
	              }
	            } else if (data.type && data.type === "exception") {
	              if (that.EventCallback && that.EventCallback.pluginErrorHandler) {
	                that.EventCallback.pluginErrorHandler(0, 1002, data);
	              }
	            }

	            // 差错隐藏
	            wasmplayer.JSPlayM4_SetDecodeERC(1);
	            wasmplayer.JSPlayM4_InputData(aBuffer, aBuffer.length);
	            aBuffer = null;
	          }
	          // 录制
	          if (that.szStorageUUID) {
	            that.oStorageManager.inputData(that.szStorageUUID, data.buf);
	          }
	        }, function () {
	          if (that.bPlay) {
	            if (that.EventCallback && that.EventCallback.pluginErrorHandler) {
	              that.EventCallback.pluginErrorHandler(0, 1003);
	            }
	          }
	          that.bPlayIng = false;
	          reject();
	        }).then(id => {
	          //websocket onopen事件触发
	          that.szStreamUUID = id;
	          if (that.oStreamClient) that.oStreamClient.startPlay(id).then(() => {
	            let res = wasmplayer.JSPlayM4_Pause(0);
	            if (res) {
	              that.bPlay = true;
	              that.bPlayIng = true;
	              that.bPause = false;
	              that.bPauseDate = null;
	              resolve(res);
	            } else {
	              reject();
	            }
	          }).catch(err => {
	            // that._doRelease();
	            // const rt = wasmplayer.JSPlayM4_GetInputBufSize();
	            // console.log('JSPlayM4_GetInputBufSize:::', rt);
	            that.bPlayIng = false;
	            reject(err.oError);
	          });
	        }, function (oError) {
	          //websocekt 未进入onopen
	          that.bPlayIng = false;
	          that._doRelease();
	          reject(oError);
	        });
	      }
	    });
	    return promise;
	  }

	  /**
	   * @description 
	   * @param {Object} type 矫正类型  参考 src/ezopen/constants.js
	   * @param {string} ids 如果分屏矫正，需要传入分屏canvas的id字符串列表 如 canvas1,canvas2,canvas3
	   * @returns {Array<{code: number, msg: string, port: number, id: string}>} // code= 0 成功， -1 失败
	   */
	  JS_FECCorrectType(type, ids) {
	    this.FECSplitIds = ids;
	    this.correctType = type;
	    return new Promise((resolve, reject) => {
	      /** @type {Array<{code: number, msg: string, port: number, id: string}>} */
	      const res = this._createSplitVideos(type, ids);
	      const hasErr = res.find(item => item.code === -1);
	      if (hasErr || res.length === 0) {
	        reject(res);
	      } else {
	        resolve(res);
	      }
	    });
	  }

	  /**
	   * @description 设置 2D 鱼眼矫正旋转参数
	   * @param {number} fishSubPort 鱼眼端口 主屏默认为 0
	   * @param {Object} param2d 
	   */
	  JS_FECSetParam2D(fishSubPort, param2d) {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    return wasmplayer.JSPlayM4_FEC_SetParam(fishSubPort, param2d);
	  }

	  /**
	   * 
	   * @param {*} type 
	   * @param {string} ids 
	   * @returns 
	   */
	  _createSplitVideos(type, ids) {
	    const that = this;
	    const mainCanvasID = `${that.szId}-player`;
	    ids = mainCanvasID + ',' + ids;
	    const idsArr = ids ? ids.split(',') : [];
	    const wasmplayer = window[`wasmplayer-${that.szId}`];
	    const result = [];
	    if (type.correctList && type.correctList.length > 0) {
	      // 有分屏
	      for (let i = 0; i < type.correctList.length; i++) {
	        if (i === 0 && type.correctList[i].hidden) {
	          // 隐藏主屏
	          // .....
	          continue;
	        }

	        // 主屏
	        if (i === 0) {
	          setMainCorrectType(type.correctList[0]);
	          continue;
	        }
	        if (!idsArr[i] || !document.getElementById(idsArr[i]) || document.getElementById(idsArr[i]).nodeName !== 'CANVAS') {
	          // id 不存在
	          return [];
	        }
	        let fishSubPort = wasmplayer.JSPlayM4_FEC_GetPort(type.place, type.correctList[i].correctType); //矫正类型
	        //2.启动该子port下（该canvas）的鱼眼矫正
	        let resE = wasmplayer.JSPlayM4_FEC_Enable(fishSubPort);
	        //3.设置鱼眼窗口
	        let resFECSW = wasmplayer.JSPlayM4_FEC_SetWnd(fishSubPort, idsArr[i]); //设置窗口

	        //4.设置鱼眼矫正参数
	        const param2d = {
	          upDateType: that._matchUpDateType(type.correctList[i].correctType),
	          // 类型设置：4表示360矫正; 2表示PTZZoom; = 0x8; 更新 PTZ 矫正的参数
	          fValue: 0,
	          // (0-2*PI) 旋转角度
	          fPTZParam: {
	            fPTZPositionX: type.correctList[i].x || 0,
	            fPTZPositionY: type.correctList[i].y || 0
	          },
	          fPTZZoom: 0.00001
	        };
	        const resParam = that.JS_FECSetParam2D(fishSubPort, param2d);
	        if (resE === 0 || resFECSW === 0 || resParam === 0) {
	          result.push({
	            code: -1,
	            msg: '失败',
	            port: fishSubPort,
	            id: idsArr[i]
	          });
	        } else {
	          // 成功
	          result.push({
	            code: 0,
	            msg: '成功',
	            port: fishSubPort,
	            id: idsArr[i]
	          });
	          that.canvasFECSubPort.set(idsArr[i], {
	            ...defaultCoors,
	            port: fishSubPort,
	            param2d,
	            startPTZPosition: {
	              x: param2d.fPTZParam.fPTZPositionX,
	              y: param2d.fPTZParam.fPTZPositionY
	            }
	          });
	          document.getElementById(idsArr[i]).setAttribute('data-port', fishSubPort);
	          that._spliceCanvasMouseEvents(idsArr[i], type.correctList[i]);
	        }
	      }
	    } else {
	      // 主屏
	      setMainCorrectType(type);
	    }

	    /**
	     * @param {Object} typeItem 矫正类型
	     * @returns 
	     */
	    function setMainCorrectType(typeItem) {
	      const param2d = {
	        upDateType: that._matchUpDateType(typeItem.correctType),
	        // 类型设置：4 表示360矫正; 2 表示PTZZoom; 0x8 更新 PTZ 矫正的参数
	        fValue: 0,
	        // (0-2*PI) 旋转角度
	        fPTZParam: {
	          fPTZPositionX: typeItem.x || 0,
	          fPTZPositionY: typeItem.y || 0
	        },
	        fPTZZoom: 0.00001
	      };

	      // console.log(`%c---------------------------------------------`, 'color: blue', typeItem )

	      // 主屏
	      const {
	        port
	      } = that.canvasFECSubPort.get(mainCanvasID);
	      if (port === undefined) {
	        console.log("this canvas not display");
	        return result;
	      }
	      // 在 `JSPlayM4_OpenStream` 之后。`JSPlayM4_Play` 之前之后均可调用。
	      const mainRes = wasmplayer.JSPlayM4_FEC_ResetCorrectType(port, type.place, typeItem.correctType);
	      if (mainRes === 1) {
	        result.push({
	          code: 0,
	          msg: '成功',
	          port: port,
	          id: mainCanvasID
	        });
	      } else {
	        result.push({
	          code: -1,
	          msg: '失败',
	          port: port,
	          id: mainCanvasID
	        });
	        return;
	      }
	      if (typeItem.correctType <= FEC_CORRECT_360)
	        // 设置 2D 鱼眼矫正旋转参数
	        that.JS_FECSetParam2D(port, param2d);else {
	        // 3D拖动（AR半球或圆柱)
	        if (typeItem.viewParam) {
	          // 
	          setTimeout(() => {
	            if (typeof typeItem.viewParam.x === 'number' && typeof typeItem.viewParam.y === 'number') {
	              // 1 是垂直旋转、2 是水平旋转、
	              wasmplayer.JSPlayM4_FEC_SetViewParam(port, 2, typeItem.viewParam.x);
	              wasmplayer.JSPlayM4_FEC_SetViewParam(port, 1, typeItem.viewParam.y);
	            }
	            if (typeof typeItem.viewParam.zoom === 'number') {
	              // 3为缩放
	              wasmplayer.JSPlayM4_FEC_SetViewParam(port, 3, typeItem.viewParam.zoom);
	            }
	          }, 200);
	        }
	      }
	      that.canvasFECSubPort.set(mainCanvasID, {
	        ...defaultCoors,
	        port,
	        param2d,
	        startPTZPosition: {
	          x: param2d.fPTZParam.fPTZPositionX,
	          y: param2d.fPTZParam.fPTZPositionY
	        }
	      });
	      that._spliceCanvasMouseEvents(mainCanvasID, typeItem);
	    }
	    return result;
	  }
	  _matchUpDateType(correctType) {
	    // 类型设置：0x4 表示360矫正; 0x2 表示PTZZoom; 0x8 更新PTZ 矫正的参数
	    switch (correctType) {
	      case FEC_CORRECT_360:
	        return 0x4;
	      case FEC_CORRECT_PTZ:
	        return 0x8;
	    }
	    // 
	    return 0x2;
	  }

	  /**
	   * @description 给分屏添加mouse事件
	   * @param {string} canvasId 
	   * @param {{correctType: string}} type 
	   * @returns 
	   */
	  _spliceCanvasMouseEvents(canvasId, type) {
	    if (canvasId === undefined) {
	      return;
	    }

	    /** @type {HTMLCanvasElement} */
	    const canvas = document.getElementById(canvasId);
	    if (canvas === null) {
	      return;
	    }
	    const that = this;
	    const wasmplayer = window[`wasmplayer-${that.szId}`];
	    const canvasID = canvas.getAttribute('id');
	    let coords = that.canvasFECSubPort.get(canvasID); //获取canvasID对应的fishSubPort
	    if (coords.port === undefined) {
	      return;
	    }
	    const canvasWidth = canvas.width;
	    const canvasHeight = canvas.height;
	    function showCoords(e) {
	      const arCoords = [e.clientX, e.clientY];

	      //1、Y轴移动的距离
	      coords.diff.y = arCoords[1] - coords.start.y;
	      let inputYValue = (coords.total.y + coords.diff.y) / canvasHeight * 2 * Math.PI; //0~2PI,旋转的角度
	      //PTZ纵向移动计算
	      let moveLenY = (arCoords[1] - coords.lastCorrdsY) / (canvasHeight * 2);
	      let alpha = Math.atan2(coords.startPTZPosition.y - 0.5, coords.startPTZPosition.x - 0.5);
	      let PTZPositionX1 = coords.startPTZPosition.x + moveLenY * Math.cos(alpha);
	      let PTZPositionY1 = coords.startPTZPosition.y + moveLenY * Math.sin(alpha);

	      //2、X轴移动的距离
	      coords.diff.x = arCoords[0] - coords.start.x;
	      let inputXValue = (coords.total.x + coords.diff.x) / canvasWidth * 2 * Math.PI; //0~2PI,旋转的角度
	      //PTZ横向移动角度计算
	      let R = Math.sqrt(Math.pow(PTZPositionX1 - 0.5, 2) + Math.pow(PTZPositionY1 - 0.5, 2));
	      let theta = -inputXValue;
	      let PTZPositionX = 0.5 + R * Math.cos(theta);
	      let PTZPositionY = 0.5 + R * Math.sin(theta);
	      if (type.correctType <= FEC_CORRECT_360) {
	        // 2D矫正
	        switch (type.correctType) {
	          case FEC_CORRECT_360:
	            coords.param2d.upDateType = 0x4;
	            break;
	          case FEC_CORRECT_180:
	            coords.param2d.upDateType = 0x4;
	            break;
	          case FEC_CORRECT_PTZ:
	            coords.param2d.upDateType = 0x8;
	            let len = Math.sqrt(Math.pow(PTZPositionX - 0.5, 2) + Math.pow(PTZPositionY - 0.5, 2));
	            if (len > 0.4) {
	              return;
	            }
	            break;
	        }
	        coords.param2d.fValue = inputXValue; // 360角度设置（0~2PI）
	        coords.param2d.fPTZParam.fPTZPositionX = PTZPositionX; // 中心坐标X
	        coords.param2d.fPTZParam.fPTZPositionY = PTZPositionY; // 中心坐标Y
	        //2D拖动
	        wasmplayer.JSPlayM4_FEC_SetParam(coords.port, coords.param2d);
	      } else if (type.correctType === FEC_CORRECT_CYLINDER) {
	        // 暂时支持圆柱 ， 不支持广角
	        //3D拖动（圆柱）
	        wasmplayer.JSPlayM4_FEC_SetViewParam(coords.port, 2, inputXValue);
	        wasmplayer.JSPlayM4_FEC_SetViewParam(coords.port, 1, inputYValue);
	      }
	    }

	    // 局部变量，用来存储鼠标移动事件， 用于移除事件
	    let _moveFn = () => {};
	    function _canvasMouseDown(event) {
	      coords.start.x = event.pageX;
	      coords.start.y = event.pageY;
	      coords.lastCorrdsY = event.pageY;
	      _moveFn = e => {
	        showCoords(e);
	      };
	      canvas.addEventListener('mousemove', _moveFn);
	    }
	    canvas.addEventListener('mousedown', _canvasMouseDown);
	    const removeMoveEvent = () => {
	      if (_moveFn !== null) {
	        canvas.removeEventListener('mousemove', _moveFn);
	        _moveFn = null;
	        coords.total.x += coords.diff.x;
	        coords.total.y += coords.diff.y;
	      }
	    };

	    // 移除 move 事件
	    canvas.addEventListener('mouseup', removeMoveEvent);
	    canvas.addEventListener('mouseleave', removeMoveEvent);
	    canvas.addEventListener('mouseout', removeMoveEvent);
	  }

	  /**
	   * @description 清空所有鱼眼子端口 不包括主窗口
	   */
	  _colseFECAllSubWnd() {
	    if (this.FECSplitIds && this.canvasFECSubPort) {
	      const ids = this.FECSplitIds.split(",");
	      for (let id of ids) {
	        if (id) {
	          const canvasFECSubPortItem = this.canvasFECSubPort.get(id); //获取canvasID对应的fishSubPort
	          if (canvasFECSubPortItem === undefined || canvasFECSubPortItem.port === undefined) {
	            continue;
	          }
	          this.canvasFECSubPort.delete(id);
	          const wasmplayer = window[`wasmplayer-${this.szId}`];
	          wasmplayer.JSPlayM4_FEC_Disable(canvasFECSubPortItem.port, true);
	          wasmplayer.JSPlayM4_FEC_DelPort(canvasFECSubPortItem.port);
	        }
	      }
	    }
	  }

	  /**
	   * @description 设置 3D 矫正视角参数
	   * @param {FECViewParam} param 
	   * @returns {Promise<boolean>}  true: 成功  false: 失败  undefined: 不支持
	   */
	  FEC_Set3DViewParam(param) {
	    // 
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    if (this.FECSplitIds && this.canvasFECSubPort && this.correctType) {
	      // FIXME: 成功失败都返回1， 待研究院更新
	      let res = wasmplayer.JSPlayM4_FEC_SetViewParam(param.port, param.upDateType, param.fValue);
	      if (res === 1) {
	        return Promise.resolve(true);
	      } else {
	        return Promise.reject(false);
	      }
	    }
	    return Promise.reject(undefined);
	  }

	  /**
	   * @description  获取 3D 矫正视角参数
	   * @param {FECGetViewParam} param 
	   * @returns {Promise<object>}
	   */
	  FEC_Get3DViewParam(param) {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    return new Promise((resolve, reject) => {
	      const cb = Param3D => {
	        resolve(Param3D);
	      };
	      if (this.FECSplitIds && this.canvasFECSubPort && this.correctType) {
	        let res = wasmplayer.JSPlayM4_FEC_GetViewParam(param.port, param.upDateType, cb);
	        if (res !== 1) {
	          return reject(false);
	        }
	      }
	      return reject(undefined);
	    });
	  }

	  /**
	   * @description 开启水印
	   * @param {object} params 开启水印参数
	   * fontString：文本信息（必填）
	   * startPos：文本位置
	   * fontColor：字体颜色
	   * fontSize：字体大小
	   * fontRotate：字体旋转角度
	   * fontFamily：字体
	   * @returns {Promise<object>} 
	   */
	  JS_SetWaterMarkFont(params) {
	    const wasmplayer = window[`wasmplayer-${this.szId}`];
	    return new Promise((resolve, reject) => {
	      console.log('水印参数：', params);
	      let res;
	      if (params && !!params.fontString) {
	        res = wasmplayer.JSPlayM4_SetWaterMarkFont({
	          pFontString: params.fontString,
	          pstStartPos: params.startPos,
	          pstFontColor: params.fontColor,
	          pstFontSize: params.fontSize,
	          pstFontRotate: params.fontRotate,
	          pstFontNumber: params.fontNumber,
	          pFontFamily: params.fontFamily,
	          pSpace: params.space
	        });
	      } else {
	        res = wasmplayer.JSPlayM4_SetWaterMarkFont(null);
	      }
	      if (res === 1) {
	        resolve({
	          code: 0,
	          msg: '水印设置成功'
	        });
	      } else {
	        reject({
	          code: -1,
	          msg: res
	        });
	      }
	    });
	  }
	}
	window.JSPluginV3 = JSPluginV3;

	return JSPluginV3;

}));
